(self["webpackChunkvuetifyproject"]=self["webpackChunkvuetifyproject"]||[]).push([[504],{168:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e;var n=[];i.push(n)})),r&&r.forEach((function(t){var n=t.source,r=t.target,s=o[n],a=o[r];!s&&0!==s||!a&&0!==a||(i[s][a]=1,e||(i[a][s]=1))})),i},r=n;e["default"]=r},7302:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GADDIAsync",{enumerable:!0,get:function(){return r.GADDIAsync}}),Object.defineProperty(e,"connectedComponentAsync",{enumerable:!0,get:function(){return r.connectedComponentAsync}}),e["default"]=void 0,Object.defineProperty(e,"detectAllCyclesAsync",{enumerable:!0,get:function(){return r.detectAllCyclesAsync}}),Object.defineProperty(e,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllDirectedCycleAsync}}),Object.defineProperty(e,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllUndirectedCycleAsync}}),Object.defineProperty(e,"detectCycleAsync",{enumerable:!0,get:function(){return r.detectCycleAsync}}),e.detectDirectedCycleAsync=void 0,Object.defineProperty(e,"dijkstraAsync",{enumerable:!0,get:function(){return r.dijkstraAsync}}),Object.defineProperty(e,"findAllPathAsync",{enumerable:!0,get:function(){return r.findAllPathAsync}}),Object.defineProperty(e,"findShortestPathAsync",{enumerable:!0,get:function(){return r.findShortestPathAsync}}),Object.defineProperty(e,"floydWarshallAsync",{enumerable:!0,get:function(){return r.floydWarshallAsync}}),Object.defineProperty(e,"getAdjMatrixAsync",{enumerable:!0,get:function(){return r.getAdjMatrixAsync}}),Object.defineProperty(e,"getDegreeAsync",{enumerable:!0,get:function(){return r.getDegreeAsync}}),Object.defineProperty(e,"getInDegreeAsync",{enumerable:!0,get:function(){return r.getInDegreeAsync}}),Object.defineProperty(e,"getNeighborsAsync",{enumerable:!0,get:function(){return r.getNeighborsAsync}}),Object.defineProperty(e,"getOutDegreeAsync",{enumerable:!0,get:function(){return r.getOutDegreeAsync}}),Object.defineProperty(e,"labelPropagationAsync",{enumerable:!0,get:function(){return r.labelPropagationAsync}}),Object.defineProperty(e,"louvainAsync",{enumerable:!0,get:function(){return r.louvainAsync}}),Object.defineProperty(e,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return r.minimumSpanningTreeAsync}}),Object.defineProperty(e,"pageRankAsync",{enumerable:!0,get:function(){return r.pageRankAsync}});var r=n(7436),i=r.detectCycleAsync;e.detectDirectedCycleAsync=i;var o={getAdjMatrixAsync:r.getAdjMatrixAsync,connectedComponentAsync:r.connectedComponentAsync,getDegreeAsync:r.getDegreeAsync,getInDegreeAsync:r.getInDegreeAsync,getOutDegreeAsync:r.getOutDegreeAsync,detectCycleAsync:r.detectCycleAsync,detectDirectedCycleAsync:i,detectAllCyclesAsync:r.detectAllCyclesAsync,detectAllDirectedCycleAsync:r.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:r.detectAllUndirectedCycleAsync,dijkstraAsync:r.dijkstraAsync,findAllPathAsync:r.findAllPathAsync,findShortestPathAsync:r.findShortestPathAsync,floydWarshallAsync:r.floydWarshallAsync,labelPropagationAsync:r.labelPropagationAsync,louvainAsync:r.louvainAsync,minimumSpanningTreeAsync:r.minimumSpanningTreeAsync,pageRankAsync:r.pageRankAsync,getNeighborsAsync:r.getNeighborsAsync,GADDIAsync:r.GADDIAsync};e["default"]=o},8441:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=o(n(2014)),i=n(4170);function o(t){return t&&t.__esModule?t:{default:t}}function s(t){void 0===t&&(t={});var e=t,n=function(){},r=function(){var t={};return function(e){var n=e.next,r=n;return!t[r]&&(t[r]=!0,!0)}}();return e.allowTraversal=t.allowTraversal||r,e.enter=t.enter||n,e.leave=t.leave||n,e}var a=function(t,e,n,o){void 0===o&&(o=!0);var a=s(n),c=new r.default,l=t.edges,u=void 0===l?[]:l;c.enqueue(e);var d="",h=function(){var t=c.dequeue();a.enter({current:t,previous:d}),(0,i.getNeighbors)(t,u,o?"target":void 0).forEach((function(e){a.allowTraversal({previous:d,current:t,next:e})&&c.enqueue(e)})),a.leave({current:t,previous:d}),d=t};while(!c.isEmpty())h()},c=a;e["default"]=c},6277:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s,e.detectStrongConnectComponents=e.detectConnectedComponents=void 0;var r=n(4170),i=function(t){for(var e=t.nodes,n=void 0===e?[]:e,i=t.edges,o=void 0===i?[]:i,s=[],a={},c=[],l=function t(e){c.push(e),a[e.id]=!0;for(var i=(0,r.getNeighbors)(e.id,o),s=function(e){var r=i[e];if(!a[r]){var o=n.filter((function(t){return t.id===r}));o.length>0&&t(o[0])}},l=0;l<i.length;++l)s(l)},u=0;u<n.length;u++){var d=n[u];if(!a[d.id]){l(d);var h=[];while(c.length>0)h.push(c.pop());s.push(h)}}return s};e.detectConnectedComponents=i;var o=function(t){for(var e=t.nodes,n=void 0===e?[]:e,i=t.edges,o=void 0===i?[]:i,s=[],a={},c={},l={},u=[],d=0,h=function t(e){c[e.id]=d,l[e.id]=d,d+=1,s.push(e),a[e.id]=!0;for(var i=(0,r.getNeighbors)(e.id,o,"target").filter((function(t){return n.map((function(t){return t.id})).indexOf(t)>-1})),h=function(r){var o=i[r];if(c[o]||0===c[o])a[o]&&(l[e.id]=Math.min(l[e.id],c[o]));else{var s=n.filter((function(t){return t.id===o}));s.length>0&&t(s[0]),l[e.id]=Math.min(l[e.id],l[o])}},f=0;f<i.length;f++)h(f);if(l[e.id]===c[e.id]){var p=[];while(s.length>0){var g=s.pop();if(a[g.id]=!1,p.push(g),g===e)break}p.length>0&&u.push(p)}},f=0,p=n;f<p.length;f++){var g=p[f];c[g.id]||0===c[g.id]||h(g)}return u};function s(t,e){return e?o(t):i(t)}e.detectStrongConnectComponents=o},7465:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.secondReg=e.dateReg=void 0;var n=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;e.secondReg=n;var r=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/;e.dateReg=r},2378:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOutDegree=e.getInDegree=e["default"]=void 0;var n=function(t){var e={},n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i;return r.forEach((function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++})),e},r=n;e["default"]=r;var i=function(t,e){var r=n(t);return r[e]?n(t)[e].inDegree:0};e.getInDegree=i;var o=function(t,e){var r=n(t);return r[e]?n(t)[e].outDegree:0};e.getOutDegree=o},1042:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.detectAllUndirectedCycle=e.detectAllDirectedCycle=e.detectAllCycles=e["default"]=void 0;var i=l(n(115)),o=c(n(6277)),s=n(4170);function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function c(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var c=o?Object.getOwnPropertyDescriptor(t,s):null;c&&(c.get||c.set)?Object.defineProperty(i,s,c):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){var e=null,n=t.nodes,r=void 0===n?[]:n,o={},s={},a={},c={};r.forEach((function(t){s[t.id]=t}));var l={enter:function(t){var n=t.current,r=t.previous;if(a[n]){e={};var i=n,c=r;while(c!==n)e[i]=c,i=c,c=o[c];e[i]=c}else a[n]=n,delete s[n],o[n]=r},leave:function(t){var e=t.current;c[e]=e,delete a[e]},allowTraversal:function(t){var n=t.next;return!e&&!c[n]}};while(Object.keys(s).length){var u=Object.keys(s)[0];(0,i.default)(t,u,l)}return e},d=function(t,e,n){var r,i;void 0===n&&(n=!0);for(var a=[],c=(0,o.default)(t,!1),l=0,u=c;l<u.length;l++){var d=u[l];if(d.length){var h=d[0],f=h.id,p=[h],g=(r={},r[f]=h,r),m=(i={},i[f]=new Set,i);while(p.length>0)for(var v=p.pop(),b=v.id,y=(0,s.getNeighbors)(b,t.edges),k=function(r){var i,o=y[r],s=t.nodes.find((function(t){return t.id===o}));if(o===b)a.push((i={},i[o]=v,i));else if(o in m){if(!m[b].has(s)){var c=!0,l=[s,v],u=g[b];while(m[o].size&&!m[o].has(u)){if(l.push(u),u===g[u.id])break;u=g[u.id]}if(l.push(u),e&&n?(c=!1,l.findIndex((function(t){return e.indexOf(t.id)>-1}))>-1&&(c=!0)):e&&!n&&l.findIndex((function(t){return e.indexOf(t.id)>-1}))>-1&&(c=!1),c){for(var d={},h=1;h<l.length;h+=1)d[l[h-1].id]=l[h];l.length&&(d[l[l.length-1].id]=l[0]),a.push(d)}m[o].add(v)}}else g[o]=v,p.push(s),m[o]=new Set([v])},w=0;w<y.length;w+=1)k(w)}}return a};e.detectAllUndirectedCycle=d;var h=function(t,e,n){void 0===n&&(n=!0);for(var r=[],i=new Set,a=[],c=[],l={},u={},d=function(t){var e=[t];while(e.length>0){var n=e.pop();i.has(n)&&(i.delete(n),a[n.id].forEach((function(t){e.push(t)})),a[n.id].clear())}},h=function t(o,s,u){var h=!1;if(e&&!1===n&&e.indexOf(o.id)>-1)return h;r.push(o),i.add(o);for(var f=u[o.id],p=0;p<f.length;p+=1){var g=l[f[p]];if(g===s){for(var m={},v=1;v<r.length;v+=1)m[r[v-1].id]=r[v];r.length&&(m[r[r.length-1].id]=r[0]),c.push(m),h=!0}else i.has(g)||t(g,s,u)&&(h=!0)}if(h)d(o);else for(p=0;p<f.length;p+=1){g=l[f[p]];a[g.id].has(o)||a[g.id].add(o)}return r.pop(),h},f=t.nodes,p=void 0===f?[]:f,g=0;g<p.length;g+=1){var m=p[g],v=m.id;u[v]=g,l[g]=m}if(e&&n){var b=function(t){var n=e[t];u[p[t].id]=u[n],u[n]=0,l[0]=p.find((function(t){return t.id===n})),l[u[p[t].id]]=p[t]};for(g=0;g<e.length;g++)b(g)}var y=function(r){for(var i,o,a=1/0,l=0;l<r.length;l+=1)for(var d=r[l],h=0;h<d.length;h++){var f=u[d[h].id];f<a&&(a=f,o=l)}var p=r[o],g=[];for(l=0;l<p.length;l+=1){var m=p[l];g[m.id]=[];for(var v=0,b=(0,s.getNeighbors)(m.id,t.edges,"target").filter((function(t){return p.map((function(t){return t.id})).indexOf(t)>-1}));v<b.length;v++){var y=b[v];y!==m.id||!1===n&&e.indexOf(m.id)>-1?g[m.id].push(u[y]):c.push((i={},i[m.id]=m,i))}}return{component:p,adjList:g,minIdx:a}},k=0;while(k<p.length){var w=p.filter((function(t){return u[t.id]>=k})),_=(0,o.detectStrongConnectComponents)({nodes:w,edges:t.edges}).filter((function(t){return t.length>1}));if(0===_.length)break;var A=y(_),C=A.minIdx,x=A.adjList,E=A.component;if(!(E.length>1))break;E.forEach((function(t){a[t.id]=new Set}));var S=l[C];if(e&&n&&-1===e.indexOf(S.id))return c;h(S,S,x),k=C+1}return c};e.detectAllDirectedCycle=h;var f=function(t,e,n,r){return void 0===r&&(r=!0),e?h(t,n,r):d(t,n,r)};e.detectAllCycles=f;var p=u;e["default"]=p},115:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s;var r=n(4170);function i(t){void 0===t&&(t={});var e=t,n=function(){},r=function(){var t={};return function(e){var n=e.next;return!t[n]&&(t[n]=!0,!0)}}();return e.allowTraversal=t.allowTraversal||r,e.enter=t.enter||n,e.leave=t.leave||n,e}function o(t,e,n,i,s){void 0===s&&(s=!0),i.enter({current:e,previous:n});var a=t.edges,c=void 0===a?[]:a;(0,r.getNeighbors)(e,c,s?"target":void 0).forEach((function(r){i.allowTraversal({previous:n,current:e,next:r})&&o(t,r,e,i,s)})),i.leave({current:e,previous:n})}function s(t,e,n,r){void 0===r&&(r=!0),o(t,e,"",i(n),r)}},7304:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=n(1635),i=n(5883),o=n(4170),s=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var s=e[o].id;!n[s]&&t[s]<=i&&(i=t[s],r=e[o])}return r},a=function(t,e,n,r){var i=t.nodes,a=void 0===i?[]:i,c=t.edges,u=void 0===c?[]:c,d=[],h={},f={},p={};a.forEach((function(t,n){var r=t.id;d.push(r),f[r]=1/0,r===e&&(f[r]=0)}));for(var g=a.length,m=function(t){var e=s(f,a,h),i=e.id;if(h[i]=!0,f[i]===1/0)return"continue";var c=[];c=n?(0,o.getOutEdgesNodeId)(i,u):(0,o.getEdgesByNodeId)(i,u),c.forEach((function(t){var n=t.target,o=t.source,s=n===i?o:n,a=r&&t[r]?t[r]:1;f[s]>f[e.id]+a?(f[s]=f[e.id]+a,p[s]=[e.id]):f[s]===f[e.id]+a&&p[s].push(e.id)}))},v=0;v<g;v++)m(v);p[e]=[e];var b={};for(var y in f)f[y]!==1/0&&l(e,y,p,b);var k={};for(var y in b)k[y]=b[y][0];return{length:f,path:k,allPath:b}},c=a;function l(t,e,n,o){if(t===e)return[t];if(o[e])return o[e];for(var s=[],a=0,c=n[e];a<c.length;a++){var u=c[a],d=l(t,u,n,o);if(!d)return;for(var h=0,f=d;h<f.length;h++){var p=f[h];(0,i.isArray)(p)?s.push((0,r.__spreadArray)((0,r.__spreadArray)([],p,!0),[e],!1)):s.push([p,e])}}return o[e]=s,o[e]}e["default"]=c},8785:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findShortestPath=e.findAllPath=void 0;var r=o(n(7304)),i=n(4170);function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e,n,i,o){var s=(0,r.default)(t,e,i,o),a=s.length,c=s.path,l=s.allPath;return{length:a[n],path:c[n],allPath:l[n]}};e.findShortestPath=s;var a=function(t,e,n,r){var o;if(e===n)return[[e]];var s=t.edges,a=void 0===s?[]:s,c=[e],l=(o={},o[e]=!0,o),u=[],d=[],h=r?(0,i.getNeighbors)(e,a,"target"):(0,i.getNeighbors)(e,a);u.push(h);while(c.length>0&&u.length>0){var f=u[u.length-1];if(f.length){var p=f.shift();if(p&&(c.push(p),l[p]=!0,h=r?(0,i.getNeighbors)(p,a,"target"):(0,i.getNeighbors)(p,a),u.push(h.filter((function(t){return!l[t]})))),c[c.length-1]===n){var g=c.map((function(t){return t}));d.push(g);m=c.pop();l[m]=!1,u.pop()}}else{var m=c.pop();l[m]=!1,u.pop()}}return d};e.findAllPath=a},1510:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=i(n(168));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t,e){for(var n=(0,r.default)(t,e),i=[],o=n.length,s=0;s<o;s+=1){i[s]=[];for(var a=0;a<o;a+=1)s===a?i[s][a]=0:0!==n[s][a]&&n[s][a]?i[s][a]=n[s][a]:i[s][a]=1/0}for(var c=0;c<o;c+=1)for(s=0;s<o;s+=1)for(a=0;a<o;a+=1)i[s][a]>i[s][c]+i[c][a]&&(i[s][a]=i[s][c]+i[c][a]);return i},s=o;e["default"]=s},9611:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=n(5883),i=n(2541),o=function(){function t(t,e,n,r,o){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||i.VACANT_NODE_LABEL,edgeLabel:r||i.VACANT_EDGE_LABEL,nodeLabel2:o||i.VACANT_NODE_LABEL}}return t.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t}(),s=function(){function t(){this.rmpath=[],this.dfsEdgeList=[]}return t.prototype.equalTo=function(t){var e=this.dfsEdgeList.length,n=t.length;if(e!==n)return!1;for(var r=0;r<e;r++)if(this.dfsEdgeList[r]!==t[r])return!1;return!0},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t.prototype.pushBack=function(t,e,n,r,i){return this.dfsEdgeList.push(new o(t,e,n,r,i)),this.dfsEdgeList},t.prototype.toGraph=function(t,e){void 0===t&&(t=i.VACANT_GRAPH_ID),void 0===e&&(e=!1);var n=new i.Graph(t,!0,e);return this.dfsEdgeList.forEach((function(t){var e=t.fromNode,r=t.toNode,o=t.nodeEdgeNodeLabel,s=o.nodeLabel1,a=o.edgeLabel,c=o.nodeLabel2;s!==i.VACANT_NODE_LABEL&&n.addNode(e,s),c!==i.VACANT_NODE_LABEL&&n.addNode(r,c),s!==i.VACANT_NODE_LABEL&&c!==s&&n.addEdge(void 0,e,r,a)})),n},t.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length,n=e-1;n>=0;n--){var r=this.dfsEdgeList[n],i=r.fromNode,o=r.toNode;i<o&&(void 0===t||o===t)&&(this.rmpath.push(n),t=i)}return this.rmpath},t.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach((function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)})),Object.keys(t).length},t}(),a=function(){function t(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){while(t){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return t.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},t.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},t}(),c=function(){function t(t){var e=t.graphs,n=t.minSupport,r=void 0===n?2:n,i=t.minNodeNum,o=void 0===i?1:i,a=t.maxNodeNum,c=void 0===a?4:a,l=t.top,u=void 0===l?10:l,d=t.directed,h=void 0!==d&&d,f=t.verbose,p=void 0!==f&&f;this.graphs=e,this.dfsCode=new s,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=u,this.directed=h,this.counter=0,this.maxNodeNum=c,this.minNodeNum=o,this.verbose=p,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return t.prototype.findForwardRootEdges=function(t,e){var n=this,r=[],i=t.nodeMap;return e.edges.forEach((function(t){(n.directed||e.label<=i[t.to].label)&&r.push(t)})),r},t.prototype.findBackwardEdge=function(t,e,n,r){if(!this.directed&&e===n)return null;for(var i=t.nodeMap,o=i[n.to],s=o.edges,a=s.length,c=0;c<a;c++){var l=s[c];if(!r.hasEdge(l)&&l.to===e.from)if(this.directed){if(i[e.from].label<i[n.to].label||i[e.from].label===i[n.to].label&&e.label<=l.label)return l}else if(e.label<l.label||e.label===l.label&&i[e.to].label<=i[n.to].label)return l}return null},t.prototype.findForwardPureEdges=function(t,e,n,r){for(var i=[],o=e.to,s=t.nodeMap[o].edges,a=s.length,c=0;c<a;c++){var l=s[c],u=t.nodeMap[l.to];n<=u.label&&!r.hasNode(u)&&i.push(l)}return i},t.prototype.findForwardRmpathEdges=function(t,e,n,r){for(var i=[],o=t.nodeMap,s=o[e.to].label,a=o[e.from],c=a.edges,l=c.length,u=0;u<l;u++){var d=c[u],h=o[d.to].label;e.to===d.to||n>h||r.hasNode(o[d.to])||(e.label<d.label||e.label===d.label&&s<=h)&&i.push(d)}return i},t.prototype.getSupport=function(t){var e={};return t.forEach((function(t){e[t.graphId]||(e[t.graphId]=!0)})),Object.keys(e).length},t.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach((function(n){var r=t[n],i=r.nodeLabel1,o=r.edgeLabel,s=r.nodeLabel2;e?(i<e.nodeLabel1||i===e.nodeLabel1&&o<e.edgeLabel||i===e.nodeLabel1&&o===e.edgeLabel&&s<e.nodeLabel2)&&(e={nodeLabel1:i,edgeLabel:o,nodeLabel2:s}):e={nodeLabel1:i,edgeLabel:o,nodeLabel2:s}})),e},t.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose&&console.log("isMin checking",e),1===e.dfsEdgeList.length)return!0;var n=this.directed,r=e.toGraph(i.VACANT_GRAPH_ID,n),c=r.nodeMap,l=new s,u={};r.nodes.forEach((function(e){var n=t.findForwardRootEdges(r,e);n.forEach((function(t){var n=c[t.to],i="".concat(e.label,"-").concat(t.label,"-").concat(n.label);u[i]||(u[i]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:n.label});var o={graphId:r.id,edge:t,preNode:null};u[i].projected.push(o)}))}));var d=this.findMinLabel(u);if(d){l.dfsEdgeList.push(new o(0,1,d.nodeLabel1,d.edgeLabel,d.nodeLabel2));var h=function s(u){for(var d=l.buildRmpath(),h=l.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,f=l.dfsEdgeList[d[0]].toNode,p={},g=!1,m=0,v=n?-1:0,b=function(e){if(g)return"break";u.forEach((function(n){var i=new a(n),o=t.findBackwardEdge(r,i.edges[d[e]],i.edges[d[0]],i);o&&(p[o.label]||(p[o.label]={projected:[],edgeLabel:o.label}),p[o.label].projected.push({graphId:r.id,edge:p,preNode:n}),m=l.dfsEdgeList[d[e]].fromNode,g=!0)}))},y=d.length-1;y>v;y--){var k=b(y);if("break"===k)break}if(g){var w=t.findMinLabel(p);l.dfsEdgeList.push(new o(f,m,i.VACANT_NODE_LABEL,w.edgeLabel,i.VACANT_NODE_LABEL));var _=l.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[_]===l.dfsEdgeList[_]&&s(p[w.edgeLabel].projected)}var A={};g=!1;var C=0;u.forEach((function(e){var n=new a(e),i=t.findForwardPureEdges(r,n.edges[d[0]],h,n);i.length>0&&(g=!0,C=f,i.forEach((function(t){var n="".concat(t.label,"-").concat(c[t.to].label);A[n]||(A[n]={projected:[],edgeLabel:t.label,nodeLabel2:c[t.to].label}),A[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}));var x=d.length,E=function(e){if(g)return"break";var n=d[e];u.forEach((function(e){var i=new a(e),o=t.findForwardRmpathEdges(r,i.edges[n],h,i);o.length>0&&(g=!0,C=l.dfsEdgeList[n].fromNode,o.forEach((function(t){var n="".concat(t.label,"-").concat(c[t.to].label);A[n]||(A[n]={projected:[],edgeLabel:t.label,nodeLabel2:c[t.to].label}),A[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}))};for(y=0;y<x;y++){var S=E(y);if("break"===S)break}if(!g)return!0;var M=t.findMinLabel(A);l.dfsEdgeList.push(new o(C,f+1,i.VACANT_NODE_LABEL,M.edgeLabel,M.nodeLabel2));var I=l.dfsEdgeList.length-1;return e.dfsEdgeList[I]===l.dfsEdgeList[I]&&s(A["".concat(M.edgeLabel,"-").concat(M.nodeLabel2)].projected)},f="".concat(d.nodeLabel1,"-").concat(d.edgeLabel,"-").concat(d.nodeLabel2);return h(u[f].projected)}},t.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,r.clone)(t))}},t.prototype.subGraphMining=function(t){var e=this,n=this.getSupport(t);if(!(n<this.minSupport)&&this.isMin()){this.report();var r=this.dfsCode.getNodeNum(),s=this.dfsCode.buildRmpath(),c=this.dfsCode.dfsEdgeList[s[0]].toNode,l=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,u={},d={};t.forEach((function(t){for(var n=e.graphs[t.graphId],i=n.nodeMap,o=new a(t),h=s.length-1;h>=0;h--){var f=e.findBackwardEdge(n,o.edges[s[h]],o.edges[s[0]],o);if(f){var p="".concat(e.dfsCode.dfsEdgeList[s[h]].fromNode,"-").concat(f.label);d[p]||(d[p]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[s[h]].fromNode,edgeLabel:f.label}),d[p].projected.push({graphId:t.graphId,edge:f,preNode:t})}}if(!(r>=e.maxNodeNum)){var g=e.findForwardPureEdges(n,o.edges[s[0]],l,o);g.forEach((function(e){var n="".concat(c,"-").concat(e.label,"-").concat(i[e.to].label);u[n]||(u[n]={projected:[],fromNodeId:c,edgeLabel:e.label,nodeLabel2:i[e.to].label}),u[n].projected.push({graphId:t.graphId,edge:e,preNode:t})}));var m=function(r){var a=e.findForwardRmpathEdges(n,o.edges[s[r]],l,o);a.forEach((function(n){var o="".concat(e.dfsCode.dfsEdgeList[s[r]].fromNode,"-").concat(n.label,"-").concat(i[n.to].label);u[o]||(u[o]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[s[r]].fromNode,edgeLabel:n.label,nodeLabel2:i[n.to].label}),u[o].projected.push({graphId:t.graphId,edge:n,preNode:t})}))};for(h=0;h<s.length;h++)m(h)}})),Object.keys(d).forEach((function(t){var n=d[t],r=n.toNodeId,i=n.edgeLabel;e.dfsCode.dfsEdgeList.push(new o(c,r,"-1",i,"-1")),e.subGraphMining(d[t].projected),e.dfsCode.dfsEdgeList.pop()})),Object.keys(u).forEach((function(t){var n=u[t],r=n.fromNodeId,s=n.edgeLabel,a=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new o(r,c+1,i.VACANT_NODE_LABEL,s,a)),e.subGraphMining(u[t].projected),e.dfsCode.dfsEdgeList.pop()}))}},t.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},s={},a={};return Object.keys(t).forEach((function(n){var r=t[n],c=r.nodeMap;r.nodes.forEach((function(t,r){var l=t.label,u="".concat(n,"-").concat(l);if(!s[u]){var d=i[l]||0;d++,i[l]=d}s[u]={graphKey:n,label:l},t.edges.forEach((function(t){var r=l,i=c[t.to].label;if(!e&&r>i){var s=i;i=r,r=s}var u=t.label,d="".concat(n,"-").concat(r,"-").concat(u,"-").concat(i),h="".concat(r,"-").concat(u,"-").concat(i);if(!o[h]){var f=o[h]||0;f++,o[h]=f}a[d]={graphId:n,nodeLabel1:r,edgeLabel:u,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(t){var e=i[t];if(!(e<n)){var o={nodes:[],edges:[]};o.nodes.push({id:"0",label:t}),r.push(o)}})),r},t.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs,n=(this.directed,{});Object.keys(e).forEach((function(r){var i=e[r],o=i.nodeMap;i.nodes.forEach((function(e){var s=t.findForwardRootEdges(i,e);s.forEach((function(t){var i=o[t.to],s="".concat(e.label,"-").concat(t.label,"-").concat(i.label);n[s]||(n[s]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:i.label});var a={graphId:r,edge:t,preNode:null};n[s].projected.push(a)}))}))})),Object.keys(n).forEach((function(e){var r=n[e],i=r.projected,s=r.nodeLabel1,a=r.edgeLabel,c=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new o(0,1,s,a,c)),t.subGraphMining(i),t.dfsCode.dfsEdgeList.pop()}))}},t}(),l=function(t,e,n,r){var o={};return Object.keys(t).forEach((function(s,a){var c=t[s],l=new i.Graph(a,!0,e),u={};c.nodes.forEach((function(t,e){l.addNode(e,t[n]),u[t.id]=e})),c.edges.forEach((function(t,e){var n=u[t.source],i=u[t.target];l.addEdge(-1,n,i,t[r])})),l&&l.getNodeNum()&&(o[l.id]=l)})),o},u=function(t,e,n){var r=[];return t.forEach((function(t){var i={nodes:[],edges:[]};t.nodes.forEach((function(t){var n;i.nodes.push((n={id:"".concat(t.id)},n[e]=t.label,n))})),t.edges.forEach((function(t){var e;i.edges.push((e={source:"".concat(t.from),target:"".concat(t.to)},e[n]=t.label,e))})),r.push(i)})),r},d="cluster",h=function(t){var e=t.graphs,n=t.directed,r=void 0!==n&&n,i=t.nodeLabelProp,o=void 0===i?d:i,s=t.edgeLabelProp,a=void 0===s?d:s,h=l(e,r,o,a),f=t.minSupport,p=t.maxNodeNum,g=t.minNodeNum,m=t.verbose,v=t.top,b={graphs:h,minSupport:f,maxNodeNum:p,minNodeNum:g,top:v,verbose:m,directed:r},y=new c(b);y.run();var k=u(y.frequentSubgraphs,o,a);return k},f=h;e["default"]=f},2541:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VACANT_NODE_LABEL=e.VACANT_NODE_ID=e.VACANT_GRAPH_ID=e.VACANT_EDGE_LABEL=e.VACANT_EDGE_ID=e.Node=e.Graph=e.Edge=e.AUTO_EDGE_ID=void 0;var n=-1;e.VACANT_EDGE_ID=n;var r=-1;e.VACANT_NODE_ID=r;var i="-1";e.VACANT_EDGE_LABEL=i;var o="-1";e.VACANT_NODE_LABEL=o;var s=-1;e.VACANT_GRAPH_ID=s;var a="-1";e.AUTO_EDGE_ID=a;var c=function(){function t(t,e,o,s){void 0===t&&(t=n),void 0===e&&(e=r),void 0===o&&(o=r),void 0===s&&(s=i),this.id=t,this.from=e,this.to=o,this.label=s}return t}();e.Edge=c;var l=function(){function t(t,e){void 0===t&&(t=r),void 0===e&&(e=o),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return t.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},t}();e.Node=l;var u=function(){function t(t,e,n){void 0===t&&(t=r),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return t.prototype.getNodeNum=function(){return this.nodes.length},t.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new l(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},t.prototype.addEdge=function(t,e,n,r){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var i=new c(t,e,n,r);if(this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[e].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new c(t,n,e,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},t}();e.Graph=u},1147:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=n(1635),i=c(n(1510)),o=c(n(9611)),s=c(n(7304)),a=n(4170);function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t,e,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=t.nodes;return e.forEach((function(t,e){i.push(u(o,t,e,n,r))})),i},u=function(t,e,n,r,i){var o=[n],s=[],a={};return e.forEach((function(e,c){if(e<=i&&n!==c){o.push(c),s.push(t[c]);var l=t[c][r];a[l]?(a[l].count++,a[l].dists.push(e)):a[l]={count:1,dists:[e]}}})),Object.keys(a).forEach((function(t){a[t].dists=a[t].dists.sort((function(t,e){return t-e}))})),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:s,neighborNum:o.length-1,nodeLabelCountMap:a}},d=function(t,e,n,r,i){var o=Math.ceil(n/e),s={},a=0;return r.forEach((function(t,r){var c=0,l=0,u=t.nodeIdxs,d=t.neighborNum-1;while(c<o){var h=u[1+Math.floor(Math.random()*d)],f=0;while(s["".concat(r,"-").concat(h)]||s["".concat(h,"-").concat(r)])if(h=Math.floor(Math.random()*e),f++,f>2*e)break;if(f<2*e&&(s["".concat(r,"-").concat(h)]={start:r,end:h,distance:i[r][h]},c++,a++,a>=n))return s;if(l++,l>2*e)break}if(c<o){var p=o-c;o=(o+p)/(e-r-1)}})),s},h=function(t,e,n,r){var i=n.nodes;return r||(r={}),Object.keys(t).forEach((function(o){var s,a;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var c=t[o],l=null===(s=e[c.start])||void 0===s?void 0:s.nodeIdxs,u=null===(a=e[c.end])||void 0===a?void 0:a.nodeIdxs;if(l&&u){var d=new Set(u),h=l.filter((function(t){return d.has(t)}));if(h&&h.length){for(var f={},p=h.length,g=0;g<p;g++){var m=i[h[g]];r[o].nodes.push(m),f[m.id]=!0}n.edges.forEach((function(t){f[t.source]&&f[t.target]&&r[o].edges.push(t)}))}}}})),r},f=function(t,e,n,r){var i,o,s={};t.nodes.forEach((function(t){s[t.id]=t}));var a=0;return!(null===(i=null===e||void 0===e?void 0:e.edges)||void 0===i?void 0:i.length)||(null===(o=null===e||void 0===e?void 0:e.nodes)||void 0===o?void 0:o.length)<2?0:(t.edges.forEach((function(t){var i=s[t.source][n],o=s[t.target][n],c=null===e||void 0===e?void 0:e.nodes[0][n],l=null===e||void 0===e?void 0:e.nodes[1][n],u=null===e||void 0===e?void 0:e.edges[0][r];t[r]===u&&(i===c&&o===l||i===l&&o===c)&&a++})),a)},p=function(t,e,n){for(var r=1/0,i=0,o=function(e){var n=t[e],o=Object.keys(n).sort((function(t,e){return n[t]-n[e]})),s=10,a=[];o.forEach((function(t,e){a[e%s]||(a[e%s]={graphs:[],totalCount:0,aveCount:0}),a[e%s].graphs.push(t),a[e%s].totalCount+=n[t]}));var c=0,l=[];a.forEach((function(t){var e=t.totalCount/t.graphs.length;t.aveCount=e,l.push(e);var r=0,i=t.length;t.graphs.forEach((function(e,i){var o=n[e];t.graphs.forEach((function(t,e){i!==e&&(r+=Math.abs(o-n[t]))}))})),r/=i*(i-1)/2,c+=r})),c/=a.length;var u=0;l.forEach((function(t,e){l.forEach((function(n,r){e!==r&&(u+=Math.abs(t-n))})),u/=l.length*(l.length-1)/2}));var d=u-c;r<d&&(r=d,i=e)},s=0;s<e;s++)o(s);return{structure:n[i],structureCountMap:t[i]}},g=function(t,e){var n={},r={};return t.forEach((function(t,i){n[t.id]={idx:i,node:t,degree:0,inDegree:0,outDegree:0};var o=t[e];r[o]||(r[o]=[]),r[o].push(t)})),{nodeMap:n,nodeLabelMap:r}},m=function(t,e,n){var r={},i={};return t.forEach((function(t,o){r["".concat(a.uniqueId)]={idx:o,edge:t};var s=t[e];i[s]||(i[s]=[]),i[s].push(t);var c=n[t.source];c&&(c.degree++,c.outDegree++);var l=n[t.target];l&&(l.degree++,l.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},v=function(t,e,n){var r=e.length,i={};return e.forEach((function(e,o){for(var s=n?0:o+1,a=t[o].id,c=s;c<r;c++)if(o!==c){var l=t[c].id,u=e[c];i["".concat(a,"-").concat(l)]=u,n||(i["".concat(l,"-").concat(a)]=u)}})),i},b=function(t,e,n,r,i,o,s,a,c,l,u){var d,p="".concat(e.id,"-").concat(n.id);if(l&&l[p])return l[p];var g=u?u[p]:void 0;if(!g){var m=(d={},d[p]={start:r[e.id].idx,end:r[n.id].idx,distance:i},d);u=h(m,o,t,u),g=u[p]}return f(g,s,a,c)},y=function(t,e,n,r){var i,o,s,a=null===(i=t[e])||void 0===i?void 0:i.degree,c=null===(o=t[e])||void 0===o?void 0:o.inDegree,l=null===(s=t[e])||void 0===s?void 0:s.outDegree;return void 0===t[e]&&(a=1/0,c=1/0,l=1/0,r[e].forEach((function(t){var e=n[t.id].degree;a>e&&(a=e);var r=n[t.id].inDegree;c>r&&(c=r);var i=n[t.id].outDegree;l>i&&(l=i)})),t[e]={degree:a,inDegree:c,outDegree:l}),{minPatternNodeLabelDegree:a,minPatternNodeLabelInDegree:c,minPatternNodeLabelOutDegree:l}},k=function(t,e,n,a,c,k,w){var _;if(void 0===n&&(n=!1),void 0===k&&(k="cluster"),void 0===w&&(w="cluster"),t&&t.nodes){var A=t.nodes.length;if(A){var C=(0,i.default)(t,n),x=(0,i.default)(e,n),E=v(t.nodes,C,n),S=v(e.nodes,x,n),M=g(t.nodes,k),I=M.nodeMap,D=M.nodeLabelMap,T=g(e.nodes,k),O=T.nodeMap,N=T.nodeLabelMap;m(t.edges,w,I);var P=m(e.edges,w,O).edgeLabelMap,L=[];null===x||void 0===x||x.forEach((function(t){L=L.concat(t)})),c||(c=Math.max.apply(Math,(0,r.__spreadArray)((0,r.__spreadArray)([],L,!1),[2],!1))),a||(a=c);var B=l(t,C,k,a),R=l(e,x,k,a),j=Math.min(100,A*(A-1)/2),z=d(a,A,j,B,C),F=h(z,B,t),V=10,U=1,G=1,H=4,$={graphs:F,nodeLabelProp:k,edgeLabelProp:w,minSupport:U,minNodeNum:G,maxNodeNum:H,directed:n},W=(0,o.default)($).slice(0,V),Y=W.length,q=[];W.forEach((function(t,e){q[e]={},Object.keys(F).forEach((function(n){var r=F[n],i=f(r,t,k,w);q[e][n]=i}))}));var X=p(q,Y,W),K=X.structure,Z=X.structureCountMap,Q=e.nodes[0],J=[],tt=null===(_=e.nodes[0])||void 0===_?void 0:_[k],et=-1/0;e.nodes.forEach((function(t){var e=t[k],n=D[e];(null===n||void 0===n?void 0:n.length)>et&&(et=n.length,J=n,tt=e,Q=t)}));var nt={},rt={},it={},ot={},st={},at={};Object.keys(N).forEach((function(r,i){st[r]=[],n&&(at[r]=[]);var o=-1/0,s=N[r],a={};s.forEach((function(t){var e=S["".concat(Q.id,"-").concat(t.id)];if(e&&st[r].push(e),o<e&&(o=e),a["".concat(Q.id,"-").concat(t.id)]={start:0,end:O[t.id].idx,distance:e},n){var i=S["".concat(t.id,"-").concat(Q.id)];i&&at[r].push(i)}})),st[r]=st[r].sort((function(t,e){return t-e})),n&&(at[r]=at[r].sort((function(t,e){return t-e}))),rt=h(a,R,e,rt);var c=[];if(Object.keys(a).forEach((function(t){if(it[t])c.push(it[t]);else{var e=rt[t];it[t]=f(e,K,k,w),c.push(it[t])}})),c=c.sort((function(t,e){return e-t})),ot["".concat(Q.id,"-").concat(r)]=c,r!==tt)for(var l=(null===J||void 0===J?void 0:J.length)||0,u=function(e){var n=J[e],i=B[I[n.id].idx],o=i.nodeLabelCountMap[r],s=N[r].length;if(!o||o.count<s)return J.splice(e,1),"continue";for(var a=!1,l=0;l<s;l++)if(o.dists[l]>st[r][l]){a=!0;break}if(a)return J.splice(e,1),"continue";var u={};i.neighbors.forEach((function(t){var e=E["".concat(n.id,"-").concat(t.id)];u["".concat(n.id,"-").concat(t.id)]={start:I[n.id].idx,end:I[t.id].idx,distance:e}})),F=h(u,B,t,F);var d=[];Object.keys(u).forEach((function(t){if(Z[t])d.push(Z[t]);else{var e=F[t];Z[t]=f(e,K,k,w),d.push(Z[t])}})),d=d.sort((function(t,e){return e-t}));var p=!1;for(l=0;l<s;l++)if(d[l]<c[l]){p=!0;break}return p?(J.splice(e,1),"continue"):void 0},d=l-1;d>=0;d--)u(d)}));var ct=[];null===J||void 0===J||J.forEach((function(r){for(var i=I[r.id].idx,o=u(t.nodes,C[i],i,k,c),s=o.neighbors,a=s.length,l=!1,d=a-1;d>=0;d--){if(s.length+1<e.nodes.length)return void(l=!0);var h=s[d],f=h[k];if(N[f]&&N[f].length)if(st[f]&&st[f].length){var p="".concat(r.id,"-").concat(h.id),g=E[p],m=st[f].length-1,v=st[f][m];if(g>v)s.splice(d,1);else{if(n){var _="".concat(h.id,"-").concat(r.id),A=E[_];m=at[f].length-1;var x=at[f][m];if(A>x){s.splice(d,1);continue}}var S=Z[p]?Z[p]:b(t,r,h,I,g,B,K,k,w,Z,F),M="".concat(Q.id,"-").concat(f),D=ot[M][ot[M].length-1];if(S<D)s.splice(d,1);else{var T=y(nt,f,O,N),P=T.minPatternNodeLabelDegree;T.minPatternNodeLabelInDegree,T.minPatternNodeLabelOutDegree;I[h.id].degree<P&&s.splice(d,1)}}}else s.splice(d,1);else s.splice(d,1)}l||ct.push({nodes:[r].concat(s)})}));var lt=(0,s.default)(e,Q.id,!1).length,ut={};n?(Object.keys(lt).forEach((function(t){var e=O[t].node[k];ut[e]?ut[e].push(lt[t]):ut[e]=[lt[t]]})),Object.keys(ut).forEach((function(t){ut[t].sort((function(t,e){return t-e}))}))):ut=st;for(var dt=ct.length,ht=function(r){var i=ct[r],o=i.nodes[0],a={},c={};i.nodes.forEach((function(t,e){c[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};var n=t[k];a[n]?a[n]++:a[n]=1}));var l=[],u={};t.edges.forEach((function(t){c[t.source]&&c[t.target]&&(l.push(t),u[t[w]]?u[t[w]]++:u[t[w]]=1,c[t.source].degree++,c[t.target].degree++,c[t.source].outDegree++,c[t.target].inDegree++)}));for(var d=Object.keys(P).length,h=!1,f=0;f<d;f++){var p=Object.keys(P)[f];if(!u[p]||u[p]<P[p].length){h=!0;break}}if(h)return ct.splice(r,1),"continue";var g=l.length;if(g<e.edges.length)return ct.splice(r,1),"break";var m=!1,v=function(t){var e=l[t],r=e[w],i=P[r];if(!i||!i.length)return u[r]--,i&&u[r]<i.length?(m=!0,"break"):(l.splice(t,1),c[e.source].degree--,c[e.target].degree--,c[e.source].outDegree--,c[e.target].inDegree--,"continue");var o=c[e.source].node[k],s=c[e.target].node[k],a=!1;return i.forEach((function(t){var e=O[t.source].node,r=O[t.target].node;e[k]===o&&r[k]===s&&(a=!0),n||e[k]!==s||r[k]!==o||(a=!0)})),a?void 0:(u[r]--,i&&u[r]<i.length?(m=!0,"break"):(l.splice(t,1),c[e.source].degree--,c[e.target].degree--,c[e.source].outDegree--,c[e.target].inDegree--,"continue"))};for(f=g-1;f>=0;f--){var b=v(f);if("break"===b)break}if(m)return ct.splice(r,1),"continue";i.edges=l;var _=(0,s.default)(i,i.nodes[0].id,!1).length;if(Object.keys(_).reverse().forEach((function(t){if(t!==i.nodes[0].id&&!m){if(_[t]===1/0){var e=c[t].node[k];if(a[e]--,a[e]<N[e].length)return void(m=!0);var n=i.nodes.indexOf(c[t].node);return i.nodes.splice(n,1),void(c[t]=void 0)}var r=I[t].node[k];if(!ut[r]||!ut[r].length||_[t]>ut[r][ut[r].length-1]){e=c[t].node[k];if(a[e]--,a[e]<N[e].length)return void(m=!0);n=i.nodes.indexOf(c[t].node);i.nodes.splice(n,1),c[t]=void 0}}})),m)return ct.splice(r,1),"continue";var A=!0,C=0;while(A&&!m){A=!1;var x=n?c[o.id].degree<O[Q.id].degree||c[o.id].inDegree<O[Q.id].inDegree||c[o.id].outDegree<O[Q.id].outDegree:c[o.id].degree<O[Q.id].degree;if(x){m=!0;break}if(a[o[k]]<N[o[k]].length){m=!0;break}for(var E=i.nodes.length,S=E-1;S>=0;S--){var M=i.nodes[S],D=c[M.id].degree,T=c[M.id].inDegree,L=c[M.id].outDegree,B=M[k],R=y(nt,B,O,N),j=R.minPatternNodeLabelDegree,z=R.minPatternNodeLabelInDegree,F=R.minPatternNodeLabelOutDegree,V=n?D<j||T<z||L<F:D<j;if(V){if(a[M[k]]--,a[M[k]]<N[M[k]].length){m=!0;break}i.nodes.splice(S,1),c[M.id]=void 0,A=!0}}if(m||!A&&0!==C)break;g=l.length;for(var U=g-1;U>=0;U--){var G=l[U];if(!c[G.source]||!c[G.target]){l.splice(U,1);var H=G[w];if(u[H]--,c[G.source]&&(c[G.source].degree--,c[G.source].outDegree--),c[G.target]&&(c[G.target].degree--,c[G.target].inDegree--),P[H]&&u[H]<P[H].length){m=!0;break}A=!0}}C++}return m||m||i.nodes.length<e.nodes.length||l.length<e.edges.length?(ct.splice(r,1),"continue"):void 0},ft=dt-1;ft>=0;ft--){var pt=ht(ft);if("break"===pt)break}var gt=ct.length,mt=function(t){var e=ct[t],n={};e.edges.forEach((function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);n[e]?n[e]++:n[e]=1}));for(var r=function(t){var e=ct[t],r={};e.edges.forEach((function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);r[e]?r[e]++:r[e]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(t){r[t]!==n[t]&&(i=!1)})),i&&ct.splice(t,1)},i=gt-1;i>t;i--)r(i);gt=ct.length};for(ft=0;ft<=gt-1;ft++)mt(ft);return ct}}},w=k;e["default"]=w},5321:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=o(n(168)),i=n(4170);function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e,n,o){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e3);var s=t.nodes,a=void 0===s?[]:s,c=t.edges,l=void 0===c?[]:c,u={},d={};a.forEach((function(t,e){var n=(0,i.uniqueId)();t.clusterId=n,u[n]={id:n,nodes:[t]},d[t.id]={node:t,idx:e}}));var h=(0,r.default)(t,e),f=[],p={};h.forEach((function(t,e){var n=0,r=a[e].id;p[r]={},t.forEach((function(t,e){if(t){n+=t;var i=a[e].id;p[r][i]=t}})),f.push(n)}));var g=0,m=function(){var t=!1;if(a.forEach((function(e){var n={};Object.keys(p[e.id]).forEach((function(t){var r=p[e.id][t],i=d[t].node,o=i.clusterId;n[o]||(n[o]=0),n[o]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(t){r<n[t]?(r=n[t],i=[t]):r===n[t]&&i.push(t)})),1!==i.length||i[0]!==e.clusterId){var o=i.indexOf(e.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){t=!0;var s=u[e.clusterId],a=s.nodes.indexOf(e);s.nodes.splice(a,1);var c=Math.floor(Math.random()*i.length),l=u[i[c]];l.nodes.push(e),e.clusterId=l.id}}})),!t)return"break";g++};while(g<o){var v=m();if("break"===v)break}Object.keys(u).forEach((function(t){var e=u[t];e.nodes&&e.nodes.length||delete u[t]}));var b=[],y={};l.forEach((function(t){var e=t.source,r=t.target,i=t[n]||1,o=d[e].node.clusterId,s=d[r].node.clusterId,a="".concat(o,"---").concat(s);if(y[a])y[a].weight+=i,y[a].count++;else{var c={source:o,target:s,weight:i,count:1};y[a]=c,b.push(c)}}));var k=[];return Object.keys(u).forEach((function(t){k.push(u[t])})),{clusters:k,clusterEdges:b}},a=s;e["default"]=a},1678:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=n(5883),i=c(n(168)),o=c(n(6831)),s=n(7668),a=n(3767);function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t,e,n,r){for(var i=e.length,o=2*r,s=0,a=0;a<i;a++)for(var c=t[a].clusterId,l=0;l<i;l++){var u=t[l].clusterId;if(c===u){var d=e[a][l]||0,h=n[a]||0,f=n[l]||0;s+=d-h*f/o}}return s*=1/o,s},u=function(t,e){void 0===t&&(t=[]);for(var n=t.length,r=new o.default([]),i=0;i<n;i++)r=r.add(new o.default(e[i]));var s=r.avg(n);s.normalize();var a=0;for(i=0;i<n;i++){var c=new o.default(e[i]),l=c.squareEuclideanDistance(s);a+=l}var u=[];t.forEach((function(){u.push([])}));for(i=0;i<n;i++){c=new o.default(e[i]);t[i]["clusterInertial"]=0;for(var d=0;d<n;d++)if(i!==d){var h=new o.default(e[d]);u[i][d]=c.squareEuclideanDistance(h),t[i]["clusterInertial"]+=u[i][d]}else u[i][d]=0}var f=0,p=2*n*a;for(i=0;i<n;i++){var g=t[i].clusterId;for(d=0;d<n;d++){var m=t[d].clusterId;if(i!==d&&g===m){var v=t[i].clusterInertial*t[d].clusterInertial/Math.pow(p,2)-u[i][d]/p;f+=v}}}return Number(f.toFixed(4))},d=function(t,e,n,o,c,d,h,f,p){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4),void 0===c&&(c=!1),void 0===d&&(d=void 0),void 0===h&&(h=[]),void 0===f&&(f=["id"]),void 0===p&&(p=1);var g=t.nodes,m=void 0===g?[]:g,v=t.edges,b=void 0===v?[]:v,y=[];if(c){m.forEach((function(t,e){t.properties=t.properties||{},t.originIndex=e}));var k=[];m.every((function(t){return t.hasOwnProperty("nodeType")}))&&(k=Array.from(new Set(m.map((function(t){return t.nodeType})))),m.forEach((function(t){t.properties.nodeType=k.findIndex((function(e){return e===t.nodeType}))})));var w=(0,s.getAllProperties)(m,d);y=(0,a.oneHot)(w,h,f)}var _=1,A={},C={};m.forEach((function(t,e){var n=String(_++);t.clusterId=n,A[n]={id:n,nodes:[t]},C[t.id]={node:t,idx:e}}));var x=(0,i.default)(t,e),E=[],S={},M=0;x.forEach((function(t,e){var n=0,r=m[e].id;S[r]={},t.forEach((function(t,e){if(t){n+=t;var i=m[e].id;S[r][i]=t,M+=t}})),E.push(n)})),M/=2;var I=1/0,D=1/0,T=0,O=[],N={};while(1){I=c&&m.every((function(t){return t.hasOwnProperty("properties")}))?l(m,x,E,M)+u(m,y)*p:l(m,x,E,M),0===T&&(D=I,O=m,N=A);var P=I>0&&I>D&&I-D<o;if(I>D&&(O=m.map((function(t){return{node:t,clusterId:t.clusterId}})),N=(0,r.clone)(A),D=I),P||T>100)break;T++,Object.keys(A).forEach((function(t){var e=0;b.forEach((function(r){var i=r.source,o=r.target,s=C[i].node.clusterId,a=C[o].node.clusterId;(s===t&&a!==t||a===t&&s!==t)&&(e+=r[n]||1)})),A[t].sumTot=e})),m.forEach((function(t,e){var r,i=A[t.clusterId],o=0,s=E[e]/(2*M),a=0,l=i.nodes;l.forEach((function(t){var n=C[t.id].idx;a+=x[e][n]||0}));var d=a-i.sumTot*s,h=l.filter((function(e){return e.id!==t.id})),f=[];h.forEach((function(t,e){f[e]=y[t.originIndex]}));var g=u(h,y)*p,m=S[t.id];if(Object.keys(m).forEach((function(n){var i=C[n].node,a=i.clusterId;if(a!==t.clusterId){var l=A[a],h=l.nodes;if(h&&h.length){var f=0;h.forEach((function(t){var n=C[t.id].idx;f+=x[e][n]||0}));var m=f-l.sumTot*s,v=h.concat([t]),b=[];v.forEach((function(t,e){b[e]=y[t.originIndex]}));var k=u(v,y)*p,w=m-d;c&&(w=m+k-(d+g)),w>o&&(o=w,r=l)}}})),o>0){r.nodes.push(t);var v=t.clusterId;t.clusterId=r.id;var k=i.nodes.indexOf(t);i.nodes.splice(k,1);var w=0,_=0;b.forEach((function(t){var e=t.source,i=t.target,o=C[e].node.clusterId,s=C[i].node.clusterId;(o===r.id&&s!==r.id||s===r.id&&o!==r.id)&&(w+=t[n]||1),(o===v&&s!==v||s===v&&o!==v)&&(_+=t[n]||1)})),r.sumTot=w,i.sumTot=_}}))}var L={},B=0;Object.keys(N).forEach((function(t){var e=N[t];if(e.nodes&&e.nodes.length){var n=String(B+1);n!==t&&(e.id=n,e.nodes=e.nodes.map((function(t){return{id:t.id,clusterId:n}})),N[n]=e,L[t]=n,delete N[t],B++)}else delete N[t]})),O.forEach((function(t){var e=t.node,n=t.clusterId;e&&(e.clusterId=n,e.clusterId&&L[e.clusterId]&&(e.clusterId=L[e.clusterId]))}));var R=[],j={};b.forEach((function(t){var e=t.source,r=t.target,i=t[n]||1,o=C[e].node.clusterId,s=C[r].node.clusterId;if(o&&s){var a="".concat(o,"---").concat(s);if(j[a])j[a].weight+=i,j[a].count++;else{var c={source:o,target:s,weight:i,count:1};j[a]=c,R.push(c)}}}));var z=[];return Object.keys(N).forEach((function(t){z.push(N[t])})),{clusters:z,clusterEdges:R}},h=d;e["default"]=h},5518:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=s(n(6212)),i=s(n(2215)),o=n(4170);function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t,e){var n=[],r=t.nodes,s=void 0===r?[]:r,a=t.edges,c=void 0===a?[]:a;if(0===s.length)return n;var l=s[0],u=new Set;u.add(l);var d=function(t,n){return e?t.weight-n.weight:0},h=new i.default(d);(0,o.getEdgesByNodeId)(l.id,c).forEach((function(t){h.insert(t)}));while(!h.isEmpty()){var f=h.delMin(),p=f.source,g=f.target;u.has(p)&&u.has(g)||(n.push(f),u.has(p)||(u.add(p),(0,o.getEdgesByNodeId)(p,c).forEach((function(t){h.insert(t)}))),u.has(g)||(u.add(g),(0,o.getEdgesByNodeId)(g,c).forEach((function(t){h.insert(t)}))))}return n},c=function(t,e){var n=[],i=t.nodes,o=void 0===i?[]:i,s=t.edges,a=void 0===s?[]:s;if(0===o.length)return n;var c=a.map((function(t){return t}));e&&c.sort((function(t,e){return t.weight-e.weight}));var l=new r.default(o.map((function(t){return t.id})));while(c.length>0){var u=c.shift(),d=u.source,h=u.target;l.connected(d,h)||(n.push(u),l.union(d,h))}return n},l=function(t,e,n){var r={prim:a,kruskal:c};return n?r[n](t,e):c(t,e)},u=l;e["default"]=u},247:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=o(n(2378)),i=n(4170);function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e,n){"number"!==typeof e&&(e=1e-6),"number"!==typeof n&&(n=.85);for(var o,s=1,a=0,c=1e3,l=t.nodes,u=void 0===l?[]:l,d=t.edges,h=void 0===d?[]:d,f=u.length,p={},g={},m=0;m<f;++m){var v=u[m],b=v.id;p[b]=1/f,g[b]=1/f}var y=(0,r.default)(t);while(c>0&&s>e){a=0;for(m=0;m<f;++m){v=u[m],b=v.id;if(o=0,0===y[v.id].inDegree)p[b]=0;else{for(var k=(0,i.getNeighbors)(b,h,"source"),w=0;w<k.length;++w){var _=k[w],A=y[_].outDegree;A>0&&(o+=g[_]/A)}p[b]=n*o,a+=p[b]}}a=(1-a)/f,s=0;for(m=0;m<f;++m){v=u[m],b=v.id;o=p[b]+a,s+=Math.abs(o-g[b]),g[b]=o}c-=1}return g},a=s;e["default"]=a},2215:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(t,e){return t-e},r=function(){function t(t){void 0===t&&(t=n),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){var e=this.getParent(t);while(t&&t>0&&this.compareFn(this.list[e],this.list[t])>0){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,n=t,r=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},t}(),i=r;e["default"]=i},2041:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.LinkedListNode=void 0;var n=function(t,e){return t===e},r=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},t}();e.LinkedListNode=r;var i=function(){function t(t){void 0===t&&(t=n),this.head=null,this.tail=null,this.compare=t}return t.prototype.prepend=function(t){var e=new r(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new r(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;var e=null;while(this.head&&this.compare(this.head.value,t))e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)while(n.next)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},t.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,r=t.callback,i=void 0===r?void 0:r;if(!this.head)return null;var o=this.head;while(o){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;var e=this.head;while(e.next)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach((function(t){return e.append(t)})),this},t.prototype.toArray=function(){var t=[],e=this.head;while(e)t.push(e),e=e.next;return t},t.prototype.reverse=function(){var t=this.head,e=null,n=null;while(t)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map((function(e){return e.toString(t)})).toString()},t}(),o=i;e["default"]=o},2014:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=i(n(2041));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(){this.linkedList=new r.default}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}(),s=o;e["default"]=s},6212:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var r=n[e];this.parent[r]=r}}return t.prototype.find=function(t){while(this.parent[t]!==t)t=this.parent[t];return t},t.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}(),r=n;e["default"]=r},6165:function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.DistanceType=void 0,e.DistanceType=n,function(t){t["EuclideanDistance"]="euclideanDistance"}(n||(e.DistanceType=n={}))},4170:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueId=e.getOutEdgesNodeId=e.getNeighbors=e.getEdgesByNodeId=void 0;var n=function(t,e,n){void 0===e&&(e=[]);var r=e.filter((function(e){return e.source===t||e.target===t}));if("target"===n){var i=function(e){return e.source===t};return r.filter(i).map((function(t){return t.target}))}if("source"===n){var o=function(e){return e.target===t};return r.filter(o).map((function(t){return t.source}))}var s=function(e){return e.source===t?e.target:e.source};return r.map(s)};e.getNeighbors=n;var r=function(t,e){return e.filter((function(e){return e.source===t}))};e.getOutEdgesNodeId=r;var i=function(t,e){return e.filter((function(e){return e.source===t||e.target===t}))};e.getEdgesByNodeId=i;var o=function(t){void 0===t&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)};e.uniqueId=o},3767:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneHot=e.getDistance=e.getAllKeyValueMap=e["default"]=void 0;var r=n(5883),i=n(6165),o=s(n(6831));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t,e,n){var i=[];(null===e||void 0===e?void 0:e.length)?i=e:(t.forEach((function(t){i=i.concat(Object.keys(t))})),i=(0,r.uniq)(i));var o={};return i.forEach((function(e){var i=[];t.forEach((function(t){void 0!==t[e]&&""!==t[e]&&i.push(t[e])})),i.length&&!(null===n||void 0===n?void 0:n.includes(e))&&(o[e]=(0,r.uniq)(i))})),o};e.getAllKeyValueMap=a;var c=function(t,e,n){var r=a(t,e,n),i=[];if(!Object.keys(r).length)return i;var o=Object.values(r),s=o.every((function(t){return t.every((function(t){return"number"===typeof t}))}));return t.forEach((function(t,e){var n=[];Object.keys(r).forEach((function(e){var i=t[e],o=r[e],a=o.findIndex((function(t){return i===t})),c=[];if(s)c.push(i);else for(var l=0;l<o.length;l++)l===a?c.push(1):c.push(0);n=n.concat(c)})),i[e]=n})),i};e.oneHot=c;var l=function(t,e,n,r){void 0===n&&(n=i.DistanceType.EuclideanDistance);var s=0;switch(n){case i.DistanceType.EuclideanDistance:s=new o.default(t).euclideanDistance(new o.default(e));break;default:break}return s};e.getDistance=l;var u={getAllKeyValueMap:a,oneHot:c,getDistance:l};e["default"]=u},7668:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPropertyWeight=e.getAllSortProperties=e.getAllProperties=e["default"]=void 0;var r=n(7465),i=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=100);var n={};t.forEach((function(t){t.properties&&Object.keys(t.properties).forEach((function(e){"id"===e||!"".concat(t.properties[e]).match(r.secondReg)&&!"".concat(t.properties[e]).match(r.dateReg)&&isNaN(Number(t.properties[e]))?n.hasOwnProperty(e)&&delete n[e]:n.hasOwnProperty(e)?n[e]+=1:n[e]=1}))}));var i=Object.keys(n).sort((function(t,e){return n[e]-n[t]}));return i.length<e?i:i.slice(0,e)};e.getAllSortProperties=i;var o=function(t,e){return e.map((function(e){return t.hasOwnProperty(e)?t[e]:0}))},s=function(t){for(var e=i(t),n=[],r=0;r<t.length;r++)n[r]=o(t[r].properties,e);return n};e.getPropertyWeight=s;var a=function(t,e){void 0===e&&(e=void 0);var n=[];return t.forEach((function(t){void 0===e&&n.push(t),void 0!==t[e]&&n.push(t[e])})),n};e.getAllProperties=a;var c={getAllSortProperties:i,getPropertyWeight:s,getAllProperties:a};e["default"]=c},6831:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=n(5883),i=function(){function t(t){this.arr=t}return t.prototype.getArr=function(){return this.arr||[]},t.prototype.add=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null===r||void 0===r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new t(i)}},t.prototype.subtract=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null===r||void 0===r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new t(i)}},t.prototype.avg=function(e){var n=[];if(0!==e)for(var r in this.arr)n[r]=this.arr[r]/e;return new t(n)},t.prototype.negate=function(){var e=[];for(var n in this.arr)e[n]=-this.arr[n];return new t(e)},t.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return r}},t.prototype.euclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},t.prototype.normalize=function(){var e=[],n=(0,r.clone)(this.arr);n.sort((function(t,e){return t-e}));var i=n[n.length-1],o=n[0];for(var s in this.arr)e[s]=(this.arr[s]-o)/(i-o);return new t(e)},t.prototype.norm2=function(){var t;if(!(null===(t=this.arr)||void 0===t?void 0:t.length))return 0;var e=0;for(var n in this.arr)e+=Math.pow(this.arr[n],2);return Math.sqrt(e)},t.prototype.dot=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*t.arr[i];return r}console.error("The two vectors are unequal in length.")},t.prototype.equal=function(t){var e,n=t.arr;if((null===(e=this.arr)||void 0===e?void 0:e.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},t}(),o=i;e["default"]=o},873:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GADDI",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"breadthFirstSearch",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"connectedComponent",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"depthFirstSearch",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"detectCycle",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"dijkstra",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"findAllPath",{enumerable:!0,get:function(){return d.findAllPath}}),Object.defineProperty(e,"findShortestPath",{enumerable:!0,get:function(){return d.findShortestPath}}),Object.defineProperty(e,"floydWarshall",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"getAdjMatrix",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"getDegree",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"getInDegree",{enumerable:!0,get:function(){return a.getInDegree}}),Object.defineProperty(e,"getNeighbors",{enumerable:!0,get:function(){return b.getNeighbors}}),Object.defineProperty(e,"getOutDegree",{enumerable:!0,get:function(){return a.getOutDegree}}),Object.defineProperty(e,"labelPropagation",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"louvain",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"minimumSpanningTree",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"pageRank",{enumerable:!0,get:function(){return m.default}});var i=w(n(168)),o=w(n(8441)),s=w(n(6277)),a=k(n(2378)),c=w(n(1042)),l=w(n(115)),u=w(n(7304)),d=n(8785),h=w(n(1510)),f=w(n(5321)),p=w(n(1678)),g=w(n(5518)),m=w(n(247)),v=w(n(1147)),b=n(4170);function y(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(y=function(t){return t?n:e})(t)}function k(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=y(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}function w(t){return t&&t.__esModule?t:{default:t}}},2274:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MESSAGE=e.ALGORITHM=void 0;var n={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};e.ALGORITHM=n;var r={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};e.MESSAGE=r},248:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=n(2274),i=o(n(8346));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n,o){var s=new i.default;s.postMessage({_algorithmType:t,data:e}),s.onmessage=function(t){var e=t.data,i=e.data,a=e._algorithmType;r.MESSAGE.SUCCESS===a?n(i):o(),s.terminate()}}))}},a=s;e["default"]=a},7436:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pageRankAsync=e.minimumSpanningTreeAsync=e.louvainAsync=e.labelPropagationAsync=e.getOutDegreeAsync=e.getNeighborsAsync=e.getInDegreeAsync=e.getDegreeAsync=e.getAdjMatrixAsync=e.floydWarshallAsync=e.findShortestPathAsync=e.findAllPathAsync=e.dijkstraAsync=e.detectCycleAsync=e.detectAllUndirectedCycleAsync=e.detectAllDirectedCycleAsync=e.detectAllCyclesAsync=e.connectedComponentAsync=e.GADDIAsync=void 0;var r=o(n(248)),i=n(2274);function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e){return(0,r.default)(i.ALGORITHM.getAdjMatrix).apply(void 0,[t,e])};e.getAdjMatrixAsync=s;var a=function(t,e){return(0,r.default)(i.ALGORITHM.connectedComponent).apply(void 0,[t,e])};e.connectedComponentAsync=a;var c=function(t){return(0,r.default)(i.ALGORITHM.getDegree)(t)};e.getDegreeAsync=c;var l=function(t,e){return(0,r.default)(i.ALGORITHM.getInDegree)(t,e)};e.getInDegreeAsync=l;var u=function(t,e){return(0,r.default)(i.ALGORITHM.getOutDegree)(t,e)};e.getOutDegreeAsync=u;var d=function(t){return(0,r.default)(i.ALGORITHM.detectCycle)(t)};e.detectCycleAsync=d;var h=function(t){return(0,r.default)(i.ALGORITHM.detectAllCycles)(t)};e.detectAllCyclesAsync=h;var f=function(t){return(0,r.default)(i.ALGORITHM.detectAllDirectedCycle)(t)};e.detectAllDirectedCycleAsync=f;var p=function(t){return(0,r.default)(i.ALGORITHM.detectAllUndirectedCycle)(t)};e.detectAllUndirectedCycleAsync=p;var g=function(t,e,n,o){return(0,r.default)(i.ALGORITHM.dijkstra).apply(void 0,[t,e,n,o])};e.dijkstraAsync=g;var m=function(t,e,n,o){return(0,r.default)(i.ALGORITHM.findAllPath).apply(void 0,[t,e,n,o])};e.findAllPathAsync=m;var v=function(t,e,n,o,s){return(0,r.default)(i.ALGORITHM.findShortestPath).apply(void 0,[t,e,n,o,s])};e.findShortestPathAsync=v;var b=function(t,e){return(0,r.default)(i.ALGORITHM.floydWarshall).apply(void 0,[t,e])};e.floydWarshallAsync=b;var y=function(t,e,n,o){return void 0===o&&(o=1e3),(0,r.default)(i.ALGORITHM.labelPropagation)(t,e,n,o)};e.labelPropagationAsync=y;var k=function(t,e,n,o){return(0,r.default)(i.ALGORITHM.louvain)(t,e,n,o)};e.louvainAsync=k;var w=function(t,e,n){return(0,r.default)(i.ALGORITHM.minimumSpanningTree).apply(void 0,[t,e,n])};e.minimumSpanningTreeAsync=w;var _=function(t,e,n){return(0,r.default)(i.ALGORITHM.pageRank).apply(void 0,[t,e,n])};e.pageRankAsync=_;var A=function(t,e,n){return(0,r.default)(i.ALGORITHM.getNeighbors).apply(void 0,[t,e,n])};e.getNeighborsAsync=A;var C=function(t,e,n,o,s,a,c){return void 0===n&&(n=!1),void 0===a&&(a="cluster"),void 0===c&&(c="cluster"),(0,r.default)(i.ALGORITHM.GADDI).apply(void 0,[t,e,n,o,s,a,c])};e.GADDIAsync=C},8346:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=a(n(873)),o=n(2274);function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var c=o?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}var c="undefined"!==typeof self?self:{};c.onmessage=function(t){var e=t.data,n=e._algorithmType,r=e.data;if(n)if("function"!==typeof i[n])c.postMessage({_algorithmType:o.MESSAGE.FAILURE});else{var s=i[n].apply(i,r);c.postMessage({_algorithmType:o.MESSAGE.SUCCESS,data:s})}};var l=null;e["default"]=l},2262:function(t,e,n){"use strict";function r(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var s=t.apply(e,n);function a(t){r(s,i,o,a,c,"next",t)}function c(t){r(s,i,o,a,c,"throw",t)}a(void 0)}))}}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function a(t){var e=s(t,"string");return"symbol"==o(e)?e:e+""}function c(t,e,n){return e=a(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function d(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.r(e),n.d(e,{Kernel:function(){return W},World:function(){return Pt}});var h=n(7167),f=n.n(h),p=n(8023),g=n.n(p),m=n(8830),v=n.n(m),b=n(6709),y=n.n(b),k=1;function w(){return k++}var _;(function(t){t[t["DEPTH_BUFFER_BIT"]=256]="DEPTH_BUFFER_BIT",t[t["STENCIL_BUFFER_BIT"]=1024]="STENCIL_BUFFER_BIT",t[t["COLOR_BUFFER_BIT"]=16384]="COLOR_BUFFER_BIT",t[t["POINTS"]=0]="POINTS",t[t["LINES"]=1]="LINES",t[t["LINE_LOOP"]=2]="LINE_LOOP",t[t["LINE_STRIP"]=3]="LINE_STRIP",t[t["TRIANGLES"]=4]="TRIANGLES",t[t["TRIANGLE_STRIP"]=5]="TRIANGLE_STRIP",t[t["TRIANGLE_FAN"]=6]="TRIANGLE_FAN",t[t["ZERO"]=0]="ZERO",t[t["ONE"]=1]="ONE",t[t["SRC_COLOR"]=768]="SRC_COLOR",t[t["ONE_MINUS_SRC_COLOR"]=769]="ONE_MINUS_SRC_COLOR",t[t["SRC_ALPHA"]=770]="SRC_ALPHA",t[t["ONE_MINUS_SRC_ALPHA"]=771]="ONE_MINUS_SRC_ALPHA",t[t["DST_ALPHA"]=772]="DST_ALPHA",t[t["ONE_MINUS_DST_ALPHA"]=773]="ONE_MINUS_DST_ALPHA",t[t["DST_COLOR"]=774]="DST_COLOR",t[t["ONE_MINUS_DST_COLOR"]=775]="ONE_MINUS_DST_COLOR",t[t["SRC_ALPHA_SATURATE"]=776]="SRC_ALPHA_SATURATE",t[t["FUNC_ADD"]=32774]="FUNC_ADD",t[t["BLEND_EQUATION"]=32777]="BLEND_EQUATION",t[t["BLEND_EQUATION_RGB"]=32777]="BLEND_EQUATION_RGB",t[t["BLEND_EQUATION_ALPHA"]=34877]="BLEND_EQUATION_ALPHA",t[t["FUNC_SUBTRACT"]=32778]="FUNC_SUBTRACT",t[t["FUNC_REVERSE_SUBTRACT"]=32779]="FUNC_REVERSE_SUBTRACT",t[t["MAX_EXT"]=32776]="MAX_EXT",t[t["MIN_EXT"]=32775]="MIN_EXT",t[t["BLEND_DST_RGB"]=32968]="BLEND_DST_RGB",t[t["BLEND_SRC_RGB"]=32969]="BLEND_SRC_RGB",t[t["BLEND_DST_ALPHA"]=32970]="BLEND_DST_ALPHA",t[t["BLEND_SRC_ALPHA"]=32971]="BLEND_SRC_ALPHA",t[t["CONSTANT_COLOR"]=32769]="CONSTANT_COLOR",t[t["ONE_MINUS_CONSTANT_COLOR"]=32770]="ONE_MINUS_CONSTANT_COLOR",t[t["CONSTANT_ALPHA"]=32771]="CONSTANT_ALPHA",t[t["ONE_MINUS_CONSTANT_ALPHA"]=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t["BLEND_COLOR"]=32773]="BLEND_COLOR",t[t["ARRAY_BUFFER"]=34962]="ARRAY_BUFFER",t[t["ELEMENT_ARRAY_BUFFER"]=34963]="ELEMENT_ARRAY_BUFFER",t[t["ARRAY_BUFFER_BINDING"]=34964]="ARRAY_BUFFER_BINDING",t[t["ELEMENT_ARRAY_BUFFER_BINDING"]=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t["STREAM_DRAW"]=35040]="STREAM_DRAW",t[t["STATIC_DRAW"]=35044]="STATIC_DRAW",t[t["DYNAMIC_DRAW"]=35048]="DYNAMIC_DRAW",t[t["BUFFER_SIZE"]=34660]="BUFFER_SIZE",t[t["BUFFER_USAGE"]=34661]="BUFFER_USAGE",t[t["CURRENT_VERTEX_ATTRIB"]=34342]="CURRENT_VERTEX_ATTRIB",t[t["FRONT"]=1028]="FRONT",t[t["BACK"]=1029]="BACK",t[t["FRONT_AND_BACK"]=1032]="FRONT_AND_BACK",t[t["CULL_FACE"]=2884]="CULL_FACE",t[t["BLEND"]=3042]="BLEND",t[t["DITHER"]=3024]="DITHER",t[t["STENCIL_TEST"]=2960]="STENCIL_TEST",t[t["DEPTH_TEST"]=2929]="DEPTH_TEST",t[t["SCISSOR_TEST"]=3089]="SCISSOR_TEST",t[t["POLYGON_OFFSET_FILL"]=32823]="POLYGON_OFFSET_FILL",t[t["SAMPLE_ALPHA_TO_COVERAGE"]=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t["SAMPLE_COVERAGE"]=32928]="SAMPLE_COVERAGE",t[t["NO_ERROR"]=0]="NO_ERROR",t[t["INVALID_ENUM"]=1280]="INVALID_ENUM",t[t["INVALID_VALUE"]=1281]="INVALID_VALUE",t[t["INVALID_OPERATION"]=1282]="INVALID_OPERATION",t[t["OUT_OF_MEMORY"]=1285]="OUT_OF_MEMORY",t[t["CW"]=2304]="CW",t[t["CCW"]=2305]="CCW",t[t["LINE_WIDTH"]=2849]="LINE_WIDTH",t[t["ALIASED_POINT_SIZE_RANGE"]=33901]="ALIASED_POINT_SIZE_RANGE",t[t["ALIASED_LINE_WIDTH_RANGE"]=33902]="ALIASED_LINE_WIDTH_RANGE",t[t["CULL_FACE_MODE"]=2885]="CULL_FACE_MODE",t[t["FRONT_FACE"]=2886]="FRONT_FACE",t[t["DEPTH_RANGE"]=2928]="DEPTH_RANGE",t[t["DEPTH_WRITEMASK"]=2930]="DEPTH_WRITEMASK",t[t["DEPTH_CLEAR_VALUE"]=2931]="DEPTH_CLEAR_VALUE",t[t["DEPTH_FUNC"]=2932]="DEPTH_FUNC",t[t["STENCIL_CLEAR_VALUE"]=2961]="STENCIL_CLEAR_VALUE",t[t["STENCIL_FUNC"]=2962]="STENCIL_FUNC",t[t["STENCIL_FAIL"]=2964]="STENCIL_FAIL",t[t["STENCIL_PASS_DEPTH_FAIL"]=2965]="STENCIL_PASS_DEPTH_FAIL",t[t["STENCIL_PASS_DEPTH_PASS"]=2966]="STENCIL_PASS_DEPTH_PASS",t[t["STENCIL_REF"]=2967]="STENCIL_REF",t[t["STENCIL_VALUE_MASK"]=2963]="STENCIL_VALUE_MASK",t[t["STENCIL_WRITEMASK"]=2968]="STENCIL_WRITEMASK",t[t["STENCIL_BACK_FUNC"]=34816]="STENCIL_BACK_FUNC",t[t["STENCIL_BACK_FAIL"]=34817]="STENCIL_BACK_FAIL",t[t["STENCIL_BACK_PASS_DEPTH_FAIL"]=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t["STENCIL_BACK_PASS_DEPTH_PASS"]=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t["STENCIL_BACK_REF"]=36003]="STENCIL_BACK_REF",t[t["STENCIL_BACK_VALUE_MASK"]=36004]="STENCIL_BACK_VALUE_MASK",t[t["STENCIL_BACK_WRITEMASK"]=36005]="STENCIL_BACK_WRITEMASK",t[t["VIEWPORT"]=2978]="VIEWPORT",t[t["SCISSOR_BOX"]=3088]="SCISSOR_BOX",t[t["COLOR_CLEAR_VALUE"]=3106]="COLOR_CLEAR_VALUE",t[t["COLOR_WRITEMASK"]=3107]="COLOR_WRITEMASK",t[t["UNPACK_ALIGNMENT"]=3317]="UNPACK_ALIGNMENT",t[t["PACK_ALIGNMENT"]=3333]="PACK_ALIGNMENT",t[t["MAX_TEXTURE_SIZE"]=3379]="MAX_TEXTURE_SIZE",t[t["MAX_VIEWPORT_DIMS"]=3386]="MAX_VIEWPORT_DIMS",t[t["SUBPIXEL_BITS"]=3408]="SUBPIXEL_BITS",t[t["RED_BITS"]=3410]="RED_BITS",t[t["GREEN_BITS"]=3411]="GREEN_BITS",t[t["BLUE_BITS"]=3412]="BLUE_BITS",t[t["ALPHA_BITS"]=3413]="ALPHA_BITS",t[t["DEPTH_BITS"]=3414]="DEPTH_BITS",t[t["STENCIL_BITS"]=3415]="STENCIL_BITS",t[t["POLYGON_OFFSET_UNITS"]=10752]="POLYGON_OFFSET_UNITS",t[t["POLYGON_OFFSET_FACTOR"]=32824]="POLYGON_OFFSET_FACTOR",t[t["TEXTURE_BINDING_2D"]=32873]="TEXTURE_BINDING_2D",t[t["SAMPLE_BUFFERS"]=32936]="SAMPLE_BUFFERS",t[t["SAMPLES"]=32937]="SAMPLES",t[t["SAMPLE_COVERAGE_VALUE"]=32938]="SAMPLE_COVERAGE_VALUE",t[t["SAMPLE_COVERAGE_INVERT"]=32939]="SAMPLE_COVERAGE_INVERT",t[t["COMPRESSED_TEXTURE_FORMATS"]=34467]="COMPRESSED_TEXTURE_FORMATS",t[t["DONT_CARE"]=4352]="DONT_CARE",t[t["FASTEST"]=4353]="FASTEST",t[t["NICEST"]=4354]="NICEST",t[t["GENERATE_MIPMAP_HINT"]=33170]="GENERATE_MIPMAP_HINT",t[t["BYTE"]=5120]="BYTE",t[t["UNSIGNED_BYTE"]=5121]="UNSIGNED_BYTE",t[t["SHORT"]=5122]="SHORT",t[t["UNSIGNED_SHORT"]=5123]="UNSIGNED_SHORT",t[t["INT"]=5124]="INT",t[t["UNSIGNED_INT"]=5125]="UNSIGNED_INT",t[t["FLOAT"]=5126]="FLOAT",t[t["DEPTH_COMPONENT"]=6402]="DEPTH_COMPONENT",t[t["ALPHA"]=6406]="ALPHA",t[t["RGB"]=6407]="RGB",t[t["RGBA"]=6408]="RGBA",t[t["LUMINANCE"]=6409]="LUMINANCE",t[t["LUMINANCE_ALPHA"]=6410]="LUMINANCE_ALPHA",t[t["UNSIGNED_SHORT_4_4_4_4"]=32819]="UNSIGNED_SHORT_4_4_4_4",t[t["UNSIGNED_SHORT_5_5_5_1"]=32820]="UNSIGNED_SHORT_5_5_5_1",t[t["UNSIGNED_SHORT_5_6_5"]=33635]="UNSIGNED_SHORT_5_6_5",t[t["FRAGMENT_SHADER"]=35632]="FRAGMENT_SHADER",t[t["VERTEX_SHADER"]=35633]="VERTEX_SHADER",t[t["MAX_VERTEX_ATTRIBS"]=34921]="MAX_VERTEX_ATTRIBS",t[t["MAX_VERTEX_UNIFORM_VECTORS"]=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t["MAX_VARYING_VECTORS"]=36348]="MAX_VARYING_VECTORS",t[t["MAX_COMBINED_TEXTURE_IMAGE_UNITS"]=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t["MAX_VERTEX_TEXTURE_IMAGE_UNITS"]=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t["MAX_TEXTURE_IMAGE_UNITS"]=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t["MAX_FRAGMENT_UNIFORM_VECTORS"]=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t["SHADER_TYPE"]=35663]="SHADER_TYPE",t[t["DELETE_STATUS"]=35712]="DELETE_STATUS",t[t["LINK_STATUS"]=35714]="LINK_STATUS",t[t["VALIDATE_STATUS"]=35715]="VALIDATE_STATUS",t[t["ATTACHED_SHADERS"]=35717]="ATTACHED_SHADERS",t[t["ACTIVE_UNIFORMS"]=35718]="ACTIVE_UNIFORMS",t[t["ACTIVE_ATTRIBUTES"]=35721]="ACTIVE_ATTRIBUTES",t[t["SHADING_LANGUAGE_VERSION"]=35724]="SHADING_LANGUAGE_VERSION",t[t["CURRENT_PROGRAM"]=35725]="CURRENT_PROGRAM",t[t["NEVER"]=512]="NEVER",t[t["LESS"]=513]="LESS",t[t["EQUAL"]=514]="EQUAL",t[t["LEQUAL"]=515]="LEQUAL",t[t["GREATER"]=516]="GREATER",t[t["NOTEQUAL"]=517]="NOTEQUAL",t[t["GEQUAL"]=518]="GEQUAL",t[t["ALWAYS"]=519]="ALWAYS",t[t["KEEP"]=7680]="KEEP",t[t["REPLACE"]=7681]="REPLACE",t[t["INCR"]=7682]="INCR",t[t["DECR"]=7683]="DECR",t[t["INVERT"]=5386]="INVERT",t[t["INCR_WRAP"]=34055]="INCR_WRAP",t[t["DECR_WRAP"]=34056]="DECR_WRAP",t[t["VENDOR"]=7936]="VENDOR",t[t["RENDERER"]=7937]="RENDERER",t[t["VERSION"]=7938]="VERSION",t[t["NEAREST"]=9728]="NEAREST",t[t["LINEAR"]=9729]="LINEAR",t[t["NEAREST_MIPMAP_NEAREST"]=9984]="NEAREST_MIPMAP_NEAREST",t[t["LINEAR_MIPMAP_NEAREST"]=9985]="LINEAR_MIPMAP_NEAREST",t[t["NEAREST_MIPMAP_LINEAR"]=9986]="NEAREST_MIPMAP_LINEAR",t[t["LINEAR_MIPMAP_LINEAR"]=9987]="LINEAR_MIPMAP_LINEAR",t[t["TEXTURE_MAG_FILTER"]=10240]="TEXTURE_MAG_FILTER",t[t["TEXTURE_MIN_FILTER"]=10241]="TEXTURE_MIN_FILTER",t[t["TEXTURE_WRAP_S"]=10242]="TEXTURE_WRAP_S",t[t["TEXTURE_WRAP_T"]=10243]="TEXTURE_WRAP_T",t[t["TEXTURE_2D"]=3553]="TEXTURE_2D",t[t["TEXTURE"]=5890]="TEXTURE",t[t["TEXTURE_CUBE_MAP"]=34067]="TEXTURE_CUBE_MAP",t[t["TEXTURE_BINDING_CUBE_MAP"]=34068]="TEXTURE_BINDING_CUBE_MAP",t[t["TEXTURE_CUBE_MAP_POSITIVE_X"]=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t["TEXTURE_CUBE_MAP_NEGATIVE_X"]=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t["TEXTURE_CUBE_MAP_POSITIVE_Y"]=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t["TEXTURE_CUBE_MAP_NEGATIVE_Y"]=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t["TEXTURE_CUBE_MAP_POSITIVE_Z"]=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t["TEXTURE_CUBE_MAP_NEGATIVE_Z"]=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t["MAX_CUBE_MAP_TEXTURE_SIZE"]=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t["TEXTURE0"]=33984]="TEXTURE0",t[t["TEXTURE1"]=33985]="TEXTURE1",t[t["TEXTURE2"]=33986]="TEXTURE2",t[t["TEXTURE3"]=33987]="TEXTURE3",t[t["TEXTURE4"]=33988]="TEXTURE4",t[t["TEXTURE5"]=33989]="TEXTURE5",t[t["TEXTURE6"]=33990]="TEXTURE6",t[t["TEXTURE7"]=33991]="TEXTURE7",t[t["TEXTURE8"]=33992]="TEXTURE8",t[t["TEXTURE9"]=33993]="TEXTURE9",t[t["TEXTURE10"]=33994]="TEXTURE10",t[t["TEXTURE11"]=33995]="TEXTURE11",t[t["TEXTURE12"]=33996]="TEXTURE12",t[t["TEXTURE13"]=33997]="TEXTURE13",t[t["TEXTURE14"]=33998]="TEXTURE14",t[t["TEXTURE15"]=33999]="TEXTURE15",t[t["TEXTURE16"]=34e3]="TEXTURE16",t[t["TEXTURE17"]=34001]="TEXTURE17",t[t["TEXTURE18"]=34002]="TEXTURE18",t[t["TEXTURE19"]=34003]="TEXTURE19",t[t["TEXTURE20"]=34004]="TEXTURE20",t[t["TEXTURE21"]=34005]="TEXTURE21",t[t["TEXTURE22"]=34006]="TEXTURE22",t[t["TEXTURE23"]=34007]="TEXTURE23",t[t["TEXTURE24"]=34008]="TEXTURE24",t[t["TEXTURE25"]=34009]="TEXTURE25",t[t["TEXTURE26"]=34010]="TEXTURE26",t[t["TEXTURE27"]=34011]="TEXTURE27",t[t["TEXTURE28"]=34012]="TEXTURE28",t[t["TEXTURE29"]=34013]="TEXTURE29",t[t["TEXTURE30"]=34014]="TEXTURE30",t[t["TEXTURE31"]=34015]="TEXTURE31",t[t["ACTIVE_TEXTURE"]=34016]="ACTIVE_TEXTURE",t[t["REPEAT"]=10497]="REPEAT",t[t["CLAMP_TO_EDGE"]=33071]="CLAMP_TO_EDGE",t[t["MIRRORED_REPEAT"]=33648]="MIRRORED_REPEAT",t[t["FLOAT_VEC2"]=35664]="FLOAT_VEC2",t[t["FLOAT_VEC3"]=35665]="FLOAT_VEC3",t[t["FLOAT_VEC4"]=35666]="FLOAT_VEC4",t[t["INT_VEC2"]=35667]="INT_VEC2",t[t["INT_VEC3"]=35668]="INT_VEC3",t[t["INT_VEC4"]=35669]="INT_VEC4",t[t["BOOL"]=35670]="BOOL",t[t["BOOL_VEC2"]=35671]="BOOL_VEC2",t[t["BOOL_VEC3"]=35672]="BOOL_VEC3",t[t["BOOL_VEC4"]=35673]="BOOL_VEC4",t[t["FLOAT_MAT2"]=35674]="FLOAT_MAT2",t[t["FLOAT_MAT3"]=35675]="FLOAT_MAT3",t[t["FLOAT_MAT4"]=35676]="FLOAT_MAT4",t[t["SAMPLER_2D"]=35678]="SAMPLER_2D",t[t["SAMPLER_CUBE"]=35680]="SAMPLER_CUBE",t[t["VERTEX_ATTRIB_ARRAY_ENABLED"]=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t["VERTEX_ATTRIB_ARRAY_SIZE"]=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t["VERTEX_ATTRIB_ARRAY_STRIDE"]=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t["VERTEX_ATTRIB_ARRAY_TYPE"]=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t["VERTEX_ATTRIB_ARRAY_NORMALIZED"]=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t["VERTEX_ATTRIB_ARRAY_POINTER"]=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t["VERTEX_ATTRIB_ARRAY_BUFFER_BINDING"]=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t["COMPILE_STATUS"]=35713]="COMPILE_STATUS",t[t["LOW_FLOAT"]=36336]="LOW_FLOAT",t[t["MEDIUM_FLOAT"]=36337]="MEDIUM_FLOAT",t[t["HIGH_FLOAT"]=36338]="HIGH_FLOAT",t[t["LOW_INT"]=36339]="LOW_INT",t[t["MEDIUM_INT"]=36340]="MEDIUM_INT",t[t["HIGH_INT"]=36341]="HIGH_INT",t[t["FRAMEBUFFER"]=36160]="FRAMEBUFFER",t[t["RENDERBUFFER"]=36161]="RENDERBUFFER",t[t["RGBA4"]=32854]="RGBA4",t[t["RGB5_A1"]=32855]="RGB5_A1",t[t["RGB565"]=36194]="RGB565",t[t["DEPTH_COMPONENT16"]=33189]="DEPTH_COMPONENT16",t[t["STENCIL_INDEX"]=6401]="STENCIL_INDEX",t[t["STENCIL_INDEX8"]=36168]="STENCIL_INDEX8",t[t["DEPTH_STENCIL"]=34041]="DEPTH_STENCIL",t[t["RENDERBUFFER_WIDTH"]=36162]="RENDERBUFFER_WIDTH",t[t["RENDERBUFFER_HEIGHT"]=36163]="RENDERBUFFER_HEIGHT",t[t["RENDERBUFFER_INTERNAL_FORMAT"]=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t["RENDERBUFFER_RED_SIZE"]=36176]="RENDERBUFFER_RED_SIZE",t[t["RENDERBUFFER_GREEN_SIZE"]=36177]="RENDERBUFFER_GREEN_SIZE",t[t["RENDERBUFFER_BLUE_SIZE"]=36178]="RENDERBUFFER_BLUE_SIZE",t[t["RENDERBUFFER_ALPHA_SIZE"]=36179]="RENDERBUFFER_ALPHA_SIZE",t[t["RENDERBUFFER_DEPTH_SIZE"]=36180]="RENDERBUFFER_DEPTH_SIZE",t[t["RENDERBUFFER_STENCIL_SIZE"]=36181]="RENDERBUFFER_STENCIL_SIZE",t[t["FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE"]=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t["FRAMEBUFFER_ATTACHMENT_OBJECT_NAME"]=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t["FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL"]=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t["FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE"]=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t["COLOR_ATTACHMENT0"]=36064]="COLOR_ATTACHMENT0",t[t["DEPTH_ATTACHMENT"]=36096]="DEPTH_ATTACHMENT",t[t["STENCIL_ATTACHMENT"]=36128]="STENCIL_ATTACHMENT",t[t["DEPTH_STENCIL_ATTACHMENT"]=33306]="DEPTH_STENCIL_ATTACHMENT",t[t["NONE"]=0]="NONE",t[t["FRAMEBUFFER_COMPLETE"]=36053]="FRAMEBUFFER_COMPLETE",t[t["FRAMEBUFFER_INCOMPLETE_ATTACHMENT"]=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t["FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT"]=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t["FRAMEBUFFER_INCOMPLETE_DIMENSIONS"]=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t["FRAMEBUFFER_UNSUPPORTED"]=36061]="FRAMEBUFFER_UNSUPPORTED",t[t["FRAMEBUFFER_BINDING"]=36006]="FRAMEBUFFER_BINDING",t[t["RENDERBUFFER_BINDING"]=36007]="RENDERBUFFER_BINDING",t[t["MAX_RENDERBUFFER_SIZE"]=34024]="MAX_RENDERBUFFER_SIZE",t[t["INVALID_FRAMEBUFFER_OPERATION"]=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t["UNPACK_FLIP_Y_WEBGL"]=37440]="UNPACK_FLIP_Y_WEBGL",t[t["UNPACK_PREMULTIPLY_ALPHA_WEBGL"]=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t["CONTEXT_LOST_WEBGL"]=37442]="CONTEXT_LOST_WEBGL",t[t["UNPACK_COLORSPACE_CONVERSION_WEBGL"]=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t["BROWSER_DEFAULT_WEBGL"]=37444]="BROWSER_DEFAULT_WEBGL",t[t["COPY_SRC"]=1]="COPY_SRC",t[t["COPY_DST"]=2]="COPY_DST",t[t["SAMPLED"]=4]="SAMPLED",t[t["STORAGE"]=8]="STORAGE",t[t["RENDER_ATTACHMENT"]=16]="RENDER_ATTACHMENT"})(_||(_={}));var A,C,x,E,S=function(){function t(){l(this,t),this.config=void 0}return d(t,[{key:"get",value:function(){return this.config}},{key:"set",value:function(t){this.config=t}}]),t}();"undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);(function(t){t["Void"]="Void",t["Boolean"]="Boolean",t["Float"]="Float",t["Uint32"]="Uint32",t["Int32"]="Int32",t["Vector"]="Vector",t["Vector2Float"]="vec2<f32>",t["Vector3Float"]="vec3<f32>",t["Vector4Float"]="vec4<f32>",t["Vector2Boolean"]="vec2<bool>",t["Vector3Boolean"]="vec3<bool>",t["Vector4Boolean"]="vec4<bool>",t["Vector2Uint"]="vec2<u32>",t["Vector3Uint"]="vec3<u32>",t["Vector4Uint"]="vec4<u32>",t["Vector2Int"]="vec2<i32>",t["Vector3Int"]="vec3<i32>",t["Vector4Int"]="vec4<i32>",t["Matrix"]="Matrix",t["Matrix3x3Float"]="mat3x3<f32>",t["Matrix4x4Float"]="mat4x4<i32>",t["Struct"]="Struct",t["FloatArray"]="Float[]",t["Vector4FloatArray"]="vec4<f32>[]"})(A||(A={})),function(t){t["Program"]="Program",t["Identifier"]="Identifier",t["VariableDeclaration"]="VariableDeclaration",t["BlockStatement"]="BlockStatement",t["ReturnStatement"]="ReturnStatement",t["FunctionDeclaration"]="FunctionDeclaration",t["VariableDeclarator"]="VariableDeclarator",t["AssignmentExpression"]="AssignmentExpression",t["LogicalExpression"]="LogicalExpression",t["BinaryExpression"]="BinaryExpression",t["ArrayExpression"]="ArrayExpression",t["UnaryExpression"]="UnaryExpression",t["UpdateExpression"]="UpdateExpression",t["FunctionExpression"]="FunctionExpression",t["MemberExpression"]="MemberExpression",t["ConditionalExpression"]="ConditionalExpression",t["ExpressionStatement"]="ExpressionStatement",t["CallExpression"]="CallExpression",t["NumThreadStatement"]="NumThreadStatement",t["StorageStatement"]="StorageStatement",t["DoWhileStatement"]="DoWhileStatement",t["WhileStatement"]="WhileStatement",t["ForStatement"]="ForStatement",t["BreakStatement"]="BreakStatement",t["ContinueStatement"]="ContinueStatement",t["IfStatement"]="IfStatement",t["ImportedFunctionStatement"]="ImportedFunctionStatement"}(C||(C={})),function(t){t["Input"]="Input",t["Output"]="Output",t["Uniform"]="Uniform",t["Workgroup"]="Workgroup",t["UniformConstant"]="UniformConstant",t["Image"]="Image",t["StorageBuffer"]="StorageBuffer",t["Private"]="Private",t["Function"]="Function"}(x||(x={})),function(t){t["GLSL100"]="GLSL100",t["GLSL450"]="GLSL450",t["WGSL"]="WGSL"}(E||(E={}));var M="__DefineValuePlaceholder__";function I(){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O,N,P,L,B,R,j,z,F,V,U,G,H,$,W=function(){function t(e,n){l(this,t),this.engine=e,this.configService=n,this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return d(t,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,n=t.engineOptions;this.initPromise=this.engine.init(T({canvas:e||I(),antialiasing:!1},n))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,e){var n=this;if("string"===typeof t){var r=g()(e)||f()(e)||v()(e);if(this.compiledBundle&&this.compiledBundle.context){var i=this.compiledBundle.context.defines.find((function(e){return e.name===t}));if(i)return i.value=e,this;var o=this.compiledBundle.context.uniforms.find((function(e){return e.name===t}));o&&(r?(o.data=e,o.isReferer=!1,o.storageClass===x.Uniform?this.model&&this.model.updateUniform(t,e):this.model&&this.model.updateBuffer(t,e)):(o.isReferer=!0,o.data=e))}}else Object.keys(t).forEach((function(e){n.setBinding(e,t[e])}));return this}},{key:"execute",value:function(){var t=i(y().mark((function t(){var e,n,r=this,i=arguments;return y().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:1,!this.dirty){t.next=6;break}return this.compiledBundle.context&&(e>1?this.compiledBundle.context.maxIteration=e:this.compiledBundle.context.maxIteration++),t.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter((function(t){var e=t.isReferer;return e})).forEach((function(t){var e=t.data,n=t.name;r.model.confirmInput(e.model,n)})),n=0;n<e;n++)this.model.run();return this.engine.endFrame(),t.abrupt("return",this);case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getOutput",value:function(){var t=i(y().mark((function t(){return y().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.model.readData());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"compile",value:function(){var t=i(y().mark((function t(){var e,n,r;return y().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initPromise;case 2:return e=T({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?E.WGSL:E.GLSL450:E.GLSL100,r=this.compiledBundle.shaders[n],e.defines.filter((function(t){return t.runtime})).forEach((function(t){var e="".concat(M).concat(t.name);r=r.replace(e,"".concat(t.value))})),e.shader=r,e.uniforms.forEach((function(t){if(!t.data&&t.storageClass===x.StorageBuffer){var n=1;t.type===A.FloatArray?n=1:t.type===A.Vector4FloatArray&&(n=4),t.data=new Float32Array(e.output.length*n).fill(0)}})),this.compiledBundle.context=e,t.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=t.sent;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),Y=n(364),q=n.n(Y),X=function(){function t(e,n){l(this,t),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,i=n.offset,o=n.stride,s=n.normalized,a=n.size,c=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:o||0,normalized:s||!1,divisor:c||0},a&&(this.attribute.size=a)}return d(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),K=(O={},c(O,_.POINTS,"points"),c(O,_.LINES,"lines"),c(O,_.LINE_LOOP,"line loop"),c(O,_.LINE_STRIP,"line strip"),c(O,_.TRIANGLES,"triangles"),c(O,_.TRIANGLE_FAN,"triangle fan"),c(O,_.TRIANGLE_STRIP,"triangle strip"),O),Z=(N={},c(N,_.STATIC_DRAW,"static"),c(N,_.DYNAMIC_DRAW,"dynamic"),c(N,_.STREAM_DRAW,"stream"),N),Q=(P={},c(P,_.BYTE,"int8"),c(P,_.UNSIGNED_INT,"int16"),c(P,_.INT,"int32"),c(P,_.UNSIGNED_BYTE,"uint8"),c(P,_.UNSIGNED_SHORT,"uint16"),c(P,_.UNSIGNED_INT,"uint32"),c(P,_.FLOAT,"float"),P),J=(L={},c(L,_.ALPHA,"alpha"),c(L,_.LUMINANCE,"luminance"),c(L,_.LUMINANCE_ALPHA,"luminance alpha"),c(L,_.RGB,"rgb"),c(L,_.RGBA,"rgba"),c(L,_.RGBA4,"rgba4"),c(L,_.RGB5_A1,"rgb5 a1"),c(L,_.RGB565,"rgb565"),c(L,_.DEPTH_COMPONENT,"depth"),c(L,_.DEPTH_STENCIL,"depth stencil"),L),tt=(B={},c(B,_.DONT_CARE,"dont care"),c(B,_.NICEST,"nice"),c(B,_.FASTEST,"fast"),B),et=(R={},c(R,_.NEAREST,"nearest"),c(R,_.LINEAR,"linear"),c(R,_.LINEAR_MIPMAP_LINEAR,"mipmap"),c(R,_.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),c(R,_.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),c(R,_.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),R),nt=(j={},c(j,_.REPEAT,"repeat"),c(j,_.CLAMP_TO_EDGE,"clamp"),c(j,_.MIRRORED_REPEAT,"mirror"),j),rt=(z={},c(z,_.NONE,"none"),c(z,_.BROWSER_DEFAULT_WEBGL,"browser"),z),it=(F={},c(F,_.NEVER,"never"),c(F,_.ALWAYS,"always"),c(F,_.LESS,"less"),c(F,_.LEQUAL,"lequal"),c(F,_.GREATER,"greater"),c(F,_.GEQUAL,"gequal"),c(F,_.EQUAL,"equal"),c(F,_.NOTEQUAL,"notequal"),F),ot=(V={},c(V,_.FUNC_ADD,"add"),c(V,_.MIN_EXT,"min"),c(V,_.MAX_EXT,"max"),c(V,_.FUNC_SUBTRACT,"subtract"),c(V,_.FUNC_REVERSE_SUBTRACT,"reverse subtract"),V),st=(U={},c(U,_.ZERO,"zero"),c(U,_.ONE,"one"),c(U,_.SRC_COLOR,"src color"),c(U,_.ONE_MINUS_SRC_COLOR,"one minus src color"),c(U,_.SRC_ALPHA,"src alpha"),c(U,_.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),c(U,_.DST_COLOR,"dst color"),c(U,_.ONE_MINUS_DST_COLOR,"one minus dst color"),c(U,_.DST_ALPHA,"dst alpha"),c(U,_.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),c(U,_.CONSTANT_COLOR,"constant color"),c(U,_.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),c(U,_.CONSTANT_ALPHA,"constant alpha"),c(U,_.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),c(U,_.SRC_ALPHA_SATURATE,"src alpha saturate"),U),at=(G={},c(G,_.NEVER,"never"),c(G,_.ALWAYS,"always"),c(G,_.LESS,"less"),c(G,_.LEQUAL,"lequal"),c(G,_.GREATER,"greater"),c(G,_.GEQUAL,"gequal"),c(G,_.EQUAL,"equal"),c(G,_.NOTEQUAL,"notequal"),G),ct=(H={},c(H,_.ZERO,"zero"),c(H,_.KEEP,"keep"),c(H,_.REPLACE,"replace"),c(H,_.INVERT,"invert"),c(H,_.INCR,"increment"),c(H,_.DECR,"decrement"),c(H,_.INCR_WRAP,"increment wrap"),c(H,_.DECR_WRAP,"decrement wrap"),H),lt=($={},c($,_.FRONT,"front"),c($,_.BACK,"back"),$),ut=function(){function t(e,n){l(this,t),this.buffer=void 0;var r=n.data,i=n.usage,o=n.type;this.buffer=e.buffer({data:r,usage:Z[i||_.STATIC_DRAW],type:Q[o||_.UNSIGNED_BYTE]})}return d(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var e=t.data,n=t.offset;this.buffer.subdata(e,n)}}]),t}();function dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ht(t){if(Array.isArray(t))return dt(t)}function ft(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function pt(t,e){if(t){if("string"===typeof t)return dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(t,e):void 0}}function gt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mt(t){return ht(t)||ft(t)||pt(t)||gt()}function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var yt="attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",kt=0,wt=!1,_t=function(){function t(e,n){var r=this;l(this,t),this.reGl=e,this.context=n,this.entity=w(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var i={};this.context.uniforms.forEach((function(t){var e=t.name,n=t.type,o=t.data,s=t.isReferer,a=t.storageClass;if(a===x.StorageBuffer){if(s)r.textureCache[e]={data:void 0},i["".concat(e,"Size")]=function(){return o.compiledBundle.context.output.textureSize};else{r.textureCache[e]=r.calcDataTexture(e,n,o);var c=r.textureCache[e],l=c.textureWidth,u=c.isOutput;i["".concat(e,"Size")]=[l,l],u&&(r.outputTextureName=e,r.context.needPingpong&&(r.outputTextureName="".concat(e,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(e,n,o)))}i[e]=function(){return wt&&console.log("[".concat(r.entity,"]: ").concat(e," ").concat(r.textureCache[e].id)),r.textureCache[e].texture}}else if(a===x.Uniform){if(o&&(Array.isArray(o)||f()(o))&&o.length>16)throw new Error("invalid data type ".concat(n));i[e]=function(){return t.data}}}));var o=this.getOuputDataTexture(),s=o.textureWidth,a=o.texelCount;i.u_OutputTextureSize=[s,s],i.u_OutputTexelCount=a,this.context.output.textureSize=[s,s];var c={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:i,vert:yt,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(c)}return d(t,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use((function(){t.computeCommand()})),wt&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var t=i(y().mark((function t(){var e,n,r,i,o,s,a,c,l=this;return y().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.reGl({framebuffer:this.texFBO})((function(){e=l.reGl.read()})),!e){t.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,i=n.elementsPerTexel,o=n.typedArrayConstructor,s=void 0===o?Float32Array:o,a=[],4!==i)for(c=0;c<e.length;c+=4)1===i?a.push(e[c]):2===i?a.push(e[c],e[c+1]):a.push(e[c],e[c+1],e[c+2]);else a=e;return t.abrupt("return",new s(a.slice(0,r)));case 6:return t.abrupt("return",new Float32Array);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"confirmInput",value:function(t,e){var n;this.entity===t.entity?(this.dynamicPingpong=!0,n=this):n=t,this.textureCache[e].id=n.getOuputDataTexture().id,this.textureCache[e].texture=n.getOuputDataTexture().texture,wt&&console.log("[".concat(this.entity,"]: confirm input ").concat(e," from model ").concat(n.entity,", ").concat(n.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,e){var n=this.context.uniforms.find((function(e){var n=e.name;return n===t}));if(n){var r=this.calcDataTexture(t,n.type,e),i=r.texture,o=r.data;this.textureCache[t].data=o,this.textureCache[t].texture=i}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var e=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=e,wt&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,n=t.textureWidth;return bt(bt({},t),{},{id:kt++,texture:this.reGl.texture({width:n,height:n,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,n){var r=1;e===A.Vector4FloatArray&&(r=4);for(var i=[],o=0;o<n.length;o+=r)1===r?i.push(n[o],0,0,0):2===r?i.push(n[o],n[o+1],0,0):3===r?i.push(n[o],n[o+1],n[o+2],0):4===r&&i.push(n[o],n[o+1],n[o+2],n[o+3]);var s=n.length,a=Math.ceil(s/r),c=Math.ceil(Math.sqrt(a)),l=c*c;a<l&&i.push.apply(i,mt(new Array(4*(l-a)).fill(0)));var u=this.reGl.texture({width:c,height:c,data:i,type:"float"});return{id:kt++,data:i,originalDataLength:s,typedArrayConstructor:f()(n)?n.constructor:void 0,textureWidth:c,texture:u,texelCount:a,elementsPerTexel:r,isOutput:t===this.context.output.name}}}]),t}(),At=function(){function t(e,n){l(this,t),this.elements=void 0;var r=n.data,i=n.usage,o=n.type,s=n.count;this.elements=e.elements({data:r,usage:Z[i||_.STATIC_DRAW],type:Q[o||_.UNSIGNED_BYTE],count:s})}return d(t,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){this.elements.destroy()}}]),t}(),Ct=function(){function t(e,n){l(this,t),this.framebuffer=void 0;var r=n.width,i=n.height,o=n.color,s=n.colors,a=(n.depth,n.stencil,{width:r,height:i});Array.isArray(s)&&(a.colors=s.map((function(t){return t.get()}))),o&&"boolean"!==typeof o&&(a.color=o.get()),this.framebuffer=e.framebuffer(a)}return d(t,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.framebuffer.resize(e,n)}}]),t}(),xt=n(1331),Et=n.n(xt);function St(t){var e={};return Object.keys(t).forEach((function(n){Mt(n,t[n],e,"")})),e}function Mt(t,e,n,r){null===e||"number"===typeof e||"boolean"===typeof e||Array.isArray(e)&&"number"===typeof e[0]||f()(e)||""===e||void 0!==e.resize?n["".concat(r&&r+".").concat(t)]=e:(Et()(e)&&Object.keys(e).forEach((function(i){Mt(i,e[i],n,"".concat(r&&r+".").concat(t))})),Array.isArray(e)&&e.forEach((function(e,i){Object.keys(e).forEach((function(o){Mt(o,e[o],n,"".concat(r&&r+".").concat(t,"[").concat(i,"]"))}))})))}function It(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?It(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Tt=function(){function t(e,n){l(this,t),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var r=n.vs,i=n.fs,o=n.defines,s=n.attributes,a=n.uniforms,c=n.primitive,u=n.count,d=n.elements,h=n.depth,f=n.blend,p=n.stencil,g=n.cull,m=n.instances,v=n.scissor,b=n.viewport,y={};a&&(this.uniforms=St(a),Object.keys(a).forEach((function(t){y[t]=e.prop(t)})));var k={};Object.keys(s).forEach((function(t){k[t]=s[t].get()}));var w=o&&this.generateDefines(o)||"",A={attributes:k,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(w,"\n").concat(i),uniforms:y,vert:"\n".concat(w,"\n").concat(r),primitive:K[void 0===c?_.TRIANGLES:c]};m&&(A.instances=m),u&&(A.count=u),d&&(A.elements=d.get()),v&&(A.scissor=v),b&&(A.viewport=b),this.initDepthDrawParams({depth:h},A),this.initBlendDrawParams({blend:f},A),this.initStencilDrawParams({stencil:p},A),this.initCullDrawParams({cull:g},A),this.drawCommand=e(A)}return d(t,[{key:"addUniforms",value:function(t){this.uniforms=Dt(Dt({},this.uniforms),St(t))}},{key:"draw",value:function(t){var e=Dt(Dt({},this.uniforms),St(t.uniforms||{})),n={};Object.keys(e).forEach((function(t){var r=o(e[t]);"boolean"===r||"number"===r||Array.isArray(e[t])||e[t].BYTES_PER_ELEMENT?n[t]=e[t]:"string"===r||(n[t]=e[t].get())})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){var n=t.depth;n&&(e.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:it[n.func||_.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var n=t.blend;if(n){var r=n.enable,i=n.func,o=n.equation,s=n.color,a=void 0===s?[0,0,0,0]:s;e.blend={enable:!!r,func:{srcRGB:st[i&&i.srcRGB||_.SRC_ALPHA],srcAlpha:st[i&&i.srcAlpha||_.SRC_ALPHA],dstRGB:st[i&&i.dstRGB||_.ONE_MINUS_SRC_ALPHA],dstAlpha:st[i&&i.dstAlpha||_.ONE_MINUS_SRC_ALPHA]},equation:{rgb:ot[o&&o.rgb||_.FUNC_ADD],alpha:ot[o&&o.alpha||_.FUNC_ADD]},color:a}}}},{key:"initStencilDrawParams",value:function(t,e){var n=t.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,s=n.func,a=void 0===s?{cmp:_.ALWAYS,ref:0,mask:-1}:s,c=n.opFront,l=void 0===c?{fail:_.KEEP,zfail:_.KEEP,zpass:_.KEEP}:c,u=n.opBack,d=void 0===u?{fail:_.KEEP,zfail:_.KEEP,zpass:_.KEEP}:u;e.stencil={enable:!!r,mask:o,func:Dt(Dt({},a),{},{cmp:at[a.cmp]}),opFront:{fail:ct[l.fail],zfail:ct[l.zfail],zpass:ct[l.zpass]},opBack:{fail:ct[d.fail],zfail:ct[d.zfail],zpass:ct[d.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var n=t.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?_.BACK:i;e.cull={enable:!!r,face:lt[o]}}}},{key:"generateDefines",value:function(t){return Object.keys(t).map((function(e){return"#define ".concat(e," ").concat(Number(t[e]))})).join("\n")}}]),t}(),Ot=function(){function t(e,n){l(this,t),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,i=n.type,o=void 0===i?_.UNSIGNED_BYTE:i,s=n.width,a=n.height,c=n.flipY,u=void 0!==c&&c,d=n.format,h=void 0===d?_.RGBA:d,f=n.mipmap,p=void 0!==f&&f,g=n.wrapS,m=void 0===g?_.CLAMP_TO_EDGE:g,v=n.wrapT,b=void 0===v?_.CLAMP_TO_EDGE:v,y=n.aniso,k=void 0===y?0:y,w=n.alignment,A=void 0===w?1:w,C=n.premultiplyAlpha,x=void 0!==C&&C,E=n.mag,S=void 0===E?_.NEAREST:E,M=n.min,I=void 0===M?_.NEAREST:M,D=n.colorSpace,T=void 0===D?_.BROWSER_DEFAULT_WEBGL:D;this.width=s,this.height=a;var O={width:s,height:a,type:Q[o],format:J[h],wrapS:nt[m],wrapT:nt[b],mag:et[S],min:et[I],alignment:A,flipY:u,colorSpace:rt[T],premultiplyAlpha:x,aniso:k};r&&(O.data=r),"number"===typeof p?O.mipmap=tt[p]:"boolean"===typeof p&&(O.mipmap=p),this.texture=e.texture(O)}return d(t,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.texture.resize(e,n),this.width=e,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),t}(),Nt=function(){function t(){var e=this;l(this,t),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=i(y().mark((function t(n){return y().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.uniforms){t.next=3;break}return t.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var t=i(y().mark((function t(e){var r;return y().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.uniforms[e]||void 0===n.uniforms[e].load){t.next=5;break}return t.next=3,n.uniforms[e].load();case 3:r=t.sent,n.uniforms[e]=r;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",new Tt(e.gl,n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new X(e.gl,t)},this.createBuffer=function(t){return new ut(e.gl,t)},this.createElements=function(t){return new At(e.gl,t)},this.createTexture2D=function(t){return new Ot(e.gl,t)},this.createFramebuffer=function(t){return new Ct(e.gl,t)},this.useFramebuffer=function(t,n){e.gl({framebuffer:t?t.get():null})(n)},this.createComputeModel=function(){var t=i(y().mark((function t(n){return y().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new _t(e.gl,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.clear=function(t){var n=t.color,r=t.depth,i=t.stencil,o=t.framebuffer,s=void 0===o?null:o,a={color:n,depth:r,stencil:i};a.framebuffer=null===s?s:s.get(),e.gl.clear(a)},this.setScissor=function(t){e.gl&&e.gl._gl&&(t.enable&&t.box?(e.gl._gl.enable(_.SCISSOR_TEST),e.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):e.gl._gl.disable(_.SCISSOR_TEST),e.gl._refresh())},this.viewport=function(t){var n=t.x,r=t.y,i=t.width,o=t.height;e.gl&&e.gl._gl&&(e.gl._gl.viewport(n,r,i,o),e.gl._refresh())},this.readPixels=function(t){var n=t.framebuffer,r=t.x,i=t.y,o=t.width,s=t.height,a={x:r,y:i,width:o,height:s};return n&&(a.framebuffer=n.get()),e.gl.read(a)},this.getCanvas=function(){return e.$canvas},this.getGLContext=function(){return e.gl._gl},this.destroy=function(){e.gl&&(e.gl.destroy(),e.inited=!1)}}return d(t,[{key:"init",value:function(){var t=i(y().mark((function t(e){return y().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.inited){t.next=2;break}return t.abrupt("return");case 2:return this.$canvas=e.canvas,t.next=5,new Promise((function(t,n){q()({canvas:e.canvas,attributes:{alpha:!0,antialias:e.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(e,r){!e&&r||n(e),t(r)}})}));case 5:this.gl=t.sent,this.inited=!0;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),t}(),Pt=function(){function t(){l(this,t),this.engine=void 0,this.configService=new S}return d(t,[{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setEngine",value:function(t){this.engine=t}},{key:"createEntity",value:function(){return w()}},{key:"createKernel",value:function(t){var e=new W(this.engine,this.configService);return"string"===typeof t?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"destroy",value:function(){this.engine.destroy()}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new t;return n.setConfig(e),n.setEngine(new Nt),n}}]),t}()},6722:function(t,e,n){"use strict";n.d(e,{Ay:function(){return MA}});var r={};n.r(r),n.d(r,{GADDI:function(){return Me},Stack:function(){return De},breadthFirstSearch:function(){return q},connectedComponent:function(){return Z},cosineSimilarity:function(){return zt},default:function(){return Oe},depthFirstSearch:function(){return it},detectAllCycles:function(){return ct},detectAllDirectedCycle:function(){return at},detectAllUndirectedCycle:function(){return st},detectCycle:function(){return lt},detectDirectedCycle:function(){return Te},dijkstra:function(){return ht},findAllPath:function(){return mt},findShortestPath:function(){return gt},floydWarshall:function(){return bt},getAdjMatrix:function(){return L},getDegree:function(){return J},getInDegree:function(){return tt},getNeighbors:function(){return U},getOutDegree:function(){return et},iLouvain:function(){return Ot},kCore:function(){return Pt},kMeans:function(){return Rt},labelPropagation:function(){return kt},louvain:function(){return Dt},minimumSpanningTree:function(){return Kt},nodesCosineSimilarity:function(){return Vt},pageRank:function(){return Qt}});var i={};n.r(i),n.d(i,{Line:function(){return sn},applyMatrix:function(){return Ue},compare:function(){return Be},distance:function(){return $e},floydWarshall:function(){return Ye},fractionToLine:function(){return un},getAdjMatrix:function(){return qe},getBBoxBoundLine:function(){return an},getCircleCenterByPoints:function(){return He},getCircleIntersectByPoint:function(){return Fe},getDegree:function(){return Je},getEllipseIntersectByPoint:function(){return Ve},getLineIntersect:function(){return je},getPointsCenter:function(){return dn},getRectIntersectByPoint:function(){return ze},intersectBBox:function(){return nn},invertMatrix:function(){return Ge},isPointInPolygon:function(){return en},isPointsOverlap:function(){return pn},isPolygonsIntersect:function(){return on},itemIntersectByLine:function(){return ln},lerp:function(){return vn},lerpArray:function(){return bn},move:function(){return Ke},pointLineDistance:function(){return mn},pointLineSquareDist:function(){return fn},pointRectSquareDist:function(){return gn},rotate:function(){return Qe},scale:function(){return Ze},scaleMatrix:function(){return We},squareDist:function(){return hn},translate:function(){return Xe}});var o={};n.r(o),n.d(o,{cloneBesidesImg:function(){return tr},getAnimateCfgWithCallback:function(){return er},getBBox:function(){return Fn},getComboBBox:function(){return Qn},getLabelPosition:function(){return Un},getLetterWidth:function(){return Yn},getLoopCfgs:function(){return Vn},getTextSize:function(){return qn},plainCombosToTrees:function(){return Kn},reconstructTree:function(){return Zn},shouldRefreshEdge:function(){return Jn},traverseTree:function(){return $n},traverseTreeUp:function(){return Wn},truncateLabelByLength:function(){return Xn}});var s={};n.r(s),n.d(s,{catmullRomToBezier:function(){return ur},fillPath:function(){return Lr},fillPathByDiff:function(){return zr},formatPath:function(){return Ur},intersection:function(){return Tr},parsePathArray:function(){return br},parsePathString:function(){return lr},pathToAbsolute:function(){return hr},pathToCurve:function(){return mr},rectPath:function(){return Cr}});var a={};n.r(a),n.d(a,{easeBack:function(){return Zs},easeBackIn:function(){return Xs},easeBackInOut:function(){return Zs},easeBackOut:function(){return Ks},easeBounce:function(){return Ws},easeBounceIn:function(){return $s},easeBounceInOut:function(){return Ys},easeBounceOut:function(){return Ws},easeCircle:function(){return Ps},easeCircleIn:function(){return Os},easeCircleInOut:function(){return Ps},easeCircleOut:function(){return Ns},easeCubic:function(){return bs},easeCubicIn:function(){return ms},easeCubicInOut:function(){return bs},easeCubicOut:function(){return vs},easeElastic:function(){return na},easeElasticIn:function(){return ea},easeElasticInOut:function(){return ra},easeElasticOut:function(){return na},easeExp:function(){return Ts},easeExpIn:function(){return Is},easeExpInOut:function(){return Ts},easeExpOut:function(){return Ds},easeLinear:function(){return hs},easePoly:function(){return _s},easePolyIn:function(){return ks},easePolyInOut:function(){return _s},easePolyOut:function(){return ws},easeQuad:function(){return gs},easeQuadIn:function(){return fs},easeQuadInOut:function(){return gs},easeQuadOut:function(){return ps},easeSin:function(){return Ss},easeSinIn:function(){return xs},easeSinInOut:function(){return Ss},easeSinOut:function(){return Es}});var c={};n.r(c),n.d(c,{calculationItemsBBox:function(){return al},cloneEvent:function(){return il},formatPadding:function(){return rl},isNaN:function(){return sl},isViewportChanged:function(){return ol},processParallelEdges:function(){return cl},uniqueId:function(){return nl}});var l={};n.r(l),n.d(l,{getClosedSpline:function(){return lu},getControlPoint:function(){return su},getSpline:function(){return ou},getStarPath:function(){return gu},paddedHull:function(){return pu},pathToPoints:function(){return cu},pointsToPolygon:function(){return au},roundedHull:function(){return fu}});var u={};n.r(u),n.d(u,{defaultSubjectColors:function(){return nd}});var d={};n.r(d),n.d(d,{isForce:function(){return rd}});var h={};n.r(h),n.d(h,{Base:function(){return ch},Circle:function(){return uh},Ellipse:function(){return fh},Image:function(){return mh},Line:function(){return yh},Marker:function(){return _h},Path:function(){return Bh},Polygon:function(){return zh},Polyline:function(){return Vh},Rect:function(){return $h},Text:function(){return Yh}});var f={};n.r(f),n.d(f,{Base:function(){return gf},Circle:function(){return vf},Dom:function(){return yf},Ellipse:function(){return wf},Image:function(){return Af},Line:function(){return xf},Marker:function(){return If},Path:function(){return Tf},Polygon:function(){return Nf},Polyline:function(){return Lf},Rect:function(){return jf},Text:function(){return Hf}});var p={};n.r(p),n.d(p,{getColorSetsBySubjectColors:function(){return Ag},getColorsWithSubjectColor:function(){return _g},mixColor:function(){return yg}});var g={};n.r(g),n.d(g,{arrayToTextureData:function(){return Gg},attributesToTextureData:function(){return Ug},buildTextureData:function(){return zg},buildTextureDataWithOneEdgeAttr:function(){return Fg},buildTextureDataWithTwoEdgeAttr:function(){return Vg},proccessToFunc:function(){return jg},radialLayout:function(){return Hg}});var m={};n.r(m),n.d(m,{gpuDetector:function(){return $g}});var v={};n.r(v),n.d(v,{getBrowserName:function(){return Wg}});var b={};n.r(b),n.d(b,{assign:function(){return mb},default:function(){return jb},defaultI18n:function(){return wb},format:function(){return Lb},parse:function(){return Bb},setGlobalDateI18n:function(){return Ab},setGlobalDateMasks:function(){return Pb}});var y=n(1635),k=n(5883),w={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(t){return Object.assign(this,t),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(t){var e=this,n=this.events;this.graph=t,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!0),(0,k.each)(n,(function(e,n){t.on(n,e)})),document.addEventListener("visibilitychange",(function(){e.keydown=!1}))},unbind:function(t){var e=this.events,n=t.get("canvas").get("draggable");"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!1),(0,k.each)(e,(function(e,n){t.off(n,e)})),t.get("canvas").set("draggable",n)},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this}},_=function(){function t(){}return t.registerBehavior=function(e,n){if(!n)throw new Error("please specify handler for this behavior: ".concat(e));var r=(0,k.clone)(w);Object.assign(r,n);var i=function(t){var e=this;Object.assign(this,this.getDefaultCfg(),t);var n=this.getEvents();this.events=null;var r={};n&&((0,k.each)(n,(function(t,n){r[n]=(0,k.wrapBehavior)(e,t)})),this.events=r)};i.prototype=r,t.types[e]=i},t.hasBehavior=function(e){return!!t.types[e]},t.getBehavior=function(e){return t.types[e]},t.types={},t}(),A=_,C=A,x="*",E=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events[x]||[],s=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var s=r[o],a=s.callback,c=s.once;c&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),a.apply(e,n)}};s(i),s(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}(),S=E,M=n(1409);function I(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return M.fromTranslation(r,n),M.multiply(t,r,e)}function D(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return M.fromRotation(r,n),M.multiply(t,r,e)}function T(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return M.fromScaling(r,n),M.multiply(t,r,e)}function O(t,e,n){return M.multiply(t,n,e)}function N(t,e){for(var n=t?[].concat(t):[1,0,0,0,1,0,0,0,1],r=0,i=e.length;r<i;r++){var o=e[r];switch(o[0]){case"t":I(n,n,[o[1],o[2]]);break;case"s":T(n,n,[o[1],o[2]]);break;case"r":D(n,n,o[1]);break;case"m":O(n,n,o[1]);break;default:break}}return n}var P=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e;var n=[];i.push(n)})),r&&r.forEach((function(t){var n=t.source,r=t.target,s=o[n],a=o[r];!s&&0!==s||!a&&0!==a||(i[s][a]=1,e||(i[a][s]=1))})),i},L=P,B=function(t,e){return t===e},R=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},t}(),j=function(){function t(t){void 0===t&&(t=B),this.head=null,this.tail=null,this.compare=t}return t.prototype.prepend=function(t){var e=new R(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new R(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;var e=null;while(this.head&&this.compare(this.head.value,t))e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)while(n.next)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},t.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,r=t.callback,i=void 0===r?void 0:r;if(!this.head)return null;var o=this.head;while(o){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;var e=this.head;while(e.next)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach((function(t){return e.append(t)})),this},t.prototype.toArray=function(){var t=[],e=this.head;while(e)t.push(e),e=e.next;return t},t.prototype.reverse=function(){var t=this.head,e=null,n=null;while(t)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map((function(e){return e.toString(t)})).toString()},t}(),z=j,F=function(){function t(){this.linkedList=new z}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}(),V=F,U=function(t,e,n){void 0===e&&(e=[]);var r=e.filter((function(e){return e.source===t||e.target===t}));if("target"===n){var i=function(e){return e.source===t};return r.filter(i).map((function(t){return t.target}))}if("source"===n){var o=function(e){return e.target===t};return r.filter(o).map((function(t){return t.source}))}var s=function(e){return e.source===t?e.target:e.source};return r.map(s)},G=function(t,e){return e.filter((function(e){return e.source===t}))},H=function(t,e){return e.filter((function(e){return e.source===t||e.target===t}))},$=function(t){void 0===t&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)};function W(t){void 0===t&&(t={});var e=t,n=function(){},r=function(){var t={};return function(e){var n=e.next,r=n;return!t[r]&&(t[r]=!0,!0)}}();return e.allowTraversal=t.allowTraversal||r,e.enter=t.enter||n,e.leave=t.leave||n,e}var Y=function(t,e,n,r){void 0===r&&(r=!0);var i=W(n),o=new V,s=t.edges,a=void 0===s?[]:s;o.enqueue(e);var c="",l=function(){var t=o.dequeue();i.enter({current:t,previous:c}),U(t,a,r?"target":void 0).forEach((function(e){i.allowTraversal({previous:c,current:t,next:e})&&o.enqueue(e)})),i.leave({current:t,previous:c}),c=t};while(!o.isEmpty())l()},q=Y,X=function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,i=void 0===r?[]:r,o=[],s={},a=[],c=function t(e){a.push(e),s[e.id]=!0;for(var r=U(e.id,i),o=function(e){var i=r[e];if(!s[i]){var o=n.filter((function(t){return t.id===i}));o.length>0&&t(o[0])}},c=0;c<r.length;++c)o(c)},l=0;l<n.length;l++){var u=n[l];if(!s[u.id]){c(u);var d=[];while(a.length>0)d.push(a.pop());o.push(d)}}return o},K=function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,i=void 0===r?[]:r,o=[],s={},a={},c={},l=[],u=0,d=function t(e){a[e.id]=u,c[e.id]=u,u+=1,o.push(e),s[e.id]=!0;for(var r=U(e.id,i,"target").filter((function(t){return n.map((function(t){return t.id})).indexOf(t)>-1})),d=function(i){var o=r[i];if(a[o]||0===a[o])s[o]&&(c[e.id]=Math.min(c[e.id],a[o]));else{var l=n.filter((function(t){return t.id===o}));l.length>0&&t(l[0]),c[e.id]=Math.min(c[e.id],c[o])}},h=0;h<r.length;h++)d(h);if(c[e.id]===a[e.id]){var f=[];while(o.length>0){var p=o.pop();if(s[p.id]=!1,f.push(p),p===e)break}f.length>0&&l.push(f)}},h=0,f=n;h<f.length;h++){var p=f[h];a[p.id]||0===a[p.id]||d(p)}return l};function Z(t,e){return e?K(t):X(t)}var Q=function(t){var e={},n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i;return r.forEach((function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++})),e},J=Q,tt=function(t,e){var n=Q(t);return n[e]?Q(t)[e].inDegree:0},et=function(t,e){var n=Q(t);return n[e]?Q(t)[e].outDegree:0};function nt(t){void 0===t&&(t={});var e=t,n=function(){},r=function(){var t={};return function(e){var n=e.next;return!t[n]&&(t[n]=!0,!0)}}();return e.allowTraversal=t.allowTraversal||r,e.enter=t.enter||n,e.leave=t.leave||n,e}function rt(t,e,n,r,i){void 0===i&&(i=!0),r.enter({current:e,previous:n});var o=t.edges,s=void 0===o?[]:o;U(e,s,i?"target":void 0).forEach((function(o){r.allowTraversal({previous:n,current:e,next:o})&&rt(t,o,e,r,i)})),r.leave({current:e,previous:n})}function it(t,e,n,r){void 0===r&&(r=!0),rt(t,e,"",nt(n),r)}var ot=function(t){var e=null,n=t.nodes,r=void 0===n?[]:n,i={},o={},s={},a={};r.forEach((function(t){o[t.id]=t}));var c={enter:function(t){var n=t.current,r=t.previous;if(s[n]){e={};var a=n,c=r;while(c!==n)e[a]=c,a=c,c=i[c];e[a]=c}else s[n]=n,delete o[n],i[n]=r},leave:function(t){var e=t.current;a[e]=e,delete s[e]},allowTraversal:function(t){var n=t.next;return!e&&!a[n]}};while(Object.keys(o).length){var l=Object.keys(o)[0];it(t,l,c)}return e},st=function(t,e,n){var r,i;void 0===n&&(n=!0);for(var o=[],s=Z(t,!1),a=0,c=s;a<c.length;a++){var l=c[a];if(l.length){var u=l[0],d=u.id,h=[u],f=(r={},r[d]=u,r),p=(i={},i[d]=new Set,i);while(h.length>0)for(var g=h.pop(),m=g.id,v=U(m,t.edges),b=function(r){var i,s=v[r],a=t.nodes.find((function(t){return t.id===s}));if(s===m)o.push((i={},i[s]=g,i));else if(s in p){if(!p[m].has(a)){var c=!0,l=[a,g],u=f[m];while(p[s].size&&!p[s].has(u)){if(l.push(u),u===f[u.id])break;u=f[u.id]}if(l.push(u),e&&n?(c=!1,l.findIndex((function(t){return e.indexOf(t.id)>-1}))>-1&&(c=!0)):e&&!n&&l.findIndex((function(t){return e.indexOf(t.id)>-1}))>-1&&(c=!1),c){for(var d={},b=1;b<l.length;b+=1)d[l[b-1].id]=l[b];l.length&&(d[l[l.length-1].id]=l[0]),o.push(d)}p[s].add(g)}}else f[s]=g,h.push(a),p[s]=new Set([g])},y=0;y<v.length;y+=1)b(y)}}return o},at=function(t,e,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],s=[],a={},c={},l=function(t){var e=[t];while(e.length>0){var n=e.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(t){e.push(t)})),o[n.id].clear())}},u=function t(c,u,d){var h=!1;if(e&&!1===n&&e.indexOf(c.id)>-1)return h;r.push(c),i.add(c);for(var f=d[c.id],p=0;p<f.length;p+=1){var g=a[f[p]];if(g===u){for(var m={},v=1;v<r.length;v+=1)m[r[v-1].id]=r[v];r.length&&(m[r[r.length-1].id]=r[0]),s.push(m),h=!0}else i.has(g)||t(g,u,d)&&(h=!0)}if(h)l(c);else for(p=0;p<f.length;p+=1){g=a[f[p]];o[g.id].has(c)||o[g.id].add(c)}return r.pop(),h},d=t.nodes,h=void 0===d?[]:d,f=0;f<h.length;f+=1){var p=h[f],g=p.id;c[g]=f,a[f]=p}if(e&&n){var m=function(t){var n=e[t];c[h[t].id]=c[n],c[n]=0,a[0]=h.find((function(t){return t.id===n})),a[c[h[t].id]]=h[t]};for(f=0;f<e.length;f++)m(f)}var v=function(r){for(var i,o,a=1/0,l=0;l<r.length;l+=1)for(var u=r[l],d=0;d<u.length;d++){var h=c[u[d].id];h<a&&(a=h,o=l)}var f=r[o],p=[];for(l=0;l<f.length;l+=1){var g=f[l];p[g.id]=[];for(var m=0,v=U(g.id,t.edges,"target").filter((function(t){return f.map((function(t){return t.id})).indexOf(t)>-1}));m<v.length;m++){var b=v[m];b!==g.id||!1===n&&e.indexOf(g.id)>-1?p[g.id].push(c[b]):s.push((i={},i[g.id]=g,i))}}return{component:f,adjList:p,minIdx:a}},b=0;while(b<h.length){var y=h.filter((function(t){return c[t.id]>=b})),k=K({nodes:y,edges:t.edges}).filter((function(t){return t.length>1}));if(0===k.length)break;var w=v(k),_=w.minIdx,A=w.adjList,C=w.component;if(!(C.length>1))break;C.forEach((function(t){o[t.id]=new Set}));var x=a[_];if(e&&n&&-1===e.indexOf(x.id))return s;u(x,x,A),b=_+1}return s},ct=function(t,e,n,r){return void 0===r&&(r=!0),e?at(t,n,r):st(t,n,r)},lt=ot,ut=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var s=e[o].id;!n[s]&&t[s]<=i&&(i=t[s],r=e[o])}return r},dt=function(t,e,n,r){var i=t.nodes,o=void 0===i?[]:i,s=t.edges,a=void 0===s?[]:s,c=[],l={},u={},d={};o.forEach((function(t,n){var r=t.id;c.push(r),u[r]=1/0,r===e&&(u[r]=0)}));for(var h=o.length,f=function(t){var e=ut(u,o,l),i=e.id;if(l[i]=!0,u[i]===1/0)return"continue";var s=[];s=n?G(i,a):H(i,a),s.forEach((function(t){var n=t.target,o=t.source,s=n===i?o:n,a=r&&t[r]?t[r]:1;u[s]>u[e.id]+a?(u[s]=u[e.id]+a,d[s]=[e.id]):u[s]===u[e.id]+a&&d[s].push(e.id)}))},p=0;p<h;p++)f(p);d[e]=[e];var g={};for(var m in u)u[m]!==1/0&&ft(e,m,d,g);var v={};for(var m in g)v[m]=g[m][0];return{length:u,path:v,allPath:g}},ht=dt;function ft(t,e,n,r){if(t===e)return[t];if(r[e])return r[e];for(var i=[],o=0,s=n[e];o<s.length;o++){var a=s[o],c=ft(t,a,n,r);if(!c)return;for(var l=0,u=c;l<u.length;l++){var d=u[l];(0,k.isArray)(d)?i.push((0,y.__spreadArray)((0,y.__spreadArray)([],d,!0),[e],!1)):i.push([d,e])}}return r[e]=i,r[e]}var pt,gt=function(t,e,n,r,i){var o=ht(t,e,r,i),s=o.length,a=o.path,c=o.allPath;return{length:s[n],path:a[n],allPath:c[n]}},mt=function(t,e,n,r){var i;if(e===n)return[[e]];var o=t.edges,s=void 0===o?[]:o,a=[e],c=(i={},i[e]=!0,i),l=[],u=[],d=r?U(e,s,"target"):U(e,s);l.push(d);while(a.length>0&&l.length>0){var h=l[l.length-1];if(h.length){var f=h.shift();if(f&&(a.push(f),c[f]=!0,d=r?U(f,s,"target"):U(f,s),l.push(d.filter((function(t){return!c[t]})))),a[a.length-1]===n){var p=a.map((function(t){return t}));u.push(p);g=a.pop();c[g]=!1,l.pop()}}else{var g=a.pop();c[g]=!1,l.pop()}}return u},vt=function(t,e){for(var n=L(t,e),r=[],i=n.length,o=0;o<i;o+=1){r[o]=[];for(var s=0;s<i;s+=1)o===s?r[o][s]=0:0!==n[o][s]&&n[o][s]?r[o][s]=n[o][s]:r[o][s]=1/0}for(var a=0;a<i;a+=1)for(o=0;o<i;o+=1)for(s=0;s<i;s+=1)r[o][s]>r[o][a]+r[a][s]&&(r[o][s]=r[o][a]+r[a][s]);return r},bt=vt,yt=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var i=t.nodes,o=void 0===i?[]:i,s=t.edges,a=void 0===s?[]:s,c={},l={};o.forEach((function(t,e){var n=$();t.clusterId=n,c[n]={id:n,nodes:[t]},l[t.id]={node:t,idx:e}}));var u=L(t,e),d=[],h={};u.forEach((function(t,e){var n=0,r=o[e].id;h[r]={},t.forEach((function(t,e){if(t){n+=t;var i=o[e].id;h[r][i]=t}})),d.push(n)}));var f=0,p=function(){var t=!1;if(o.forEach((function(e){var n={};Object.keys(h[e.id]).forEach((function(t){var r=h[e.id][t],i=l[t].node,o=i.clusterId;n[o]||(n[o]=0),n[o]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(t){r<n[t]?(r=n[t],i=[t]):r===n[t]&&i.push(t)})),1!==i.length||i[0]!==e.clusterId){var o=i.indexOf(e.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){t=!0;var s=c[e.clusterId],a=s.nodes.indexOf(e);s.nodes.splice(a,1);var u=Math.floor(Math.random()*i.length),d=c[i[u]];d.nodes.push(e),e.clusterId=d.id}}})),!t)return"break";f++};while(f<r){var g=p();if("break"===g)break}Object.keys(c).forEach((function(t){var e=c[t];e.nodes&&e.nodes.length||delete c[t]}));var m=[],v={};a.forEach((function(t){var e=t.source,r=t.target,i=t[n]||1,o=l[e].node.clusterId,s=l[r].node.clusterId,a="".concat(o,"---").concat(s);if(v[a])v[a].weight+=i,v[a].count++;else{var c={source:o,target:s,weight:i,count:1};v[a]=c,m.push(c)}}));var b=[];return Object.keys(c).forEach((function(t){b.push(c[t])})),{clusters:b,clusterEdges:m}},kt=yt,wt=function(){function t(t){this.arr=t}return t.prototype.getArr=function(){return this.arr||[]},t.prototype.add=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null===r||void 0===r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new t(i)}},t.prototype.subtract=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null===r||void 0===r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new t(i)}},t.prototype.avg=function(e){var n=[];if(0!==e)for(var r in this.arr)n[r]=this.arr[r]/e;return new t(n)},t.prototype.negate=function(){var e=[];for(var n in this.arr)e[n]=-this.arr[n];return new t(e)},t.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return r}},t.prototype.euclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},t.prototype.normalize=function(){var e=[],n=(0,k.clone)(this.arr);n.sort((function(t,e){return t-e}));var r=n[n.length-1],i=n[0];for(var o in this.arr)e[o]=(this.arr[o]-i)/(r-i);return new t(e)},t.prototype.norm2=function(){var t;if(!(null===(t=this.arr)||void 0===t?void 0:t.length))return 0;var e=0;for(var n in this.arr)e+=Math.pow(this.arr[n],2);return Math.sqrt(e)},t.prototype.dot=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*t.arr[i];return r}console.error("The two vectors are unequal in length.")},t.prototype.equal=function(t){var e,n=t.arr;if((null===(e=this.arr)||void 0===e?void 0:e.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},t}(),_t=wt,At=function(t,e){void 0===e&&(e=void 0);var n=[];return t.forEach((function(t){void 0===e&&n.push(t),void 0!==t[e]&&n.push(t[e])})),n};(function(t){t["EuclideanDistance"]="euclideanDistance"})(pt||(pt={}));var Ct=function(t,e,n){var r=[];(null===e||void 0===e?void 0:e.length)?r=e:(t.forEach((function(t){r=r.concat(Object.keys(t))})),r=(0,k.uniq)(r));var i={};return r.forEach((function(e){var r=[];t.forEach((function(t){void 0!==t[e]&&""!==t[e]&&r.push(t[e])})),r.length&&!(null===n||void 0===n?void 0:n.includes(e))&&(i[e]=(0,k.uniq)(r))})),i},xt=function(t,e,n){var r=Ct(t,e,n),i=[];if(!Object.keys(r).length)return i;var o=Object.values(r),s=o.every((function(t){return t.every((function(t){return"number"===typeof t}))}));return t.forEach((function(t,e){var n=[];Object.keys(r).forEach((function(e){var i=t[e],o=r[e],a=o.findIndex((function(t){return i===t})),c=[];if(s)c.push(i);else for(var l=0;l<o.length;l++)l===a?c.push(1):c.push(0);n=n.concat(c)})),i[e]=n})),i},Et=function(t,e,n,r){void 0===n&&(n=pt.EuclideanDistance);var i=0;switch(n){case pt.EuclideanDistance:i=new _t(t).euclideanDistance(new _t(e));break;default:break}return i},St=function(t,e,n,r){for(var i=e.length,o=2*r,s=0,a=0;a<i;a++)for(var c=t[a].clusterId,l=0;l<i;l++){var u=t[l].clusterId;if(c===u){var d=e[a][l]||0,h=n[a]||0,f=n[l]||0;s+=d-h*f/o}}return s*=1/o,s},Mt=function(t,e){void 0===t&&(t=[]);for(var n=t.length,r=new _t([]),i=0;i<n;i++)r=r.add(new _t(e[i]));var o=r.avg(n);o.normalize();var s=0;for(i=0;i<n;i++){var a=new _t(e[i]),c=a.squareEuclideanDistance(o);s+=c}var l=[];t.forEach((function(){l.push([])}));for(i=0;i<n;i++){a=new _t(e[i]);t[i]["clusterInertial"]=0;for(var u=0;u<n;u++)if(i!==u){var d=new _t(e[u]);l[i][u]=a.squareEuclideanDistance(d),t[i]["clusterInertial"]+=l[i][u]}else l[i][u]=0}var h=0,f=2*n*s;for(i=0;i<n;i++){var p=t[i].clusterId;for(u=0;u<n;u++){var g=t[u].clusterId;if(i!==u&&p===g){var m=t[i].clusterInertial*t[u].clusterInertial/Math.pow(f,2)-l[i][u]/f;h+=m}}}return Number(h.toFixed(4))},It=function(t,e,n,r,i,o,s,a,c){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===s&&(s=[]),void 0===a&&(a=["id"]),void 0===c&&(c=1);var l=t.nodes,u=void 0===l?[]:l,d=t.edges,h=void 0===d?[]:d,f=[];if(i){u.forEach((function(t,e){t.properties=t.properties||{},t.originIndex=e}));var p=[];u.every((function(t){return t.hasOwnProperty("nodeType")}))&&(p=Array.from(new Set(u.map((function(t){return t.nodeType})))),u.forEach((function(t){t.properties.nodeType=p.findIndex((function(e){return e===t.nodeType}))})));var g=At(u,o);f=xt(g,s,a)}var m=1,v={},b={};u.forEach((function(t,e){var n=String(m++);t.clusterId=n,v[n]={id:n,nodes:[t]},b[t.id]={node:t,idx:e}}));var y=L(t,e),w=[],_={},A=0;y.forEach((function(t,e){var n=0,r=u[e].id;_[r]={},t.forEach((function(t,e){if(t){n+=t;var i=u[e].id;_[r][i]=t,A+=t}})),w.push(n)})),A/=2;var C=1/0,x=1/0,E=0,S=[],M={};while(1){C=i&&u.every((function(t){return t.hasOwnProperty("properties")}))?St(u,y,w,A)+Mt(u,f)*c:St(u,y,w,A),0===E&&(x=C,S=u,M=v);var I=C>0&&C>x&&C-x<r;if(C>x&&(S=u.map((function(t){return{node:t,clusterId:t.clusterId}})),M=(0,k.clone)(v),x=C),I||E>100)break;E++,Object.keys(v).forEach((function(t){var e=0;h.forEach((function(r){var i=r.source,o=r.target,s=b[i].node.clusterId,a=b[o].node.clusterId;(s===t&&a!==t||a===t&&s!==t)&&(e+=r[n]||1)})),v[t].sumTot=e})),u.forEach((function(t,e){var r,o=v[t.clusterId],s=0,a=w[e]/(2*A),l=0,u=o.nodes;u.forEach((function(t){var n=b[t.id].idx;l+=y[e][n]||0}));var d=l-o.sumTot*a,p=u.filter((function(e){return e.id!==t.id})),g=[];p.forEach((function(t,e){g[e]=f[t.originIndex]}));var m=Mt(p,f)*c,k=_[t.id];if(Object.keys(k).forEach((function(n){var o=b[n].node,l=o.clusterId;if(l!==t.clusterId){var u=v[l],h=u.nodes;if(h&&h.length){var p=0;h.forEach((function(t){var n=b[t.id].idx;p+=y[e][n]||0}));var g=p-u.sumTot*a,k=h.concat([t]),w=[];k.forEach((function(t,e){w[e]=f[t.originIndex]}));var _=Mt(k,f)*c,A=g-d;i&&(A=g+_-(d+m)),A>s&&(s=A,r=u)}}})),s>0){r.nodes.push(t);var C=t.clusterId;t.clusterId=r.id;var x=o.nodes.indexOf(t);o.nodes.splice(x,1);var E=0,S=0;h.forEach((function(t){var e=t.source,i=t.target,o=b[e].node.clusterId,s=b[i].node.clusterId;(o===r.id&&s!==r.id||s===r.id&&o!==r.id)&&(E+=t[n]||1),(o===C&&s!==C||s===C&&o!==C)&&(S+=t[n]||1)})),r.sumTot=E,o.sumTot=S}}))}var D={},T=0;Object.keys(M).forEach((function(t){var e=M[t];if(e.nodes&&e.nodes.length){var n=String(T+1);n!==t&&(e.id=n,e.nodes=e.nodes.map((function(t){return{id:t.id,clusterId:n}})),M[n]=e,D[t]=n,delete M[t],T++)}else delete M[t]})),S.forEach((function(t){var e=t.node,n=t.clusterId;e&&(e.clusterId=n,e.clusterId&&D[e.clusterId]&&(e.clusterId=D[e.clusterId]))}));var O=[],N={};h.forEach((function(t){var e=t.source,r=t.target,i=t[n]||1,o=b[e].node.clusterId,s=b[r].node.clusterId;if(o&&s){var a="".concat(o,"---").concat(s);if(N[a])N[a].weight+=i,N[a].count++;else{var c={source:o,target:s,weight:i,count:1};N[a]=c,O.push(c)}}}));var P=[];return Object.keys(M).forEach((function(t){P.push(M[t])})),{clusters:P,clusterEdges:O}},Dt=It,Tt=function(t,e,n,r,i,o,s,a){return void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=void 0),void 0===o&&(o=[]),void 0===s&&(s=["id"]),void 0===a&&(a=1),Dt(t,e,n,r,!0,i,o,s,a)},Ot=Tt,Nt=function(t,e){var n;void 0===e&&(e=1);var r=(0,k.clone)(t),i=r.nodes,o=void 0===i?[]:i,s=r.edges,a=void 0===s?[]:s,c=function(){var t=J({nodes:o,edges:a}),r=Object.keys(t);r.sort((function(e,n){var r,i;return(null===(r=t[e])||void 0===r?void 0:r.degree)-(null===(i=t[n])||void 0===i?void 0:i.degree)}));var i=r[0];if(!o.length||(null===(n=t[i])||void 0===n?void 0:n.degree)>=e)return"break";var s=o.findIndex((function(t){return t.id===i}));o.splice(s,1),a=a.filter((function(t){return!(t.source===i||t.target===i)}))};while(1){var l=c();if("break"===l)break}return{nodes:o,edges:a}},Pt=Nt,Lt=function(t,e,n){var r=[];switch(t){case pt.EuclideanDistance:r=e[n];break;default:r=[];break}return r},Bt=function(t,e,n,r,i,o){void 0===e&&(e=3),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=["id"]),void 0===o&&(o=pt.EuclideanDistance);var s=t.nodes,a=void 0===s?[]:s,c=t.edges,l=void 0===c?[]:c,u={clusters:[{id:"0",nodes:a}],clusterEdges:[]};if(o===pt.EuclideanDistance&&!a.every((function(t){return t.hasOwnProperty(n)})))return u;var d=[],h=[];if(o===pt.EuclideanDistance&&(d=At(a,n),h=xt(d,r,i)),!h.length)return u;for(var f=(0,k.uniq)(h.map((function(t){return t.join("")}))),p=Math.min(e,a.length,f.length),g=0;g<a.length;g++)a[g].originIndex=g;var m=[],v=[],b=[];for(g=0;g<p;g++)if(0===g){var y=Math.floor(Math.random()*a.length);switch(o){case pt.EuclideanDistance:m[g]=h[y];break;default:m[g]=[];break}v.push(y),b[g]=[a[y]],a[y].clusterId=String(g)}else{for(var w=-1/0,_=0,A=function(t){if(!v.includes(t)){for(var e=0,n=0;n<m.length;n++){var r=0;switch(o){case pt.EuclideanDistance:r=Et(h[a[t].originIndex],m[n],o);break;default:break}e+=r}var i=e/m.length;i>w&&!m.find((function(e){return(0,k.isEqual)(e,Lt(o,h,a[t].originIndex))}))&&(w=i,_=t)}},C=0;C<a.length;C++)A(C);m[g]=Lt(o,h,_),v.push(_),b[g]=[a[_]],a[_].clusterId=String(g)}var x=0;while(1){for(g=0;g<a.length;g++){var E=0,S=1/0;if(0!==x||!v.includes(g)){for(var M=0;M<m.length;M++){var I=0;switch(o){case pt.EuclideanDistance:I=Et(h[g],m[M],o);break;default:break}I<S&&(S=I,E=M)}if(void 0!==a[g].clusterId)for(var D=b[Number(a[g].clusterId)].length-1;D>=0;D--)b[Number(a[g].clusterId)][D].id===a[g].id&&b[Number(a[g].clusterId)].splice(D,1);a[g].clusterId=String(E),b[E].push(a[g])}}var T=!1;for(g=0;g<b.length;g++){var O=b[g],N=new _t([]);for(M=0;M<O.length;M++)N=N.add(new _t(h[O[M].originIndex]));var P=N.avg(O.length);P.equal(new _t(m[g]))||(T=!0,m[g]=P.getArr())}if(x++,a.every((function(t){return void 0!==t.clusterId}))&&T||x>=1e3)break}var L=[],B={};return l.forEach((function(t){var e,n,r=t.source,i=t.target,o=null===(e=a.find((function(t){return t.id===r})))||void 0===e?void 0:e.clusterId,s=null===(n=a.find((function(t){return t.id===i})))||void 0===n?void 0:n.clusterId,c="".concat(o,"---").concat(s);if(B[c])B[c].count++;else{var l={source:o,target:s,count:1};B[c]=l,L.push(l)}})),{clusters:b,clusterEdges:L}},Rt=Bt,jt=function(t,e){var n=new _t(e),r=n.norm2(),i=new _t(t),o=i.norm2(),s=n.dot(i),a=r*o,c=a?s/a:0;return c},zt=jt,Ft=function(t,e,n,r,i){void 0===t&&(t=[]),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=[]);var o=(0,k.clone)(t.filter((function(t){return t.id!==e.id}))),s=t.findIndex((function(t){return t.id===e.id})),a=At(t,n),c=xt(a,r,i),l=c[s],u=[];return o.forEach((function(t,n){if(t.id!==e.id){var r=c[n],i=zt(r,l);u.push(i),t.cosineSimilarity=i}})),o.sort((function(t,e){return e.cosineSimilarity-t.cosineSimilarity})),{allCosineSimilarity:u,similarNodes:o}},Vt=Ft,Ut=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var r=n[e];this.parent[r]=r}}return t.prototype.find=function(t){while(this.parent[t]!==t)t=this.parent[t];return t},t.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}(),Gt=Ut,Ht=function(t,e){return t-e},$t=function(){function t(t){void 0===t&&(t=Ht),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){var e=this.getParent(t);while(t&&t>0&&this.compareFn(this.list[e],this.list[t])>0){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,n=t,r=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},t}(),Wt=$t,Yt=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges,s=void 0===o?[]:o;if(0===i.length)return n;var a=i[0],c=new Set;c.add(a);var l=function(t,n){return e?t.weight-n.weight:0},u=new Wt(l);H(a.id,s).forEach((function(t){u.insert(t)}));while(!u.isEmpty()){var d=u.delMin(),h=d.source,f=d.target;c.has(h)&&c.has(f)||(n.push(d),c.has(h)||(c.add(h),H(h,s).forEach((function(t){u.insert(t)}))),c.has(f)||(c.add(f),H(f,s).forEach((function(t){u.insert(t)}))))}return n},qt=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges,s=void 0===o?[]:o;if(0===i.length)return n;var a=s.map((function(t){return t}));e&&a.sort((function(t,e){return t.weight-e.weight}));var c=new Gt(i.map((function(t){return t.id})));while(a.length>0){var l=a.shift(),u=l.source,d=l.target;c.connected(u,d)||(n.push(l),c.union(u,d))}return n},Xt=function(t,e,n){var r={prim:Yt,kruskal:qt};return n?r[n](t,e):qt(t,e)},Kt=Xt,Zt=function(t,e,n){"number"!==typeof e&&(e=1e-6),"number"!==typeof n&&(n=.85);for(var r,i=1,o=0,s=1e3,a=t.nodes,c=void 0===a?[]:a,l=t.edges,u=void 0===l?[]:l,d=c.length,h={},f={},p=0;p<d;++p){var g=c[p],m=g.id;h[m]=1/d,f[m]=1/d}var v=J(t);while(s>0&&i>e){o=0;for(p=0;p<d;++p){g=c[p],m=g.id;if(r=0,0===v[g.id].inDegree)h[m]=0;else{for(var b=U(m,u,"source"),y=0;y<b.length;++y){var k=b[y],w=v[k].outDegree;w>0&&(r+=f[k]/w)}h[m]=n*r,o+=h[m]}}o=(1-o)/d,i=0;for(p=0;p<d;++p){g=c[p],m=g.id;r=h[m]+o,i+=Math.abs(r-f[m]),f[m]=r}s-=1}return f},Qt=Zt,Jt=-1,te=-1,ee="-1",ne="-1",re=-1,ie=function(){function t(t,e,n,r){void 0===t&&(t=Jt),void 0===e&&(e=te),void 0===n&&(n=te),void 0===r&&(r=ee),this.id=t,this.from=e,this.to=n,this.label=r}return t}(),oe=function(){function t(t,e){void 0===t&&(t=te),void 0===e&&(e=ne),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return t.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},t}(),se=function(){function t(t,e,n){void 0===t&&(t=te),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return t.prototype.getNodeNum=function(){return this.nodes.length},t.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new oe(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},t.prototype.addEdge=function(t,e,n,r){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var i=new ie(t,e,n,r);if(this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[e].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new ie(t,n,e,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},t}(),ae=function(){function t(t,e,n,r,i){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||ne,edgeLabel:r||ee,nodeLabel2:i||ne}}return t.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t}(),ce=function(){function t(){this.rmpath=[],this.dfsEdgeList=[]}return t.prototype.equalTo=function(t){var e=this.dfsEdgeList.length,n=t.length;if(e!==n)return!1;for(var r=0;r<e;r++)if(this.dfsEdgeList[r]!==t[r])return!1;return!0},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t.prototype.pushBack=function(t,e,n,r,i){return this.dfsEdgeList.push(new ae(t,e,n,r,i)),this.dfsEdgeList},t.prototype.toGraph=function(t,e){void 0===t&&(t=re),void 0===e&&(e=!1);var n=new se(t,!0,e);return this.dfsEdgeList.forEach((function(t){var e=t.fromNode,r=t.toNode,i=t.nodeEdgeNodeLabel,o=i.nodeLabel1,s=i.edgeLabel,a=i.nodeLabel2;o!==ne&&n.addNode(e,o),a!==ne&&n.addNode(r,a),o!==ne&&a!==o&&n.addEdge(void 0,e,r,s)})),n},t.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length,n=e-1;n>=0;n--){var r=this.dfsEdgeList[n],i=r.fromNode,o=r.toNode;i<o&&(void 0===t||o===t)&&(this.rmpath.push(n),t=i)}return this.rmpath},t.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach((function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)})),Object.keys(t).length},t}(),le=function(){function t(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){while(t){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return t.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},t.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},t}(),ue=function(){function t(t){var e=t.graphs,n=t.minSupport,r=void 0===n?2:n,i=t.minNodeNum,o=void 0===i?1:i,s=t.maxNodeNum,a=void 0===s?4:s,c=t.top,l=void 0===c?10:c,u=t.directed,d=void 0!==u&&u,h=t.verbose,f=void 0!==h&&h;this.graphs=e,this.dfsCode=new ce,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=l,this.directed=d,this.counter=0,this.maxNodeNum=a,this.minNodeNum=o,this.verbose=f,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return t.prototype.findForwardRootEdges=function(t,e){var n=this,r=[],i=t.nodeMap;return e.edges.forEach((function(t){(n.directed||e.label<=i[t.to].label)&&r.push(t)})),r},t.prototype.findBackwardEdge=function(t,e,n,r){if(!this.directed&&e===n)return null;for(var i=t.nodeMap,o=i[n.to],s=o.edges,a=s.length,c=0;c<a;c++){var l=s[c];if(!r.hasEdge(l)&&l.to===e.from)if(this.directed){if(i[e.from].label<i[n.to].label||i[e.from].label===i[n.to].label&&e.label<=l.label)return l}else if(e.label<l.label||e.label===l.label&&i[e.to].label<=i[n.to].label)return l}return null},t.prototype.findForwardPureEdges=function(t,e,n,r){for(var i=[],o=e.to,s=t.nodeMap[o].edges,a=s.length,c=0;c<a;c++){var l=s[c],u=t.nodeMap[l.to];n<=u.label&&!r.hasNode(u)&&i.push(l)}return i},t.prototype.findForwardRmpathEdges=function(t,e,n,r){for(var i=[],o=t.nodeMap,s=o[e.to].label,a=o[e.from],c=a.edges,l=c.length,u=0;u<l;u++){var d=c[u],h=o[d.to].label;e.to===d.to||n>h||r.hasNode(o[d.to])||(e.label<d.label||e.label===d.label&&s<=h)&&i.push(d)}return i},t.prototype.getSupport=function(t){var e={};return t.forEach((function(t){e[t.graphId]||(e[t.graphId]=!0)})),Object.keys(e).length},t.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach((function(n){var r=t[n],i=r.nodeLabel1,o=r.edgeLabel,s=r.nodeLabel2;e?(i<e.nodeLabel1||i===e.nodeLabel1&&o<e.edgeLabel||i===e.nodeLabel1&&o===e.edgeLabel&&s<e.nodeLabel2)&&(e={nodeLabel1:i,edgeLabel:o,nodeLabel2:s}):e={nodeLabel1:i,edgeLabel:o,nodeLabel2:s}})),e},t.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose&&console.log("isMin checking",e),1===e.dfsEdgeList.length)return!0;var n=this.directed,r=e.toGraph(re,n),i=r.nodeMap,o=new ce,s={};r.nodes.forEach((function(e){var n=t.findForwardRootEdges(r,e);n.forEach((function(t){var n=i[t.to],o="".concat(e.label,"-").concat(t.label,"-").concat(n.label);s[o]||(s[o]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:n.label});var a={graphId:r.id,edge:t,preNode:null};s[o].projected.push(a)}))}));var a=this.findMinLabel(s);if(a){o.dfsEdgeList.push(new ae(0,1,a.nodeLabel1,a.edgeLabel,a.nodeLabel2));var c=function s(a){for(var c=o.buildRmpath(),l=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,u=o.dfsEdgeList[c[0]].toNode,d={},h=!1,f=0,p=n?-1:0,g=function(e){if(h)return"break";a.forEach((function(n){var i=new le(n),s=t.findBackwardEdge(r,i.edges[c[e]],i.edges[c[0]],i);s&&(d[s.label]||(d[s.label]={projected:[],edgeLabel:s.label}),d[s.label].projected.push({graphId:r.id,edge:d,preNode:n}),f=o.dfsEdgeList[c[e]].fromNode,h=!0)}))},m=c.length-1;m>p;m--){var v=g(m);if("break"===v)break}if(h){var b=t.findMinLabel(d);o.dfsEdgeList.push(new ae(u,f,ne,b.edgeLabel,ne));var y=o.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[y]===o.dfsEdgeList[y]&&s(d[b.edgeLabel].projected)}var k={};h=!1;var w=0;a.forEach((function(e){var n=new le(e),o=t.findForwardPureEdges(r,n.edges[c[0]],l,n);o.length>0&&(h=!0,w=u,o.forEach((function(t){var n="".concat(t.label,"-").concat(i[t.to].label);k[n]||(k[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),k[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}));var _=c.length,A=function(e){if(h)return"break";var n=c[e];a.forEach((function(e){var s=new le(e),a=t.findForwardRmpathEdges(r,s.edges[n],l,s);a.length>0&&(h=!0,w=o.dfsEdgeList[n].fromNode,a.forEach((function(t){var n="".concat(t.label,"-").concat(i[t.to].label);k[n]||(k[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),k[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}))};for(m=0;m<_;m++){var C=A(m);if("break"===C)break}if(!h)return!0;var x=t.findMinLabel(k);o.dfsEdgeList.push(new ae(w,u+1,ne,x.edgeLabel,x.nodeLabel2));var E=o.dfsEdgeList.length-1;return e.dfsEdgeList[E]===o.dfsEdgeList[E]&&s(k["".concat(x.edgeLabel,"-").concat(x.nodeLabel2)].projected)},l="".concat(a.nodeLabel1,"-").concat(a.edgeLabel,"-").concat(a.nodeLabel2);return c(s[l].projected)}},t.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,k.clone)(t))}},t.prototype.subGraphMining=function(t){var e=this,n=this.getSupport(t);if(!(n<this.minSupport)&&this.isMin()){this.report();var r=this.dfsCode.getNodeNum(),i=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[i[0]].toNode,s=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},c={};t.forEach((function(t){for(var n=e.graphs[t.graphId],l=n.nodeMap,u=new le(t),d=i.length-1;d>=0;d--){var h=e.findBackwardEdge(n,u.edges[i[d]],u.edges[i[0]],u);if(h){var f="".concat(e.dfsCode.dfsEdgeList[i[d]].fromNode,"-").concat(h.label);c[f]||(c[f]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[i[d]].fromNode,edgeLabel:h.label}),c[f].projected.push({graphId:t.graphId,edge:h,preNode:t})}}if(!(r>=e.maxNodeNum)){var p=e.findForwardPureEdges(n,u.edges[i[0]],s,u);p.forEach((function(e){var n="".concat(o,"-").concat(e.label,"-").concat(l[e.to].label);a[n]||(a[n]={projected:[],fromNodeId:o,edgeLabel:e.label,nodeLabel2:l[e.to].label}),a[n].projected.push({graphId:t.graphId,edge:e,preNode:t})}));var g=function(r){var o=e.findForwardRmpathEdges(n,u.edges[i[r]],s,u);o.forEach((function(n){var o="".concat(e.dfsCode.dfsEdgeList[i[r]].fromNode,"-").concat(n.label,"-").concat(l[n.to].label);a[o]||(a[o]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[i[r]].fromNode,edgeLabel:n.label,nodeLabel2:l[n.to].label}),a[o].projected.push({graphId:t.graphId,edge:n,preNode:t})}))};for(d=0;d<i.length;d++)g(d)}})),Object.keys(c).forEach((function(t){var n=c[t],r=n.toNodeId,i=n.edgeLabel;e.dfsCode.dfsEdgeList.push(new ae(o,r,"-1",i,"-1")),e.subGraphMining(c[t].projected),e.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(t){var n=a[t],r=n.fromNodeId,i=n.edgeLabel,s=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new ae(r,o+1,ne,i,s)),e.subGraphMining(a[t].projected),e.dfsCode.dfsEdgeList.pop()}))}},t.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},s={},a={};return Object.keys(t).forEach((function(n){var r=t[n],c=r.nodeMap;r.nodes.forEach((function(t,r){var l=t.label,u="".concat(n,"-").concat(l);if(!s[u]){var d=i[l]||0;d++,i[l]=d}s[u]={graphKey:n,label:l},t.edges.forEach((function(t){var r=l,i=c[t.to].label;if(!e&&r>i){var s=i;i=r,r=s}var u=t.label,d="".concat(n,"-").concat(r,"-").concat(u,"-").concat(i),h="".concat(r,"-").concat(u,"-").concat(i);if(!o[h]){var f=o[h]||0;f++,o[h]=f}a[d]={graphId:n,nodeLabel1:r,edgeLabel:u,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(t){var e=i[t];if(!(e<n)){var o={nodes:[],edges:[]};o.nodes.push({id:"0",label:t}),r.push(o)}})),r},t.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs,n=(this.directed,{});Object.keys(e).forEach((function(r){var i=e[r],o=i.nodeMap;i.nodes.forEach((function(e){var s=t.findForwardRootEdges(i,e);s.forEach((function(t){var i=o[t.to],s="".concat(e.label,"-").concat(t.label,"-").concat(i.label);n[s]||(n[s]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:i.label});var a={graphId:r,edge:t,preNode:null};n[s].projected.push(a)}))}))})),Object.keys(n).forEach((function(e){var r=n[e],i=r.projected,o=r.nodeLabel1,s=r.edgeLabel,a=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new ae(0,1,o,s,a)),t.subGraphMining(i),t.dfsCode.dfsEdgeList.pop()}))}},t}(),de=function(t,e,n,r){var i={};return Object.keys(t).forEach((function(o,s){var a=t[o],c=new se(s,!0,e),l={};a.nodes.forEach((function(t,e){c.addNode(e,t[n]),l[t.id]=e})),a.edges.forEach((function(t,e){var n=l[t.source],i=l[t.target];c.addEdge(-1,n,i,t[r])})),c&&c.getNodeNum()&&(i[c.id]=c)})),i},he=function(t,e,n){var r=[];return t.forEach((function(t){var i={nodes:[],edges:[]};t.nodes.forEach((function(t){var n;i.nodes.push((n={id:"".concat(t.id)},n[e]=t.label,n))})),t.edges.forEach((function(t){var e;i.edges.push((e={source:"".concat(t.from),target:"".concat(t.to)},e[n]=t.label,e))})),r.push(i)})),r},fe="cluster",pe=function(t){var e=t.graphs,n=t.directed,r=void 0!==n&&n,i=t.nodeLabelProp,o=void 0===i?fe:i,s=t.edgeLabelProp,a=void 0===s?fe:s,c=de(e,r,o,a),l=t.minSupport,u=t.maxNodeNum,d=t.minNodeNum,h=t.verbose,f=t.top,p={graphs:c,minSupport:l,maxNodeNum:u,minNodeNum:d,top:f,verbose:h,directed:r},g=new ue(p);g.run();var m=he(g.frequentSubgraphs,o,a);return m},ge=pe,me=function(t,e,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=t.nodes;return e.forEach((function(t,e){i.push(ve(o,t,e,n,r))})),i},ve=function(t,e,n,r,i){var o=[n],s=[],a={};return e.forEach((function(e,c){if(e<=i&&n!==c){o.push(c),s.push(t[c]);var l=t[c][r];a[l]?(a[l].count++,a[l].dists.push(e)):a[l]={count:1,dists:[e]}}})),Object.keys(a).forEach((function(t){a[t].dists=a[t].dists.sort((function(t,e){return t-e}))})),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:s,neighborNum:o.length-1,nodeLabelCountMap:a}},be=function(t,e,n,r,i){var o=Math.ceil(n/e),s={},a=0;return r.forEach((function(t,r){var c=0,l=0,u=t.nodeIdxs,d=t.neighborNum-1;while(c<o){var h=u[1+Math.floor(Math.random()*d)],f=0;while(s["".concat(r,"-").concat(h)]||s["".concat(h,"-").concat(r)])if(h=Math.floor(Math.random()*e),f++,f>2*e)break;if(f<2*e&&(s["".concat(r,"-").concat(h)]={start:r,end:h,distance:i[r][h]},c++,a++,a>=n))return s;if(l++,l>2*e)break}if(c<o){var p=o-c;o=(o+p)/(e-r-1)}})),s},ye=function(t,e,n,r){var i=n.nodes;return r||(r={}),Object.keys(t).forEach((function(o){var s,a;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var c=t[o],l=null===(s=e[c.start])||void 0===s?void 0:s.nodeIdxs,u=null===(a=e[c.end])||void 0===a?void 0:a.nodeIdxs;if(l&&u){var d=new Set(u),h=l.filter((function(t){return d.has(t)}));if(h&&h.length){for(var f={},p=h.length,g=0;g<p;g++){var m=i[h[g]];r[o].nodes.push(m),f[m.id]=!0}n.edges.forEach((function(t){f[t.source]&&f[t.target]&&r[o].edges.push(t)}))}}}})),r},ke=function(t,e,n,r){var i,o,s={};t.nodes.forEach((function(t){s[t.id]=t}));var a=0;return!(null===(i=null===e||void 0===e?void 0:e.edges)||void 0===i?void 0:i.length)||(null===(o=null===e||void 0===e?void 0:e.nodes)||void 0===o?void 0:o.length)<2?0:(t.edges.forEach((function(t){var i=s[t.source][n],o=s[t.target][n],c=null===e||void 0===e?void 0:e.nodes[0][n],l=null===e||void 0===e?void 0:e.nodes[1][n],u=null===e||void 0===e?void 0:e.edges[0][r];t[r]===u&&(i===c&&o===l||i===l&&o===c)&&a++})),a)},we=function(t,e,n){for(var r=1/0,i=0,o=function(e){var n=t[e],o=Object.keys(n).sort((function(t,e){return n[t]-n[e]})),s=10,a=[];o.forEach((function(t,e){a[e%s]||(a[e%s]={graphs:[],totalCount:0,aveCount:0}),a[e%s].graphs.push(t),a[e%s].totalCount+=n[t]}));var c=0,l=[];a.forEach((function(t){var e=t.totalCount/t.graphs.length;t.aveCount=e,l.push(e);var r=0,i=t.length;t.graphs.forEach((function(e,i){var o=n[e];t.graphs.forEach((function(t,e){i!==e&&(r+=Math.abs(o-n[t]))}))})),r/=i*(i-1)/2,c+=r})),c/=a.length;var u=0;l.forEach((function(t,e){l.forEach((function(n,r){e!==r&&(u+=Math.abs(t-n))})),u/=l.length*(l.length-1)/2}));var d=u-c;r<d&&(r=d,i=e)},s=0;s<e;s++)o(s);return{structure:n[i],structureCountMap:t[i]}},_e=function(t,e){var n={},r={};return t.forEach((function(t,i){n[t.id]={idx:i,node:t,degree:0,inDegree:0,outDegree:0};var o=t[e];r[o]||(r[o]=[]),r[o].push(t)})),{nodeMap:n,nodeLabelMap:r}},Ae=function(t,e,n){var r={},i={};return t.forEach((function(t,o){r["".concat($)]={idx:o,edge:t};var s=t[e];i[s]||(i[s]=[]),i[s].push(t);var a=n[t.source];a&&(a.degree++,a.outDegree++);var c=n[t.target];c&&(c.degree++,c.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},Ce=function(t,e,n){var r=e.length,i={};return e.forEach((function(e,o){for(var s=n?0:o+1,a=t[o].id,c=s;c<r;c++)if(o!==c){var l=t[c].id,u=e[c];i["".concat(a,"-").concat(l)]=u,n||(i["".concat(l,"-").concat(a)]=u)}})),i},xe=function(t,e,n,r,i,o,s,a,c,l,u){var d,h="".concat(e.id,"-").concat(n.id);if(l&&l[h])return l[h];var f=u?u[h]:void 0;if(!f){var p=(d={},d[h]={start:r[e.id].idx,end:r[n.id].idx,distance:i},d);u=ye(p,o,t,u),f=u[h]}return ke(f,s,a,c)},Ee=function(t,e,n,r){var i,o,s,a=null===(i=t[e])||void 0===i?void 0:i.degree,c=null===(o=t[e])||void 0===o?void 0:o.inDegree,l=null===(s=t[e])||void 0===s?void 0:s.outDegree;return void 0===t[e]&&(a=1/0,c=1/0,l=1/0,r[e].forEach((function(t){var e=n[t.id].degree;a>e&&(a=e);var r=n[t.id].inDegree;c>r&&(c=r);var i=n[t.id].outDegree;l>i&&(l=i)})),t[e]={degree:a,inDegree:c,outDegree:l}),{minPatternNodeLabelDegree:a,minPatternNodeLabelInDegree:c,minPatternNodeLabelOutDegree:l}},Se=function(t,e,n,r,i,o,s){var a;if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===s&&(s="cluster"),t&&t.nodes){var c=t.nodes.length;if(c){var l=bt(t,n),u=bt(e,n),d=Ce(t.nodes,l,n),h=Ce(e.nodes,u,n),f=_e(t.nodes,o),p=f.nodeMap,g=f.nodeLabelMap,m=_e(e.nodes,o),v=m.nodeMap,b=m.nodeLabelMap;Ae(t.edges,s,p);var k=Ae(e.edges,s,v).edgeLabelMap,w=[];null===u||void 0===u||u.forEach((function(t){w=w.concat(t)})),i||(i=Math.max.apply(Math,(0,y.__spreadArray)((0,y.__spreadArray)([],w,!1),[2],!1))),r||(r=i);var _=me(t,l,o,r),A=me(e,u,o,r),C=Math.min(100,c*(c-1)/2),x=be(r,c,C,_,l),E=ye(x,_,t),S=10,M=1,I=1,D=4,T={graphs:E,nodeLabelProp:o,edgeLabelProp:s,minSupport:M,minNodeNum:I,maxNodeNum:D,directed:n},O=ge(T).slice(0,S),N=O.length,P=[];O.forEach((function(t,e){P[e]={},Object.keys(E).forEach((function(n){var r=E[n],i=ke(r,t,o,s);P[e][n]=i}))}));var L=we(P,N,O),B=L.structure,R=L.structureCountMap,j=e.nodes[0],z=[],F=null===(a=e.nodes[0])||void 0===a?void 0:a[o],V=-1/0;e.nodes.forEach((function(t){var e=t[o],n=g[e];(null===n||void 0===n?void 0:n.length)>V&&(V=n.length,z=n,F=e,j=t)}));var U={},G={},H={},$={},W={},Y={};Object.keys(b).forEach((function(r,i){W[r]=[],n&&(Y[r]=[]);var a=-1/0,c=b[r],l={};c.forEach((function(t){var e=h["".concat(j.id,"-").concat(t.id)];if(e&&W[r].push(e),a<e&&(a=e),l["".concat(j.id,"-").concat(t.id)]={start:0,end:v[t.id].idx,distance:e},n){var i=h["".concat(t.id,"-").concat(j.id)];i&&Y[r].push(i)}})),W[r]=W[r].sort((function(t,e){return t-e})),n&&(Y[r]=Y[r].sort((function(t,e){return t-e}))),G=ye(l,A,e,G);var u=[];if(Object.keys(l).forEach((function(t){if(H[t])u.push(H[t]);else{var e=G[t];H[t]=ke(e,B,o,s),u.push(H[t])}})),u=u.sort((function(t,e){return e-t})),$["".concat(j.id,"-").concat(r)]=u,r!==F)for(var f=(null===z||void 0===z?void 0:z.length)||0,g=function(e){var n=z[e],i=_[p[n.id].idx],a=i.nodeLabelCountMap[r],c=b[r].length;if(!a||a.count<c)return z.splice(e,1),"continue";for(var l=!1,h=0;h<c;h++)if(a.dists[h]>W[r][h]){l=!0;break}if(l)return z.splice(e,1),"continue";var f={};i.neighbors.forEach((function(t){var e=d["".concat(n.id,"-").concat(t.id)];f["".concat(n.id,"-").concat(t.id)]={start:p[n.id].idx,end:p[t.id].idx,distance:e}})),E=ye(f,_,t,E);var g=[];Object.keys(f).forEach((function(t){if(R[t])g.push(R[t]);else{var e=E[t];R[t]=ke(e,B,o,s),g.push(R[t])}})),g=g.sort((function(t,e){return e-t}));var m=!1;for(h=0;h<c;h++)if(g[h]<u[h]){m=!0;break}return m?(z.splice(e,1),"continue"):void 0},m=f-1;m>=0;m--)g(m)}));var q=[];null===z||void 0===z||z.forEach((function(r){for(var a=p[r.id].idx,c=ve(t.nodes,l[a],a,o,i),u=c.neighbors,h=u.length,f=!1,g=h-1;g>=0;g--){if(u.length+1<e.nodes.length)return void(f=!0);var m=u[g],y=m[o];if(b[y]&&b[y].length)if(W[y]&&W[y].length){var k="".concat(r.id,"-").concat(m.id),w=d[k],A=W[y].length-1,C=W[y][A];if(w>C)u.splice(g,1);else{if(n){var x="".concat(m.id,"-").concat(r.id),S=d[x];A=Y[y].length-1;var M=Y[y][A];if(S>M){u.splice(g,1);continue}}var I=R[k]?R[k]:xe(t,r,m,p,w,_,B,o,s,R,E),D="".concat(j.id,"-").concat(y),T=$[D][$[D].length-1];if(I<T)u.splice(g,1);else{var O=Ee(U,y,v,b),N=O.minPatternNodeLabelDegree;O.minPatternNodeLabelInDegree,O.minPatternNodeLabelOutDegree;p[m.id].degree<N&&u.splice(g,1)}}}else u.splice(g,1);else u.splice(g,1)}f||q.push({nodes:[r].concat(u)})}));var X=ht(e,j.id,!1).length,K={};n?(Object.keys(X).forEach((function(t){var e=v[t].node[o];K[e]?K[e].push(X[t]):K[e]=[X[t]]})),Object.keys(K).forEach((function(t){K[t].sort((function(t,e){return t-e}))}))):K=W;for(var Z=q.length,Q=function(r){var i=q[r],a=i.nodes[0],c={},l={};i.nodes.forEach((function(t,e){l[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};var n=t[o];c[n]?c[n]++:c[n]=1}));var u=[],d={};t.edges.forEach((function(t){l[t.source]&&l[t.target]&&(u.push(t),d[t[s]]?d[t[s]]++:d[t[s]]=1,l[t.source].degree++,l[t.target].degree++,l[t.source].outDegree++,l[t.target].inDegree++)}));for(var h=Object.keys(k).length,f=!1,g=0;g<h;g++){var m=Object.keys(k)[g];if(!d[m]||d[m]<k[m].length){f=!0;break}}if(f)return q.splice(r,1),"continue";var y=u.length;if(y<e.edges.length)return q.splice(r,1),"break";var w=!1,_=function(t){var e=u[t],r=e[s],i=k[r];if(!i||!i.length)return d[r]--,i&&d[r]<i.length?(w=!0,"break"):(u.splice(t,1),l[e.source].degree--,l[e.target].degree--,l[e.source].outDegree--,l[e.target].inDegree--,"continue");var a=l[e.source].node[o],c=l[e.target].node[o],h=!1;return i.forEach((function(t){var e=v[t.source].node,r=v[t.target].node;e[o]===a&&r[o]===c&&(h=!0),n||e[o]!==c||r[o]!==a||(h=!0)})),h?void 0:(d[r]--,i&&d[r]<i.length?(w=!0,"break"):(u.splice(t,1),l[e.source].degree--,l[e.target].degree--,l[e.source].outDegree--,l[e.target].inDegree--,"continue"))};for(g=y-1;g>=0;g--){var A=_(g);if("break"===A)break}if(w)return q.splice(r,1),"continue";i.edges=u;var C=ht(i,i.nodes[0].id,!1).length;if(Object.keys(C).reverse().forEach((function(t){if(t!==i.nodes[0].id&&!w){if(C[t]===1/0){var e=l[t].node[o];if(c[e]--,c[e]<b[e].length)return void(w=!0);var n=i.nodes.indexOf(l[t].node);return i.nodes.splice(n,1),void(l[t]=void 0)}var r=p[t].node[o];if(!K[r]||!K[r].length||C[t]>K[r][K[r].length-1]){e=l[t].node[o];if(c[e]--,c[e]<b[e].length)return void(w=!0);n=i.nodes.indexOf(l[t].node);i.nodes.splice(n,1),l[t]=void 0}}})),w)return q.splice(r,1),"continue";var x=!0,E=0;while(x&&!w){x=!1;var S=n?l[a.id].degree<v[j.id].degree||l[a.id].inDegree<v[j.id].inDegree||l[a.id].outDegree<v[j.id].outDegree:l[a.id].degree<v[j.id].degree;if(S){w=!0;break}if(c[a[o]]<b[a[o]].length){w=!0;break}for(var M=i.nodes.length,I=M-1;I>=0;I--){var D=i.nodes[I],T=l[D.id].degree,O=l[D.id].inDegree,N=l[D.id].outDegree,P=D[o],L=Ee(U,P,v,b),B=L.minPatternNodeLabelDegree,R=L.minPatternNodeLabelInDegree,z=L.minPatternNodeLabelOutDegree,F=n?T<B||O<R||N<z:T<B;if(F){if(c[D[o]]--,c[D[o]]<b[D[o]].length){w=!0;break}i.nodes.splice(I,1),l[D.id]=void 0,x=!0}}if(w||!x&&0!==E)break;y=u.length;for(var V=y-1;V>=0;V--){var G=u[V];if(!l[G.source]||!l[G.target]){u.splice(V,1);var H=G[s];if(d[H]--,l[G.source]&&(l[G.source].degree--,l[G.source].outDegree--),l[G.target]&&(l[G.target].degree--,l[G.target].inDegree--),k[H]&&d[H]<k[H].length){w=!0;break}x=!0}}E++}return w||w||i.nodes.length<e.nodes.length||u.length<e.edges.length?(q.splice(r,1),"continue"):void 0},J=Z-1;J>=0;J--){var tt=Q(J);if("break"===tt)break}var et=q.length,nt=function(t){var e=q[t],n={};e.edges.forEach((function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);n[e]?n[e]++:n[e]=1}));for(var r=function(t){var e=q[t],r={};e.edges.forEach((function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);r[e]?r[e]++:r[e]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(t){r[t]!==n[t]&&(i=!1)})),i&&q.splice(t,1)},i=et-1;i>t;i--)r(i);et=q.length};for(J=0;J<=et-1;J++)nt(J);return q}}},Me=Se,Ie=function(){function t(t){void 0===t&&(t=10),this.linkedList=new z,this.maxStep=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},t.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},t.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},t.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toArray=function(){return this.linkedList.toArray().map((function(t){return t.value}))},t.prototype.clear=function(){while(!this.isEmpty())this.pop()},t}(),De=Ie,Te=lt,Oe={getAdjMatrix:L,breadthFirstSearch:q,connectedComponent:Z,getDegree:J,getInDegree:tt,getOutDegree:et,detectCycle:lt,detectDirectedCycle:Te,detectAllCycles:ct,detectAllDirectedCycle:at,detectAllUndirectedCycle:st,depthFirstSearch:it,dijkstra:ht,findAllPath:mt,findShortestPath:gt,floydWarshall:bt,labelPropagation:kt,louvain:Dt,iLouvain:Ot,kCore:Pt,kMeans:Rt,cosineSimilarity:zt,nodesCosineSimilarity:Vt,minimumSpanningTree:Kt,pageRank:Qt,getNeighbors:U,Stack:De,GADDI:Me},Ne=n(329),Pe=n(842),Le=N,Be=function(t){return function(e,n){return e[t]-n[t]}},Re=function(t,e,n){return t>=e&&t<=n},je=function(t,e,n,r){var i=1e-4,o={x:n.x-t.x,y:n.y-t.y},s={x:e.x-t.x,y:e.y-t.y},a={x:r.x-n.x,y:r.y-n.y},c=s.x*a.y-s.y*a.x,l=c*c,u=1/c,d=s.x*s.x+s.y*s.y,h=a.x*a.x+a.y*a.y;if(l>i*d*h){var f=(o.x*a.y-o.y*a.x)*u,p=(o.x*s.y-o.y*s.x)*u;return Re(f,0,1)&&Re(p,0,1)?{x:t.x+f*s.x,y:t.y+f*s.y}:null}return null},ze=function(t,e){var n=t.x,r=t.y,i=t.width,o=t.height,s=n+i/2,a=r+o/2,c=[],l={x:s,y:a};c.push({x:n,y:r}),c.push({x:n+i,y:r}),c.push({x:n+i,y:r+o}),c.push({x:n,y:r+o}),c.push({x:n,y:r});for(var u=null,d=1;d<c.length;d++)if(u=je(c[d-1],c[d],l,e),u)break;return u},Fe=function(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,s=e.y,a=o-n,c=s-r;if(a*a+c*c<i*i)return null;var l=Math.atan(c/a);return{x:n+Math.abs(i*Math.cos(l))*Math.sign(a),y:r+Math.abs(i*Math.sin(l))*Math.sign(c)}},Ve=function(t,e){var n=t.rx,r=t.ry,i=t.x,o=t.y,s=e.x-i,a=e.y-o,c=Math.atan2(a/r,s/n);return c<0&&(c+=2*Math.PI),{x:i+n*Math.cos(c),y:o+r*Math.sin(c)}},Ue=function(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]),Ne.transformMat3(r,r,e),{x:r[0],y:r[1]}},Ge=function(t,e,n){void 0===n&&(n=1),e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]);var r=M.invert([1,0,0,0,1,0,0,0,1],e);r||(r=[1,0,0,0,1,0,0,0,1]);var i=[t.x,t.y,n];return Ne.transformMat3(i,i,r),{x:i[0],y:i[1]}},He=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=t.x-n.x,s=t.y-n.y,a=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,c=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,l=i*o-r*s;return{x:-(s*a-i*c)/l,y:-(r*c-o*a)/l}},$e=function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},We=function(t,e){var n=[];return t.forEach((function(t){var r=[];t.forEach((function(t){r.push(t*e)})),n.push(r)})),n},Ye=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e},qe=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e;var n=[];i.push(n)})),r&&r.forEach((function(t){var n=t.source,r=t.target,s=o[n],a=o[r];i[s][a]=1,e||(i[a][s]=1)})),i},Xe=function(t,e){t.translate(e.x,e.y)},Ke=function(t,e,n,r){void 0===r&&(r={duration:500});var i=t.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var o=t.getCanvasBBox(),s=e.x-o.minX,a=e.y-o.minY;if(n){var c=s*i[0],l=a*i[4],u=0,d=0,h=0,f=0;t.animate((function(t){return h=c*t,f=l*t,i=Le(i,[["t",h-u,f-d]]),u=h,d=f,{matrix:i}}),r)}else{var p=Le(i,[["t",s,a]]);t.setMatrix(p)}},Ze=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=e;(0,k.isArray)(e)||(r=[e,e]),(0,k.isArray)(e)&&1===e.length&&(r=[e[0],e[0]]),n=Le(n,[["s",r[0],r[1]]]),t.setMatrix(n)},Qe=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=Le(n,[["r",e]]),t.setMatrix(n)},Je=function(t,e,n){for(var r=[],i=0;i<t;i++)r[i]=0;return n.forEach((function(t){t.source&&(r[e[t.source]]+=1),t.target&&(r[e[t.target]]+=1)})),r};function tn(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}var en=function(t,e,n){var r=!1,i=t.length,o=1e-6;function s(t){return Math.abs(t)<o?0:t<0?-1:1}if(i<=2)return!1;for(var a=0;a<i;a++){var c=t[a],l=t[(a+1)%i];if(tn(c,l,[e,n]))return!0;s(c[1]-n)>0!==s(l[1]-n)>0&&s(e-(n-c[1])*(c[0]-l[0])/(c[1]-l[1])-c[0])<0&&(r=!r)}return r},nn=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},rn=function(t,e){var n=!1;return(0,k.each)(t,(function(t){if(je(t.from,t.to,e.from,e.to))return n=!0,!1})),n},on=function(t,e){var n=function(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},r=function(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var s=t[0],a=t[n-1];e.push({from:{x:a[0],y:a[1]},to:{x:s[0],y:s[1]}})}return e};if(t.length<2||e.length<2)return!1;var i=n(t),o=n(e);if(!nn(i,o))return!1;var s=!1;if((0,k.each)(e,(function(e){if(en(t,e[0],e[1]))return s=!0,!1})),s)return!0;if((0,k.each)(t,(function(t){if(en(e,t[0],t[1]))return s=!0,!1})),s)return!0;var a=r(t),c=r(e),l=!1;return(0,k.each)(c,(function(t){if(rn(a,t))return l=!0,!1})),l},sn=function(){function t(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r}return t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2),i={x:t,y:e,minX:t,minY:e,maxX:n,maxY:r,width:n-t,height:r-e};return i},t}(),an=function(t,e){var n={top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]};return n[e]},cn=function(t,e){var n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),r=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),i=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(i){var o=n/i,s=r/i;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},ln=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=0,o=[],s=0;s<4;s++){var a=an(r,n[s]),c=a[0],l=a[1],u=a[2],d=a[3];o[s]=je({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:c,y:l},{x:u,y:d}),o[s]&&(i+=1)}return[o,i]},un=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var a=an(r,n[s]),c=a[0],l=a[1],u=a[2],d=a[3],h=cn(e,new sn(c,l,u,d));h=Math.abs(h-.5),h>=0&&h<=1&&(o+=1,i=h<i?h:i)}return 0===o?-1:i},dn=function(t){var e=0,n=0;if(t.length>0){for(var r=0,i=t;r<i.length;r++){var o=i[r];e+=o.x,n+=o.y}e/=t.length,n/=t.length}return{x:e,y:n}},hn=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},fn=function(t,e){var n,r=e.x1,i=e.y1,o=e.x2-r,s=e.y2-i,a=t.x-r,c=t.y-i,l=a*o+c*s;l<=0?n=0:(a=o-a,c=s-c,l=a*o+c*s,n=l<=0?0:l*l/(o*o+s*s));var u=a*a+c*c-n;return u<0&&(u=0),u},pn=function(t,e,n){return void 0===n&&(n=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},gn=function(t,e){var n=t.x<e.x,r=t.x>e.x+e.width,i=t.y>e.y+e.height,o=t.y<e.y,s=n||r||i||o;if(!s)return 0;if(i&&!n&&!r)return Math.pow(e.y+e.height-t.y,2);if(o&&!n&&!r)return Math.pow(t.y-e.y,2);if(n&&!i&&!o)return Math.pow(e.x-t.x,2);if(r&&!i&&!o)return Math.pow(e.x+e.width-t.x,2);var a=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),c=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return a*a+c*c},mn=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],s=e.x,a=e.y,c=[i-n,o-r];if(Pe.exactEquals(c,[0,0]))return NaN;var l=[-c[1],c[0]];Pe.normalize(l,l);var u=[s-n,a-r];return Math.abs(Pe.dot(u,l))},vn=function(t,e,n){return t+(e-t)*n},bn=function(t,e,n){for(var r=Math.min(t.length,e.length),i=new Array(r),o=0;o<r;o++)i[o]=vn(t[o],e[o],n);return i},yn="rgb(95, 149, 255)",kn="rgb(255, 255, 255)",wn="rgb(0, 0, 0)",_n="rgb(247, 250, 255)",An="rgb(239, 244, 255)",Cn="rgb(253, 253, 253)",xn="rgb(250, 250, 250)",En="rgb(224, 224, 224)",Sn="rgb(234, 234, 234)",Mn="rgb(245, 245, 245)",In="rgb(191, 213, 255)",Dn="#4572d9",Tn="rgb(223, 234, 255)",On={mainStroke:yn,mainFill:An,activeStroke:yn,activeFill:_n,inactiveStroke:In,inactiveFill:_n,selectedStroke:yn,selectedFill:kn,highlightStroke:Dn,highlightFill:Tn,disableStroke:En,disableFill:xn,edgeMainStroke:En,edgeActiveStroke:yn,edgeInactiveStroke:Sn,edgeSelectedStroke:yn,edgeHighlightStroke:yn,edgeDisableStroke:Mn,comboMainStroke:En,comboMainFill:Cn,comboActiveStroke:yn,comboActiveFill:_n,comboInactiveStroke:En,comboInactiveFill:Cn,comboSelectedStroke:yn,comboSelectedFill:Cn,comboHighlightStroke:Dn,comboHighlightFill:Cn,comboDisableStroke:Sn,comboDisableFill:xn},Nn={version:"0.8.21",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:On.mainStroke,fill:An},size:20,color:On.mainStroke,linkPoints:{size:8,lineWidth:1,fill:On.activeFill,stroke:On.activeStroke}},nodeStateStyles:{active:{fill:On.activeFill,stroke:On.activeStroke,lineWidth:2,shadowColor:On.mainStroke,shadowBlur:10},selected:{fill:On.selectedFill,stroke:On.selectedStroke,lineWidth:4,shadowColor:On.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:On.highlightFill,stroke:On.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:On.inactiveFill,stroke:On.inactiveStroke,lineWidth:1},disable:{fill:On.disableFill,stroke:On.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:wn,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:On.edgeMainStroke,lineAppendWidth:2},color:On.edgeMainStroke},edgeStateStyles:{active:{stroke:On.edgeActiveStroke,lineWidth:1},selected:{stroke:On.edgeSelectedStroke,lineWidth:2,shadowColor:On.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:On.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:On.edgeInactiveStroke,lineWidth:1},disable:{stroke:On.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:wn,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:On.comboMainFill,lineWidth:1,stroke:On.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:On.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:On.comboActiveStroke,lineWidth:1,fill:On.comboActiveFill},selected:{stroke:On.comboSelectedStroke,lineWidth:2,fill:On.comboSelectedFill,shadowColor:On.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:On.comboHighlightStroke,lineWidth:2,fill:On.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:On.comboInactiveStroke,fill:On.comboInactiveFill,lineWidth:1},disable:{stroke:On.comboDisableStroke,fill:On.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:"undefined"!==typeof window&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},Pn={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Ln=Math.PI,Bn=Math.sin,Rn=Math.cos,jn=Bn(Ln/8),zn=Rn(Ln/8),Fn=function(t,e){var n=t.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY};if(e){var o=e.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),r=Ue(r,o),i=Ue(i,o)}var s=r.x,a=r.y,c=i.x,l=i.y;return{x:s,y:a,minX:s,minY:a,maxX:c,maxY:l,width:c-s,height:l-a}},Vn=function(t){var e=t.sourceNode||t.targetNode,n=e.get("group"),r=n.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var i=e.getKeyShape(),o=i.getBBox(),s=t.loopCfg||{},a=s.dist||2*Math.max(o.width,o.height),c=s.position||Nn.defaultLoopPosition,l=[(o.minX+o.maxX)/2+r[6],(o.minY+o.maxY)/2+r[7]],u=[t.startPoint.x,t.startPoint.y],d=[t.endPoint.x,t.endPoint.y],h=o.height/2,f=o.width/2,p=h,g=h,m=p*jn,v=p*zn,b=g*jn,y=g*zn,k=i.get("type"),w=Math.min(h/2,f/2),_=Math.min(h,f),A=(null===s||void 0===s?void 0:s.pointPadding)?Math.min(_,null===s||void 0===s?void 0:s.pointPadding):w;if(u[0]===d[0]&&u[1]===d[1]){switch(c){case"top":"circle"===k?(u=[l[0]-m,l[1]-v],d=[l[0]+b,l[1]-y]):(u=[l[0]-A,l[1]-h],d=[l[0]+A,l[1]-h]);break;case"top-right":p=h,g=f,"circle"===k?(m=p*jn,v=p*zn,b=g*jn,y=g*zn,u=[l[0]+m,l[1]-v],d=[l[0]+y,l[1]-b]):(u=[l[0]+f-A,l[1]-h],d=[l[0]+f,l[1]-h+A]);break;case"right":p=f,g=f,"circle"===k?(m=p*jn,v=p*zn,b=g*jn,y=g*zn,u=[l[0]+v,l[1]-m],d=[l[0]+y,l[1]+b]):(u=[l[0]+f,l[1]-A],d=[l[0]+f,l[1]+A]);break;case"bottom-right":p=f,g=h,"circle"===k?(m=p*jn,v=p*zn,b=g*jn,y=g*zn,u=[l[0]+v,l[1]+m],d=[l[0]+b,l[1]+y]):(u=[l[0]+f,l[1]+h-A],d=[l[0]+f-A,l[1]+h]);break;case"bottom":p=h,g=h,"circle"===k?(m=p*jn,v=p*zn,b=g*jn,y=g*zn,u=[l[0]+m,l[1]+v],d=[l[0]-b,l[1]+y]):(u=[l[0]-A,l[1]+h],d=[l[0]+A,l[1]+h]);break;case"bottom-left":p=h,g=f,"circle"===k?(m=p*jn,v=p*zn,b=g*jn,y=g*zn,u=[l[0]-m,l[1]+v],d=[l[0]-y,l[1]+b]):(u=[l[0]-f,l[1]+h-A],d=[l[0]-f+A,l[1]+h]);break;case"left":p=f,g=f,"circle"===k?(m=p*jn,v=p*zn,b=g*jn,y=g*zn,u=[l[0]-v,l[1]+m],d=[l[0]-y,l[1]-b]):(u=[l[0]-f,l[1]-A],d=[l[0]-f,l[1]+A]);break;case"top-left":p=f,g=h,"circle"===k?(m=p*jn,v=p*zn,b=g*jn,y=g*zn,u=[l[0]-v,l[1]-m],d=[l[0]-b,l[1]-y]):(u=[l[0]-f+A,l[1]-h],d=[l[0]-f,l[1]-h+A]);break;default:p=f,g=f,m=p*jn,v=p*zn,b=g*jn,y=g*zn,u=[l[0]-m,l[1]-v],d=[l[0]+b,l[1]-y]}if(!1===s.clockwise){var C=[u[0],u[1]];u=[d[0],d[1]],d=[C[0],C[1]]}}var x=[u[0]-l[0],u[1]-l[1]],E=(p+a)/p,S=(g+a)/g;!1===s.clockwise&&(E=(g+a)/g,S=(p+a)/p);var M=Pe.scale([0,0],x,E),I=[l[0]+M[0],l[1]+M[1]],D=[d[0]-l[0],d[1]-l[1]],T=Pe.scale([0,0],D,S),O=[l[0]+T[0],l[1]+T[1]];return t.startPoint={x:u[0],y:u[1]},t.endPoint={x:d[0],y:d[1]},t.controlPoints=[{x:I[0],y:I[1]},{x:O[0],y:O[1]}],t},Un=function(t,e,n,r,i){var o=1e-4,s=[],a=null===t||void 0===t?void 0:t.getPoint(e);if(!a)return{x:0,y:0,angle:0};if(e<o)s=t.getStartTangent().reverse();else if(e>1-o)s=t.getEndTangent();else{var c=null===t||void 0===t?void 0:t.getPoint(e+o);s.push([a.x,a.y]),s.push([c.x,c.y])}var l=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(l<0&&(l+=2*Ln),n&&(a.x+=Rn(l)*n,a.y+=Bn(l)*n),r){var u=l-Ln/2;l>.5*Ln&&l<1.5*Ln&&(u-=Ln),a.x+=Rn(u)*r,a.y+=Bn(u)*r}var d={x:a.x,y:a.y,angle:l};return i?(l>.5*Ln&&l<1.5*Ln&&(l-=Ln),(0,y.__assign)({rotate:l},d)):d},Gn=function t(e,n,r,i){if(!1===i(e,n,r))return!1;if(e&&e.children)for(var o=e.children.length-1;o>=0;o--)if(!t(e.children[o],e,o,i))return!1;return!0},Hn=function t(e,n,r,i){if(e&&e.children)for(var o=e.children.length-1;o>=0;o--)if(!t(e.children[o],e,o,i))return;return!1!==i(e,n,r)},$n=function(t,e){"function"===typeof e&&Gn(t,null,-1,e)},Wn=function(t,e){"function"===typeof e&&Hn(t,null,-1,e)},Yn=function(t,e){return e*(Pn[t]||1)},qn=function(t,e){var n=0,r=new RegExp("[一-龥]+");return t.split("").forEach((function(t){r.test(t)?n+=e:n+=Yn(t,e)})),[n,e]},Xn=function(t,e){return"number"!==typeof e||e<=0||e>=t.length?t:t.substring(0,e)+"..."},Kn=function(t,e){var n=[],r={},i={};t.forEach((function(t){i[t.id]=t})),t.forEach((function(t,e){var o=(0,k.clone)(t);o.itemType="combo",o.children=void 0,o.parentId===o.id?(console.warn("The parentId for combo ".concat(o.id," can not be the same as the combo's id")),delete o.parentId):o.parentId&&!i[o.parentId]&&(console.warn("The parent combo for combo ".concat(o.id," does not exist!")),delete o.parentId);var s=r[o.id];if(s){if(o.children=s.children,r[o.id]=o,s=o,!s.parentId)return void n.push(s);var a=r[s.parentId];if(a)a.children?a.children.push(o):a.children=[o];else{var c={id:s.parentId,children:[s]};r[s.parentId]=c,r[o.id]=o}}else if((0,k.isString)(t.parentId)){var l=r[t.parentId];if(l)l.children?l.children.push(o):l.children=[o],r[o.id]=o;else{var u={id:t.parentId,children:[o]};r[u.id]=u,r[o.id]=o}}else n.push(o),r[o.id]=o}));var o={};(e||[]).forEach((function(t){o[t.id]=t;var e=r[t.comboId];if(e){var n={id:t.id,comboId:t.comboId};e.children?e.children.push(n):e.children=[n],n.itemType="node",r[t.id]=n}}));var s=0;return n.forEach((function(t){t.depth=s+10,$n(t,(function(t){var e,n=r[t.id].itemType;e="node"===n?r[t.comboId]:r[t.parentId],t.depth=e&&"node"===n?s+1:s+10,s<t.depth&&(s=t.depth);var i=o[t.id];return i&&(i.depth=t.depth),!0}))})),n},Zn=function(t,e,n){var r,i,o=t,s={root:{children:t}},a=!1,c="root";(t||[]).forEach((function(t){if(!a)return t.id===e?(i=t,"combo"===t.itemType?i.parentId=n:i.comboId=n,void(a=!0)):void $n(t,(function(t){var r;return s[t.id]={children:(null===t||void 0===t?void 0:t.children)||[]},o=null===(r=s[t.parentId||t.comboId||"root"])||void 0===r?void 0:r.children,!t||!t.removed&&e!==t.id||!o||(c=t.parentId||t.comboId||"root",i=t,"combo"===t.itemType?i.parentId=n:i.comboId=n,a=!0,!1)}))})),o=null===(r=s[c])||void 0===r?void 0:r.children;var l=o?o.indexOf(i):-1;if(l>-1&&o.splice(l,1),a||(i={id:e,itemType:"node",comboId:n},s[e]={children:void 0}),e){var u=!1;if(n){var d=0;(t||[]).forEach((function(t){u||$n(t,(function(t){return n!==t.id||(u=!0,t.children?t.children.push(i):t.children=[i],d=t.depth,"node"===i.itemType?i.depth=d+2:i.depth=d+1,!1)}))}))}else n&&u||"node"===i.itemType||t.push(i);var h=i.depth;$n(i,(function(t){return"node"===t.itemType?h+=2:h+=1,t.depth=h,!0}))}return t},Qn=function(t,e,n){var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!t||0===t.length){var i=null===n||void 0===n?void 0:n.getModel(),o=i||{},s=o.x,a=o.y,c=o.fixSize,l=o.collapsed,u=o.fixCollapseSize,d=l?u:c,h=(0,k.isArray)(d)?d:[d,d],f=h[0],p=h[1],g=[f/2,p/2];return{minX:s-g[0],minY:a-g[1],maxX:s+g[0],maxY:a+g[1],x:s,y:a,width:f,height:p}}return t.forEach((function(t){var n=e.findById(t.id);if(n&&n.isVisible()){n.set("bboxCanvasCache",void 0);var i=n.getCanvasBBox();i.x&&r.minX>i.minX&&(r.minX=i.minX),i.y&&r.minY>i.minY&&(r.minY=i.minY),i.x&&r.maxX<i.maxX&&(r.maxX=i.maxX),i.y&&r.maxY<i.maxY&&(r.maxY=i.maxY)}})),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,"circle"===(null===n||void 0===n?void 0:n.getKeyShape().get("type"))&&(r.width=Math.hypot(r.height,r.width),r.height=r.width),Object.keys(r).forEach((function(t){r[t]!==1/0&&r[t]!==-1/0||(r[t]=void 0)})),r},Jn=function(t){var e=(0,k.isNumber)(t.x)||(0,k.isNumber)(t.y)||t.type||t.anchorPoints||t.size;return t.style&&(e=e||(0,k.isNumber)(t.style.r)||(0,k.isNumber)(t.style.width)||(0,k.isNumber)(t.style.height)||(0,k.isNumber)(t.style.rx)||(0,k.isNumber)(t.style.ry)),e},tr=function(t){var e={};return Object.keys(t).forEach((function(n){var r=t[n];if("img"!==n||(0,k.isString)(r))if((0,k.isObject)(r)&&!(0,k.isArray)(r)){var i={};Object.keys(r).forEach((function(t){var e=r[t];("img"!==t||(0,k.isString)(e))&&(i[t]=(0,k.clone)(e))})),e[n]=i}else e[n]=(0,k.clone)(r)})),e},er=function(t){var e,n=t.animateCfg,r=t.callback;if(n)if(e=(0,k.clone)(n),n.callback){var i=n.callback;e.callback=function(){r(),i()}}else e.callback=r;else e={duration:500,callback:r};return e},nr=function(t){if(!t)return console.error("G6 Error Tips: the data must be defined"),!1;var e=t.nodes,n=t.edges,r=t.combos,i=void 0===r?[]:r;if(!e&&!n){var o=!0;return $n(t,(function(t){return!!(0,k.isString)(t.id)||(o=!1,!1)})),o}var s=(e||[]).find((function(t){return!(0,k.isString)(t.id)}));if(s)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(s.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var a=(e||[]).map((function(t){return t.id})),c=null===i||void 0===i?void 0:i.map((function(t){return t.id})),l=(0,y.__spreadArray)((0,y.__spreadArray)([],a,!0),c,!0),u=(n||[]).find((function(t){return!l.includes(t.source)||!l.includes(t.target)}));return!u||(console.warn("G6 Warning Tips: The source %c".concat(u.source,"%c or the target %c").concat(u.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)},rr=function(t,e){if("node"===t||"combo"===t){if(e.id&&!(0,k.isString)(e.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(e.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if("edge"===t&&(!e.source||!e.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},ir=function(){function t(t){this.graph=t,this.destroyed=!1,this.modes=t.get("modes")||{default:[]},this.formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return t.prototype.formatModes=function(){var t=this.modes;(0,k.each)(t,(function(t){(0,k.each)(t,(function(e,n){(0,k.isString)(e)&&(t[n]={type:e})}))}))},t.prototype.setBehaviors=function(t){var e,n=this.graph,r=this.modes[t],i=[];(0,k.each)(r||[],(function(t){var r=A.getBehavior(t.type||t);r&&(e=new r(t),e&&(e.bind(n),i.push(e)))})),this.currentBehaves=i},t.mergeBehaviors=function(t,e){return(0,k.each)(e,(function(e){t.indexOf(e)<0&&((0,k.isString)(e)&&(e={type:e}),t.push(e))})),t},t.filterBehaviors=function(t,e){var n=[];return t.forEach((function(t){var r="";r=(0,k.isString)(t)?t:t.type,e.indexOf(r)<0&&n.push(t)})),n},t.prototype.setMode=function(t){var e=this,n=e.modes,r=e.graph,i=t,o=n[i];o&&(r.emit("beforemodechange",{mode:t}),(0,k.each)(this.currentBehaves,(function(t){t.delegate&&t.delegate.remove(),t.unbind(r)})),this.setBehaviors(i),r.emit("aftermodechange",{mode:t}),this.mode=t)},t.prototype.getMode=function(){return this.mode},t.prototype.manipulateBehaviors=function(e,n,r){var i,o=this;if(i=(0,k.isArray)(e)?e:[e],(0,k.isArray)(n))return(0,k.each)(n,(function(e){o.modes[e]?o.modes[e]=r?t.mergeBehaviors(o.modes[e]||[],i):t.filterBehaviors(o.modes[e]||[],i):r&&(o.modes[e]=i)})),this;var s=n;return n||(s=this.mode),this.modes[s]||r&&(this.modes[s]=i),this.modes[s]=r?t.mergeBehaviors(this.modes[s]||[],i):t.filterBehaviors(this.modes[s]||[],i),this.formatModes(),this.setMode(this.mode),this},t.prototype.updateBehavior=function(t,e,n){(0,k.isString)(t)&&(t={type:t});var r=[];if(n&&n!==this.mode&&"default"!==n){if(r=this.modes[n],!r||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var i=r.length;for(s=0;s<i;s++){a=r[s];if(a.type===t.type||a===t.type)return a===t.type&&(a={type:a}),Object.assign(a,e),r[s]=a,this;s===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(r=this.currentBehaves,!r||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=r.length,s=0;s<o;s++){var a=r[s];if(a.type===t.type)return a.updateCfg(e),this;s===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},t.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},t}(),or=ir,sr="\t\n\v\f\r   ᠎             　\u2028\u2029",ar=new RegExp("([a-z])["+sr+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+sr+"]*,?["+sr+"]*)+)","ig"),cr=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+sr+"]*,?["+sr+"]*","ig"),lr=function(t){if(!t)return null;if((0,k.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(ar,(function(r,i,o){var s=[],a=i.toLowerCase();if(o.replace(cr,(function(t,e){e&&s.push(+e)})),"m"===a&&s.length>2&&(n.push([i].concat(s.splice(0,2))),a="l",i="m"===i?"l":"L"),"o"===a&&1===s.length&&n.push([i,s[0]]),"r"===a)n.push([i].concat(s));else while(s.length>=e[a])if(n.push([i].concat(s.splice(0,e[a]))),!e[a])break;return t})),n},ur=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},dr=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var s=Math.PI/180,a=t+n*Math.cos(-r*s),c=t+n*Math.cos(-i*s),l=e+n*Math.sin(-r*s),u=e+n*Math.sin(-i*s);o=[["M",a,l],["A",n,n,0,+(i-r>180),0,c,u]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},hr=function(t){if(t=lr(t),!t||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,s=0,a=0,c=0;"M"===t[0][0]&&(i=+t[0][1],o=+t[0][2],s=i,a=o,c++,r[0]=["M",i,o]);for(var l=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),u=void 0,d=void 0,h=c,f=t.length;h<f;h++){if(r.push(u=[]),d=t[h],e=d[0],e!==e.toUpperCase())switch(u[0]=e.toUpperCase(),u[0]){case"A":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+d[6]+i,u[7]=+d[7]+o;break;case"V":u[1]=+d[1]+o;break;case"H":u[1]=+d[1]+i;break;case"R":n=[i,o].concat(d.slice(1));for(var p=2,g=n.length;p<g;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(ur(n,l));break;case"O":r.pop(),n=dr(i,o,d[1],d[2]),n.push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(dr(i,o,d[1],d[2],d[3])),u=["U"].concat(r[r.length-1].slice(-2));break;case"M":s=+d[1]+i,a=+d[2]+o;break;default:for(p=1,g=d.length;p<g;p++)u[p]=+d[p]+(p%2?i:o)}else if("R"===e)n=[i,o].concat(d.slice(1)),r.pop(),r=r.concat(ur(n,l)),u=["R"].concat(d.slice(-2));else if("O"===e)r.pop(),n=dr(i,o,d[1],d[2]),n.push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(dr(i,o,d[1],d[2],d[3])),u=["U"].concat(r[r.length-1].slice(-2));else for(var m=0,v=d.length;m<v;m++)u[m]=d[m];if(e=e.toUpperCase(),"O"!==e)switch(u[0]){case"Z":i=+s,o=+a;break;case"H":i=u[1];break;case"V":o=u[1];break;case"M":s=u[u.length-2],a=u[u.length-1];break;default:i=u[u.length-2],o=u[u.length-1]}}return r},fr=function(t,e,n,r){return[t,e,n,r,n,r]},pr=function(t,e,n,r,i,o){var s=1/3,a=2/3;return[s*t+a*n,s*e+a*r,s*i+a*n,s*o+a*r,i,o]},gr=function(t,e,n,r,i,o,s,a,c,l){n===r&&(n+=1);var u,d,h,f,p,g=120*Math.PI/180,m=Math.PI/180*(+i||0),v=[],b=function(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}};if(l)d=l[0],h=l[1],f=l[2],p=l[3];else{u=b(t,e,-m),t=u.x,e=u.y,u=b(a,c,-m),a=u.x,c=u.y,t===a&&e===c&&(a+=1,c+=1);var y=(t-a)/2,k=(e-c)/2,w=y*y/(n*n)+k*k/(r*r);w>1&&(w=Math.sqrt(w),n*=w,r*=w);var _=n*n,A=r*r,C=(o===s?-1:1)*Math.sqrt(Math.abs((_*A-_*k*k-A*y*y)/(_*k*k+A*y*y)));f=C*n*k/r+(t+a)/2,p=C*-r*y/n+(e+c)/2,d=Math.asin(((e-p)/r).toFixed(9)),h=Math.asin(((c-p)/r).toFixed(9)),d=t<f?Math.PI-d:d,h=a<f?Math.PI-h:h,d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),s&&d>h&&(d-=2*Math.PI),!s&&h>d&&(h-=2*Math.PI)}var x=h-d;if(Math.abs(x)>g){var E=h,S=a,M=c;h=d+g*(s&&h>d?1:-1),a=f+n*Math.cos(h),c=p+r*Math.sin(h),v=gr(a,c,n,r,i,0,s,S,M,[h,E,f,p])}x=h-d;var I=Math.cos(d),D=Math.sin(d),T=Math.cos(h),O=Math.sin(h),N=Math.tan(x/4),P=4/3*n*N,L=4/3*r*N,B=[t,e],R=[t+P*D,e-L*I],j=[a+P*O,c-L*T],z=[a,c];if(R[0]=2*B[0]-R[0],R[1]=2*B[1]-R[1],l)return[R,j,z].concat(v);v=[R,j,z].concat(v).join().split(",");for(var F=[],V=0,U=v.length;V<U;V++)F[V]=V%2?b(v[V-1],v[V],m).y:b(v[V],v[V+1],m).x;return F},mr=function(t,e){var n,r=hr(t),i=e&&hr(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=[],c=[],l="",u="",d=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(gr.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(pr(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(pr(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(fr(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(fr(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(fr(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(fr(e.x,e.y,e.X,e.Y));break;default:break}return t},h=function(t,e){if(t[e].length>7){t[e].shift();var o=t[e];while(o.length)a[e]="A",i&&(c[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},f=function(t,e,o,s,a){t&&e&&"M"===t[a][0]&&"M"!==e[a][0]&&(e.splice(a,0,["M",s.x,s.y]),o.bx=0,o.by=0,o.x=t[a][1],o.y=t[a][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(l=r[p][0]),"C"!==l&&(a[p]=l,p&&(u=a[p-1])),r[p]=d(r[p],o,u),"A"!==a[p]&&"C"===l&&(a[p]="C"),h(r,p),i&&(i[p]&&(l=i[p][0]),"C"!==l&&(c[p]=l,p&&(u=c[p-1])),i[p]=d(i[p],s,u),"A"!==c[p]&&"C"===l&&(c[p]="C"),h(i,p)),f(r,i,o,s,p),f(i,r,s,o,p);var g=r[p],m=i&&i[p],v=g.length,b=i&&m.length;o.x=g[v-2],o.y=g[v-1],o.bx=parseFloat(g[v-4])||o.x,o.by=parseFloat(g[v-3])||o.y,s.bx=i&&(parseFloat(m[b-4])||s.x),s.by=i&&(parseFloat(m[b-3])||s.y),s.x=i&&m[b-2],s.y=i&&m[b-1]}return i?[r,i]:r},vr=/,?([a-z]),?/gi,br=function(t){return t.join(",").replace(vr,"$1")},yr=function(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,s=t*o+6*e-12*n+6*r;return t*s-3*e+3*n},kr=function(t,e,n,r,i,o,s,a,c){null===c&&(c=1),c=c>1?1:c<0?0:c;for(var l=c/2,u=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,p=0;p<u;p++){var g=l*d[p]+l,m=yr(g,t,n,i,s),v=yr(g,e,r,o,a),b=m*m+v*v;f+=h[p]*Math.sqrt(b)}return l*f},wr=function(t,e,n,r,i,o,s,a){for(var c,l,u,d,h=[],f=[[],[]],p=0;p<2;++p)if(0===p?(l=6*t-12*n+6*i,c=-3*t+9*n-9*i+3*s,u=3*n-3*t):(l=6*e-12*r+6*o,c=-3*e+9*r-9*o+3*a,u=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(l)<1e-12)continue;d=-u/l,d>0&&d<1&&h.push(d)}else{var g=l*l-4*u*c,m=Math.sqrt(g);if(!(g<0)){var v=(-l+m)/(2*c);v>0&&v<1&&h.push(v);var b=(-l-m)/(2*c);b>0&&b<1&&h.push(b)}}var y,k=h.length,w=k;while(k--)d=h[k],y=1-d,f[0][k]=y*y*y*t+3*y*y*d*n+3*y*d*d*i+d*d*d*s,f[1][k]=y*y*y*e+3*y*y*d*r+3*y*d*d*o+d*d*d*a;return f[0][w]=t,f[1][w]=e,f[0][w+1]=s,f[1][w+1]=a,f[0].length=f[1].length=w+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}},_r=function(t,e,n,r,i,o,s,a){if(!(Math.max(t,n)<Math.min(i,s)||Math.min(t,n)>Math.max(i,s)||Math.max(e,r)<Math.min(o,a)||Math.min(e,r)>Math.max(o,a))){var c=(t*r-e*n)*(i-s)-(t-n)*(i*a-o*s),l=(t*r-e*n)*(o-a)-(e-r)*(i*a-o*s),u=(t-n)*(o-a)-(e-r)*(i-s);if(u){var d=c/u,h=l/u,f=+d.toFixed(2),p=+h.toFixed(2);if(!(f<+Math.min(t,n).toFixed(2)||f>+Math.max(t,n).toFixed(2)||f<+Math.min(i,s).toFixed(2)||f>+Math.max(i,s).toFixed(2)||p<+Math.min(e,r).toFixed(2)||p>+Math.max(e,r).toFixed(2)||p<+Math.min(o,a).toFixed(2)||p>+Math.max(o,a).toFixed(2)))return{x:d,y:h}}}},Ar=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},Cr=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=br,o},xr=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:Cr(t,e,n,r),vb:[t,e,n,r].join(" ")}},Er=function(t,e){return t=xr(t),e=xr(e),Ar(e,t.x,t.y)||Ar(e,t.x2,t.y)||Ar(e,t.x,t.y2)||Ar(e,t.x2,t.y2)||Ar(t,e.x,e.y)||Ar(t,e.x2,e.y)||Ar(t,e.x,e.y2)||Ar(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},Sr=function(t,e,n,r,i,o,s,a){(0,k.isArray)(t)||(t=[t,e,n,r,i,o,s,a]);var c=wr.apply(null,t);return xr(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},Mr=function(t,e,n,r,i,o,s,a,c){var l=1-c,u=Math.pow(l,3),d=Math.pow(l,2),h=c*c,f=h*c,p=u*t+3*d*c*n+3*l*c*c*i+f*s,g=u*e+3*d*c*r+3*l*c*c*o+f*a,m=t+2*c*(n-t)+h*(i-2*n+t),v=e+2*c*(r-e)+h*(o-2*r+e),b=n+2*c*(i-n)+h*(s-2*i+n),y=r+2*c*(o-r)+h*(a-2*o+r),k=l*t+c*n,w=l*e+c*r,_=l*i+c*s,A=l*o+c*a,C=90-180*Math.atan2(m-b,v-y)/Math.PI;return{x:p,y:g,m:{x:m,y:v},n:{x:b,y:y},start:{x:k,y:w},end:{x:_,y:A},alpha:C}},Ir=function(t,e,n){var r=Sr(t),i=Sr(e);if(!Er(r,i))return n?0:[];for(var o=kr.apply(0,t),s=kr.apply(0,e),a=~~(o/8),c=~~(s/8),l=[],u=[],d={},h=n?0:[],f=0;f<a+1;f++){var p=Mr.apply(0,t.concat(f/a));l.push({x:p.x,y:p.y,t:f/a})}for(f=0;f<c+1;f++){p=Mr.apply(0,e.concat(f/c));u.push({x:p.x,y:p.y,t:f/c})}for(f=0;f<a;f++)for(var g=0;g<c;g++){var m=l[f],v=l[f+1],b=u[g],y=u[g+1],k=Math.abs(v.x-m.x)<.001?"y":"x",w=Math.abs(y.x-b.x)<.001?"y":"x",_=_r(m.x,m.y,v.x,v.y,b.x,b.y,y.x,y.y);if(_){if(d[_.x.toFixed(4)]===_.y.toFixed(4))continue;d[_.x.toFixed(4)]=_.y.toFixed(4);var A=m.t+Math.abs((_[k]-m[k])/(v[k]-m[k]))*(v.t-m.t),C=b.t+Math.abs((_[w]-b[w])/(y[w]-b[w]))*(y.t-b.t);A>=0&&A<=1&&C>=0&&C<=1&&(n?h+=1:h.push({x:_.x,y:_.y,t1:A,t2:C}))}}return h},Dr=function(t,e,n){var r,i,o,s,a,c,l,u,d,h;t=mr(t),e=mr(e);for(var f=n?0:[],p=0,g=t.length;p<g;p++){var m=t[p];if("M"===m[0])r=a=m[1],i=c=m[2];else{"C"===m[0]?(d=[r,i].concat(m.slice(1)),r=d[6],i=d[7]):(d=[r,i,r,i,a,c,a,c],r=a,i=c);for(var v=0,b=e.length;v<b;v++){var y=e[v];if("M"===y[0])o=l=y[1],s=u=y[2];else{"C"===y[0]?(h=[o,s].concat(y.slice(1)),o=h[6],s=h[7]):(h=[o,s,o,s,l,u,l,u],o=l,s=u);var k=Ir(d,h,n);if(n)f+=k;else{for(var w=0,_=k.length;w<_;w++)k[w].segment1=p,k[w].segment2=v,k[w].bez1=d,k[w].bez2=h;f=f.concat(k)}}}}}return f},Tr=function(t,e){return Dr(t,e)};function Or(t,e){var n=[],r=[];function i(t,e){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var o=[],s=0;s<t.length-1;s++)0===s&&n.push(t[0]),s===t.length-2&&r.push(t[s+1]),o[s]=[(1-e)*t[s][0]+e*t[s+1][0],(1-e)*t[s][1]+e*t[s+1][1]];i(o,e)}}return t.length&&i(t,e),{left:n,right:r.reverse()}}function Nr(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,s=1/n,a=0;a<n-1;a++){var c=s/(1-s*a),l=Or(o,c);i.push(l.left),o=l.right}i.push(o);var u=i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1]),e}));return u}var Pr=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(Nr(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},Lr=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var s=0;s<r-n;s++)t.push(t[0]);return t}for(s=0;s<r;s++){var a=Math.floor(i*s);o[a]=(o[a]||0)+1}var c=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(Pr(t[i],t[i+1],r))}),[]);return c.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||c.push("Z"),c},Br=function(t,e){if(t.length!==e.length)return!1;var n=!0;return(0,k.each)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function Rr(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var jr=function(t,e){var n,r,i=t.length,o=e.length,s=0;if(0===i||0===o)return null;for(var a=[],c=0;c<=i;c++)a[c]=[],a[c][0]={min:c};for(var l=0;l<=o;l++)a[0][l]={min:l};for(c=1;c<=i;c++){n=t[c-1];for(l=1;l<=o;l++){r=e[l-1],s=Br(n,r)?0:1;var u=a[c-1][l].min+1,d=a[c][l-1].min+1,h=a[c-1][l-1].min+s;a[c][l]=Rr(u,d,h)}}return a},zr=function(t,e){var n=jr(t,e),r=t.length,i=e.length,o=[],s=1,a=1;if(n[r][i].min!==r){for(var c=1;c<=r;c++){var l=n[c][c].min;a=c;for(var u=s;u<=i;u++)n[c][u].min<l&&(l=n[c][u].min,a=u);s=a,n[c][s].type&&o.push({index:c-1,type:n[c][s].type})}for(c=o.length-1;c>=0;c--)s=o[c].index,"add"===o[c].type?t.splice(s,0,[].concat(t[s])):t.splice(s,1)}r=t.length;var d=i-r;if(r<i)for(c=0;c<d;c++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function Fr(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),s=Vr(e)[0],a=1;a<=n;a++)o*=a,r=Math.floor(t.length*o),0===r?i.unshift([s[0]*o+t[r][0]*(1-o),s[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[s[0]*o+t[r][0]*(1-o),s[1]*o+t[r][1]*(1-o)]);return i}function Vr(t){var e=[];switch(t[0]){case"M":e.push([t[1],t[2]]);break;case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":e.push([t[1],t[1]]);break;case"V":e.push([t[1],t[1]]);break;default:}return e}var Ur=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=Vr(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=Fr(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=Fr(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=Fr(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t},Gr=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){var t=this.type;return"[Event (type="+t+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}(),Hr=Gr;function $r(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var Wr="undefined"!==typeof window&&"undefined"!==typeof window.document;function Yr(t,e){if(t.isCanvas())return!0;var n=e.getParent(),r=!1;while(n){if(n===t){r=!0;break}n=n.getParent()}return r}function qr(t){return t.cfg.visible&&t.cfg.capture}var Xr=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,k.mix)(r,e),n}return(0,y.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(S),Kr=Xr,Zr=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},Qr=function(){function t(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"}return t}(),Jr=function(){function t(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return t}(),ti=function(){function t(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"}return t}(),ei=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),ni=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),ri=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,ii=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,oi=3,si=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",ri]],ai=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ci(t){return t?ui(t):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new ni:"undefined"!==typeof navigator?ui(navigator.userAgent):hi()}function li(t){return""!==t&&si.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function ui(t){var e=li(t);if(!e)return null;var n=e[0],r=e[1];if("searchbot"===n)return new ei;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<oi&&(i=Zr(Zr([],i,!0),fi(oi-i.length),!0)):i=[];var o=i.join("."),s=di(t),a=ii.exec(t);return a&&a[1]?new ti(n,o,s,a[1]):new Qr(n,o,s)}function di(t){for(var e=0,n=ai.length;e<n;e++){var r=ai[e],i=r[0],o=r[1],s=o.exec(t);if(s)return i}return null}function hi(){var t="undefined"!==typeof process&&process.version;return t?new Jr(process.version.slice(1)):null}function fi(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}function pi(t,e){var n=[],r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],l=t[6],u=t[7],d=t[8],h=e[0],f=e[1],p=e[2],g=e[3],m=e[4],v=e[5],b=e[6],y=e[7],k=e[8];return n[0]=h*r+f*s+p*l,n[1]=h*i+f*a+p*u,n[2]=h*o+f*c+p*d,n[3]=g*r+m*s+v*l,n[4]=g*i+m*a+v*u,n[5]=g*o+m*c+v*d,n[6]=b*r+y*s+k*l,n[7]=b*i+y*a+k*u,n[8]=b*o+y*c+k*d,n}function gi(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function mi(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],l=t[7],u=t[8],d=u*s-a*l,h=-u*o+a*c,f=l*o-s*c,p=n*d+r*h+i*f;return p?(p=1/p,e[0]=d*p,e[1]=(-u*r+i*l)*p,e[2]=(a*r-i*s)*p,e[3]=h*p,e[4]=(u*n-i*c)*p,e[5]=(-a*n+i*o)*p,e[6]=f*p,e[7]=(-l*n+r*c)*p,e[8]=(s*n-r*o)*p,e):null}var vi=N,bi="matrix",yi=["zIndex","capture","visible","type"],ki=["repeat"],wi=":",_i="*";function Ai(t){for(var e=[],n=0;n<t.length;n++)(0,k.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}function Ci(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function xi(t,e){var n={},r=e.attr();return(0,k.each)(t,(function(t,e){-1!==ki.indexOf(e)||(0,k.isEqual)(r[e],t)||(n[e]=t)})),n}function Ei(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,o=Object.prototype.hasOwnProperty;return(0,k.each)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&(0,k.each)(e.toAttrs,(function(e,n){o.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var Si=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,k.mix)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,y.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if((0,k.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange((t={},t[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?($r(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(bi,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(bi)},e.prototype.setMatrix=function(t){this.attr(bi,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?pi(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?pi(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?gi(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=mi(e);if(n)return gi(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase(),i=(0,k.upperFirst)(t.type),o=r[i];o&&(n=new o({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};(0,k.each)(e,(function(t,r){(0,k.isArray)(e[r])?n[r]=Ai(e[r]):n[r]=e[r]}));var r=this.constructor,i=new r({attrs:n});return(0,k.each)(yi,(function(e){i.set(e,t.get(e))})),i},e.prototype.destroy=function(){var e=this.destroyed;e||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,s,a,c,l=t[0],u=t[1],d=t[2],h=void 0===d?"easeLinear":d,f=t[3],p=void 0===f?k.noop:f,g=t[4],m=void 0===g?0:g;(0,k.isFunction)(l)?(i=l,l={}):(0,k.isObject)(l)&&l.onFrame&&(i=l.onFrame,o=l.repeat),(0,k.isObject)(u)?(c=u,u=c.duration,h=c.easing||"easeLinear",m=c.delay||0,o=c.repeat||o||!1,p=c.callback||k.noop,s=c.pauseCallback||k.noop,a=c.resumeCallback||k.noop):((0,k.isNumber)(p)&&(m=p,p=null),(0,k.isFunction)(h)?(p=h,h="easeLinear"):h=h||"easeLinear");var v=xi(l,this),b={fromAttrs:Ci(v,this),toAttrs:v,duration:u,easing:h,repeat:o,callback:p,pauseCallback:s,resumeCallback:a,delay:m,startTime:n.getTime(),id:(0,k.uniqueId)(),onFrame:i,pathFormatted:!1};r.length>0?r=Ei(r,b):n.addAnimator(this),r.push(b),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");(0,k.each)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return(0,k.each)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),e=t.getTime(),n=this.get("animations"),r=this.get("_pause").pauseTime;return(0,k.each)(n,(function(t){t.startTime=t.startTime+(e-r),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",n),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var o=function(t){var o=i[t],a=o.get("name");if(a){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&Yr(o,n))return"break";(0,k.isArray)(a)?(0,k.each)(a,(function(t){r.emitDelegateEvent(o,t,e)})):s.emitDelegateEvent(o,a,e)}},s=this,a=0;a<i.length;a++){var c=o(a);if("break"===c)break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+wi+n.type;(r[i]||r[_i])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=vi(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=vi(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=vi(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=vi(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=vi(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(Kr),Mi=Si,Ii={},Di="_INDEX";function Ti(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Ti(t,e)}))}}function Oi(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Oi(t,e)}))}}function Ni(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),$r(t.getChildren(),e)}function Pi(t){return function(e,n){var r=t(e,n);return 0===r?e[Di]-n[Di]:r}}var Li,Bi,Ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));i.length>0?(0,k.each)(i,(function(i){var o=i.getBBox(),s=o.minX,a=o.maxX,c=o.minY,l=o.maxY;s<t&&(t=s),a>e&&(e=a),c<n&&(n=c),l>r&&(r=l)})):(t=0,e=0,n=0,r=0);var o={x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n};return o},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));i.length>0?(0,k.each)(i,(function(i){var o=i.getCanvasBBox(),s=o.minX,a=o.maxX,c=o.minY,l=o.maxY;s<t&&(t=s),a>e&&(e=a),c<n&&(n=c),l>r&&(r=l)})):(t=0,e=0,n=0,r=0);var o={x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n};return o},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["children"]=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();(0,k.each)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];(0,k.isObject)(n)?r=n:r["type"]=n;var i=Ii[r.type];i||(i=(0,k.upperFirst)(r.type),Ii[r.type]=i);var o=this.getShapeBase(),s=new o[i](r);return this.add(s),s},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if((0,k.isFunction)(r))n=new r(i||{parent:this});else{var o=r||{},s=this.getGroupBase();n=new s(o)}return this.add(n),n},e.prototype.getCanvas=function(){var t;return t=this.isCanvas()?this:this.get("canvas"),t},e.prototype.getShape=function(t,e,n){if(!qr(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var s=t[o];if(qr(s)&&(s.isGroup()?i=s.getShape(e,n,r):s.isHit(e,n)&&(i=s)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&Ni(i,t,!1),t.set("parent",this),e&&Ti(t,e),r&&Oi(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")||[]},e.prototype.sort=function(){var t=this.getChildren();(0,k.each)(t,(function(t,e){return t[Di]=e,t})),t.sort(Pi((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var e=this.getChildren();return e[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var e=this.getChildren();return e.indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return(0,k.each)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return(0,k.each)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(Mi),ji=Ri,zi=0,Fi=0,Vi=0,Ui=1e3,Gi=0,Hi=0,$i=0,Wi="object"===typeof performance&&performance.now?performance:Date,Yi="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qi(){return Hi||(Yi(Xi),Hi=Wi.now()+$i)}function Xi(){Hi=0}function Ki(){this._call=this._time=this._next=null}function Zi(t,e,n){var r=new Ki;return r.restart(t,e,n),r}function Qi(){qi(),++zi;var t,e=Li;while(e)(t=Hi-e._time)>=0&&e._call.call(null,t),e=e._next;--zi}function Ji(){Hi=(Gi=Wi.now())+$i,zi=Fi=0;try{Qi()}finally{zi=0,eo(),Hi=0}}function to(){var t=Wi.now(),e=t-Gi;e>Ui&&($i-=e,Gi=t)}function eo(){var t,e,n=Li,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Li=e);Bi=t,no(r)}function no(t){if(!zi){Fi&&(Fi=clearTimeout(Fi));var e=t-Hi;e>24?(t<1/0&&(Fi=setTimeout(Ji,t-Wi.now()-$i)),Vi&&(Vi=clearInterval(Vi))):(Vi||(Gi=Wi.now(),Vi=setInterval(to,Ui)),zi=1,Yi(Ji))}}function ro(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function io(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function oo(){}Ki.prototype=Zi.prototype={constructor:Ki,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?qi():+n)+(null==e?0:+e),this._next||Bi===this||(Bi?Bi._next=this:Li=this,Bi=this),this._call=t,this._time=n,no()},stop:function(){this._call&&(this._call=null,this._time=1/0,no())}};var so=.7,ao=1/so,co="\\s*([+-]?\\d+)\\s*",lo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ho=/^#([0-9a-f]{3,8})$/,fo=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),po=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),go=new RegExp(`^rgba\\(${co},${co},${co},${lo}\\)$`),mo=new RegExp(`^rgba\\(${uo},${uo},${uo},${lo}\\)$`),vo=new RegExp(`^hsl\\(${lo},${uo},${uo}\\)$`),bo=new RegExp(`^hsla\\(${lo},${uo},${uo},${lo}\\)$`),yo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ko(){return this.rgb().formatHex()}function wo(){return this.rgb().formatHex8()}function _o(){return Ro(this).formatHsl()}function Ao(){return this.rgb().formatRgb()}function Co(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ho.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?xo(e):3===n?new Io(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Eo(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Eo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=fo.exec(t))?new Io(e[1],e[2],e[3],1):(e=po.exec(t))?new Io(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=go.exec(t))?Eo(e[1],e[2],e[3],e[4]):(e=mo.exec(t))?Eo(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=vo.exec(t))?Bo(e[1],e[2]/100,e[3]/100,1):(e=bo.exec(t))?Bo(e[1],e[2]/100,e[3]/100,e[4]):yo.hasOwnProperty(t)?xo(yo[t]):"transparent"===t?new Io(NaN,NaN,NaN,0):null}function xo(t){return new Io(t>>16&255,t>>8&255,255&t,1)}function Eo(t,e,n,r){return r<=0&&(t=e=n=NaN),new Io(t,e,n,r)}function So(t){return t instanceof oo||(t=Co(t)),t?(t=t.rgb(),new Io(t.r,t.g,t.b,t.opacity)):new Io}function Mo(t,e,n,r){return 1===arguments.length?So(t):new Io(t,e,n,null==r?1:r)}function Io(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Do(){return`#${Lo(this.r)}${Lo(this.g)}${Lo(this.b)}`}function To(){return`#${Lo(this.r)}${Lo(this.g)}${Lo(this.b)}${Lo(255*(isNaN(this.opacity)?1:this.opacity))}`}function Oo(){const t=No(this.opacity);return`${1===t?"rgb(":"rgba("}${Po(this.r)}, ${Po(this.g)}, ${Po(this.b)}${1===t?")":`, ${t})`}`}function No(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Po(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lo(t){return t=Po(t),(t<16?"0":"")+t.toString(16)}function Bo(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zo(t,e,n,r)}function Ro(t){if(t instanceof zo)return new zo(t.h,t.s,t.l,t.opacity);if(t instanceof oo||(t=Co(t)),!t)return new zo;if(t instanceof zo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new zo(s,a,c,t.opacity)}function jo(t,e,n,r){return 1===arguments.length?Ro(t):new zo(t,e,n,null==r?1:r)}function zo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Fo(t){return t=(t||0)%360,t<0?t+360:t}function Vo(t){return Math.max(0,Math.min(1,t||0))}function Uo(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Go(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}function Ho(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return Go((n-r/e)*e,s,i,o,a)}}function $o(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return Go((n-r/e)*e,i,o,s,a)}}ro(oo,Co,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ko,formatHex:ko,formatHex8:wo,formatHsl:_o,formatRgb:Ao,toString:Ao}),ro(Io,Mo,io(oo,{brighter(t){return t=null==t?ao:Math.pow(ao,t),new Io(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?so:Math.pow(so,t),new Io(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Io(Po(this.r),Po(this.g),Po(this.b),No(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Do,formatHex:Do,formatHex8:To,formatRgb:Oo,toString:Oo})),ro(zo,jo,io(oo,{brighter(t){return t=null==t?ao:Math.pow(ao,t),new zo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?so:Math.pow(so,t),new zo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Io(Uo(t>=240?t-240:t+120,i,r),Uo(t,i,r),Uo(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zo(Fo(this.h),Vo(this.s),Vo(this.l),No(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=No(this.opacity);return`${1===t?"hsl(":"hsla("}${Fo(this.h)}, ${100*Vo(this.s)}%, ${100*Vo(this.l)}%${1===t?")":`, ${t})`}`}}));var Wo=t=>()=>t;function Yo(t,e){return function(n){return t+n*e}}function qo(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Xo(t){return 1===(t=+t)?Ko:function(e,n){return n-e?qo(e,n,t):Wo(isNaN(e)?n:e)}}function Ko(t,e){var n=e-t;return n?Yo(t,n):Wo(isNaN(t)?e:t)}var Zo=function t(e){var n=Xo(e);function r(t,e){var r=n((t=Mo(t)).r,(e=Mo(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=Ko(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function Qo(t){return function(e){var n,r,i=e.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=Mo(e[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=t(o),s=t(s),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=a(t),r+""}}}Qo(Ho),Qo($o);function Jo(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function ts(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function es(t,e){return(ts(e)?Jo:ns)(t,e)}function ns(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=ds(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=o[n](t);return s}}function rs(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function is(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function os(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=ds(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var ss=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,as=new RegExp(ss.source,"g");function cs(t){return function(){return t}}function ls(t){return function(e){return t(e)+""}}function us(t,e){var n,r,i,o=ss.lastIndex=as.lastIndex=0,s=-1,a=[],c=[];t+="",e+="";while((n=ss.exec(t))&&(r=as.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,c.push({i:s,x:is(n,r)})),o=as.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?c[0]?ls(c[0].x):cs(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)a[(n=c[r]).i]=n.x(t);return a.join("")})}function ds(t,e){var n,r=typeof e;return null==e||"boolean"===r?Wo(e):("number"===r?is:"string"===r?(n=Co(e))?(e=n,Zo):us:e instanceof Co?Zo:e instanceof Date?rs:ts(e)?Jo:Array.isArray(e)?ns:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?os:is)(t,e)}function hs(t){return+t}function fs(t){return t*t}function ps(t){return t*(2-t)}function gs(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function ms(t){return t*t*t}function vs(t){return--t*t*t+1}function bs(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ys=3,ks=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(ys),ws=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(ys),_s=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(ys),As=Math.PI,Cs=As/2;function xs(t){return 1===+t?1:1-Math.cos(t*Cs)}function Es(t){return Math.sin(t*Cs)}function Ss(t){return(1-Math.cos(As*t))/2}function Ms(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Is(t){return Ms(1-+t)}function Ds(t){return 1-Ms(t)}function Ts(t){return((t*=2)<=1?Ms(1-t):2-Ms(t-1))/2}function Os(t){return 1-Math.sqrt(1-t*t)}function Ns(t){return Math.sqrt(1- --t*t)}function Ps(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Ls=4/11,Bs=6/11,Rs=8/11,js=3/4,zs=9/11,Fs=10/11,Vs=15/16,Us=21/22,Gs=63/64,Hs=1/Ls/Ls;function $s(t){return 1-Ws(1-t)}function Ws(t){return(t=+t)<Ls?Hs*t*t:t<Rs?Hs*(t-=Bs)*t+js:t<Fs?Hs*(t-=zs)*t+Vs:Hs*(t-=Us)*t+Gs}function Ys(t){return((t*=2)<=1?1-Ws(1-t):Ws(t-1)+1)/2}var qs=1.70158,Xs=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(qs),Ks=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(qs),Zs=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(qs),Qs=2*Math.PI,Js=1,ta=.3,ea=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Qs);function i(t){return e*Ms(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Qs)},i.period=function(n){return t(e,n)},i}(Js,ta),na=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Qs);function i(t){return 1-e*Ms(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Qs)},i.period=function(n){return t(e,n)},i}(Js,ta),ra=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Qs);function i(t){return((t=2*t-1)<0?e*Ms(-t)*Math.sin((r-t)/n):2-e*Ms(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Qs)},i.period=function(n){return t(e,n)},i}(Js,ta),ia={};function oa(t){return ia[t.toLowerCase()]||a[t]}var sa=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},aa=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},ca=[1,0,0,0,1,0,0,0,1];function la(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var s;for(var a in o)if(!(0,k.isEqual)(i[a],o[a]))if("path"===a){var c=o[a],l=i[a];c.length>l.length?(c=lr(o[a]),l=lr(i[a]),l=zr(l,c),l=Ur(l,c),e.fromAttrs.path=l,e.toAttrs.path=c):e.pathFormatted||(c=lr(o[a]),l=lr(i[a]),l=Ur(l,c),e.fromAttrs.path=l,e.toAttrs.path=c,e.pathFormatted=!0),r[a]=[];for(var u=0;u<c.length;u++){for(var d=c[u],h=l[u],f=[],p=0;p<d.length;p++)(0,k.isNumber)(d[p])&&h&&(0,k.isNumber)(h[p])?(s=ds(h[p],d[p]),f.push(s(n))):f.push(d[p]);r[a].push(f)}}else if("matrix"===a){var g=es(i[a]||ca,o[a]||ca),m=g(n);r[a]=m}else sa(a)&&aa(o[a])?r[a]=o[a]:(0,k.isFunction)(o[a])||(s=ds(i[a],o[a]),r[a]=s(n));t.attr(r)}}function ua(t,e,n){var r,i=e.startTime,o=e.delay;if(n<i+o||e._paused)return!1;var s=e.duration,a=e.easing,c=oa(a);if(n=n-i-e.delay,e.repeat)r=n%s/s,r=c(r);else{if(r=n/s,!(r<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=c(r)}if(e.onFrame){var l=e.onFrame(r);t.attr(l)}else la(t,e,r);return!1}var da=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this,i=!1;this.timer=Zi((function(o){if(r.current=o,r.animators.length>0){for(var s=r.animators.length-1;s>=0;s--)if(t=r.animators[s],t.destroyed)r.removeAnimator(s);else{if(!t.isAnimatePaused()){e=t.get("animations");for(var a=e.length-1;a>=0;a--)n=e[a],i=ua(t,n,o),i&&(e.splice(a,1),i=!1,n.callback&&n.callback())}0===e.length&&r.removeAnimator(s)}var c=r.canvas.get("autoDraw");c||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),ha=da,fa=40,pa=0,ga=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function ma(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function va(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&Yr(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var ba=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){var n=e.canvas,r=n.get("el");if(r!==t.target&&(e.dragging||e.currentShape)){var i=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,i,e.draggingShape)}},this._onDocumentMouseUp=function(t){var n=e.canvas,r=n.get("el");if(r!==t.target&&e.dragging){var i=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,i,null),e._emitEvent("dragend",t,i,e.draggingShape),e._afterDrag(e.draggingShape,i,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");(0,k.each)(ga,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");(0,k.each)(ga,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var s=new Hr(t,e);return s.fromShape=i,s.toShape=o,s.x=n.x,s.y=n.y,s.clientX=n.clientX,s.clientY=n.clientY,s.propagationPath.push(r),s},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var s=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,s&&this._emitEvent(t,e,n,s,s,null),this._emitEvent(t,e,n,null,s,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var a=this.canvas,c=a.get("el");c.style.cursor=r.attr("cursor")||a.get("cursor")}},t.prototype._onmousedown=function(t,e,n){n.button===pa&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(n.button===pa){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var s=this.mousedownPoint;if(s){var a=this.mousedownShape,c=n.timeStamp,l=c-this.mousedownTimeStamp,u=s.clientX-t.clientX,d=s.clientY-t.clientY,h=u*u+d*d;l>120||h>fa?a&&a.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!a&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var s=this._getEventObj(t,e,n,r,i,o);if(r){s.shape=r,ma(r,t,s);var a=r.getParent();while(a)a.emitDelegation(t,s),s.propagationStopped||va(a,t,s),s.propagationPath.push(a),a=a.getParent()}else{var c=this.canvas;ma(c,t,s)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),ya=ba,ka="px",wa=ci(),_a=wa&&"firefox"===wa.name,Aa=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,y.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["cursor"]="default",e["supportCSSTransform"]=!1,e},e.prototype.initContainer=function(){var t=this.get("container");(0,k.isString)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var e=this.get("container");e.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new ya({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new ha(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");Wr&&(n.style.width=t+ka,n.style.height=e+ka)},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");Wr&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){var e=this.get("supportCSSTransform");if(e){if(_a&&!(0,k.isNil)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,k.isNil)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var n=this.getClientByEvent(t),r=n.x,i=n.y;return this.getPointByClient(r,i)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el"),r=n.getBoundingClientRect();return{x:t-r.left,y:e-r.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el"),r=n.getBoundingClientRect();return{x:t+r.left,y:e+r.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(ji),Ca=Aa,xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(ji),Ea=xa,Sa=function(t){function e(e){return t.call(this,e)||this}return(0,y.__extends)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;if(e){var s=gi(e,[t.minX,t.minY]),a=gi(e,[t.maxX,t.minY]),c=gi(e,[t.minX,t.maxY]),l=gi(e,[t.maxX,t.maxY]);n=Math.min(s[0],a[0],c[0],l[0]),i=Math.max(s[0],a[0],c[0],l[0]),r=Math.min(s[1],a[1],c[1],l[1]),o=Math.max(s[1],a[1],c[1],l[1])}var u=this.attrs;if(u.shadowColor){var d=u.shadowBlur,h=void 0===d?0:d,f=u.shadowOffsetX,p=void 0===f?0:f,g=u.shadowOffsetY,m=void 0===g?0:g,v=n-h+p,b=i+h+p,y=r-h+m,k=o+h+m;n=Math.min(n,v),i=Math.max(i,b),r=Math.min(r,y),o=Math.max(o,k)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1];i=this.invertFromMatrix(i);var o=i[0],s=i[1],a=this._isInBBox(o,s);if(this.isOnlyHitBox())return a;if(a&&!this.isClipped(o,s)){if(this.isInShape(o,s))return!0;if(n&&n.isHit(o,s))return!0;if(r&&r.isHit(o,s))return!0}return!1},e}(Mi),Ma=Sa,Ia=new Map;function Da(t,e){Ia.set(t,e)}function Ta(t){return Ia.get(t)}function Oa(t){var e=t.attr(),n=e.x,r=e.y,i=e.width,o=e.height;return{x:n,y:r,width:i,height:o}}function Na(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}function Pa(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function La(t,e){return Math.abs(t-e)<.001}function Ba(t,e){var n=(0,k.min)(t),r=(0,k.min)(e),i=(0,k.max)(t),o=(0,k.max)(e);return{x:n,y:r,width:i-n,height:o-r}}function Ra(t){return(t+2*Math.PI)%(2*Math.PI)}var ja={box:function(t,e,n,r){return Ba([t,n],[e,r])},length:function(t,e,n,r){return Pa(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var s=(n-t)*(i-t)+(r-e)*(o-e);if(s<0)return Pa(t,e,i,o);var a=(n-t)*(n-t)+(r-e)*(r-e);return s>a?Pa(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){var s=[n-t,r-e];if(Pe.exactEquals(s,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var a=[-s[1],s[0]];Pe.normalize(a,a);var c=[i-t,o-e];return Math.abs(Pe.dot(c,a))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}},za=1e-4;function Fa(t,e,n,r,i,o){var s,a=1/0,c=[n,r],l=20;o&&o>200&&(l=o/10);for(var u=1/l,d=u/10,h=0;h<=l;h++){var f=h*u,p=[i.apply(null,t.concat([f])),i.apply(null,e.concat([f]))],g=Pa(c[0],c[1],p[0],p[1]);g<a&&(s=f,a=g)}if(0===s)return{x:t[0],y:e[0]};if(1===s){var m=t.length;return{x:t[m-1],y:e[m-1]}}a=1/0;for(h=0;h<32;h++){if(d<za)break;var v=s-d,b=s+d;p=[i.apply(null,t.concat([v])),i.apply(null,e.concat([v]))],g=Pa(c[0],c[1],p[0],p[1]);if(v>=0&&g<a)s=v,a=g;else{var y=[i.apply(null,t.concat([b])),i.apply(null,e.concat([b]))],k=Pa(c[0],c[1],y[0],y[1]);b<=1&&k<a?(s=b,a=k):d*=.5}}return{x:i.apply(null,t.concat([s])),y:i.apply(null,e.concat([s]))}}function Va(t,e){for(var n=0,r=t.length,i=0;i<r;i++){var o=t[i],s=e[i],a=t[(i+1)%r],c=e[(i+1)%r];n+=Pa(o,s,a,c)}return n/2}function Ua(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function Ga(t,e,n){var r=t+n-2*e;if(La(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function Ha(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function $a(t,e,n,r,i,o,s){var a=Ua(t,n,i,s),c=Ua(e,r,o,s),l=ja.pointAt(t,e,n,r,s),u=ja.pointAt(n,r,i,o,s);return[[t,e,l.x,l.y,a,c],[a,c,u.x,u.y,i,o]]}function Wa(t,e,n,r,i,o,s){if(0===s)return(Pa(t,e,n,r)+Pa(n,r,i,o)+Pa(t,e,i,o))/2;var a=$a(t,e,n,r,i,o,.5),c=a[0],l=a[1];return c.push(s-1),l.push(s-1),Wa.apply(null,c)+Wa.apply(null,l)}var Ya={box:function(t,e,n,r,i,o){var s=Ga(t,n,i)[0],a=Ga(e,r,o)[0],c=[t,i],l=[e,o];return void 0!==s&&c.push(Ua(t,n,i,s)),void 0!==a&&l.push(Ua(e,r,o,a)),Ba(c,l)},length:function(t,e,n,r,i,o){return Wa(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,s,a){return Fa([t,n,i],[e,r,o],s,a,Ua)},pointDistance:function(t,e,n,r,i,o,s,a){var c=this.nearestPoint(t,e,n,r,i,o,s,a);return Pa(c.x,c.y,s,a)},interpolationAt:Ua,pointAt:function(t,e,n,r,i,o,s){return{x:Ua(t,n,i,s),y:Ua(e,r,o,s)}},divide:function(t,e,n,r,i,o,s){return $a(t,e,n,r,i,o,s)},tangentAngle:function(t,e,n,r,i,o,s){var a=Ha(t,n,i,s),c=Ha(e,r,o,s),l=Math.atan2(c,a);return Ra(l)}};function qa(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function Xa(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function Ka(t,e,n,r){var i,o,s,a=-3*t+9*e-9*n+3*r,c=6*t-12*e+6*n,l=3*e-3*t,u=[];if(La(a,0))La(c,0)||(i=-l/c,i>=0&&i<=1&&u.push(i));else{var d=c*c-4*a*l;La(d,0)?u.push(-c/(2*a)):d>0&&(s=Math.sqrt(d),i=(-c+s)/(2*a),o=(-c-s)/(2*a),i>=0&&i<=1&&u.push(i),o>=0&&o<=1&&u.push(o))}return u}function Za(t,e,n,r,i,o,s,a,c){var l=qa(t,n,i,s,c),u=qa(e,r,o,a,c),d=ja.pointAt(t,e,n,r,c),h=ja.pointAt(n,r,i,o,c),f=ja.pointAt(i,o,s,a,c),p=ja.pointAt(d.x,d.y,h.x,h.y,c),g=ja.pointAt(h.x,h.y,f.x,f.y,c);return[[t,e,d.x,d.y,p.x,p.y,l,u],[l,u,g.x,g.y,f.x,f.y,s,a]]}function Qa(t,e,n,r,i,o,s,a,c){if(0===c)return Va([t,n,i,s],[e,r,o,a]);var l=Za(t,e,n,r,i,o,s,a,.5),u=l[0],d=l[1];return u.push(c-1),d.push(c-1),Qa.apply(null,u)+Qa.apply(null,d)}var Ja={extrema:Ka,box:function(t,e,n,r,i,o,s,a){for(var c=[t,s],l=[e,a],u=Ka(t,n,i,s),d=Ka(e,r,o,a),h=0;h<u.length;h++)c.push(qa(t,n,i,s,u[h]));for(h=0;h<d.length;h++)l.push(qa(e,r,o,a,d[h]));return Ba(c,l)},length:function(t,e,n,r,i,o,s,a){return Qa(t,e,n,r,i,o,s,a,3)},nearestPoint:function(t,e,n,r,i,o,s,a,c,l,u){return Fa([t,n,i,s],[e,r,o,a],c,l,qa,u)},pointDistance:function(t,e,n,r,i,o,s,a,c,l,u){var d=this.nearestPoint(t,e,n,r,i,o,s,a,c,l,u);return Pa(d.x,d.y,c,l)},interpolationAt:qa,pointAt:function(t,e,n,r,i,o,s,a,c){return{x:qa(t,n,i,s,c),y:qa(e,r,o,a,c)}},divide:function(t,e,n,r,i,o,s,a,c){return Za(t,e,n,r,i,o,s,a,c)},tangentAngle:function(t,e,n,r,i,o,s,a,c){var l=Xa(t,n,i,s,c),u=Xa(e,r,o,a,c);return Ra(Math.atan2(u,l))}};function tc(t,e){var n=Math.abs(t);return e>0?n:-1*n}var ec={box:function(t,e,n,r){return{x:t-n,y:e-r,width:2*n,height:2*r}},length:function(t,e,n,r){return Math.PI*(3*(n+r)-Math.sqrt((3*n+r)*(n+3*r)))},nearestPoint:function(t,e,n,r,i,o){var s=n,a=r;if(0===s||0===a)return{x:t,y:e};for(var c,l,u=i-t,d=o-e,h=Math.abs(u),f=Math.abs(d),p=s*s,g=a*a,m=Math.PI/4,v=0;v<4;v++){c=s*Math.cos(m),l=a*Math.sin(m);var b=(p-g)*Math.pow(Math.cos(m),3)/s,y=(g-p)*Math.pow(Math.sin(m),3)/a,k=c-b,w=l-y,_=h-b,A=f-y,C=Math.hypot(w,k),x=Math.hypot(A,_),E=C*Math.asin((k*A-w*_)/(C*x)),S=E/Math.sqrt(p+g-c*c-l*l);m+=S,m=Math.min(Math.PI/2,Math.max(0,m))}return{x:t+tc(c,u),y:e+tc(l,d)}},pointDistance:function(t,e,n,r,i,o){var s=this.nearestPoint(t,e,n,r,i,o);return Pa(s.x,s.y,i,o)},pointAt:function(t,e,n,r,i){var o=2*Math.PI*i;return{x:t+n*Math.cos(o),y:e+r*Math.sin(o)}},tangentAngle:function(t,e,n,r,i){var o=2*Math.PI*i,s=Math.atan2(r*Math.cos(o),-n*Math.sin(o));return Ra(s)}};function nc(t,e,n,r,i,o,s,a){return-1*n*Math.cos(i)*Math.sin(a)-r*Math.sin(i)*Math.cos(a)}function rc(t,e,n,r,i,o,s,a){return-1*n*Math.sin(i)*Math.sin(a)+r*Math.cos(i)*Math.cos(a)}function ic(t,e,n){return Math.atan(-e/t*Math.tan(n))}function oc(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function sc(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function ac(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function cc(t,e,n,r){var i=Math.atan2(r*t,n*e);return(i+2*Math.PI)%(2*Math.PI)}function lc(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function uc(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var dc={box:function(t,e,n,r,i,o,s){for(var a=ic(n,r,i),c=1/0,l=-1/0,u=[o,s],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var h=a+d;o<s?o<h&&h<s&&u.push(h):s<h&&h<o&&u.push(h)}for(d=0;d<u.length;d++){var f=sc(t,e,n,r,i,u[d]);f<c&&(c=f),f>l&&(l=f)}var p=oc(n,r,i),g=1/0,m=-1/0,v=[o,s];for(d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var b=p+d;o<s?o<b&&b<s&&v.push(b):s<b&&b<o&&v.push(b)}for(d=0;d<v.length;d++){var y=ac(t,e,n,r,i,v[d]);y<g&&(g=y),y>m&&(m=y)}return{x:c,y:g,width:l-c,height:m-g}},length:function(t,e,n,r,i,o,s){},nearestPoint:function(t,e,n,r,i,o,s,a,c){var l=uc(a-t,c-e,-i),u=l[0],d=l[1],h=ec.nearestPoint(0,0,n,r,u,d),f=cc(n,r,h.x,h.y);f<o?h=lc(n,r,o):f>s&&(h=lc(n,r,s));var p=uc(h.x,h.y,i);return{x:p[0]+t,y:p[1]+e}},pointDistance:function(t,e,n,r,i,o,s,a,c){var l=this.nearestPoint(t,e,n,r,a,c);return Pa(l.x,l.y,a,c)},pointAt:function(t,e,n,r,i,o,s,a){var c=(s-o)*a+o;return{x:sc(t,e,n,r,i,c),y:ac(t,e,n,r,i,c)}},tangentAngle:function(t,e,n,r,i,o,s,a){var c=(s-o)*a+o,l=nc(t,e,n,r,i,o,s,c),u=rc(t,e,n,r,i,o,s,c);return Ra(Math.atan2(u,l))}};function hc(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],o=t[r+1],s=Pa(i[0],i[1],o[0],o[1]),a={from:i,to:o,length:s};n.push(a),e+=s}return{segments:n,totalLength:e}}function fc(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=Pa(r[0],r[1],i[0],i[1])}return e}function pc(t,e){if(e>1||e<0||t.length<2)return null;var n=hc(t),r=n.segments,i=n.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var o=0,s=null,a=0;a<r.length;a++){var c=r[a],l=c.from,u=c.to,d=c.length/i;if(e>=o&&e<=o+d){var h=(e-o)/d;s=ja.pointAt(l[0],l[1],u[0],u[1],h);break}o+=d}return s}function gc(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=hc(t),r=n.segments,i=n.totalLength,o=0,s=0,a=0;a<r.length;a++){var c=r[a],l=c.from,u=c.to,d=c.length/i;if(e>=o&&e<=o+d){s=Math.atan2(u[1]-l[1],u[0]-l[0]);break}o+=d}return s}function mc(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var o=t[i],s=t[i+1],a=ja.pointDistance(o[0],o[1],s[0],s[1],e,n);a<r&&(r=a)}return r}var vc={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return Ba(e,n)},length:function(t){return fc(t)},pointAt:function(t,e){return pc(t,e)},pointDistance:function(t,e,n){return mc(t,e,n)},tangentAngle:function(t,e){return gc(t,e)}};function bc(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function yc(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape"),i=null,o=null;return n&&(i=n.getCanvasBBox(),e=bc(e,i)),r&&(o=r.getCanvasBBox(),e=bc(e,o)),e}function kc(t){for(var e=t.attr(),n=e.points,r=[],i=[],o=0;o<n.length;o++){var s=n[o];r.push(s[0]),i.push(s[1])}var a=Ba(r,i),c=a.x,l=a.y,u=a.width,d=a.height,h={minX:c,minY:l,maxX:c+u,maxY:l+d};return h=yc(t,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function wc(t){for(var e=t.attr(),n=e.points,r=[],i=[],o=0;o<n.length;o++){var s=n[o];r.push(s[0]),i.push(s[1])}return Ba(r,i)}var _c=null;function Ac(){if(!_c){var t=document.createElement("canvas");t.width=1,t.height=1,_c=t.getContext("2d")}return _c}function Cc(t,e,n){var r=1;if((0,k.isString)(t)&&(r=t.split("\n").length),r>1){var i=xc(e,n);return e*r+i*(r-1)}return e}function xc(t,e){return e?e-t:.14*t}function Ec(t,e){var n=Ac(),r=0;if((0,k.isNil)(t)||""===t)return r;if(n.save(),n.font=e,(0,k.isString)(t)&&t.includes("\n")){var i=t.split("\n");(0,k.each)(i,(function(t){var e=n.measureText(t).width;r<e&&(r=e)}))}else r=n.measureText(t).width;return n.restore(),r}function Sc(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return[i,o,r,e+"px",n].join(" ").trim()}function Mc(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,s=e.lineHeight,a=e.font;a||(a=Sc(e));var c,l=Ec(i,a);if(l){var u=e.textAlign,d=e.textBaseline,h=Cc(i,o,s),f={x:n,y:r-h};u&&("end"===u||"right"===u?f.x-=l:"center"===u&&(f.x-=l/2)),d&&("top"===d?f.y+=h:"middle"===d&&(f.y+=h/2)),c={x:f.x,y:f.y,width:l,height:h}}else c={x:n,y:r,width:0,height:0};return c}var Ic=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Dc=/[^\s\,]+/gi;function Tc(t){var e=t||[];return(0,k.isArray)(e)?e:(0,k.isString)(e)?(e=e.match(Ic),(0,k.each)(e,(function(t,n){if(t=t.match(Dc),t[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}(0,k.each)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0}var Oc=Tc;function Nc(t,e,n,r){var i,o,s,a,c,l,u,d=[],h=!!r;if(h){s=r[0],a=r[1];for(var f=0,p=t.length;f<p;f+=1){var g=t[f];s=Pe.min([0,0],s,g),a=Pe.max([0,0],a,g)}}f=0;for(var m=t.length;f<m;f+=1){g=t[f];if(0!==f||n)if(f!==m-1||n){var v=[f?f-1:m-1,f-1][n?0:1];i=t[v],o=t[n?(f+1)%m:f+1];var b=[0,0];b=Pe.sub(b,o,i),b=Pe.scale(b,b,e);var y=Pe.distance(g,i),k=Pe.distance(g,o),w=y+k;0!==w&&(y/=w,k/=w);var _=Pe.scale([0,0],b,-y),A=Pe.scale([0,0],b,k);l=Pe.add([0,0],g,_),c=Pe.add([0,0],g,A),c=Pe.min([0,0],c,Pe.max([0,0],o,g)),c=Pe.max([0,0],c,Pe.min([0,0],o,g)),_=Pe.sub([0,0],c,g),_=Pe.scale([0,0],_,-y/k),l=Pe.add([0,0],g,_),l=Pe.min([0,0],l,Pe.max([0,0],i,g)),l=Pe.max([0,0],l,Pe.min([0,0],i,g)),A=Pe.sub([0,0],g,l),A=Pe.scale([0,0],A,k/y),c=Pe.add([0,0],g,A),h&&(l=Pe.max([0,0],l,s),l=Pe.min([0,0],l,a),c=Pe.max([0,0],c,s),c=Pe.min([0,0],c,a)),d.push(u),d.push(l),u=c}else l=g,d.push(u),d.push(l);else u=g}return n&&d.push(d.shift()),d}function Pc(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!e,i=[],o=0,s=t.length;o<s;o+=2)i.push([t[o],t[o+1]]);var a,c,l,u=Nc(i,.4,r,n),d=i.length,h=[];for(o=0;o<d-1;o+=1)a=u[2*o],c=u[2*o+1],l=i[o+1],h.push(["C",a[0],a[1],c[0],c[1],l[0],l[1]]);return r&&(a=u[d],c=u[d+1],l=i[0],h.push(["C",a[0],a[1],c[0],c[1],l[0],l[1]])),h}var Lc=Pc;var Bc="\t\n\v\f\r   ᠎             　\u2028\u2029",Rc=new RegExp("([a-z])["+Bc+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Bc+"]*,?["+Bc+"]*)+)","ig"),jc=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Bc+"]*,?["+Bc+"]*","ig");function zc(t){if(!t)return null;if((0,k.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(Rc,(function(t,r,i){var o=[],s=r.toLowerCase();if(i.replace(jc,(function(t,e){e&&o.push(+e)})),"m"===s&&o.length>2&&(n.push([r].concat(o.splice(0,2))),s="l",r="m"===r?"l":"L"),"o"===s&&1===o.length&&n.push([r,o[0]]),"r"===s)n.push([r].concat(o));else while(o.length>=e[s])if(n.push([r].concat(o.splice(0,e[s]))),!e[s])break;return""})),n}var Fc=/[a-z]/;function Vc(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function Uc(t){var e=zc(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(Fc.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return e;var o=[],s=0,a=0,c=0,l=0,u=0,d=e[0];"M"!==d[0]&&"m"!==d[0]||(s=+d[1],a=+d[2],c=s,l=a,u++,o[0]=["M",s,a]);r=u;for(var h=e.length;r<h;r++){var f=e[r],p=o[r-1],g=[],m=(i=f[0],i.toUpperCase());if(i!==m)switch(g[0]=m,m){case"A":g[1]=f[1],g[2]=f[2],g[3]=f[3],g[4]=f[4],g[5]=f[5],g[6]=+f[6]+s,g[7]=+f[7]+a;break;case"V":g[1]=+f[1]+a;break;case"H":g[1]=+f[1]+s;break;case"M":c=+f[1]+s,l=+f[2]+a,g[1]=c,g[2]=l;break;default:for(var v=1,b=f.length;v<b;v++)g[v]=+f[v]+(v%2?s:a)}else g=e[r];switch(m){case"Z":s=+c,a=+l;break;case"H":s=g[1],g=["L",s,a];break;case"V":a=g[1],g=["L",s,a];break;case"T":s=g[1],a=g[2];var y=Vc([p[1],p[2]],[p[3],p[4]]);g=["Q",y[0],y[1],s,a];break;case"S":s=g[g.length-2],a=g[g.length-1];var k=p.length,w=Vc([p[k-4],p[k-3]],[p[k-2],p[k-1]]);g=["C",w[0],w[1],g[1],g[2],s,a];break;case"M":c=g[g.length-2],l=g[g.length-1];break;default:s=g[g.length-2],a=g[g.length-1]}o.push(g)}return o}Math.PI;function Gc(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Hc(t,e){return Gc(t)*Gc(e)?(t[0]*e[0]+t[1]*e[1])/(Gc(t)*Gc(e)):1}function $c(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Hc(t,e))}function Wc(t,e){return t[0]===e[0]&&t[1]===e[1]}function Yc(t,e){var n=e[1],r=e[2],i=(0,k.mod)((0,k.toRadian)(e[3]),2*Math.PI),o=e[4],s=e[5],a=t[0],c=t[1],l=e[6],u=e[7],d=Math.cos(i)*(a-l)/2+Math.sin(i)*(c-u)/2,h=-1*Math.sin(i)*(a-l)/2+Math.cos(i)*(c-u)/2,f=d*d/(n*n)+h*h/(r*r);f>1&&(n*=Math.sqrt(f),r*=Math.sqrt(f));var p=n*n*(h*h)+r*r*(d*d),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===s&&(g*=-1),isNaN(g)&&(g=0);var m=r?g*n*h/r:0,v=n?g*-r*d/n:0,b=(a+l)/2+Math.cos(i)*m-Math.sin(i)*v,y=(c+u)/2+Math.sin(i)*m+Math.cos(i)*v,w=[(d-m)/n,(h-v)/r],_=[(-1*d-m)/n,(-1*h-v)/r],A=$c([1,0],w),C=$c(w,_);return Hc(w,_)<=-1&&(C=Math.PI),Hc(w,_)>=1&&(C=0),0===s&&C>0&&(C-=2*Math.PI),1===s&&C<0&&(C+=2*Math.PI),{cx:b,cy:y,rx:Wc(t,[l,u])?0:n,ry:Wc(t,[l,u])?0:r,startAngle:A,endAngle:A+C,xRotation:i,arcFlag:o,sweepFlag:s}}function qc(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function Xc(t){t=Oc(t);for(var e=[],n=null,r=null,i=null,o=0,s=t.length,a=0;a<s;a++){var c=t[a];r=t[a+1];var l=c[0],u={command:l,prePoint:n,params:c,startTangent:null,endTangent:null};switch(l){case"M":i=[c[1],c[2]],o=a;break;case"A":var d=Yc(n,c);u["arcParams"]=d;break;default:break}if("Z"===l)n=i,r=t[o+1];else{var h=c.length;n=[c[h-2],c[h-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),u["currentPoint"]=n,e[o]&&Wc(n,e[o].currentPoint)&&(e[o].prePoint=u.prePoint);var f=r?[r[r.length-2],r[r.length-1]]:null;u["nextPoint"]=f;var p=u.prePoint;if(["L","H","V"].includes(l))u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===l){var g=[c[1],c[2]];u.startTangent=[p[0]-g[0],p[1]-g[1]],u.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===l){var m=e[a-1];g=qc(m.currentPoint,p);"Q"===m.command?(u.command="Q",u.startTangent=[p[0]-g[0],p[1]-g[1]],u.endTangent=[n[0]-g[0],n[1]-g[1]]):(u.command="TL",u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===l){var v=[c[1],c[2]],b=[c[3],c[4]];u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-b[0],n[1]-b[1]],0===u.startTangent[0]&&0===u.startTangent[1]&&(u.startTangent=[v[0]-b[0],v[1]-b[1]]),0===u.endTangent[0]&&0===u.endTangent[1]&&(u.endTangent=[b[0]-v[0],b[1]-v[1]])}else if("S"===l){m=e[a-1],v=qc(m.currentPoint,p),b=[c[1],c[2]];"C"===m.command?(u.command="C",u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-b[0],n[1]-b[1]]):(u.command="SQ",u.startTangent=[p[0]-b[0],p[1]-b[1]],u.endTangent=[n[0]-b[0],n[1]-b[1]])}else if("A"===l){var y=.001,k=u["arcParams"]||{},w=k.cx,_=void 0===w?0:w,A=k.cy,C=void 0===A?0:A,x=k.rx,E=void 0===x?0:x,S=k.ry,M=void 0===S?0:S,I=k.sweepFlag,D=void 0===I?0:I,T=k.startAngle,O=void 0===T?0:T,N=k.endAngle,P=void 0===N?0:N;0===D&&(y*=-1);var L=E*Math.cos(O-y)+_,B=M*Math.sin(O-y)+C;u.startTangent=[L-i[0],B-i[1]];var R=E*Math.cos(O+P+y)+_,j=M*Math.sin(O+P-y)+C;u.endTangent=[p[0]-R,p[1]-j]}e.push(u)}return e}function Kc(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var s=t[o],a=s.currentPoint,c=s.params,l=s.prePoint,u=void 0;switch(s.command){case"Q":u=Ya.box(l[0],l[1],c[1],c[2],c[3],c[4]);break;case"C":u=Ja.box(l[0],l[1],c[1],c[2],c[3],c[4],c[5],c[6]);break;case"A":var d=s.arcParams;u=dc.box(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:n.push(a[0]),r.push(a[1]);break}u&&(s.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height)),e&&("L"===s.command||"M"===s.command)&&s.prePoint&&s.nextPoint&&i.push(s)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var h=(0,k.min)(n),f=(0,k.min)(r),p=(0,k.max)(n),g=(0,k.max)(r);if(0===i.length)return{x:h,y:f,width:p-h,height:g-f};for(o=0;o<i.length;o++){s=i[o],a=s.currentPoint;var m=void 0;a[0]===h?(m=Zc(s,e),h-=m.xExtra):a[0]===p&&(m=Zc(s,e),p+=m.xExtra),a[1]===f?(m=Zc(s,e),f-=m.yExtra):a[1]===g&&(m=Zc(s,e),g+=m.yExtra)}return{x:h,y:f,width:p-h,height:g-f}}function Zc(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),s=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),a=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),c=Math.acos((o+s-a)/(2*Math.sqrt(o)*Math.sqrt(s)));if(!c||0===Math.sin(c)||(0,k.isNumberEqual)(c,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),u=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));l=l>Math.PI/2?Math.PI-l:l,u=u>Math.PI/2?Math.PI-u:u;var d={xExtra:Math.cos(c/2-l)*(e/2*(1/Math.sin(c/2)))-e/2||0,yExtra:Math.cos(u-c/2)*(e/2*(1/Math.sin(c/2)))-e/2||0};return d}function Qc(t){var e=t.attr(),n=e.path,r=e.stroke,i=r?e.lineWidth:0,o=t.get("segments")||Xc(n),s=Kc(o,i),a=s.x,c=s.y,l=s.width,u=s.height,d={minX:a,minY:c,maxX:a+l,maxY:c+u};return d=yc(t,d),{x:d.minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}function Jc(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,s=Math.min(n,i),a=Math.max(n,i),c=Math.min(r,o),l=Math.max(r,o),u={minX:s,maxX:a,minY:c,maxY:l};return u=yc(t,u),{x:u.minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}}function tl(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}Da("rect",Oa),Da("image",Oa),Da("circle",Na),Da("marker",Na),Da("polyline",kc),Da("polygon",wc),Da("text",Mc),Da("path",Qc),Da("line",Jc),Da("ellipse",tl);var el=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.item=n.item,r.canvasX=n.canvasX,r.canvasY=n.canvasY,r.wheelDelta=n.wheelDelta,r.detail=n.detail,r}return(0,y.__extends)(e,t),e}(Hr),nl=function(t){return"".concat(t,"-").concat(Math.random()).concat(Date.now())},rl=function(t){if((0,k.isArray)(t))switch(t.length){case 4:return t;case 3:return t.push(t[1]),t;case 2:return t.concat(t);case 1:return[t[0],t[0],t[0],t[0]];default:return[0,0,0,0]}if((0,k.isNumber)(t))return[t,t,t,t];if((0,k.isString)(t)){var e=parseInt(t,10);return[e,e,e,e]}return[0,0,0,0]},il=function(t){var e=new el(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},ol=function(t){if(!t)return!1;for(var e=9,n=[1,0,0,0,1,0,0,0,1],r=0;r<e;r++)if(t[r]!==n[r])return!0;return!1},sl=function(t){return Number.isNaN(Number(t))},al=function(t){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++){var s=t[o],a=s.getBBox(),c=a.minX,l=a.minY,u=a.maxX,d=a.maxY;c<e&&(e=c),l<r&&(r=l),u>n&&(n=u),d>i&&(i=d)}var h=Math.floor(e),f=Math.floor(r),p=Math.ceil(n)-Math.floor(e),g=Math.ceil(i)-Math.floor(r);return{x:h,y:f,width:p,height:g,minX:e,minY:r,maxX:n,maxY:i}},cl=function(t,e,n,r,i){void 0===e&&(e=15),void 0===n&&(n="quadratic"),void 0===r&&(r=void 0),void 0===i&&(i=void 0);for(var o=t.length,s=2*e,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],c={},l=[],u={},d=0;d<o;d++){var h=t[d],f=h.source,p=h.target,g="".concat(f,"-").concat(p);if(!l[d]){c[g]||(c[g]=[]),l[d]=!0,c[g].push(h);for(var m=0;m<o;m++)if(d!==m){var v=t[m],b=v.source,y=v.target;l[m]||(f===y&&p===b?(c[g].push(v),l[m]=!0,u["".concat(b,"|").concat(y,"|").concat(c[g].length-1)]=!0):f===b&&p===y&&(c[g].push(v),l[m]=!0))}}}for(var k in c)for(var w=c[k],_=w.length,A=0;A<_;A++){var C=w[A];if(C.source!==C.target)if(1===_&&r&&C.source!==C.target)C.type=r;else{C.type=n;var x=(A%2===0?1:-1)*(u["".concat(C.source,"|").concat(C.target,"|").concat(A)]?-1:1);C.curveOffset=_%2===1?x*Math.ceil(A/2)*s:x*(Math.floor(A/2)*s+e)}else i&&(C.type=i),C.loopCfg={position:a[A%8],dist:20*Math.floor(A/8)+50}}return t},ll=n(7114),ul=function(){function t(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}return t.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,n=this.graph.get("width"),r=e.get("height");return{x:(n-t[1]-t[3])/2+t[3],y:(r-t[0]-t[2])/2+t[0]}},t.prototype.fitCenter=function(t,e){var n,r=this.graph,i=r.get("group"),o=r.getNodes();if(o.length>r.get("optimizeThreshold")){var s=1/0,a=1/0,c=-1/0,l=-1/0;o.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y;s>n&&(s=n),a>r&&(a=r),c<n&&(c=n),l<r&&(l=r)}));var u=i.getMatrix()||[1,0,0,0,1,0,0,0,1],d=Ue({x:s,y:a},u),h=d.x,f=d.y,p=Ue({x:c,y:l},u),g=p.x,m=p.y;n={minX:h,maxX:g,minY:f,maxY:m,width:g-h,height:m-f,x:h,y:f}}else n=i.getCanvasBBox();if(0!==n.width&&0!==n.height){var v=this.getViewCenter(),b={x:n.x+n.width/2,y:n.y+n.height/2};r.translate(v.x-b.x,v.y-b.y,t,e)}},t.prototype.animatedFitView=function(t,e,n,r,i,o,s,a){var c=this.graph;n=n||{duration:500,easing:"easeCubic"};var l=[1,0,0,0,1,0,0,0,1],u=r.x+i.x-o.x-r.minX,d=r.y+i.y-o.y-r.minY;if(!sl(u)&&!sl(d)){var h=(0,ll.pd)(l,[["t",u,d]]);if(a){var f=c.get("minZoom"),p=c.get("maxZoom"),g=s;f&&s<f?(g=f,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph minzoom has been used instead")):p&&s>p&&(g=p,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph maxzoom has been used instead"));var m=(0,ll.pd)(h,[["t",-i.x,-i.y],["s",g,g],["t",i.x,i.y]]),v=er({animateCfg:n,callback:function(){t.setMatrix(m),c.emit("viewportchange",{action:"translate",matrix:h}),c.emit("viewportchange",{action:"zoom",matrix:m})}});t.stopAnimate(),t.setMatrix(e),t.animate((function(t){return{matrix:bn(e,m,t)}}),v)}else{var b=er({animateCfg:n,callback:function(){c.emit("viewportchange",{action:"translate",matrix:h})}});t.animate((function(t){return{matrix:bn(e,h,t)}}),b)}}},t.prototype.fitView=function(t,e){var n,r=this.graph,i=this.getFormatPadding(),o=r.get("width"),s=r.get("height"),a=r.get("group"),c=a.getMatrix()||[1,0,0,0,1,0,0,0,1];a.resetMatrix();var l=r.getNodes();if(l.length>r.get("optimizeThreshold")){var u=1/0,d=1/0,h=-1/0,f=-1/0;l.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y;u>n&&(u=n),d>r&&(d=r),h<n&&(h=n),f<r&&(f=r)})),n={minX:u,maxX:h,minY:d,maxY:f,width:h-u,height:f-d,x:u,y:d}}else n=a.getCanvasBBox();if(0!==n.width&&0!==n.height){var p=this.getViewCenter(),g={x:n.x+n.width/2,y:n.y+n.height/2},m=(o-i[1]-i[3])/n.width,v=(s-i[0]-i[2])/n.height,b=m;if(m>v&&(b=v),t)this.animatedFitView(a,c,e,n,p,g,b,!0);else{var y=p.x-g.x,k=p.y-g.y;if(sl(y)||sl(k))return;r.translate(y,k),r.zoom(b,p)||console.warn("zoom failed, ratio out of range, ratio: %f",b)}}},t.prototype.fitViewByRules=function(t,e,n){var r,i=t.onlyOutOfViewPort,o=void 0!==i&&i,s=t.direction,a=void 0===s?"both":s,c=t.ratioRule,l=void 0===c?"min":c,u=this.graph,d=this.getFormatPadding(),h=u.get("width"),f=u.get("height"),p=u.get("group"),g=p.getMatrix()||[1,0,0,0,1,0,0,0,1];p.resetMatrix();var m=u.getNodes();if(m.length>u.get("optimizeThreshold")){var v=1/0,b=1/0,y=-1/0,k=-1/0;m.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y;v>n&&(v=n),b>r&&(b=r),y<n&&(y=n),k<r&&(k=r)})),r={minX:v,maxX:y,minY:b,maxY:k,width:y-v,height:k-b,x:v,y:b}}else r=p.getCanvasBBox();if(0!==r.width&&0!==r.height){var w,_=this.getViewCenter(),A={x:r.x+r.width/2,y:r.y+r.height/2},C=(h-d[1]-d[3])/r.width,x=(f-d[0]-d[2])/r.height;if(w="x"===a?C:"y"===a?x:"max"===l?Math.max(C,x):Math.min(C,x),o&&(w=w<1?w:1),e)this.animatedFitView(p,g,n,r,_,A,w,!0);else{var E=u.getZoom(),S=E*w,M=u.get("minZoom");S<M&&(S=M,console.warn("fitview failed, ratio out of range, ratio: %f",w,"graph minzoom has been used instead")),u.translate(_.x-A.x,_.y-A.y),u.zoomTo(S,_)}}},t.prototype.getFormatPadding=function(){var t=this.graph.get("fitViewPadding");return rl(t)},t.prototype.focusPoint=function(t,e,n){var r=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),e){var a=(o.x-t.x)*s[0],c=(o.y-t.y)*s[4],l=0,u=0,d=0,h=0;this.graph.get("canvas").animate((function(t){d=a*t,h=c*t,r.graph.translate(d-l,h-u),l=d,u=h}),(0,y.__assign)({},n))}else this.graph.translate((o.x-t.x)*s[0],(o.y-t.y)*s[4])},t.prototype.getPointByCanvas=function(t,e){var n=this.graph.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=Ge({x:t,y:e},n);return r},t.prototype.getPointByClient=function(t,e){var n=this.graph.get("canvas"),r=n.getPointByClient(t,e);return this.getPointByCanvas(r.x,r.y)},t.prototype.getClientByPoint=function(t,e){var n=this.graph.get("canvas"),r=this.getCanvasByPoint(t,e),i=n.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},t.prototype.getCanvasByPoint=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),Ue({x:t,y:e},n)},t.prototype.focus=function(t,e,n){if((0,k.isString)(t)&&(t=this.graph.findById(t)),t){var r=0,i=0;if(t.getType&&"edge"===t.getType()){var o=t.getSource().get("group").getMatrix(),s=t.getTarget().get("group").getMatrix();o&&s?(r=(o[6]+s[6])/2,i=(o[7]+s[7])/2):(o||s)&&(r=o?o[6]:s[6],i=o?o[7]:s[7])}else{var a=t.get("group"),c=a.getMatrix();c||(c=[1,0,0,0,1,0,0,0,1]),r=c[6],i=c[7]}this.focusPoint({x:r,y:i},e,n)}},t.prototype.focusItems=function(t,e,n,r){if(t.length){var i=this.graph,o=this.getFormatPadding(),s=i.get("width"),a=i.get("height"),c=i.get("group"),l=c.getMatrix()||[1,0,0,0,1,0,0,0,1];c.resetMatrix();for(var u={x:0,y:0,minX:Number.MAX_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER,width:0,height:0},d=0,h=t;d<h.length;d++){var f=h[d],p=f.getBBox();p.minX<u.minX&&(u.minX=p.minX),p.minY<u.minY&&(u.minY=p.minY),p.maxX>u.maxX&&(u.maxX=p.maxX),p.maxY>u.maxY&&(u.maxY=p.maxY)}if(u.x=u.minX,u.y=u.minY,u.width=u.maxX-u.minX,u.height=u.maxY-u.minY,0!==u.width&&0!==u.height){var g=this.getViewCenter(),m={x:u.x+u.width/2,y:u.y+u.height/2},v=(s-o[1]-o[3])/u.width,b=(a-o[0]-o[2])/u.height,y=v;v>b&&(y=b),n?this.animatedFitView(c,l,r,u,g,m,y,e):(i.translate(g.x-m.x,g.y-m.y),e&&!i.zoom(y,g)&&console.warn("zoom failed, ratio out of range, ratio: %f",y))}}},t.prototype.changeSize=function(t,e){var n=this.graph;if(!(0,k.isNumber)(t)||!(0,k.isNumber)(e))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:t,height:e});var r=n.get("canvas");r.changeSize(t,e);var i=n.get("plugins");i.forEach((function(t){t.get("gridContainer")&&t.positionInit()}))},t.prototype.destroy=function(){this.graph=null,this.destroyed=!1},t}(),dl=ul;function hl(t){return hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(t)}function fl(t){if("string"!==typeof t)return t;var e=function(t){if("string"!==typeof t)return t;try{return JSON.parse(t.trim())}catch(e){return t.trim()}},n=e(t);if("string"!==typeof n)return n;var r=function(t){return t[t.length-1]},i=t.trim(),o=[],s=[],a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.some((function(t){return r(s)===t}))},c=function(){return r(o)},l=null,u=0,d="";while(u<i.length){var h=i[u],f=a('"',"'");if(f||h.trim()){var p="\\"===i[u-1],g=a("}"),m=a("]"),v=a(","),b=c();if(f)if(r(s)!==h||p)d+=h;else{s.pop();var y=e(d);b.push(y),l=y,d=""}else if(m&&","===h)d&&(b.push(e(d)),d="");else if(g&&":"===h)s.push(","),d&&(b.push(d),d="");else if(v&&","===h)d&&(b.push(e(d)),d=""),s.pop();else if("}"===h&&(g||v)){d&&(b.push(e(d)),d=""),v&&s.pop();for(var k={},w=1;w<b.length;w+=2)k[b[w-1]]=b[w];o.pop(),o.length&&r(o).push(k),s.pop(),l=k}else"]"===h&&m?(d&&(b.push(e(d)),d=""),o.pop(),o.length&&r(o).push(b),s.pop(),l=b):"{"===h?(o.push([]),s.push("}")):"["===h?(o.push([]),s.push("]")):'"'===h?s.push('"'):"'"===h?s.push("'"):d+=h;u+=1}else u+=1}return l||d}var pl=function(t){return t.split("-").reduce((function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)}))},gl=function(t){return function(e){var n=t.length,r=[],i=0,o="";while(i<n)if("{"===t[i]&&"{"===t[i+1])r.push(o),o="",i+=2;else if("}"===t[i]&&"}"===t[i+1]){if(r.length){var s=r.pop();o=(0,k.get)(e,o,s.endsWith("=")?'"{'.concat(o,'}"'):o),r.push(s+o)}i+=2,o=""}else o+=t[i],i+=1;return r.push(o),r.map((function(t,e){return r[e-1]&&r[e-1].endsWith("=")?'"{'.concat(t,'}"'):t})).join("")}};function ml(t,e){var n={},r=t.getAttributeNames&&t.getAttributeNames()||[],i=t.children&&Array.from(t.children).map((function(t){return ml(t,e)})),o={},s=t.tagName?t.tagName.toLowerCase():"group";return"text"===s&&(n.text=t.innerText),o.type=s,"img"===s&&(o.type="image"),Array.from(r).forEach((function(e){var r=pl(e),i=t.getAttribute(e);try{if("style"===r||"attrs"===r){var s=fl(i);n=(0,y.__assign)((0,y.__assign)({},n),s)}else o[r]=fl(i)}catch(a){if("style"===r)throw a;o[r]=i}})),o.attrs=n,e&&e.style&&o.name&&"object"===hl(e.style[o.name])&&(o.attrs=(0,y.__assign)((0,y.__assign)({},o.attrs),e.style[o.name])),e&&e.style&&o.keyshape&&(o.attrs=(0,y.__assign)((0,y.__assign)({},o.attrs),e.style)),i.length&&(o.children=i),o}function vl(t,e,n){var r,i,o=t.attrs,s=void 0===o?{}:o,a={x:e.x||0,y:e.y||0,width:n.width||0,height:n.height||0};switch(t.type){case"maker":case"circle":s.r&&(i=2*s.r,r=2*s.r);break;case"text":s.text&&(i=qn(s.text,s.fontSize||12)[0],r=16,a.y+=r,a.height=r,a.width=i,t.attrs=(0,y.__assign)({fontSize:12,fill:"#000"},s));break;default:s.width&&(i=s.width),s.height&&(r=s.height)}return r>=0&&(a.height=r),i>=0&&(a.width=i),s.marginTop&&(a.y+=s.marginTop),s.marginLeft&&(a.x+=s.marginLeft),a}function bl(t,e){var n;void 0===e&&(e={x:0,y:0});var r=(0,y.__assign)({x:0,y:0,width:0,height:0},e);if(null===(n=t.children)||void 0===n?void 0:n.length){var i=t.attrs,o=void 0===i?{}:i,s=o.marginTop,a=(0,y.__assign)({},e);s&&(a.y+=s);for(var c=0;c<t.children.length;c++){t.children[c].attrs.key="".concat(o.key||"root"," -").concat(c," ");var l=bl(t.children[c],a);if(l.bbox){var u=l.bbox;"inline"===l.attrs.next?a.x+=l.bbox.width:a.y+=l.bbox.height,u.width+u.x>r.width&&(r.width=u.width+u.x),u.height+u.y>r.height&&(r.height=u.height+u.y)}}}return t.bbox=vl(t,e,r),t.attrs=(0,y.__assign)((0,y.__assign)({},t.attrs),t.bbox),t}function yl(t,e){var n,r,i,o,s=(t||{}).type,a=((null===e||void 0===e?void 0:e.attrs)||{}).key;if(a&&t&&(t.attrs.key=a),!t&&e)return{action:"delete",val:e,type:s,key:a};if(t&&!e)return{action:"add",val:t,type:s};if(!t&&!e)return{action:"same",type:s};var c=[];if((null===(n=t.children)||void 0===n?void 0:n.length)>0||(null===(r=e.children)||void 0===r?void 0:r.length)>0)for(var l=Math.max(null===(i=t.children)||void 0===i?void 0:i.length,null===(o=e.children)||void 0===o?void 0:o.length),u=e.children||[],d=t.children||[],h=0;h<l;h+=1)c.push(yl(d[h],u[h]));var f=Object.keys(e.attrs),p=Object.keys(t.attrs);return e.type!==t.type?{action:"restructure",nowTarget:t,formerTarget:e,key:a,children:c}:f.filter((function(t){return"children"!==t})).some((function(n){return t.attrs[n]!==e.attrs[n]||!p.includes(n)}))?{action:"change",val:t,children:c,type:s,key:a}:{action:"same",children:c,type:s,key:a}}function kl(t){var e={},n=function(e){var n="function"===typeof t?t(e):t,r=gl(n)(e),i=document.createElement("div");i.innerHTML=r;var o=i.children[0],s=bl(ml(o,e));return i.remove(),s};return{draw:function(t,r){var i=n(t),o=r,s=function t(e){var n=e.attrs,i=void 0===n?{}:n,s=e.bbox,a=e.type,c=e.children,l=(0,y.__rest)(e,["attrs","bbox","type","children"]);if("group"!==e.type){var u=r.addShape(e.type,(0,y.__assign)({attrs:i,origin:{bbox:s,type:a,children:c}},l));e.keyshape&&(o=u)}e.children&&e.children.forEach((function(e){return t(e)}))};return s(i),e[t.id]=[i],o},update:function(t,r){e[t.id]||(e[t.id]=[]);var i=r.getContainer(),o=i.get("children"),s=n(t),a=e[t.id].pop(),c=yl(s,a),l=function t(e){var n;"group"!==e.type&&i.addShape(e.type,{attrs:e.attrs}),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map((function(e){return t(e)}))},u=function t(e){var n,r=o.find((function(t){return t.attrs.key===e.attrs.key}));r&&i.removeChild(r),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map((function(e){return t(e)}))},d=function t(e){var n=e.key;if("group"!==e.type){var i=o.find((function(t){return t.attrs.key===n}));switch(e.action){case"change":if(i){var s=e.val.keyshape?r.getOriginStyle():{};i.attr((0,y.__assign)((0,y.__assign)({},s),e.val.attrs))}break;case"add":l(e.val);break;case"delete":u(e.val);break;case"restructure":u(e.formerTarget),l(e.nowTarget);break;default:break}}e.children&&e.children.forEach((function(e){return t(e)}))};d(c),e[t.id].push(s)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var wl={};function _l(t){return wl[t]||(wl[t]=(0,k.upperFirst)(t)),wl[t]}var Al={defaultShapeType:"defaultType",className:null,getShape:function(t){var e=this,n=e[t]||e[e.defaultShapeType]||e["simple-circle"];return n},draw:function(t,e,n){var r=this.getShape(t);n["shapeMap"]={};var i=r.draw(e,n);return r.afterDraw&&r.afterDraw(e,n,i),i},baseUpdate:function(t,e,n,r){var i,o,s=this.getShape(t);s.update&&(s.mergeStyle=null===(i=s.getOptions)||void 0===i?void 0:i.call(s,e,r),null===(o=s.update)||void 0===o||o.call(s,e,n,r)),s.afterUpdate&&s.afterUpdate(e,n)},setState:function(t,e,n,r){var i=this.getShape(t);i.setState(e,n,r)},shouldUpdate:function(t){var e=this.getShape(t);return!!e.update},getControlPoints:function(t,e){var n=this.getShape(t);return n.getControlPoints(e)},getAnchorPoints:function(t,e){var n=this.getShape(t);return n.getAnchorPoints(e)}},Cl={options:{},draw:function(t,e){return this.drawShape(t,e)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e=this.options.anchorPoints,n=t.anchorPoints||e;return n}},xl=function(){function t(){}return t.registerFactory=function(e,n){var r=_l(e),i=Al,o=(0,y.__assign)((0,y.__assign)({},i),n);return t[r]=o,o.className=r,o},t.getFactory=function(e){var n=_l(e);return t[n]},t.registerNode=function(e,n,r){var i,o=t.Node;if("string"===typeof n||"function"===typeof n){var s=kl(n);i=(0,y.__assign)((0,y.__assign)({},o.getShape("single-node")),s)}else if(n.jsx){var a=n.jsx;s=kl(a);i=(0,y.__assign)((0,y.__assign)((0,y.__assign)({},o.getShape("single-node")),s),n)}else{o.getShape(r);var c=r?o.getShape(r):Cl;i=(0,y.__assign)((0,y.__assign)({},c),n)}return i.type=e,i.itemType="node",o[e]=i,i},t.registerEdge=function(e,n,r){var i=t.Edge,o=r?i.getShape(r):Cl,s=(0,y.__assign)((0,y.__assign)({},o),n);return s.type=e,s.itemType="edge",i[e]=s,s},t.registerCombo=function(e,n,r){var i=t.Combo,o=r?i.getShape(r):Cl,s=(0,y.__assign)((0,y.__assign)({},o),n);return s.type=e,s.itemType="combo",i[e]=s,s},t}(),El=xl;xl.registerFactory("node",{defaultShapeType:"circle"}),xl.registerFactory("edge",{defaultShapeType:"line"}),xl.registerFactory("combo",{defaultShapeType:"circle"});var Sl="bboxCache",Ml="bboxCanvasCache",Il=function(){function t(t){this._cfg={},this.destroyed=!1,this.optimize=!1;var e={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(e,this.getDefaultCfg(),t);var n=this.get("model"),r=n.id,i=this.get("type");"undefined"===typeof r?r=nl(i):"string"!==typeof r&&(r=String(r)),this.get("model").id=r,this.set("id",r);var o=t.group;o&&(o.set("item",this),o.set("id",r)),this.init(),this.draw();var s=n.shape||n.type||("edge"===i?"line":"circle"),a=this.get("shapeFactory");if(a&&a[s]){var c=a[s].options;if(c&&c.stateStyles){var l=this.get("styles")||n.stateStyles;l=(0,k.deepMix)({},c.stateStyles,l),this.set("styles",l)}}}return t.prototype.calculateBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=Fn(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=Fn(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.drawInner=function(){var t=this,e=t.get("shapeFactory"),n=t.get("group"),r=t.get("model");n.clear();var i=r.visible;if(void 0===i||i||t.changeVisibility(i),e){t.updatePosition(r);var o=t.getShapeCfg(r),s=o.type,a=e.draw(s,o,n);a&&(t.set("keyShape",a),a.set("isKeyShape",!0),a.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(e,s)}},t.prototype.setOriginStyle=function(){var t=this.get("group"),e=t.get("children"),n=this.getKeyShape(),r=this,i=n.get("name");if(this.get("originStyle")){var o=this.get("originStyle");i&&!o[i]&&(o[i]={});var s=this.getCurrentStatesStyle(),a=function(t){var n=e[t],a=n.get("name"),c=n.attr();if(a&&a!==i){var l=s[a];o[a]||(o[a]={}),l?Object.keys(c).forEach((function(t){var e=c[t];e!==l[t]&&(o[a][t]=e)})):o[a]="image"!==n.get("type")?(0,k.clone)(c):r.getShapeStyleByName(a)}else{var u=n.attr(),d={};Object.keys(s).forEach((function(t){var e=s[t];t!==i&&(0,k.isPlainObject)(e)||(d[t]=e)})),Object.keys(u).forEach((function(t){var e=u[t];d[t]!==e&&(i?o[i][t]=e:o[t]=e)}))}};for(l=0;l<e.length;l++)a(l);delete o.path,delete o.matrix,delete o.x,delete o.y,o[i]&&(delete o[i].x,delete o[i].y,delete o[i].matrix,delete o[i].path),r.set("originStyle",o)}else{for(var c={},l=0;l<e.length;l++){var u=e[l],d=u.get("type"),h=u.get("name");if(h&&h!==i)c[h]="image"!==d?(0,k.clone)(u.attr()):r.getShapeStyleByName(h),"text"===d&&c[h]&&(delete c[h].x,delete c[h].y,delete c[h].matrix);else{var f=r.getShapeStyleByName();if(delete f.path,delete f.matrix,i)if(h)c[i]=f;else{var p=nl("shape");u.set("name",p),t["shapeMap"][p]=u,c[p]="image"!==d?(0,k.clone)(u.attr()):r.getShapeStyleByName(h)}else Object.assign(c,f)}}r.set("originStyle",c)}},t.prototype.restoreStates=function(t,e){var n=this,r=n.get("states");(0,k.each)(r,(function(r){t.setState(e,r,!0,n)}))},t.prototype.init=function(){var t=El.getFactory(this.get("type"));this.set("shapeFactory",t)},t.prototype.get=function(t){return this._cfg[t]},t.prototype.set=function(t,e){(0,k.isPlainObject)(t)?this._cfg=(0,y.__assign)((0,y.__assign)({},this._cfg),t):this._cfg[t]=e},t.prototype.getDefaultCfg=function(){return{}},t.prototype.clearCache=function(){this.set(Sl,null),this.set(Ml,null)},t.prototype.beforeDraw=function(){},t.prototype.afterDraw=function(){},t.prototype.afterUpdate=function(){},t.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},t.prototype.getShapeStyleByName=function(t){var e,n=this.get("group");if(e=t?n["shapeMap"][t]||n.find((function(e){return e.get("name")===t})):this.getKeyShape(),e){var r={};return(0,k.each)(e.attr(),(function(t,e){("img"!==e||(0,k.isString)(t))&&(r[e]=t)})),r}return{}},t.prototype.getShapeCfg=function(t,e){var n=this.get("styles");if(n){var r=t;return r.style=(0,y.__assign)((0,y.__assign)({},n),t.style),r}return t},t.prototype.getStateStyle=function(t){var e=this.get("styles"),n=e&&e[t];return n},t.prototype.getOriginStyle=function(){return this.get("originStyle")},t.prototype.getCurrentStatesStyle=function(){var t=this,e={},n=t.getStates();return n&&n.length?((0,k.each)(t.getStates(),(function(n){e=Object.assign(e,t.getStateStyle(n))})),e):this.get("originStyle")},t.prototype.setState=function(t,e){var n=this.get("states"),r=this.get("shapeFactory"),i=t,o=t;(0,k.isString)(e)&&(i="".concat(t,":").concat(e),o="".concat(t,":"));var s=n;if((0,k.isBoolean)(e)){var a=n.indexOf(o);if(e){if(a>-1)return;n.push(i)}else a>-1&&n.splice(a,1)}else if((0,k.isString)(e)){var c=n.filter((function(t){return t.includes(o)}));c.length>0&&this.clearStates(c),s=s.filter((function(t){return!t.includes(o)})),s.push(i),this.set("states",s)}if(r){var l=this.get("model"),u=l.type;r.setState(u,t,e,this)}},t.prototype.clearStates=function(t){var e=this,n=e.getStates(),r=e.get("shapeFactory"),i=e.get("model"),o=i.type;t||(t=n),(0,k.isString)(t)&&(t=[t]);var s=n.filter((function(e){return-1===t.indexOf(e)}));e.set("states",s),t.forEach((function(t){r.setState(o,t,!1,e)}))},t.prototype.setOptimize=function(t){this.optimize=t},t.prototype.getContainer=function(){return this.get("group")},t.prototype.getKeyShape=function(){return this.get("keyShape")},t.prototype.getModel=function(){return this.get("model")},t.prototype.getType=function(){return this.get("type")},t.prototype.getID=function(){return this.get("id")},t.prototype.isItem=function(){return!0},t.prototype.getStates=function(){return this.get("states")},t.prototype.hasState=function(t){var e=this.getStates();return e.indexOf(t)>=0},t.prototype.refresh=function(t){var e=this.get("model");this.updatePosition(e),this.updateShape(t),this.afterUpdate(),this.clearCache()},t.prototype.getUpdateType=function(t){},t.prototype.update=function(t,e){void 0===e&&(e=void 0);var n=this.get("model");if("move"===e)this.updatePosition(t);else{var r=n.visible,i=t.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o={x:n.x,y:n.y};t.x=isNaN(+t.x)?n.x:+t.x,t.y=isNaN(+t.y)?n.y:+t.y;var s=this.get("styles");if(t.stateStyles){var a=t.stateStyles;(0,k.mix)(s,a),delete t.stateStyles}Object.assign(n,t),o.x===t.x&&o.y===t.y||this.updatePosition(t),this.updateShape(e)}this.afterUpdate(),this.clearCache()},t.prototype.updateShape=function(t){var e=this.get("shapeFactory"),n=this.get("model"),r=n.type;if(e.shouldUpdate(r)&&r===this.get("currentShape")){var i=this.getShapeCfg(n,t);e.baseUpdate(r,i,this,t),"move"!==t&&this.setOriginStyle()}else this.draw();this.restoreStates(e,r)},t.prototype.updatePosition=function(t){var e=this.get("model"),n=isNaN(+t.x)?+e.x:+t.x,r=isNaN(+t.y)?+e.y:+t.y,i=this.get("group");if(isNaN(n)||isNaN(r))return!1;e.x=n,e.y=r;var o=i.getMatrix();return(!o||o[6]!==n||o[7]!==r)&&(i.resetMatrix(),Xe(i,{x:n,y:r}),this.clearCache(),!0)},t.prototype.getBBox=function(){var t=this.get(Sl);return t||(t=this.calculateBBox(),this.set(Sl,t)),t},t.prototype.getCanvasBBox=function(){var t=this.get(Ml);return t||(t=this.calculateCanvasBBox(),this.set(Ml,t)),t},t.prototype.toFront=function(){var t=this.get("group");t.toFront()},t.prototype.toBack=function(){var t=this.get("group");t.toBack()},t.prototype.show=function(){this.changeVisibility(!0)},t.prototype.hide=function(){this.changeVisibility(!1)},t.prototype.changeVisibility=function(t){var e=this.get("group");t?e.show():e.hide(),this.set("visible",t)},t.prototype.isVisible=function(){return this.get("visible")},t.prototype.enableCapture=function(t){var e=this.get("group");e&&e.set("capture",t)},t.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),e["shapeMap"]={},this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0}},t}(),Dl=Il,Tl={source:"start",target:"end"},Ol="Node",Nl="Point",Pl="Anchor",Ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,e){var n=Tl[t]+Nl,r=t+Ol,i=this.get(r);i&&!i.destroyed&&i.removeEdge(this),(0,k.isPlainObject)(e)?(this.set(n,e),this.set(r,null)):e&&(e.addEdge(this),this.set(r,e),this.set(n,null))},e.prototype.getLinkPoint=function(t,e,n){var r=Tl[t]+Nl,i=t+Ol,o=this.get(r);if(!o){var s=this.get(i),a=t+Pl,c=this.getPrePoint(t,n),l=e[a];(0,k.isNil)(l)||(o=s.getLinkPointByAnchor(l)),o=o||s.getLinkPoint(c),(0,k.isNil)(o.index)||this.set("".concat(t,"AnchorIndex"),o.index)}return o},e.prototype.getPrePoint=function(t,e){if(e&&e.length){var n="source"===t?0:e.length-1;return e[n]}var r="source"===t?"target":"source";return this.getEndPoint(r)},e.prototype.getEndPoint=function(t){var e=t+Ol,n=Tl[t]+Nl,r=this.get(e);return r&&!r.destroyed?r.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),i=t.type;return r.getControlPoints(i,{startPoint:e,endPoint:n})},e.prototype.getEndCenter=function(t){var e=t+Ol,n=Tl[t]+Nl,r=this.get(e);if(r){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(n)},e.prototype.init=function(){t.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(e,n){var r=this,i=r.get("linkCenter"),o=(null===n||void 0===n?void 0:n.includes("move"))?e:t.prototype.getShapeCfg.call(this,e);if(i)o.startPoint=r.getEndCenter("source"),o.endPoint=r.getEndCenter("target");else{var s=o.controlPoints||r.getControlPointsByCenter(o);o.startPoint=r.getLinkPoint("source",e,s),o.endPoint=r.getLinkPoint("target",e,s)}return o.sourceNode=r.get("sourceNode"),o.targetNode=r.get("targetNode"),o},e.prototype.getModel=function(){var t=this.get("model"),e=this.get("source".concat(Ol)),n=this.get("target".concat(Ol));return e?delete t["source".concat(Ol)]:t.source=this.get("start".concat(Nl)),n?delete t["target".concat(Ol)]:t.target=this.get("end".concat(Nl)),(0,k.isString)(t.source)||(0,k.isPlainObject)(t.source)||(t.source=t.source.getID()),(0,k.isString)(t.target)||(0,k.isPlainObject)(t.target)||(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,e){void 0===e&&(e=void 0);var n=this.get("model"),r=n.visible,i=t.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=this.get("source"),s=this.get("target");if(o&&!o.destroyed&&s&&!s.destroyed){var a=this.get("styles");if(t.stateStyles){var c=t.stateStyles;(0,k.mix)(a,c),delete t.stateStyles}Object.assign(n,t),this.updateShape(e),this.afterUpdate(),this.clearCache()}},e.prototype.destroy=function(){var e=this.get("source".concat(Ol)),n=this.get("target".concat(Ol));e&&!e.destroyed&&e.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),t.prototype.destroy.call(this)},e}(Dl),Bl=Ll,Rl="anchorPointsCache",jl="bboxCache",zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getNearestPoint=function(t,e){for(var n=0,r=t[0],i=$e(t[0],e),o=0;o<t.length;o++){var s=t[o],a=$e(s,e);a<i&&(r=s,i=a,n=o)}return r.anchorIndex=n,r},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("target")===t}))},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("source")===t}))},e.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if("target"===t){var r=function(t){return t.getSource()===e};return n.filter(r).map((function(t){return t.getTarget()}))}if("source"===t){var i=function(t){return t.getTarget()===e};return n.filter(i).map((function(t){return t.getSource()}))}var o=function(t){return t.getSource()===e?t.getTarget():t.getSource()};return n.map(o)},e.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},e.prototype.getLinkPoint=function(t){var e,n,r=this.get("keyShape"),i=r.get("type"),o=this.get("type"),s=this.getBBox();"combo"===o?(e=s.centerX||(s.maxX+s.minX)/2,n=s.centerY||(s.maxY+s.minY)/2):(e=s.centerX,n=s.centerY);var a,c=this.getAnchorPoints();switch(i){case"circle":a=Fe({x:e,y:n,r:s.width/2},t);break;case"ellipse":a=Ve({x:e,y:n,rx:s.width/2,ry:s.height/2},t);break;default:a=ze(s,t)}var l=a;return c.length&&(l||(l=t),l=this.getNearestPoint(c,l)),l||(l={x:e,y:n}),l},e.prototype.getAnchorPoints=function(){var t=this.get(Rl);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),i=this.getShapeCfg(r),o=r.type,s=e.getAnchorPoints(o,i)||[];(0,k.each)(s,(function(e,r){var i={x:n.minX+e[0]*n.width,y:n.minY+e[1]*n.height,anchorIndex:r};t.push(i)})),this.set(Rl,t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},e.prototype.clearCache=function(){this.set(jl,null),this.set(Rl,null)},e.prototype.getUpdateType=function(t){var e,n,r,i,o;if(t){var s=!(0,k.isNil)(t.x),a=!(0,k.isNil)(t.y),c=Object.keys(t);if(1===c.length&&(s||a)||2===c.length&&s&&a)return"move";if((0,k.isNumber)(t.x)||(0,k.isNumber)(t.y)||t.type||t.anchorPoints||t.size||(null===t||void 0===t?void 0:t.style)&&((null===(e=null===t||void 0===t?void 0:t.style)||void 0===e?void 0:e.r)||(null===(n=null===t||void 0===t?void 0:t.style)||void 0===n?void 0:n.width)||(null===(r=null===t||void 0===t?void 0:t.style)||void 0===r?void 0:r.height)||(null===(i=null===t||void 0===t?void 0:t.style)||void 0===i?void 0:i.rx)||(null===(o=null===t||void 0===t?void 0:t.style)||void 0===o?void 0:o.ry)))return"bbox|label";var l=c.includes("label")||c.includes("labelCfg");return l?"style|label":"style"}},e.prototype.setState=function(e,n){var r=this;this.optimize?t.prototype.setState.call(this,e,n):this.runWithBBoxAffected((function(){return t.prototype.setState.call(r,e,n)}))},e.prototype.clearStates=function(e){var n=this;this.optimize?t.prototype.clearStates.call(this,e):this.runWithBBoxAffected((function(){return t.prototype.clearStates.call(n,e)}))},e.prototype.runWithBBoxAffected=function(t){var e=["r","width","height","rx","ry","lineWidth"],n=this.getKeyShape().attr(),r={};Object.keys(this.getKeyShape().attr()).forEach((function(t){e.includes(t)&&(r[t]=n[t])})),t();for(var i=this.getKeyShape().attr(),o=0;o<e.length;o++){var s=e[o];if(i[s]!==r[s]){this.clearCache(),this.getEdges().forEach((function(t){return t.refresh()}));break}}},e}(Dl),Fl=zl,Vl="bboxCache",Ul="bboxCanvasCache",Gl="sizeCache",Hl="anchorPointsCache",$l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var r=t,i=(0,k.isNumber)(t.size)?[t.size,t.size]:t.size,o=(0,k.isNumber)(t.fixSize)?[t.fixSize,t.fixSize]:t.fixSize,s=i||o||Nn.defaultCombo.size,a={r:(Math.max(n.width,n.height)||Math.max(s[0],s[1]))/2,width:n.width||s[0],height:n.height||s[1]};r.style=(0,y.__assign)((0,y.__assign)((0,y.__assign)({},e),t.style),a);var c=t.padding||Nn.defaultCombo.padding;return(0,k.isNumber)(c)?(a.r+=c,a.width+=2*c,a.height+=2*c):(a.r=a.r+Math.max.apply(Math,c),a.width+=c[1]+c[3]||2*c[1],a.height+=c[0]+c[2]||2*c[0]),this.set(Gl,a),r}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),e=this.get("group"),n=this.get(Vl)||{},r=n.x,i=n.x,o=this.get(Gl),s=Fn(t,e);if(s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2,o){o.width=Math.max(o.width,s.width),o.height=Math.max(o.height,s.height),this.set(Gl,o);var a=t.get("type");"circle"===a?(s.width=2*o.r,s.height=2*o.r):(s.width=o.width,s.height=o.height),s.minX=s.centerX-s.width/2,s.minY=s.centerY-s.height/2,s.maxX=s.centerX+s.width/2,s.maxY=s.centerY+s.height/2}else s.width=s.maxX-s.minX,s.height=s.maxY-s.minY,s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2;return s.x=s.minX,s.y=s.minY,s.x===r&&s.y===i||this.set(Hl,null),s}},e.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},e.prototype.getNodes=function(){var t=this;return t.get("nodes")},e.prototype.getCombos=function(){var t=this;return t.get("combos")},e.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},e.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},e.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(t){var e=this.getCombos(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.removeNode=function(t){if(t){var e=this.getNodes(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.getUpdateType=function(t){},e.prototype.getBBox=function(){this.set(Ul,null);var t=this.calculateCanvasBBox();return t},e.prototype.clearCache=function(){this.set(Vl,null),this.set(Ul,null),this.set(Hl,null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),e["shapeMap"]={},this.clearCache(),this.set(Gl,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},e}(Fl),Wl=$l,Yl="node",ql="edge",Xl="vedge",Kl="combo",Zl="default",Ql="Mapper",Jl="stateStyles",tu=function(){function t(t){var e=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,k.throttle)((function(t){var n=e.graph;if(n&&!n.get("destroyed")){var r=e.edgeToBeUpdateMap;if(r){var i=Object.values(r);i.length&&(i.forEach((function(t){var e=t.edge;if(e&&!e.destroyed){var n=e.getSource(),r=e.getTarget();n&&!n.destroyed&&r&&!r.destroyed&&e.refresh(t.updateType)}})),e.edgeToBeUpdateMap={})}}}),16,{trailing:!0,leading:!0}),this.graph=t,this.destroyed=!1}return t.prototype.addItem=function(t,e){var n=this.graph,r=t===Xl?ql:t,i=n.get("".concat(r,"Group"))||n.get("group"),o=(0,k.upperFirst)(r),s=null,a=n.get(r+(0,k.upperFirst)(Jl))||{},c=n.get(Zl+o);e[Jl]&&(a=e[Jl]),c&&(0,k.each)(c,(function(t,n){(0,k.isObject)(t)&&!(0,k.isArray)(t)?e[n]=(0,k.deepMix)({},t,e[n]):(0,k.isArray)(t)?e[n]=e[n]||(0,k.clone)(c[n]):e[n]=e[n]||c[n]}));var l=n.get(r+Ql);if(l){var u=l(e);u[Jl]&&(a=u[Jl],delete u[Jl]),(0,k.each)(u,(function(t,n){(0,k.isObject)(t)&&!(0,k.isArray)(t)?e[n]=(0,k.deepMix)({},e[n],t):e[n]=u[n]||e[n]}))}if(n.emit("beforeadditem",{type:t,model:e}),t===ql||t===Xl){var d=void 0,h=void 0;if(d=e.source,h=e.target,d&&(0,k.isString)(d)&&(d=n.findById(d)),h&&(0,k.isString)(h)&&(h=n.findById(h)),!d||!h)return void console.warn("The source or target node of edge ".concat(e.id," does not exist!"));d.getType&&"combo"===d.getType()&&(e.isComboEdge=!0),h.getType&&"combo"===h.getType()&&(e.isComboEdge=!0),s=new Bl({model:e,source:d,target:h,styles:a,linkCenter:n.get("linkCenter"),group:i.addGroup()})}else if(t===Yl)s=new Fl({model:e,styles:a,group:i.addGroup()});else if(t===Kl){var f=e.children,p=Qn(f,n),g=void 0,m=void 0;if(isNaN(p.x)?isNaN(e.x)&&(g=100*Math.random()):g=p.x,isNaN(p.y)?isNaN(e.y)&&(m=100*Math.random()):m=p.y,isNaN(e.x)||isNaN(e.y))e.x=g,e.y=m;else{var v=e.x-g,b=e.y-m;this.updateComboSucceeds(e.id,v,b,f)}var y=i.addGroup();y.setZIndex(e.depth),s=new Wl({model:e,styles:a,animate:n.get("animate"),bbox:e.collapsed?Qn([],n):p,group:y}),e.collapsed||"circle"!==s.getKeyShape().get("type")||(p.width=Math.hypot(p.height,p.width),p.height=p.width,s.set("bbox",p),s.refresh());var w=s.getModel();(f||[]).forEach((function(t){var e=n.findById(t.id);s.addChild(e),t.depth=w.depth+2}))}if(s)return s.setOptimize(n.getNodes().length>n.get("optimizeThreshold")),n.get("".concat(t,"s")).push(s),n.get("itemMap")[s.get("id")]=s,n.emit("afteradditem",{item:s,model:e}),s},t.prototype.updateItem=function(t,e){var n,r,i=this,o=this.graph;if((0,k.isString)(t)&&(t=o.findById(t)),t&&!t.destroyed){var s="";t.getType&&(s=t.getType());var a=o.get(s+Ql),c=t.getModel(),l=c.x,u=c.y,d=t.getUpdateType(e);if(a){var h=(0,k.deepMix)({},c,e),f=a(h),p=(0,k.deepMix)({},c,f,e);f[Jl]&&(t.set("styles",p[Jl]),delete p[Jl]),(0,k.each)(p,(function(t,n){e[n]=t}))}else(0,k.each)(e,(function(t,n){c[n]&&(0,k.isObject)(t)&&!(0,k.isArray)(t)&&(e[n]=(0,y.__assign)((0,y.__assign)({},c[n]),e[n]))}));if(o.emit("beforeupdateitem",{item:t,cfg:e}),s===ql){if(e.source){var g=e.source;(0,k.isString)(g)&&(g=o.findById(g)),t.setSource(g)}if(e.target){var m=e.target;(0,k.isString)(m)&&(m=o.findById(m)),t.setTarget(m)}t.update(e)}else if(s===Yl){t.update(e,d);var v=t.getEdges();"move"===d?(0,k.each)(v,(function(t){i.edgeToBeUpdateMap[t.getID()]={edge:t,updateType:d},i.throttleRefresh()})):(null===d||void 0===d?void 0:d.includes("bbox"))&&(0,k.each)(v,(function(t){t.refresh(d)}))}else if(s===Kl){if(t.update(e,d),!isNaN(e.x)||!isNaN(e.y)){var b=e.x-l||0,w=e.y-u||0;this.updateComboSucceeds(c.id,b,w)}var _=t.getEdges(),A=(null===d||void 0===d?void 0:d.includes("bbox"))||"move"===d;if(A&&s===Kl){var C=t.get("shapeFactory"),x=c.type||"circle",E=void 0===c.animate||void 0===e.animate?null===(r=null===(n=C[x])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:c.animate||e.animate;E?setTimeout((function(){if(t&&!t.destroyed){var e=t.getKeyShape();e&&!e.destroyed&&(0,k.each)(_,(function(t){t&&!t.destroyed&&t.refresh()}))}}),201):(0,k.each)(_,(function(t){t.refresh()}))}}t.setOptimize(o.getNodes().length>o.get("optimizeThreshold")),o.emit("afterupdateitem",{item:t,cfg:e})}},t.prototype.updateCombo=function(t,e,n){var r,i,o=this,s=this.graph;if((0,k.isString)(t)&&(t=s.findById(t)),t&&!t.destroyed){var a=t.getModel(),c=Qn(e,s,t),l=c.x,u=c.y;t.set("bbox",c);var d=l,h=u;n?(d=isNaN(a.x)?l:a.x,h=isNaN(a.y)?u:a.y):(d=isNaN(l)?a.x:l,h=isNaN(u)?a.y:u),t.update({x:d,y:h});var f=t.get("shapeFactory"),p=a.type||"circle",g=void 0===a.animate?null===(i=null===(r=f[p])||void 0===r?void 0:r.options)||void 0===i?void 0:i.animate:a.animate;g?setTimeout((function(){if(t&&!t.destroyed){var e=t.getKeyShape();e&&!e.destroyed&&(t.getShapeCfg(a),o.updateComboEdges(t))}}),201):this.updateComboEdges(t)}},t.prototype.updateComboEdges=function(t){for(var e,n,r=t.getEdges()||[],i=0;i<r.length;i++){var o=r[i];(null===o||void 0===o?void 0:o.destroyed)||(null===(e=null===o||void 0===o?void 0:o.getSource())||void 0===e?void 0:e.destroyed)||(null===(n=null===o||void 0===o?void 0:o.getTarget())||void 0===n?void 0:n.destroyed)||o.refresh()}},t.prototype.collapseCombo=function(t,e){void 0===e&&(e=!0);var n=this.graph;(0,k.isString)(t)&&(t=n.findById(t));var r=t.getChildren();r.nodes.forEach((function(t){n.hideItem(t,e)})),r.combos.forEach((function(t){n.hideItem(t,e)}))},t.prototype.updateComboSucceeds=function(t,e,n,r){var i=this;void 0===r&&(r=[]);var o=this.graph;if(e||n){var s=r;if(!(null===s||void 0===s?void 0:s.length)){var a=o.get("comboTrees");null===a||void 0===a||a.forEach((function(e){$n(e,(function(e){return e.id!==t||(s=e.children,!1)}))}))}null===s||void 0===s||s.forEach((function(t){var r=o.findById(t.id);if(r){var s=r.getModel();i.updateItem(t.id,{x:(s.x||0)+e,y:(s.y||0)+n})}}))}},t.prototype.expandCombo=function(t,e){void 0===e&&(e=!0);var n=this.graph;(0,k.isString)(t)&&(t=n.findById(t));var r=t.getChildren(),i=new Set;r.nodes.forEach((function(t){n.showItem(t,e),t.getEdges().forEach((function(t){return i.add(t)}))})),r.combos.forEach((function(t){t.getModel().collapsed?t.show():n.showItem(t,e),t.getEdges().forEach((function(t){return i.add(t)}))})),i.forEach((function(t){return t.refresh()}))},t.prototype.removeItem=function(t){var e=this,n=this.graph;if((0,k.isString)(t)&&(t=n.findById(t)),t&&!t.destroyed){var r=(0,k.clone)(t.getModel()),i="";t.getType&&(i=t.getType()),n.emit("beforeremoveitem",{item:r,type:i});var o=n.get("".concat(i,"s")),s=o.indexOf(t);if(s>-1&&o.splice(s,1),i===ql){var a=n.get("v".concat(i,"s")),c=a.indexOf(t);c>-1&&a.splice(c,1)}var l=t.get("id"),u=n.get("itemMap");delete u[l];var d=n.get("comboTrees"),h=t.get("id");if(i===Yl){var f=t.getModel().comboId;if(d&&f){var p=d,g=!1;d.forEach((function(t){g||$n(t,(function(t){if(t.id===h&&p){var e=p.indexOf(t);return p.splice(e,1),g=!0,!1}return p=t.children,!0}))}))}for(var m=t.getEdges(),v=m.length-1;v>=0;v--)n.removeItem(m[v],!1);f&&n.updateCombo(f)}else if(i===Kl){var b,y=t.getModel().parentId,w=!1;(d||[]).forEach((function(t){w||$n(t,(function(t){return t.id!==h||(b=t,w=!0,!1)}))})),b.removed=!0,b&&b.children&&b.children.forEach((function(t){e.removeItem(t.id)}));for(m=t.getEdges(),v=m.length;v>=0;v--)n.removeItem(m[v],!1);y&&n.updateCombo(y)}t.destroy(),n.emit("afterremoveitem",{item:r,type:i})}},t.prototype.setItemState=function(t,e,n){var r=this.graph,i=e;(0,k.isString)(n)&&(i="".concat(e,":").concat(n)),t.hasState(i)===n&&n||(0,k.isString)(n)&&t.hasState(i)||(r.emit("beforeitemstatechange",{item:t,state:i,enabled:n}),t.setState(e,n),r.autoPaint(),r.emit("afteritemstatechange",{item:t,state:i,enabled:n}))},t.prototype.priorityState=function(t,e){var n=this.graph,r=t;(0,k.isString)(t)&&(r=n.findById(t)),this.setItemState(r,e,!1),this.setItemState(r,e,!0)},t.prototype.clearItemStates=function(t,e){var n=this.graph;(0,k.isString)(t)&&(t=n.findById(t)),n.emit("beforeitemstatesclear",{item:t,states:e}),t.clearStates(e),n.emit("afteritemstatesclear",{item:t,states:e})},t.prototype.refreshItem=function(t){var e=this.graph;(0,k.isString)(t)&&(t=e.findById(t)),e.emit("beforeitemrefresh",{item:t}),t.refresh(),e.emit("afteritemrefresh",{item:t})},t.prototype.addCombos=function(t,e){var n=this,r=this.graph;(t||[]).forEach((function(t){Wn(t,(function(t){var r;return e.forEach((function(e){e.id===t.id&&(e.children=t.children,e.depth=t.depth,r=e)})),r&&n.addItem("combo",r),!0}))}));var i=r.get("comboGroup");i&&i.sort()},t.prototype.changeItemVisibility=function(t,e){var n=this,r=this.graph;if((0,k.isString)(t)&&(t=r.findById(t)),t){if(r.emit("beforeitemvisibilitychange",{item:t,visible:e}),t.changeVisibility(e),t.getType&&t.getType()===Yl){var i=t.getEdges();(0,k.each)(i,(function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)}))}else if(t.getType&&t.getType()===Kl){var o=r.get("comboTrees"),s=t.get("id"),a=[],c=!1;(o||[]).forEach((function(t){c||t.children&&0!==t.children.length&&$n(t,(function(t){return t.id!==s||(a=t.children,c=!0,!1)}))})),a&&(!e||e&&!t.getModel().collapsed)&&a.forEach((function(t){var i=r.findById(t.id);n.changeItemVisibility(i,e)}));i=t.getEdges();(0,k.each)(i,(function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)}))}return r.emit("afteritemvisibilitychange",{item:t,visible:e}),t}console.warn("The item to be shown or hidden does not exist!")},t.prototype.destroy=function(){this.graph=null,this.destroyed=!0},t}(),eu=tu,nu=function(){function t(t){this.graph=t,this.destroyed=!1}return t.prototype.updateState=function(t,e,n){var r=this.graph.get("states"),i=e;(0,k.isString)(n)&&(i="".concat(e,":").concat(n)),r[i]||(r[i]=[]),n?r[i].push(t):r[i]=r[i].filter((function(e){return e!==t})),this.graph.set("states",r),this.graph.emit("graphstatechange",{states:r})},t.prototype.updateStates=function(t,e,n){var r=this.graph.get("states"),i=(0,k.isString)(e)?[e]:e;i.forEach((function(e){var i=e;r[i]||(r[i]=[]),(0,k.isString)(n)&&(i="".concat(e,":").concat(n)),n?r[i].push(t):r[i]=r[i].filter((function(e){return e!==t}))})),this.graph.set("states",r),this.graph.emit("graphstatechange",{states:e})},t.prototype.destroy=function(){this.graph=null,this.destroyed=!0},t}(),ru=nu,iu=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){if("\\"===t.charAt(0))return t.slice(1);var r=e[n];return 0===r&&(r="0"),r||""})):t},ou=function(t){var e=[];if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));for(var n=0,r=t;n<r.length;n++){var i=r[n],o=i.x,s=i.y;e.push(o),e.push(s)}var a=Lc(e);return a.unshift(["M",t[0].x,t[0].y]),a},su=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y},o=[0,0];Pe.normalize(o,[e.x-t.x,e.y-t.y]),o&&(o[0]||o[1])||(o=[0,0]);var s=[-o[1]*r,o[0]*r];return i.x+=s[0],i.y+=s[1],i},au=function(t,e){var n=t.length;if(!n)return"";for(var r="",i="",o=0;o<n;o++){var s=t[o];i=0===o?"M{x} {y}":"L{x} {y}",r+=iu(i,s)}return e&&(r+="Z"),r},cu=function(t){var e=[];return t.forEach((function(t){var n=t[0];if("A"!==n)for(var r=1;r<t.length;r+=2)e.push([t[r],t[r+1]]);else{var i=t.length;e.push([t[i-2],t[i-1]])}})),e},lu=function(t){if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));var e=t[0],n=t[1],r=t[t.length-1],i=t[t.length-2];t.unshift(r),t.unshift(i),t.push(e),t.push(n);for(var o=[],s=1;s<t.length-2;s+=1){var a=t[s-1].x,c=t[s-1].y,l=t[s].x,u=t[s].y,d=t[s+1].x,h=t[s+1].y,f=s!==t.length-2?t[s+2].x:d,p=s!==t.length-2?t[s+2].y:h,g=l+(d-a)/6,m=u+(h-c)/6,v=d-(f-l)/6,b=h-(p-u)/6;o.push(["C",g,m,v,b,d,h])}return o.unshift(["M",r.x,r.y]),o},uu=function(t,e){return Pe.scale([0,0],Pe.normalize([0,0],t),e)},du=function(t,e){var n=[t[1]-e[1],e[0]-t[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error("p0 should not be equal to p1");return[n[0]/r,n[1]/r]},hu=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function fu(t,e){var n=function(t){var n=[t[0][0],t[0][1]-e],r=[t[0][0],t[0][1]+e];return"M ".concat(n," A ").concat(e,",").concat(e,",0,0,0,").concat(r," A ").concat(e,",").concat(e,",0,0,0,").concat(n)},r=function(t){var n=Pe.scale([0,0],du(t[0],t[1]),e),r=Pe.scale([0,0],n,-1),i=Pe.add([0,0],t[0],n),o=Pe.add([0,0],t[1],n),s=Pe.add([0,0],t[1],r),a=Pe.add([0,0],t[0],r);return"M ".concat(i," L ").concat(o," A ").concat([e,e,"0,0,0",s].join(",")," L ").concat(a," A ").concat([e,e,"0,0,0",i].join(","))};if(!t||t.length<1)return"";if(1===t.length)return n(t);if(2===t.length)return r(t);for(var i=new Array(t.length),o=0;o<i.length;++o){var s=0===o?t[t.length-1]:t[o-1],a=t[o],c=Pe.scale([0,0],du(s,a),e);i[o]=[Pe.add([0,0],s,c),Pe.add([0,0],a,c)]}var l="A ".concat([e,e,"0,0,0,"].join(","));return i=i.map((function(t,e){var n="";return 0===e&&(n="M ".concat(i[i.length-1][1]," ")),n+="".concat(l+t[0]," L ").concat(t[1]),n})),i.join(" ")}function pu(t,e){var n=t.length,r=function(t){var n=[t[0][0],t[0][1]-e],r=[t[0][0],t[0][1]+e];return"M ".concat(n," A ").concat([e,e,"0,0,0",r].join(",")," A ").concat([e,e,"0,0,0",n].join(","))},i=function(t){var n=hu(t[0],t[1]),r=uu(n,e),i=Pe.add([0,0],t[0],Pe.scale([0,0],r,-1)),o=Pe.add([0,0],t[1],r),s=1.2*e,a=uu(Pe.normalize([0,0],n),s),c=Pe.scale([0,0],a,-1),l=Pe.add([0,0],i,c),u=Pe.add([0,0],o,c),d=Pe.add([0,0],i,a);return"M ".concat(i," C ").concat([l,u,o].join(",")," S ").concat([d,i].join(",")," Z")};if(!t||n<1)return"";if(1===n)return r(t);if(2===n)return i(t);for(var o=t.map((function(e,r){var i=t[(r+1)%n];return{p:e,v:Pe.normalize([0,0],hu(e,i))}})),s=0;s<o.length;++s){var a=s>0?s-1:n-1,c=Pe.normalize([0,0],Pe.add([0,0],o[a].v,Pe.scale([0,0],o[s].v,-1)));o[s].p=Pe.add([0,0],o[s].p,Pe.scale([0,0],c,e))}return o.map((function(t){var e=t.p;return{x:e[0],y:e[1]}}))}var gu=function(t,e){for(var n=[],r=0;r<5;r++){var i=Math.cos((18+72*r)/180*Math.PI)*t,o=Math.sin((18+72*r)/180*Math.PI)*t,s=Math.cos((54+72*r)/180*Math.PI)*e,a=Math.sin((54+72*r)/180*Math.PI)*e;0===r?n.push(["M",i,-o]):n.push(["L",i,-o]),n.push(["L",s,-a])}return n.push(["Z"]),n},mu=function(t,e,n){return(t.y-n.y)*(e.x-n.x)-(t.x-n.x)*(e.y-n.y)},vu=function(t){var e=t.map((function(t){return{x:t.getModel().x,y:t.getModel().y}}));e.sort((function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x}));for(var n={},r=e.length-1;r>=0;r--){var i=e[r],o=i.x,s=i.y;n["".concat(o,"-").concat(s)]&&e.splice(r,1),n["".concat(o,"-").concat(s)]=!0}if(1===e.length)return e;var a=[];for(r=0;r<e.length;r++){while(a.length>=2&&mu(a[a.length-2],a[a.length-1],e[r])<=0)a.pop();a.push(e[r])}var c=[];for(r=e.length-1;r>=0;r--){while(c.length>=2&&mu(c[c.length-2],c[c.length-1],e[r])<=0)c.pop();c.push(e[r])}c.pop(),a.pop();var l=a.concat(c);return l},bu={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function yu(t,e,n){var r=!1,i=function(t,n){return e.cells[t+n*e.width]},o=function(t,e){var r=0;return i(t-1,e-1)>=n&&(r+=1),i(t,e-1)>n&&(r+=2),i(t-1,e)>n&&(r+=4),i(t,e)>n&&(r+=8),r},s=function(n,r){for(var i,s,a=n,c=r,l=0;l<e.width*e.height;l++){if(i=a,s=c,t.findIndex((function(t){return t.x===a&&t.y===c}))>-1){if(t[0].x===a&&t[0].y===c)return!0}else t.push({x:a,y:c});var u=o(a,c);switch(u){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:a++;break;case 12:case 14:case 4:a--;break;case 6:0===i&&(-1===s?a-=1:a+=1);break;case 1:case 13:case 5:c--;break;case 9:1===i&&(0===s?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: ".concat(u)),!0}}};this.march=function(){for(var t=0;t<e.width&&!r;t+=1)for(var a=0;a<e.height&&!r;a+=1)i(t,a)>n&&15!==o(t,a)&&(r=s(t,a));return r}}var ku=function(t,e,n){var r=Math.ceil(t/n),i=Math.ceil(e/n),o=new Float32Array(Math.max(0,r*i)).fill(0);return{cells:o,width:r,height:i}},wu=function(t,e,n){var r=null,i=Number.POSITIVE_INFINITY;return e.forEach((function(e){var o={x:t.getModel().x,y:t.getModel().y},s={x:e.getModel().x,y:e.getModel().y},a=hn(o,s),c=new sn(o.x,o.y,s.x,s.y),l=n.reduce((function(t,e){return un(e,c)>0?t+1:t}),0);a*Math.pow(l+1,2)<i&&(r=e,i=a*Math.pow(l+1,2))})),r},_u=function(t,e){var n=Number.POSITIVE_INFINITY,r=null;return t.forEach((function(t){var i=un(t,e);i>=0&&i<n&&(r=t,n=i)})),r},Au=function(t,e,n,r){var i=[],o=[];o.push(t);var s=!0,a=0,c=function(t,e){var n=!1;return e.forEach((function(e){n||(pn(t,{x:e.x1,y:e.y1})||pn(t,{x:e.x2,y:e.y2}))&&(n=!0)})),n},l=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i.getBBox(),s=[[o.x,o.y],[o.x+o.width,o.y],[o.x,o.y+o.height],[o.x+o.width,o.y+o.height]];if(en(s,t.x,t.y))return!0}return!1};while(s&&a<n){s=!1;var u=function(){var t=o.pop(),n=_u(e,t);if(n){var u=ln(n,t),d=u[0],h=u[1];if(2===h){var f=function(a){var u=r,h=Mu(n,u,d,a),f=c(h,o)||c(h,i),p=l(h,e);while(!f&&p&&u>=1)u/=1.5,h=Mu(n,u,d,a),f=c(h,o)||c(h,i),p=l(h,e);!h||f||a&&p||(o.push(new sn(t.x1,t.y1,h.x,h.y)),o.push(new sn(h.x,h.y,t.x2,t.y2)),s=!0)};f(!0),s||f(!1)}}s||i.push(t),a+=1};while(!s&&o.length)u()}while(o.length)i.push(o.pop());return i};function Cu(t,e,n,r,i){var o=wu(t,n,e);if(null===o)return[];var s=function(t){var n=[];while(t.length>0){var r=t.pop();if(0===t.length){n.push(r);break}var i=t.pop(),o=new sn(r.x1,r.y1,i.x2,i.y2),s=_u(e,o);s?(n.push(r),t.push(i)):t.push(o)}return n},a=new sn(t.getModel().x,t.getModel().y,o.getModel().x,o.getModel().y),c=Au(a,e,r,i),l=s(c);return l}var xu=function(t,e,n){var r=Object.assign(bu,n),i=dn(t.map((function(t){return{x:t.getModel().x,y:t.getModel().y}})));t=t.sort((function(t,e){return hn({x:t.getModel().x,y:t.getModel().y},i)-hn({x:e.getModel().x,y:e.getModel().y},i)}));var o=[],s=[];t.forEach((function(t){var n=Cu(t,e,o,r.maxRoutingIterations,r.morphBuffer);n.forEach((function(t){s.push(t)})),o.push(t)}));for(var a=Eu(t,s,r.nodeR0),c=ku(a.width,a.height,r.pixelGroupSize),l=[],u=[],d=0;d<r.maxMarchingIterations;d++)if(Su(t,e,s,a,c,r),l=[],u=[],new yu(l,c,r.threshold).march()){var h=l.map((function(t){return{x:Math.round(t.x*r.pixelGroupSize+a.minX),y:Math.round(t.y*r.pixelGroupSize+a.minY)}}));if(h){var f=h.length;if(r.skip>1){f=Math.floor(h.length/r.skip);while(f<3&&r.skip>1)r.skip-=1,f=Math.floor(h.length/r.skip)}for(var p=0,g=0;g<f;g+=1,p+=r.skip)u.push({x:h[p].x,y:h[p].y})}var m=function(){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=u.map((function(t){return[t.x,t.y]}));if(!en(i,r.getBBox().centerX,r.getBBox().centerY))return!1}return!0};if(u&&m())return u;if(r.threshold*=.9,d<=.5*r.maxMarchingIterations)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else{if(!(0!==r.nonMemberInfluenceFactor&&e.length>0))break;r.nonMemberInfluenceFactor*=.8}}return u};function Eu(t,e,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];t.forEach((function(t){i.push(t.getBBox())})),e.forEach((function(t){i.push(t.getBBox())}));for(var o=0,s=i;o<s.length;o++){var a=s[o];r.minX=(a.minX<r.minX?a.minX:r.minX)-n,r.minY=(a.minY<r.minY?a.minY:r.minY)-n,r.maxX=(a.maxX>r.maxX?a.maxX:r.maxX)+n,r.maxY=(a.maxY>r.maxY?a.maxY:r.maxY)+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}function Su(t,e,n,r,i,o){function s(t,e){var n=Math.floor((t-e)/o.pixelGroupSize);return n<0?0:n}function a(t,e){return t*o.pixelGroupSize+e}var c=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),l=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),u=function(t,e){var n=Math.min(s(t.minX,e+r.minX),i.width),o=Math.min(s(t.minY,e+r.minY),i.height),a=Math.min(s(t.maxX,-e+r.minX),i.width),c=Math.min(s(t.maxY,-e+r.minY),i.height);return[n,o,a,c]},d=function(t,e){for(var n=t.getBBox(),s=u(n,o.nodeR1),c=s[0],l=s[1],d=s[2],h=s[3],f=l;f<h;f+=1)for(var p=c;p<d;p+=1)if(!(e<0&&i[p+f*i.width]<=0)){var g=a(p,r.minX),m=a(f,r.minY),v=gn({x:g,y:m},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(v<Math.pow(o.nodeR1,2)){var b=Math.sqrt(v)-o.nodeR1;i.cells[p+f*i.width]+=e*b*b}}},h=function(t,e){for(var n=t.getBBox(),s=u(n,o.edgeR1),c=s[0],l=s[1],d=s[2],h=s[3],f=l;f<h;f+=1)for(var p=c;p<d;p+=1)if(!(e<0&&i.cells[p+f*i.width]<=0)){var g=a(p,r.minX),m=a(f,r.minY),v=fn({x:g,y:m},t);if(v<Math.pow(o.edgeR1,2)){var b=Math.sqrt(v)-o.edgeR1;i.cells[p+f*i.width]+=e*b*b}}};o.nodeInfluenceFactor&&t.forEach((function(t){d(t,o.nodeInfluenceFactor/c)})),o.edgeInfluenceFactor&&n.forEach((function(t){h(t,o.edgeInfluenceFactor/l)})),o.negativeNodeInfluenceFactor&&e.forEach((function(t){d(t,o.negativeNodeInfluenceFactor/c)}))}function Mu(t,e,n,r){var i=t.getBBox(),o=n[0],s=n[1],a=n[2],c=n[3],l={topLeft:{x:i.minX-e,y:i.minY-e},topRight:{x:i.maxX+e,y:i.minY-e},bottomLeft:{x:i.minX-e,y:i.maxY+e},bottomRight:{x:i.maxX+e,y:i.maxY+e}},u=i.height*i.width;function d(t,e){return i.width*(.5*(t.y-i.minY+(e.y-i.minY)))}if(s){if(o)return r?l.topLeft:l.bottomRight;if(a)return r?l.bottomLeft:l.topRight;var h=d(s,c);return h<.5*u?s.y>c.y?r?l.topLeft:l.bottomRight:r?l.topRight:l.bottomLeft:s.y<c.y?r?l.bottomLeft:l.topRight:r?l.bottomRight:l.topLeft}if(c){if(o)return r?l.topRight:l.bottomLeft;if(a)return r?l.bottomRight:l.topLeft}var f=d(o,a);return f<.5*u?o.x>a.x?r?l.topLeft:l.bottomRight:r?l.bottomLeft:l.topRight:o.x<a.x?r?l.topRight:l.bottomLeft:r?l.bottomRight:l.topLeft}var Iu=function(){function t(t,e){this.cfg=(0,k.deepMix)(this.getDefaultCfg(),e),this.graph=t,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map((function(e){return(0,k.isString)(e)?t.findById(e):e})),this.nonMembers=this.cfg.nonMembers.map((function(e){return(0,k.isString)(e)?t.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return t.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},t.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},t.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},t.prototype.calcPath=function(t,e){var n,r,i;switch(this.type){case"round-convex":n=vu(t),i=fu(n.map((function(t){return[t.x,t.y]})),this.padding),r=zc(i);break;case"smooth-convex":n=vu(t),2===n.length?(i=fu(n.map((function(t){return[t.x,t.y]})),this.padding),r=zc(i)):n.length>2&&(i=pu(n.map((function(t){return[t.x,t.y]})),this.padding),r=lu(i));break;case"bubble":n=xu(t,e,this.cfg.bubbleCfg),r=n.length>=2&&lu(n);break;default:}return r},t.prototype.render=function(){this.group.addShape("path",{attrs:(0,y.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},t.prototype.addMember=function(t){if(t){(0,k.isString)(t)&&(t=this.graph.findById(t)),this.members.push(t);var e=this.nonMembers.indexOf(t);return e>-1&&this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.addNonMember=function(t){if(t){(0,k.isString)(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var e=this.members.indexOf(t);return e>-1&&this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.removeMember=function(t){if(t){(0,k.isString)(t)&&(t=this.graph.findById(t));var e=this.members.indexOf(t);return e>-1&&(this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.removeNonMember=function(t){if(t){(0,k.isString)(t)&&(t=this.graph.findById(t));var e=this.nonMembers.indexOf(t);return e>-1&&(this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.updateData=function(t,e){var n=this;this.group.findById(this.id).remove(),t&&(this.members=t.map((function(t){return(0,k.isString)(t)?n.graph.findById(t):t}))),e&&(this.nonMembers=e.map((function(t){return(0,k.isString)(t)?n.graph.findById(t):t}))),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.updateStyle=function(t){var e=this.group.findById(this.id);e.attr((0,y.__assign)({},t))},t.prototype.updateCfg=function(t){var e=this;this.cfg=(0,k.deepMix)(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map((function(t){return(0,k.isString)(t)?e.graph.findById(t):t}))),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map((function(t){return(0,k.isString)(t)?e.graph.findById(t):t}))),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.contain=function(t){var e,n,r=this;e=(0,k.isString)(t)?this.graph.findById(t):t;var i=e.getKeyShape();if("path"===e.get("type"))n=cu(i.attr("path"));else{var o=i.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map((function(t){var e=r.graph.getPointByCanvas(t[0],t[1]);return[e.x,e.y]})),on(n,cu(this.path))},t.prototype.destroy=function(){this.group.remove(),this.cfg=null},t}(),Du=Iu,Tu=N,Ou="node",Nu=function(t){function e(e){var n=t.call(this)||this;return n.sortCombos=(0,k.debounce)((function(){var t=n.get("comboSorted");if(n&&!n.destroyed&&!t){n.set("comboSorted",!0);var e=[],r={},i=n.get("comboTrees");(i||[]).forEach((function(t){$n(t,(function(t){return e[t.depth]?e[t.depth].push(t.id):e[t.depth]=[t.id],r[t.id]=t.depth,!0}))}));var o=n.getEdges().concat(n.get("vedges"));(o||[]).forEach((function(t){var n=t.getModel(),i=r[n.source]||0,o=r[n.target]||0,s=Math.max(i,o);e[s]?e[s].push(n.id):e[s]=[n.id]})),e.forEach((function(t){if(t&&t.length)for(var e=t.length-1;e>=0;e--){var r=n.findById(t[e]);r&&r.toFront()}}))}}),500,!1),n.cfg=(0,k.deepMix)(n.getDefaultCfg(),e),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new De(n.cfg.maxStep),n.redoStack=new De(n.cfg.maxStep)),n}return(0,y.__extends)(e,t),e.prototype.init=function(){this.initCanvas();var t=new dl(this),e=new or(this),n=new eu(this),r=new ru(this);this.set({viewController:t,modeController:e,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},e.prototype.initGroups=function(){var t=this.get("canvas");if(t){var e=t.get("el"),n=(e||{}).id,r=void 0===n?"g6":n,i=t.addGroup({id:"".concat(r,"-root"),className:Nn.rootContainerClassName});if(this.get("groupByTypes")){var o=i.addGroup({id:"".concat(r,"-edge"),className:Nn.edgeContainerClassName}),s=i.addGroup({id:"".concat(r,"-node"),className:Nn.nodeContainerClassName}),a=i.addGroup({id:"".concat(r,"-combo"),className:Nn.comboContainerClassName});a.toBack(),this.set({nodeGroup:s,edgeGroup:o,comboGroup:a})}var c=i.addGroup({id:"".concat(r,"-delegate"),className:Nn.delegateContainerClassName});this.set({delegateGroup:c}),this.set("group",i)}},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.02,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[],optimizeThreshold:1e3}},e.prototype.set=function(t,e){return(0,k.isPlainObject)(t)?this.cfg=(0,y.__assign)((0,y.__assign)({},this.cfg),t):this.cfg[t]=e,"enabledStack"!==t||!e||this.undoStack||this.redoStack||(this.undoStack=new De(this.cfg.maxStep),this.redoStack=new De(this.cfg.maxStep)),this},e.prototype.get=function(t){var e;return null===(e=this.cfg)||void 0===e?void 0:e[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,e){(0,k.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var r=this.get("stateController");r.updateStates(t,e,!1)},e.prototype.node=function(t){"function"===typeof t&&this.set("nodeMapper",t)},e.prototype.edge=function(t){"function"===typeof t&&this.set("edgeMapper",t)},e.prototype.combo=function(t){"function"===typeof t&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,e){var n,r=this.get("".concat(t,"s"));return(0,k.each)(r,(function(t,r){if(e(t,r))return n=t,n})),n},e.prototype.findAll=function(t,e){var n=[];return(0,k.each)(this.get("".concat(t,"s")),(function(t,r){e(t,r)&&n.push(t)})),n},e.prototype.findAllByState=function(t,e,n){return n?this.findAll(t,(function(t){return t.hasState(e)&&n(t)})):this.findAll(t,(function(t){return t.hasState(e)}))},e.prototype.translate=function(t,e,n,r){var i=this,o=this.get("group"),s=(0,k.clone)(o.getMatrix());if(s||(s=[1,0,0,0,1,0,0,0,1]),n){var a=er({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"translate",matrix:o.getMatrix()})}});Ke(o,{x:o.getCanvasBBox().x+t,y:o.getCanvasBBox().y+e},n,a||{duration:500,easing:"easeCubic"})}else s=Tu(s,[["t",t,e]]),o.setMatrix(s),this.emit("viewportchange",{action:"translate",matrix:s}),this.autoPaint()},e.prototype.moveTo=function(t,e,n,r){var i=this.get("group");Ke(i,{x:t,y:e},n,r||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:i.getMatrix()})},e.prototype.fitView=function(t,e,n,r){t&&this.set("fitViewPadding",t);var i=this.get("viewController");e?i.fitViewByRules(e,n,r):i.fitView(n,r),this.autoPaint()},e.prototype.fitCenter=function(t,e){var n=this.get("viewController");n.fitCenter(t,e),this.autoPaint()},e.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},e.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},e.prototype.updateBehavior=function(t,e,n){var r=this.get("modeController");return r.updateBehavior(t,e,n),this},e.prototype.zoom=function(t,e,n,r){var i=this,o=this.get("group"),s=(0,k.clone)(o.getMatrix())||[1,0,0,0,1,0,0,0,1],a=this.get("minZoom"),c=this.get("maxZoom"),l=this.getZoom()||1,u=l*t,d=t,h=!1;if(a&&u<a?(d=a/l,h=!0):c&&u>c&&(d=c/l,h=!0),s=Tu(s,e?[["t",-e.x,-e.y],["s",d,d],["t",e.x,e.y]]:[["s",d,d]]),n){var f=(0,k.clone)(o.getMatrix());f||(f=[1,0,0,0,1,0,0,0,1]);var p=f[0],g=p*d,m=er({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"zoom",matrix:o.getMatrix()})}});o.animate((function(t){if(1===t)f=s;else{var n=vn(p,g,t)/f[0];f=Tu(f,e?[["t",-e.x,-e.y],["s",n,n],["t",e.x,e.y]]:[["s",n,n]])}return{matrix:f}}),m)}else o.setMatrix(s),this.emit("viewportchange",{action:"zoom",matrix:s}),this.autoPaint();return!h},e.prototype.zoomTo=function(t,e,n,r){var i=t/this.getZoom();return this.zoom(i,e,n,r)},e.prototype.focusItem=function(t,e,n){var r=this.get("viewController"),i=!1;e?i=!0:void 0===e&&(i=this.get("animate"));var o={};n?o=n:void 0===n&&(o=this.get("animateCfg")),r.focus(t,i,o),this.autoPaint()},e.prototype.focusItems=function(t,e,n,r){var i=this.get("viewController");i.focusItems(t,e,n,r)},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},e.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},e.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},e.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController"),r=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var i=r.getID(),o=r.getType(),s={},a={};switch(o){case"node":s.nodes=[{id:i,visible:!1}],a.nodes=[{id:i,visible:!0}];break;case"edge":s.nodes=[{id:i,visible:!1}],a.edges=[{id:i,visible:!0}];break;case"combo":s.nodes=[{id:i,visible:!1}],a.combos=[{id:i,visible:!0}];break;default:break}this.pushStack("visible",{before:s,after:a})}},e.prototype.hideItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController"),r=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var i=r.getID(),o=r.getType(),s={},a={};switch(o){case"node":s.nodes=[{id:i,visible:!0}],a.nodes=[{id:i,visible:!1}];break;case"edge":s.nodes=[{id:i,visible:!0}],a.edges=[{id:i,visible:!1}];break;case"combo":s.nodes=[{id:i,visible:!0}],a.combos=[{id:i,visible:!1}];break;default:break}this.pushStack("visible",{before:s,after:a})}},e.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},e.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},e.prototype.remove=function(t,e){void 0===e&&(e=!0),this.removeItem(t,e)},e.prototype.removeItem=function(t,e){void 0===e&&(e=!0);var n=t;if((0,k.isString)(t)&&(n=this.findById(t)),!n&&(0,k.isString)(t))console.warn("The item ".concat(t," to be removed does not exist!"));else if(n){var r="";if(n.getType&&(r=n.getType()),e&&this.get("enabledStack")){var i=(0,y.__assign)((0,y.__assign)({},n.getModel()),{itemType:r}),o={};switch(r){case"node":o.nodes=[i],o.edges=[];for(var s=n.getEdges(),a=s.length-1;a>=0;a--)o.edges.push((0,y.__assign)((0,y.__assign)({},s[a].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[i];break;case"combo":o.combos=[i];break;default:break}this.pushStack("delete",{before:o,after:{}})}if("node"===r){var c=n.getModel();c.comboId&&this.updateComboTree(n,void 0,!1)}var l=this.get("itemController");if(l.removeItem(n),"combo"===r){var u=Zn(this.get("comboTrees"));this.set("comboTrees",u)}}},e.prototype.innerAddItem=function(t,e,n){if(!rr(t,e))return!1;if(!e.id||!this.findById(e.id)){var r,i=this.get("comboTrees")||[];if("combo"===t){var o=this.get("itemMap"),s=!1;if(i.forEach((function(i){s||Wn(i,(function(i){if(e.parentId===i.id){s=!0;var a=(0,y.__assign)({id:e.id,depth:i.depth+2},e);i.children?i.children.push(a):i.children=[a],e.depth=a.depth,r=n.addItem(t,e)}var c=o[i.id];return s&&c&&c.getType&&"combo"===c.getType()&&n.updateCombo(c,i.children),!0}))})),!s){var a=(0,y.__assign)({id:e.id,depth:0},e);e.depth=a.depth,i.push(a),r=n.addItem(t,e)}this.set("comboTrees",i),e.collapsed&&(this.collapseCombo(r,!1),this.updateCombo(r))}else if("node"===t&&(0,k.isString)(e.comboId)&&i){var c=this.findById(e.comboId);c&&c.getType&&"combo"!==c.getType()&&console.warn("'".concat(e.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),r=n.addItem(t,e);var l=this.get("itemMap"),u=!1,d=!1;i.forEach((function(t){d||u||Wn(t,(function(t){if(t.id===e.id)return d=!0,!1;if(e.comboId===t.id&&!d){u=!0;var r=(0,k.clone)(e);r.itemType="node",t.children?t.children.push(r):t.children=[r],r.depth=t.depth+1}return u&&l[t.id].getType&&"combo"===l[t.id].getType()&&n.updateCombo(l[t.id],t.children),!0}))}))}else r=n.addItem(t,e);if("node"===t&&e.comboId||"combo"===t&&e.parentId){c=this.findById(e.comboId||e.parentId);c&&c.getType&&"combo"===c.getType()&&c.addChild(r)}return r}console.warn("This item exists already. Be sure the id %c".concat(e.id,"%c is unique."),"font-size: 20px; color: red;","")},e.prototype.addItem=function(t,e,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!r);var o=this.get("itemController"),s=this.innerAddItem(t,e,o);if(!1===s||!0===s)return s;var a=this.get("combos");if(a&&a.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var c=(0,y.__assign)((0,y.__assign)({},s.getModel()),{itemType:t}),l={};switch(t){case"node":l.nodes=[c];break;case"edge":l.edges=[c];break;case"combo":l.combos=[c];break;default:break}this.pushStack("add",{before:{},after:l})}return s},e.prototype.addItems=function(t,e,n){void 0===t&&(t=[]),void 0===e&&(e=!0),void 0===n&&(n=!0);var r=this.get("comboSorted");this.set("comboSorted",r&&!n);for(var i=this.get("itemController"),o=[],s=0;s<t.length;s++){var a=t[s];"edge"!==a.type&&"vedge"!==a.type?o.push(this.innerAddItem(a.type,a.model,i)):o.push(void 0)}for(s=0;s<t.length;s++){a=t[s];"edge"!==a.type&&"vedge"!==a.type||(o[s]=this.innerAddItem(a.type,a.model,i))}if(n){var c=this.get("combos");c&&c.length>0&&this.sortCombos()}if(this.autoPaint(),e&&this.get("enabledStack")){var l={nodes:[],edges:[],combos:[]};for(s=0;s<t.length;s++){var u=t[s].type,d=o[s];if(d&&!0!==d){var h=(0,y.__assign)((0,y.__assign)({},d.getModel()),{itemType:u});switch(u){case"node":l.nodes.push(h);break;case"edge":l.edges.push(h);break;case"combo":l.combos.push(h);break;default:break}}}this.pushStack("addItems",{before:{},after:l})}return o},e.prototype.add=function(t,e,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(t,e,n,r)},e.prototype.updateItem=function(t,e,n){var r=this;void 0===n&&(n=!0);var i,o=this.get("itemController");i=(0,k.isString)(t)?this.findById(t):t;var s,a=n&&this.get("enabledStack");a&&(s=(0,k.clone)(i.getModel()));var c="";i.getType&&(c=i.getType());var l=(0,y.__spreadArray)([],i.getStates(),!0);if("combo"===c&&(0,k.each)(l,(function(t){return r.setItemState(i,t,!1)})),o.updateItem(i,e),"combo"===c&&(0,k.each)(l,(function(t){return r.setItemState(i,t,!0)})),a){var u={nodes:[],edges:[],combos:[]},d={nodes:[],edges:[],combos:[]},h=(0,y.__assign)({id:s.id},e);switch(c){case"node":u.nodes.push(s),d.nodes.push(h);break;case"edge":u.edges.push(s),d.edges.push(h);break;case"combo":u.combos.push(s),d.combos.push(h);break;default:break}this.pushStack("update",{before:u,after:d})}},e.prototype.update=function(t,e,n){void 0===n&&(n=!0),this.updateItem(t,e,n)},e.prototype.setItemState=function(t,e,n){(0,k.isString)(t)&&(t=this.findById(t));var r=this.get("itemController");r.setItemState(t,e,n);var i=this.get("stateController");i.updateState(t,e,n)},e.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},e.prototype.data=function(t){nr(t),this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i,s=e.combos,a=void 0===s?[]:s;if(this.clear(!0),this.emit("beforerender"),t.addItems(r.map((function(t){return{type:"node",model:t}})),!1,!1),0!==(null===a||void 0===a?void 0:a.length)){var c=Kn(a,r);this.set("comboTrees",c),t.addCombos(a)}t.addItems(o.map((function(t){return{type:"edge",model:t}})),!1,!1);var l=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var u=t.get("layoutController");if(u){if(u.layout(d),this.destroyed)return}else d();function d(){(t.get("comboTrees")||[]).forEach((function(e){Wn(e,(function(e){var n=t.findById(e.id);return"combo"===n.getType()&&e.collapsed&&(t.collapseCombo(e.id,!1),t.updateCombo(n)),!0}))})),t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",l),setTimeout((function(){var e;null===(e=t.getCombos())||void 0===e||e.forEach((function(t){t.set("animate",!0)}))}),0)}if(!this.get("groupByTypes"))if(a&&0!==a.length)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var h=this.getNodes();h.forEach((function(t){t.toFront()}))}else{var f=this.getEdges();f.forEach((function(t){t.toBack()}))}},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,e,n){var r,i=this,o=this.get("itemMap");(0,k.each)(n,(function(n){if(r=o[n.id],r){if(i.get("animate")&&t===Ou){var s=r.getContainer().getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),r.set("originAttrs",{x:s[6],y:s[7]})}i.updateItem(r,n,!1)}else r=i.addItem(t,n,!1);r&&e["".concat(t,"s")].push(r)}))},e.prototype.changeData=function(t,e){var n,r=this;void 0===e&&(e=!0);var i=this,o=t||i.get("data");if(!nr(o))return this;this.emit("beforechangedata"),e&&this.get("enabledStack")&&this.pushStack("changedata",{before:i.save(),after:o}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map((function(t){return i.clearItemStates(t)})),this.getEdges().map((function(t){return i.clearItemStates(t)}));var s=this.get("canvas"),a=s.get("localRefresh");s.set("localRefresh",!1),i.get("data")||(i.data(o),i.render());var c=this.get("itemMap"),l={nodes:[],edges:[]},u=o.combos;if(u){var d=Kn(u,o.nodes);this.set("comboTrees",d)}else this.set("comboTrees",[]);this.diffItems("node",l,o.nodes),(0,k.each)(c,(function(t,e){c[e].getModel().depth=0,t.getType&&"edge"===t.getType()||(t.getType&&"combo"===t.getType()?(delete c[e],t.destroy()):l.nodes.indexOf(t)<0&&(delete c[e],i.remove(t,!1)))}));for(var h=this.getCombos(),f=h.length,p=f-1;p>=0;p--)h[p].destroyed&&h.splice(p,1);u&&(i.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,o.edges),(0,k.each)(c,(function(t,e){(!t.getType||"node"!==t.getType()&&"combo"!==t.getType())&&l.edges.indexOf(t)<0&&(delete c[e],i.remove(t,!1))})),(this.get("comboTrees")||[]).forEach((function(t){Wn(t,(function(t){var e=r.findById(t.id);return"combo"===e.getType()&&t.collapsed&&r.collapseCombo(t.id,!1),!0}))})),this.set({nodes:l.nodes,edges:l.edges});var g=(this.get("layout")||{}).relayoutAtChangeData,m=void 0===g||g,v=this.get("layoutController");return m&&v&&(v.changeData((function(){setTimeout((function(){var t;null===(t=i.getCombos())||void 0===t||t.forEach((function(t){t.set("animate",!0)}))}),0)})),i.get("animate")&&!v.getLayoutType()?(i.positionsAnimate(),null===(n=i.getCombos())||void 0===n||n.forEach((function(t){return t.set("animate",!0)}))):i.autoPaint()),setTimeout((function(){s.set("localRefresh",a)}),16),this.set("data",o),this.emit("afterchangedata"),this},e.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),r=this.get("itemController");r.addCombos(n,t)},e.prototype.createCombo=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=this.get("itemController");this.set("comboSorted",!1);var o,s="";if(t){if((0,k.isString)(t))s=t,o={id:t};else{if(s=t.id,!s)return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");o=t}var a=n&&this.get("enabledStack"),c={nodes:[],combos:[]};a&&e.forEach((function(t){var e=r.findById(t),n=e.getType();if("node"===n||"combo"===n){var i=e.getModel();c["".concat(n,"s")].push({id:t,parentId:"node"===n?i.comboId:i.parentId})}}));var l=this.get("comboTrees"),u=new Set(e),d=new Map;l&&(l.forEach((function(t){Wn(t,(function(t,e,n){if(u.has(t.id)){if(e){var o=r.findById(e.id),s=r.findById(t.id);e.children.splice(n,1),o.removeChild(s),i.updateCombo(o,e.children)}"combo"===t.itemType&&d.set(t.id,t)}return!0}))})),l=l.filter((function(t){return!u.has(t.id)})),this.set("comboTrees",l));var h={nodes:[],combos:[]},f=e.map((function(t){var e=r.findById(t),n=e.getModel(),i="";e.getType&&(i=e.getType());var o=d.get(t)||{id:e.getID(),itemType:i};return"combo"===i?(o.parentId=s,n.parentId=s):"node"===i&&(o.comboId=s,n.comboId=s),a&&h["".concat(i,"s")].push({id:n.id,parentId:s}),o}));o.children=f,this.addItem("combo",o,!1),this.set("comboSorted",!1),l&&(l.forEach((function(t){$n(t,(function(t){return t.id!==s||(t.itemType="combo",t.children=f,!1)}))})),this.sortCombos()),a&&(h.combos.push(o),this.pushStack("createCombo",{before:c,after:h}));var p=this.findById(s);!p.getModel().parentId&&p.getChildren().combos.length&&this.updateComboTree(p,void 0,!1),setTimeout((function(){p.set("animate",!0)}),0)}},e.prototype.uncombo=function(t,e){var n,r,i=this;void 0===e&&(e=!0);var o=this,s=t;if((0,k.isString)(t)&&(s=this.findById(t)),!s||s.getType&&"combo"!==s.getType())console.warn("The item is not a combo!");else{var a=s.getModel(),c=s.getModel().parentId,l=o.get("comboTrees");l||(l=[]);var u,d=this.get("itemMap"),h=s.get("id"),f=[],p=this.get("combos"),g=this.findById(c),m=e&&this.get("enabledStack"),v={};if(m&&(v=(0,k.clone)(a),v.children=[]),l.forEach((function(t){u||Wn(t,(function(t){var e;if(t.id===h){u=t;var n=s.getEdges().map((function(t){return t.getID()}));n.forEach((function(t){i.removeItem(t,!1)}));var r=p.indexOf(s);p.splice(r,1),delete d[h];var o=(0,k.clone)(s.getModel());s.destroy(),i.emit("afterremoveitem",{item:o,type:"combo"})}if(c&&u&&t.id===c){g.removeCombo(s),f=t.children;r=f.indexOf(u);return-1!==r&&f.splice(r,1),null===(e=u.children)||void 0===e||e.forEach((function(t){var e=i.findById(t.id),n=e.getModel();e.getType&&"combo"===e.getType()?(t.parentId=c,delete t.comboId,n.parentId=c,delete n.comboId):e.getType&&"node"===e.getType()&&(t.comboId=c,n.comboId=c),g.addChild(e),f.push(t)})),i.updateCombo(g),!1}return!0}))})),!c&&u){var b=l.indexOf(u);l.splice(b,1),null===(n=u.children)||void 0===n||n.forEach((function(t){t.parentId=void 0;var e=i.findById(t.id).getModel();delete e.parentId,delete e.comboId,"node"!==t.itemType&&l.push(t)}))}if(m){var y={nodes:[],combos:[]},w={nodes:[],combos:[]};null===(r=u.children)||void 0===r||r.forEach((function(t){var e=i.findById(t.id),n=e.getType();"node"!==n&&"combo"!==n||(y["".concat(n,"s")].push({id:t.id,parentId:h}),w["".concat(n,"s")].push({id:t.id,parentId:c}))})),y.combos.push(v),this.pushStack("uncombo",{before:y,after:w})}}},e.prototype.updateCombos=function(t){var e=this;void 0===t&&(t=!1);var n=this,r=this.get("comboTrees"),i=n.get("itemController"),o=n.get("itemMap");(r||[]).forEach((function(n){Wn(n,(function(n){var r;if(!n)return!0;var s=o[n.id];if("combo"===(null===(r=null===s||void 0===s?void 0:s.getType)||void 0===r?void 0:r.call(s))){var a=(0,y.__spreadArray)([],s.getStates(),!0);(0,k.each)(a,(function(t){return e.setItemState(s,t,!1)})),i.updateCombo(s,n.children,t),(0,k.each)(a,(function(t){return e.setItemState(s,t,!0)}))}return!0}))})),n.sortCombos()},e.prototype.updateCombo=function(t){var e,n=this,r=this,i=t;if((0,k.isString)(t)&&(i=this.findById(t)),!i||i.getType&&"combo"!==i.getType())console.warn("The item to be updated is not a combo!");else{e=i.get("id");var o=this.get("comboTrees"),s=r.get("itemController"),a=r.get("itemMap");(o||[]).forEach((function(t){Wn(t,(function(t){if(!t)return!0;var r=a[t.id];if(e===t.id&&r&&r.getType&&"combo"===r.getType()){var i=(0,y.__spreadArray)([],r.getStates(),!0);(0,k.each)(i,(function(t){r.getStateStyle(t)&&n.setItemState(r,t,!1)})),s.updateCombo(r,t.children),(0,k.each)(i,(function(t){r.getStateStyle(t)&&n.setItemState(r,t,!0)})),e&&(e=t.parentId)}return!0}))}))}},e.prototype.updateComboTree=function(t,e,n){void 0===n&&(n=!0);var r,i=this;this.set("comboSorted",!1),r=(0,k.isString)(t)?i.findById(t):t;var o=r.getModel(),s=o.comboId||o.parentId,a="";if(r.getType&&(a=r.getType()),e&&"combo"===a){var c,l=this.get("comboTrees"),u=!0;if((l||[]).forEach((function(t){c||$n(t,(function(t){if(!c)return t.id===r.getID()&&(c=t),!0}))})),$n(c,(function(t){return t.id!==e||(u=!1,!1)})),!u)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n&&this.get("enabledStack")){var d={},h={};"combo"===a?(d.combos=[{id:o.id,parentId:o.parentId}],h.combos=[{id:o.id,parentId:e}]):"node"===a&&(d.nodes=[{id:o.id,parentId:o.comboId}],h.nodes=[{id:o.id,parentId:e}]),this.pushStack("updateComboTree",{before:d,after:h})}if(o.parentId||o.comboId){var f=this.findById(o.parentId||o.comboId);f&&f.removeChild(r)}if("combo"===a?o.parentId=e:"node"===a&&(o.comboId=e),e){var p=this.findById(e);p&&p.addChild(r)}if(s){p=this.findById(s);p&&p.removeChild(r)}var g=Zn(this.get("comboTrees"),o.id,e);this.set("comboTrees",g),this.updateCombos()},e.prototype.save=function(){var t=[],e=[],n=[];return(0,k.each)(this.get("nodes"),(function(e){t.push(e.getModel())})),(0,k.each)(this.get("edges"),(function(t){e.push(t.getModel())})),(0,k.each)(this.get("combos"),(function(t){n.push(t.getModel())})),{nodes:t,edges:e,combos:n}},e.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},e.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),r=t.get("edges");(0,k.each)(e,(function(t){t.refresh()})),(0,k.each)(n,(function(t){t.refresh()})),(0,k.each)(r,(function(t){t.refresh()}))}t.emit("aftergraphrefresh"),t.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if((0,k.isString)(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType()))return t.getChildren();console.warn("The combo does not exist!")},e.prototype.positionsAnimate=function(t){var e=this;e.emit("beforeanimate");var n=e.get("animateCfg"),r=n.onFrame,i=t?e.getNodes().concat(e.getCombos()):e.getNodes(),o=i.map((function(t){var e=t.getModel();return{id:e.id,x:e.x,y:e.y}}));e.stopAnimate();var s=e.get("canvas");e.animating=!0,setTimeout((function(){s.animate((function(n){(0,k.each)(o,(function(t){var i=e.findById(t.id);if(i&&!i.destroyed){var o=i.get("originAttrs"),s=i.get("model"),a=i.getContainer().getMatrix();if(void 0!==o&&null!==o||(a&&(o={x:a[6],y:a[7]}),i.set("originAttrs",o||0)),r){var c=r(i,n,t,o||{x:0,y:0});i.set("model",Object.assign(s,c))}else o?(s.x=o.x+(t.x-o.x)*n,s.y=o.y+(t.y-o.y)*n):(s.x=t.x,s.y=t.y)}})),e.refreshPositions(t)}),{duration:n.duration,easing:n.easing,callback:function(){(0,k.each)(i,(function(t){t.set("originAttrs",null)})),n.callback&&n.callback(),e.emit("afteranimate"),e.animating=!1}})}),0)},e.prototype.refreshPositions=function(t){var e=this;e.emit("beforegraphrefreshposition");var n,r=e.get("nodes"),i=e.get("edges"),o=e.get("vedges"),s=e.get("combos"),a={},c=function(t){(0,k.each)(t,(function(t){n=t.getModel();var e=t.get("originAttrs");if(!e||n.x!==e.x||n.y!==e.y){var r=t.updatePosition({x:n.x,y:n.y});a[n.id]=r,n.comboId&&(a[n.comboId]=a[n.comboId]||r),n.parentId&&(a[n.parentId]=a[n.parentId]||r)}}))};c(s),c(r),s&&0!==s.length&&(t?(c(s),e.updateCombos()):e.updateCombos()),(0,k.each)(i,(function(t){var e=t.getSource().getModel(),n=t.getTarget();if(!(0,k.isPlainObject)(n)){var r=n.getModel();(a[e.id]||a[r.id]||t.getModel().isComboEdge)&&t.refresh()}})),(0,k.each)(o,(function(t){t.refresh()})),e.emit("aftergraphrefreshposition"),e.autoPaint()},e.prototype.stopAnimate=function(){var t=this.get("canvas"),e=t.cfg.timeline;e&&e.stopAllAnimations()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},e.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},e.prototype.clear=function(t){var e;return void 0===t&&(t=!1),null===(e=this.get("canvas"))||void 0===e||e.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],vedges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t,e,n,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=!0);var o=this.get("layoutController");if((0,k.isString)(t)&&(t={type:t}),e){var s=n;s||(s="begin"===e?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),s=this.getPointByCanvas(s.x,s.y);var a=["force","gForce","fruchterman","force2"];a.includes(t.type)||!t.type&&a.includes(null===o||void 0===o?void 0:o.layoutType)?t.center=[s.x,s.y]:this.once("afterlayout",(function(t){var n=i.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];s.x=s.x*n[0]+n[6],s.y=s.y*n[0]+n[7];var r=i.getGroup().getCanvasBBox(),o=r.minX,a=r.maxX,c=r.minY,l=r.maxY,u={x:(o+a)/2,y:(c+l)/2};"begin"===e&&(u.x=o,u.y=c),i.translate(s.x-u.x,s.y-u.y)}))}var c=(0,y.__assign)({},this.get("layout")),l={};Object.assign(l,c,t),t.pipes&&!t.type?delete l.type:!t.pipes&&l.type&&delete l.pipes,this.set("layout",l),o&&(o.isLayoutTypeSame(l)&&l.gpuEnabled===c.gpuEnabled?o.updateLayoutCfg(l):o.changeLayout(l),r&&this.get("enabledStack")&&this.pushStack("layout",{before:c,after:l}))},e.prototype.destroyLayout=function(){var t=this.get("layoutController");null===t||void 0===t||t.destroyLayout()},e.prototype.layout=function(){var t,e=this.get("layoutController"),n=this.get("layout");n&&e&&(n.workerEnabled?e.layout():(null===(t=e.layoutMethods)||void 0===t?void 0:t.length)?e.relayout(!0):e.layout())},e.prototype.collapseCombo=function(t,e){var n=this;if(void 0===e&&(e=!0),!this.destroyed)if((0,k.isString)(t)&&(t=this.findById(t)),t){this.emit("beforecollapseexpandcombo",{action:"collapse",item:t});var r=t.getModel(),i=this.get("itemController");i.collapseCombo(t,e),r.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],a=this.get("comboTrees"),c=!1;(a||[]).forEach((function(t){c||$n(t,(function(t){if(c&&t.depth<=r.depth)return!1;if(r.id===t.id&&(c=!0),c){var e=n.findById(t.id);e&&e.getType&&"combo"===e.getType()&&(s=s.concat(e.getNodes()),s=s.concat(e.getCombos()))}return!0}))}));var l={};o.forEach((function(t){var e=t.getModel(),i=e.isVEdge,o=e.size,a=void 0===o?1:o;if(!t.isVisible()||i){var c,u=t.getSource(),d=t.getTarget(),h=null;if(u.getModel().id===r.id||s.includes(u)&&!s.includes(d)?(h=d,c=!1):(d.getModel().id===r.id||!s.includes(u)&&s.includes(d))&&(h=u,c=!0),h){if(i)return void n.removeItem(t,!1);var f=h.getModel();while(!h.isVisible()){var p=f.parentId,g=f.comboId,m=p||g;if(h=n.findById(m),!h||!m)return;f=h.getModel()}var v=f.id,b=c?{source:v,target:r.id,size:a,isVEdge:!0}:{source:r.id,target:v,size:a,isVEdge:!0},y="".concat(b.source,"-").concat(b.target);if(l[y])return void(l[y].size+=a);l[y]=b}}})),this.addItems(Object.values(l).map((function(t){return{type:"vedge",model:t}})),!1),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})}else console.warn("The combo to be collapsed does not exist!")},e.prototype.expandCombo=function(t,e){var n=this;if(void 0===e&&(e=!0),(0,k.isString)(t)&&(t=this.findById(t)),!t||t.getType&&"combo"!==t.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel(),i=this.get("itemController");i.expandCombo(t,e),r.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],a=this.get("comboTrees"),c=!1;(a||[]).forEach((function(t){c||$n(t,(function(t){if(c&&t.depth<=r.depth)return!1;if(r.id===t.id&&(c=!0),c){var e=n.findById(t.id);e&&e.getType&&"combo"===e.getType()&&(s=s.concat(e.getNodes()),s=s.concat(e.getCombos()))}return!0}))}));var l={};o.forEach((function(t){if(!t.isVisible()||t.getModel().isVEdge){var e,i=t.getSource(),o=t.getTarget(),a=i.get("id"),c=o.get("id"),u=null;if(a===r.id||s.includes(i)&&!s.includes(o)?(u=o,e=!1):c===r.id||!s.includes(i)&&s.includes(o)?(u=i,e=!0):s.includes(i)&&s.includes(o)&&i.isVisible()&&o.isVisible()&&t.show(),u){var d=t.getModel(),h=d.isVEdge,f=d.size,p=void 0===f?1:f;if(h)return void n.removeItem(t,!1);var g=u.getModel();while(!u.isVisible()){var m=g.parentId,v=g.comboId,b=m||v;if(u=n.findById(b),!u||!b)return;g=u.getModel()}var y=g.id,k=e?o:i,w=k.getModel();while(!k.isVisible()){var _=w.parentId,A=w.comboId,C=_||A;if(k=n.findById(C),!k||!C)return;if(w.comboId===r.id||w.parentId===r.id)break;w=k.getModel()}var x=w.id;if(y){var E=e?{source:y,target:x,isVEdge:!0,size:p}:{source:x,target:y,isVEdge:!0,size:p},S="".concat(E.source,"-").concat(E.target);if(l[S])return void(l[S].size+=p);l[S]=E}}}})),this.addItems(Object.values(l).map((function(t){return{type:"vedge",model:t}})),!1),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})}},e.prototype.collapseExpandCombo=function(t,e){if(void 0===e&&(e=!0),(0,k.isString)(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType())){var n=t.getModel(),r=this.findById(n.parentId);while(r){var i=r.getModel();if(i.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(r=void 0);r=this.findById(i.parentId)}var o=n.collapsed;o?this.expandCombo(t,e):this.collapseCombo(t,e),this.updateCombo(t)}},e.prototype.getNeighbors=function(t,e){var n=t;return(0,k.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},e.prototype.getNodeDegree=function(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n=!1);var r=t;(0,k.isString)(t)&&(r=this.findById(t));var i=this.get("degrees");i&&!n||(i=J(this.save()),this.set("degrees",i));var o=i[r.getID()],s=0;if(!o)return 0;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear(),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack}))},e.prototype.pushStack=function(t,e,n){if(void 0===t&&(t="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var r=e?(0,k.clone)(e):{before:{},after:(0,k.clone)(this.save())};"redo"===n?this.redoStack.push({action:t,data:r}):this.undoStack.push({action:t,data:r}),this.emit("stackchange",{action:t,stackType:n,undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("请先启用 undo & redo 功能，在实例化 Graph 时候配置 enabledStack: true !")},e.prototype.getAdjMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix");return n&&t||(n=L(this.save(),e),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&t||(n=L(this.save(),e),this.set("adjMatrix",n)),r&&t||(r=bt(this.save(),e),this.set("shortestPathMatrix",r)),r},e.prototype.on=function(e,n,r){return t.prototype.on.call(this,e,n,r)},e.prototype.destroy=function(){var t,e,n,r,i;this.emit("beforedestroy"),this.clear(),this.clearStack(),null===(t=this.get("itemController"))||void 0===t||t.destroy(),null===(e=this.get("modeController"))||void 0===e||e.destroy(),null===(n=this.get("viewController"))||void 0===n||n.destroy(),null===(r=this.get("stateController"))||void 0===r||r.destroy(),null===(i=this.get("canvas"))||void 0===i||i.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null,this.emit("afterdestroy")},e.prototype.createHull=function(t){if(t.members&&!(t.members.length<1)){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e&&!e.get("destroyed")||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var r=e.addGroup({id:"".concat(t.id,"-container")}),i=new Du(this,(0,y.__assign)((0,y.__assign)({},t),{group:r})),o=i.id;return n[o]=i,i}console.warn("Create hull failed! The members is empty.")},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var e,n;n=(0,k.isString)(t)?this.getHullById(t):t,null===(e=this.get("hullMap"))||void 0===e||delete e[n.id],n.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();t&&Object.keys(t).length&&(Object.keys(t).forEach((function(e){var n=t[e];n.destroy()})),this.set("hullMap",{}))},e}(S),Pu=Nu;function Lu(t){return Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(t)}var Bu=N,Ru="-shape",ju="-label",zu=["startArrow","endArrow"],Fu={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Vu={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Uu={edge:Vu,node:Fu,combo:Fu},Gu="-label-bg",Hu={options:{labelCfg:{style:{fontFamily:Nn.windowFontFamily}},descriptionCfg:{style:{fontFamily:Nn.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(t){return{}},getOptions:function(t,e){return"move"===e||(null===e||void 0===e?void 0:e.includes("bbox"))?t:(0,k.deepMix)({},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,e){e["shapeMap"]={},this.mergeStyle=this.getOptions(t);var n=this.drawShape(t,e);if(n.set("className",this.itemType+Ru),e["shapeMap"][this.itemType+Ru]=n,t.label){var r=this.drawLabel(t,e);r.set("className",this.itemType+ju),e["shapeMap"][this.itemType+ju]=r}return n},afterDraw:function(t,e,n){},drawShape:function(t,e){return null},drawLabel:function(t,e){var n=(this.mergeStyle||this.getOptions(t)||{}).labelCfg,r=n||{},i=this.getLabelStyle(t,r,e),o=i.rotate;delete i.rotate;var s=e.addShape("text",{attrs:i,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(e["shapeMap"]["text-shape"]=s,!isNaN(o)&&""!==o){var a=s.getBBox(),c=[1,0,0,0,1,0,0,0,1];if(i.rotateCenter)switch(i.rotateCenter){case"center":c=Bu(c,[["t",-a.width/2,-a.height/2],["r",o],["t",a.width/2,a.height/2]]);break;case"lefttop":c=Bu(c,[["t",-i.x,-i.y],["r",o],["t",i.x,i.y]]);break;case"leftcenter":c=Bu(c,[["t",-i.x,-i.y-a.height/2],["r",o],["t",i.x,i.y+a.height/2]]);break;default:c=Bu(c,[["t",-a.width/2,-a.height/2],["r",o],["t",a.width/2,a.height/2]]);break}else c=Bu(c,[["t",-i.x,-i.y-a.height/2],["r",o],["t",i.x,i.y+a.height/2]]);s.setMatrix(c)}if(i.background){var l=this.drawLabelBg(t,e,s),u=this.itemType+Gu;l.set("classname",u),e["shapeMap"][u]=l,s.toFront()}return s},drawLabelBg:function(t,e,n){var r=this.options.labelCfg,i=(0,k.mix)({},r,t.labelCfg),o=this.getLabelBgStyleByPosition(n,i),s=e.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return e["shapeMap"]["text-bg-shape"]=s,s},getLabelStyleByPosition:function(t,e,n){return{text:t.label}},getLabelBgStyleByPosition:function(t,e){return{}},getLabelStyle:function(t,e,n){var r=this.getLabelStyleByPosition(t,e,n),i="".concat(this.itemType,"Label"),o=Nn[i]?Nn[i].style:null;return(0,y.__assign)((0,y.__assign)((0,y.__assign)({},o),r),e.style)},getShapeStyle:function(t){return t.style},update:function(t,e,n){this.updateShapeStyle(t,e,n),this.updateLabel(t,e,n)},updateShapeStyle:function(t,e,n){var r,i=e.getContainer(),o=e.getKeyShape(),s=(0,k.mix)({},o.attr(),t.style),a=function(t){var e,n=s[t];if((0,k.isPlainObject)(n)){var a=(null===(r=i["shapeMap"])||void 0===r?void 0:r[t])||i.find((function(e){return e.get("name")===t}));null===a||void 0===a||a.attr(n)}else o.attr((e={},e[t]=n,e))};for(var c in s)a(c)},updateLabel:function(t,e,n){var r,i,o=e.getContainer(),s=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,a=void 0===s?{}:s,c=this.itemType+ju,l=o["shapeMap"][c]||o.find((function(t){return t.get("className")===c})),u=this.itemType+Gu,d=o["shapeMap"][u]||o.find((function(t){return t.get("className")===u}));if(l&&void 0===t.label&&(o.removeChild(l),delete o["shapeMap"][c],d&&(o.removeChild(d),delete o["shapeMap"][u])),t.label||""===t.label)if(l){(!n||"bbox|label"===n||"edge"===this.itemType&&"style"!==n)&&(a=(0,k.deepMix)(a,t.labelCfg));var h=this.getLabelStyleByPosition(t,a,o),f=null===(r=t.labelCfg)||void 0===r?void 0:r.style,p=(0,y.__assign)((0,y.__assign)({},h),f),g=p.rotate;if(delete p.rotate,isNaN(g)||""===g)1!==(null===(i=l.getMatrix())||void 0===i?void 0:i[4])&&l.resetMatrix(),l.attr(p);else{var m=[1,0,0,0,1,0,0,0,1];m=Bu(m,[["t",-p.x,-p.y],["r",g],["t",p.x,p.y]]),p.matrix=m,l.attr(p)}if(d)if(p.background){var v=this.getLabelBgStyleByPosition(l,a);d.attr(v)}else o.removeChild(d);else p.background&&(d=this.drawLabelBg(t,o,l),d.set("classname",u),o["shapeMap"][u]=d,l.toFront())}else{var b=this.drawLabel(t,o);b.set("className",c),o["shapeMap"][c]=b}},afterUpdate:function(t,e){},setState:function(t,e,n){var r,i,o,s=n.get("keyShape");if(s&&!s.destroyed){var a=n.getType(),c=(0,k.isBoolean)(e)?t:"".concat(t,":").concat(e),l=this.getStateStyle(c,n),u=n.getStateStyle(c);if(u||l){var d=(0,k.mix)({},u||l),h=n.getContainer(),f={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===a&&(f.r=1,f.width=1,f.height=1),e){var p=function(t){var e,n=d[t];if((0,k.isPlainObject)(n)&&!zu.includes(t)){var r=(null===(o=h["shapeMap"])||void 0===o?void 0:o[t])||h.find((function(e){return e.get("name")===t}));null===r||void 0===r||r.attr(n)}else s.attr((e={},e[t]=n,e))};for(var g in d)p(g)}else{var m=tr(n.getCurrentStatesStyle()),v=n.getModel(),b=(0,k.mix)({},v.style,tr(n.getOriginStyle())),y=s.get("name"),w=s.attr(),_={};Object.keys(w).forEach((function(t){if("img"!==t){var e=w[t];e&&"object"===Lu(e)?_[t]=(0,k.clone)(e):_[t]=e}}));var A={},C=function(t){var e=d[t];if((0,k.isPlainObject)(e)&&!zu.includes(t)){var n=h["shapeMap"][t]||h.find((function(e){return e.get("name")===t}));if(n){var r=tr(n.attr());(0,k.each)(e,(function(e,i){if(t===y&&_[i]&&!f[i]){delete _[i];var o=b[t][i]||Uu[a][i];s.attr(i,o)}else if(r[i]||0===r[i]){delete r[i];var c=b[t][i]||Uu[a][i];n.attr(i,c)}})),A[t]=r}}else if(_[t]&&!f[t]){delete _[t];var i=b[t]||(b[y]?b[y][t]:void 0)||Uu[a][t];s.attr(t,i)}};for(var x in d)C(x);for(var g in y?A[y]=_:(0,k.mix)(A,_),m)if(!f[g]){var E=m[g];(0,k.isPlainObject)(E)&&!zu.includes(g)||(y?((0,k.mix)(b[y],(i={},i[g]=E,i)),delete b[g]):(0,k.mix)(b,(r={},r[g]=E,r)),delete m[g])}var S={};(0,k.deepMix)(S,b,A,m);var M=!1,I=function(t){var e,n,r=S[t];if((0,k.isPlainObject)(r)&&!zu.includes(t)){var i=h["shapeMap"][t]||h.find((function(e){return e.get("name")===t}));i&&(("text"===i.get("type")||i.get("labelRelated"))&&(delete r.x,delete r.y,delete r.matrix),t===y&&("combo"===a&&(delete r.r,delete r.width,delete r.height),M=!0),i.attr(r))}else if(!M){var o=r||Uu[a][t];"combo"===a?y||s.attr((e={},e[t]=o,e)):s.attr((n={},n[t]=o,n))}};for(var D in S)I(D)}}}},getStateStyle:function(t,e){var n=e.getModel(),r=e.getType(),i=this.getOptions(n),o=i.stateStyles,s=i.style,a=void 0===s?{}:s,c=n.stateStyles?n.stateStyles[t]:o&&o[t];return"combo"===r?(0,k.clone)(c):(0,k.mix)({},a,c)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e,n,r=(null===t||void 0===t?void 0:t.anchorPoints)||(null===(e=this.getCustomConfig(t))||void 0===e?void 0:e.anchorPoints)||(null===(n=this.options)||void 0===n?void 0:n.anchorPoints);return r}},$u={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Nn.nodeLabel.offset,getSize:function(t){var e,n=(null===(e=this.mergeStyle)||void 0===e?void 0:e.size)||t.size||this.getOptions({}).size||Nn.defaultNode.size;return(0,k.isArray)(n)&&1===n.length&&(n=[n[0],n[0]]),(0,k.isArray)(n)||(n=[n,n]),n},getLabelStyleByPosition:function(t,e){var n=e.maxLength,r=t.label;n&&(r=Xn(r,n));var i=e.position||this.labelPosition;if("center"===i)return{x:0,y:0,text:r,textBaseline:"middle",textAlign:"center"};var o=e.offset;(0,k.isNil)(o)&&(o=this.offset);var s,a=this.getSize(t);switch(i){case"top":s={x:0,y:-a[1]/2-o,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:a[1]/2+o,textBaseline:"top",textAlign:"center"};break;case"left":s={x:-a[0]/2-o,y:0,textBaseline:"middle",textAlign:"right"};break;default:s={x:a[0]/2+o,y:0,textBaseline:"middle",textAlign:"left"};break}return s.text=r,s},getLabelBgStyleByPosition:function(t,e){var n;if(!t)return{};var r=null===(n=e.style)||void 0===n?void 0:n.background;if(!r)return{};var i=t.getBBox(),o=rl(r.padding),s=i.width+o[1]+o[3],a=i.height+o[0]+o[2];return(0,y.__assign)((0,y.__assign)({x:i.minX-o[3],y:i.minY-o[0]},r),{width:s,height:a})},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t),i=e.addShape(n,{attrs:r,draggable:!0,name:"node-shape"});return e["shapeMap"]["node-shape"]=i,i},updateLinkPoints:function(t,e){var n,r=(this.mergeStyle||this.getOptions(t)).linkPoints,i=e["shapeMap"]["link-point-left"]||e.find((function(t){return"link-point-left"===t.get("className")})),o=e["shapeMap"]["link-point-right"]||e.find((function(t){return"link-point-right"===t.get("className")})),s=e["shapeMap"]["link-point-top"]||e.find((function(t){return"link-point-top"===t.get("className")})),a=e["shapeMap"]["link-point-bottom"]||e.find((function(t){return"link-point-bottom"===t.get("className")}));i&&(n=i.attr()),o&&!n&&(n=o.attr()),s&&!n&&(n=s.attr()),a&&!n&&(n=a.attr()),n||(n=r);var c=(0,k.mix)({},n,t.linkPoints),l=c.fill,u=c.stroke,d=c.lineWidth,h=c.size/2;h||(h=c.r);var f=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=f.left,g=f.right,m=f.top,v=f.bottom,b=this.getSize(t),w=b[0],_=b[1],A={r:h,fill:l,stroke:u,lineWidth:d};if(i)p||void 0===p?i.attr((0,y.__assign)((0,y.__assign)({},A),{x:-w/2,y:0})):(i.remove(),delete e["shapeMap"]["link-point-left"]);else if(p){var C="link-point-left";e["shapeMap"][C]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},A),{x:-w/2,y:0}),className:C,name:C,isAnchorPoint:!0})}if(o)g||void 0===g||(o.remove(),delete e["shapeMap"]["link-point-right"]),o.attr((0,y.__assign)((0,y.__assign)({},A),{x:w/2,y:0}));else if(g){var x="link-point-right";e["shapeMap"][x]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},A),{x:w/2,y:0}),className:x,name:x,isAnchorPoint:!0})}if(s)m||void 0===m||(s.remove(),delete e["shapeMap"]["link-point-top"]),s.attr((0,y.__assign)((0,y.__assign)({},A),{x:0,y:-_/2}));else if(m){var E="link-point-top";e["shapeMap"][E]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},A),{x:0,y:-_/2}),className:E,name:E,isAnchorPoint:!0})}if(a)v||void 0===v?a.attr((0,y.__assign)((0,y.__assign)({},A),{x:0,y:_/2})):(a.remove(),delete e["shapeMap"]["link-point-bottom"]);else if(v){var S="link-point-bottom";e["shapeMap"][S]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},A),{x:0,y:_/2}),className:S,name:S,isAnchorPoint:!0})}},updateShape:function(t,e,n,r,i){var o=e.get("keyShape");o.attr((0,y.__assign)({},n)),this.updateLabel(t,e,i),r&&this.updateIcon(t,e)},updateIcon:function(t,e){var n=this,r=e.getContainer(),i=(this.mergeStyle||this.getOptions(t)).icon,o=t.icon?t.icon:{show:void 0,text:void 0},s=o.show,a=o.text,c=r["shapeMap"]["".concat(this.type,"-icon")]||r.find((function(t){return t.get("name")==="".concat(n.type,"-icon")}));if(c)if(s||void 0===s){var l=(0,k.mix)({},c.attr(),i),u=l.width,d=void 0===u?20:u,h=l.height,f=void 0===h?20:h;("iconfont"===l.fontFamily||l.hasOwnProperty("text"))&&(d=0,f=0),c.attr((0,y.__assign)((0,y.__assign)({},l),{x:-d/2,y:-f/2}))}else c.remove(),delete r["shapeMap"]["".concat(this.type,"-icon")];else if(s){var p="".concat(this.type,"-icon");if(a)r["shapeMap"][p]=r.addShape("text",{attrs:(0,y.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:p,name:p});else{d=i.width,f=i.height;r["shapeMap"][p]=r.addShape("image",{attrs:(0,y.__assign)((0,y.__assign)({},i),{x:-d/2,y:-f/2}),className:p,name:p})}var g=r["shapeMap"]["node-label"]||r.find((function(t){return"node-label"===t.get("name")}));g&&g.toFront()}}},Wu=(0,y.__assign)((0,y.__assign)({},Hu),$u);El.registerNode("single-node",Wu);var Yu="edge-shape";function qu(t){var e=t;return"start"===t?e="end":"end"===t&&(e="start"),e}var Xu={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Nn.defaultEdge.size,style:{x:0,y:0,stroke:Nn.defaultEdge.style.stroke,lineAppendWidth:Nn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Nn.edgeLabel.style.fill,fontSize:Nn.edgeLabel.style.fontSize,fontFamily:Nn.windowFontFamily}},stateStyles:(0,y.__assign)({},Nn.edgeStateStyles)},getPath:function(t){var e=[];return(0,k.each)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},r=(0,k.mix)({},e,n,t.style),i=t.size||Nn.defaultEdge.size;t=this.getPathPoints(t);var o=t.startPoint,s=t.endPoint,a=this.getControlPoints(t),c=[o];a&&(c=c.concat(a)),c.push(s);var l=this.getPath(c),u=(0,k.mix)({},Nn.defaultEdge.style,{stroke:Nn.defaultEdge.color,lineWidth:i,path:l},r);return u},updateShapeStyle:function(t,e,n){var r,i=e.getContainer(),o=(null===(r=e.getKeyShape)||void 0===r?void 0:r.call(e))||i["shapeMap"]["edge-shape"],s=t.size;t=this.getPathPoints(t);var a=t.startPoint,c=t.endPoint,l=this.getControlPoints(t),u=[a];l&&(u=u.concat(l)),u.push(c);var d=o.attr(),h=t.style||{};void 0===h.stroke&&(h.stroke=t.color);var f=t.sourceNode,p=t.targetNode,g={radius:h.radius};l||(g={source:f,target:p,offset:h.offset,radius:h.radius});var m=this.getPath(u,g),v={};"move"===n?v={path:m}:(d.endArrow&&!1===h.endArrow&&(t.style.endArrow={path:""}),d.startArrow&&!1===h.startArrow&&(t.style.startArrow={path:""}),v=(0,y.__assign)({},t.style),void 0===v.lineWidth&&(v.lineWdith=((0,k.isNumber)(s)?s:null===s||void 0===s?void 0:s[0])||d.lineWidth),void 0===v.path&&(v.path=m),void 0===v.stroke&&(v.stroke=d.stroke||t.color)),o&&o.attr(v)},getLabelStyleByPosition:function(t,e,n){var r,i=e.position||this.labelPosition,o={},s=null===n||void 0===n?void 0:n["shapeMap"][Yu];r="start"===i?0:"end"===i?1:.5;var a,c=e.refX||this.refX,l=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return o.x=t.startPoint.x+c,o.y=t.startPoint.y+l,o.text=t.label,o;a=(0,k.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate;var u=Un(s,r,c,l,a);return o.x=u.x,o.y=u.y,o.rotate=u.rotate,o.textAlign=this._getTextAlign(i,u.angle),o.text=t.label,o},getLabelBgStyleByPosition:function(t,e){if(!t)return{};var n=t.getBBox(),r=e.style&&e.style.background;if(!r)return{};var i,o=r.padding,s=n.width+o[1]+o[3],a=n.height+o[0]+o[2],c=(0,y.__assign)((0,y.__assign)({},r),{width:s,height:a,x:n.minX-o[3],y:n.minY-o[0],matrix:[1,0,0,0,1,0,0,0,1]});return i=(0,k.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,i&&(c.matrix=t.attr("matrix")||[1,0,0,0,1,0,0,0,1]),c},_getTextAlign:function(t,e){var n="center";return e?(e%=2*Math.PI,"center"!==t&&(n=e>=0&&e<=Math.PI/2||e>=1.5*Math.PI&&e<2*Math.PI?t:qu(t)),n):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){var n=this.getShapeStyle(t),r=e.addShape("path",{className:Yu,name:Yu,attrs:n});return e["shapeMap"][Yu]=r,r},drawLabel:function(t,e){var n=this.options.labelCfg,r=(0,k.deepMix)({},n,t.labelCfg),i=this.getLabelStyle(t,r,e),o=i.rotate;delete i.rotate;var s=e.addShape("text",{attrs:i,name:"text-shape",labelRelated:!0,draggable:!0});if(e["shapeMap"]["text-shape"]=s,isNaN(o)||""===o||s.rotateAtStart(o),i.background){var a=this.drawLabelBg(t,e,s,i,o),c=this.itemType+Gu;a.set("classname",c),e["shapeMap"][c]=a,s.toFront()}return s},drawLabelBg:function(t,e,n,r,i){var o=this.options.labelCfg,s=(0,k.deepMix)({},o,t.labelCfg),a=this.getLabelBgStyleByPosition(n,s),c=e.addShape("rect",{name:"text-bg-shape",attrs:a,labelRelated:!0});return e["shapeMap"]["text-bg-shape"]=c,c}},Ku=(0,y.__assign)((0,y.__assign)({},Hu),Xu);El.registerEdge("single-edge",Ku),El.registerEdge("line",{getControlPoints:function(){}},"single-edge"),El.registerEdge("spline",{getPath:function(t){var e=ou(t);return e}},"single-edge"),El.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var e,n,r=t.startPoint,i=t.endPoint,o={x:(r.x+i.x)/2,y:(r.y+i.y)/2};if(void 0!==t.controlPoints){if(n=t.controlPoints[0],e=He(r,n,i),r.x<=i.x&&r.y>i.y?this.clockwise=e.x>n.x?0:1:r.x<=i.x&&r.y<i.y?this.clockwise=e.x>n.x?1:0:r.x>i.x&&r.y<=i.y?this.clockwise=e.y<n.y?0:1:this.clockwise=e.y<n.y?1:0,(n.x-r.x)/(n.y-r.y)===(i.x-r.x)/(i.y-r.y))return[]}else{void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),(0,k.isArray)(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:i.x-r.x,y:i.y-r.y},a=Math.atan2(s.y,s.x);n={x:t.curveOffset*Math.cos(-Math.PI/2+a)+o.x,y:t.curveOffset*Math.sin(-Math.PI/2+a)+o.y},e=He(r,n,i)}var c=$e(r,e),l=[{x:c,y:c}];return l},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),2===t.length?e.push(["L",t[1].x,t[1].y]):e.push(["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},"single-edge"),El.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e=t.controlPoints;if(!e||!e.length){var n=t.startPoint,r=t.endPoint;void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),(0,k.isArray)(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),(0,k.isArray)(t.curvePosition)&&(t.curvePosition=t.curveOffset[0]);var i=su(n,r,t.curvePosition,t.curveOffset);e=[i]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),e}},"single-edge"),El.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(t){var e=t.controlPoints;if(void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),(0,k.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),(0,k.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),!e||!e.length||e.length<2){var n=t.startPoint,r=t.endPoint,i=su(n,r,t.curvePosition[0],t.curveOffset[0]),o=su(n,r,t.curvePosition[1],t.curveOffset[1]);e=[i,o]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-edge"),El.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),(0,k.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),(0,k.isNumber)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),(0,k.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var r=n.y-e.y,i=[0,0];t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset);var o={x:e.x,y:e.y+r*this.curvePosition[0]+i[0]},s={x:n.x,y:n.y-r*this.curvePosition[1]+i[1]};return[o,s]}},"cubic"),El.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),(0,k.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),(0,k.isNumber)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),(0,k.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var r=n.x-e.x,i=[0,0];t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset);var o={x:e.x+r*this.curvePosition[0]+i[0],y:e.y},s={x:n.x-r*this.curvePosition[1]+i[1],y:n.y},a=[o,s];return a}},"cubic"),El.registerEdge("loop",{getPathPoints:function(t){return Vn(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},"cubic");var Zu={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Nn.comboLabel.refX,refY:Nn.comboLabel.refY,options:{style:{stroke:Nn.defaultCombo.style.stroke,fill:Nn.defaultCombo.style.fill,lineWidth:Nn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Nn.comboLabel.style.fill,fontSize:Nn.comboLabel.style.fontSize,fontFamily:Nn.windowFontFamily}},stateStyles:(0,y.__assign)({},Nn.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},getSize:function(t){var e=(0,k.clone)(t.size||this.options.size||Nn.defaultCombo.size);return(0,k.isArray)(e)&&1===e.length&&(e=[e[0],e[0]]),(0,k.isArray)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;(0,k.isArray)(i)&&(i=Math.max.apply(Math,i));var o=e.refX,s=e.refY;(0,k.isNil)(o)&&(o=this.refX),(0,k.isNil)(s)&&(s=this.refY);var a,c=this.getSize(t),l=Math.max(r.r,c[0]/2)||c[0]/2,u=l+i;switch(n){case"top":a={x:0,y:-u-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":a={x:0,y:u+s,textBaseline:"bottom",textAlign:"center"};break;case"left":a={x:-u+o,y:0,textAlign:"left"};break;case"center":a={x:0,y:0,text:t.label,textAlign:"center"};break;default:a={x:u+o,y:0,textAlign:"right"};break}return a.text=t.label,a},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t),i=e.addShape(n,{attrs:r,draggable:!0,name:"combo-shape"});return i},updateCollapsedIcon:function(t,e,n){var r=t.collapsed,i=t.collapsedSubstituteIcon,o=void 0===i?{}:i,s=Object.assign({},this.options.collapsedSubstituteIcon,o),a=s.show,c=s.img,l=s.width,u=s.height,d=e.getContainer(),h=d.find((function(t){return"combo-collapsed-substitute-icon"===t.get("name")})),f=h&&!h.destroyed,p=e.get("keyShape");if(r&&a){if(f)h.show();else{var g={width:l||2*n.r||n.width,height:u||2*n.r||n.height};h=d.addShape("image",{attrs:(0,y.__assign)({img:c,x:-g.width/2,y:-g.height/2},g),name:"combo-collapsed-substitute-icon",draggable:!0})}p.hide()}else f&&(h.hide(),p.show())},updateShape:function(t,e,n){var r=this,i=e.get("keyShape"),o=e.get("animate"),s=o&&(void 0===t.animate?this.options.animate:t.animate);s&&i.animate?(t.collapsed||this.updateCollapsedIcon(t,e,n),i.animate(n,{duration:200,easing:"easeLinear",callback:function(){t.collapsed&&r.updateCollapsedIcon(t,e,n)}})):(i.attr((0,y.__assign)({},n)),this.updateCollapsedIcon(t,e,n)),this.updateLabel(t,e)}},Qu=(0,y.__assign)((0,y.__assign)({},Hu),Zu);El.registerCombo("single-combo",Qu),El.registerCombo("circle",{options:{size:[Nn.defaultCombo.size[0],Nn.defaultCombo.size[0]],padding:Math.max.apply(Math,Nn.defaultCombo.padding),animate:!0,style:{stroke:Nn.defaultCombo.style.stroke,fill:Nn.defaultCombo.style.fill,lineWidth:Nn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Nn.comboLabel.style.fill,fontSize:Nn.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,y.__assign)({},Nn.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"circle",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);delete n.height,delete n.width;var r=e.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0});return r},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;(0,k.isArray)(n)&&(n=Math.max.apply(Math,n));var r,i={stroke:t.color},o=(0,k.mix)({},e,i,t.style),s=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;if(s)r=(0,k.isNumber)(s)?s/2:s[0]/2;else{var a=this.getSize(t);r=!(0,k.isNumber)(o.r)||isNaN(o.r)?a[0]/2||Nn.defaultCombo.style.r:Math.max(o.r,a[0]/2)||a[0]/2}o.r=r+n;var c=(0,y.__assign)({x:0,y:0},o);return t.style?t.style.r=r:t.style={r:r},c},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;(0,k.isArray)(r)&&(r=Math.max.apply(Math,r));var i,o=(0,k.clone)(t.style),s=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;i=s?(0,k.isNumber)(s)?s/2:s[0]/2:Math.max(o.r,n[0]/2)||n[0]/2,o.r=i+r;var a=e.get("sizeCache");a&&(a.r=o.r);var c={stroke:t.color},l=e.get("keyShape"),u=(0,k.mix)({},l.attr(),c,o);t.style?t.style.r=i:t.style={r:i},this.updateShape(t,e,u,!0)}},"single-combo"),El.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Nn.defaultCombo.style.stroke,fill:Nn.defaultCombo.style.fill,lineWidth:Nn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Nn.comboLabel.style.fill,fontSize:Nn.comboLabel.style.fontSize,fontFamily:Nn.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,y.__assign)({},Nn.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"rect",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t),r=e.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0});return r},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;(0,k.isNumber)(i)&&(i=[i,i,i,i]);var o=e.refX,s=e.refY;(0,k.isNil)(o)&&(o=this.refX),(0,k.isNil)(s)&&(s=this.refY);var a,c=-r.width/2-i[3],l=r.width/2+i[1],u=-r.height/2-i[0],d=r.height/2+i[2];switch(n){case"top":a={x:c+o,y:u+s,textBaseline:"top",textAlign:"left"};break;case"bottom":a={x:0,y:d+s,textBaseline:"top",textAlign:"center"};break;case"left":a={x:c+s,y:0,textAlign:"left"};break;case"center":a={x:0,y:0,text:t.label,textAlign:"center"};break;case"top-center":a={x:0,y:u+s,textBaseline:"top",textAlign:"center"};break;default:a={x:l+o,y:0,textAlign:"right"};break}return a.text=t.label,a},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;(0,k.isNumber)(n)&&(n=[n,n,n,n]);var r,i,o={stroke:t.color},s=(0,k.mix)({},e,o,t.style),a=this.getSize(t),c=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;c?(0,k.isNumber)(c)?(r=c,i=c):(r=c[0],i=c[1]):(r=!(0,k.isNumber)(s.width)||isNaN(s.width)?a[0]||Nn.defaultCombo.style.width:Math.max(s.width,a[0])||a[0],i=!(0,k.isNumber)(s.height)||isNaN(s.height)?a[1]||Nn.defaultCombo.style.height:Math.max(s.height,a[1])||a[1]);var l=-r/2-n[3],u=-i/2-n[0];s.width=r+n[1]+n[3],s.height=i+n[0]+n[2];var d=(0,y.__assign)({x:l,y:u},s);return t.style?(t.style.width=r,t.style.height=i):t.style={width:r,height:i},d},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;(0,k.isNumber)(r)&&(r=[r,r,r,r]);var i,o,s=(0,k.clone)(t.style),a=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;a?(0,k.isNumber)(a)?(i=a,o=a):(i=a[0],o=a[1]):(i=Math.max(s.width,n[0])||n[0],o=Math.max(s.height,n[1])||n[1]),s.width=i+r[1]+r[3],s.height=o+r[0]+r[2];var c=e.get("sizeCache");c&&(c.width=s.width,c.height=s.height),s.x=-i/2-r[3],s.y=-o/2-r[0];var l={stroke:t.color},u=e.get("keyShape"),d=(0,k.mix)({},u.attr(),l,s);t.style?(t.style.width=i,t.style.height=o):t.style={width:i,height:o},this.updateShape(t,e,d,!1)}},"single-combo"),El.registerNode("simple-circle",{options:{size:Nn.defaultNode.size,style:{x:0,y:0,stroke:Nn.defaultNode.style.stroke,fill:Nn.defaultNode.style.fill,lineWidth:Nn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Nn.nodeLabel.style.fill,fontSize:Nn.nodeLabel.style.fontSize,fontFamily:Nn.windowFontFamily}},stateStyles:(0,y.__assign)({},Nn.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(t,e){var n=this.getShapeStyle(t),r="".concat(this.type,"-keyShape"),i=e.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:r,draggable:!0});return e["shapeMap"][r]=i,i},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,k.deepMix)({},e,n),i=this.getSize(t),o=i[0]/2,s=(0,y.__assign)({x:0,y:0,r:o},r);return s},update:function(t,e,n){var r=this.getSize(t),i={stroke:t.color,r:r[0]/2},o=e.get("keyShape"),s=(0,k.deepMix)({},o.attr(),i,t.style);this.updateShape(t,e,s,!0,n)}},"single-node"),El.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:Nn.defaultNode.style.stroke,fill:Nn.defaultNode.style.fill,lineWidth:Nn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Nn.nodeLabel.style.fill,fontSize:Nn.nodeLabel.style.fontSize,fontFamily:Nn.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,y.__assign)({},Nn.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t),r=e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return r},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,k.mix)({},e,n),i=this.getSize(t),o=r.width||i[0],s=r.height||i[1],a=(0,y.__assign)({x:-o/2,y:-s/2,width:o,height:s},r);return a},update:function(t,e,n){e.getContainer();var r=(this.mergeStyle||this.getOptions(t)).style,i=this.getSize(t),o=e.get("keyShape");t.size||(i[0]=o.attr("width")||r.width,i[1]=o.attr("height")||r.height);var s={stroke:t.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},a=(0,k.mix)({},r,o.attr(),s);a=(0,k.mix)(a,t.style),this.updateShape(t,e,a,!1,n)}},"single-node"),El.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:Nn.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);delete r.fill;var i=e.addShape(n,{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(t,i),i},drawClip:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).clipCfg;if(n.show){var r=n.type,i=n.x,o=n.y,s=n.style;if("circle"===r){var a=n.r;e.setClip({type:"circle",attrs:(0,y.__assign)({r:a,x:i,y:o},s)})}else if("rect"===r){var c=n.width,l=n.height,u=i-c/2,d=o-l/2;e.setClip({type:"rect",attrs:(0,y.__assign)({x:u,y:d,width:c,height:l},s)})}else if("ellipse"===r){var h=n.rx,f=n.ry;e.setClip({type:"ellipse",attrs:(0,y.__assign)({x:i,y:o,rx:h,ry:f},s)})}else if("polygon"===r){var p=n.points;e.setClip({type:"polygon",attrs:(0,y.__assign)({points:p},s)})}else if("path"===r){var g=n.path;e.setClip({type:"path",attrs:(0,y.__assign)({path:g},s)})}}},getShapeStyle:function(t){var e=this.mergeStyle||this.getOptions(t),n=e.style,r=e.img,i=this.getSize(t),o=i[0],s=i[1];n&&(o=n.width||i[0],s=n.height||i[1]);var a=(0,y.__assign)({x:-o/2,y:-s/2,width:o,height:s,img:r},n);return a},updateShapeStyle:function(t,e){var n=e.getContainer(),r="".concat(this.itemType,"-shape"),i=n["shapeMap"][r]||n.find((function(t){return t.get("className")===r}))||e.getKeyShape(),o=this.getShapeStyle(t);i&&!i.destroyed&&i.attr(o)}},"single-node");var Ju={triangle:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n,i="M ".concat(r,",0 L ").concat(r+e,",-").concat(t/2," L ").concat(r+e,",").concat(t/2," Z");return i},vee:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=20),void 0===n&&(n=0);var r=2*n,i="M ".concat(r,",0 L ").concat(r+e,",-").concat(t/2,"\n        L ").concat(r+2*e/3,",0 L ").concat(r+e,",").concat(t/2," Z");return i},circle:function(t,e){void 0===t&&(t=5),void 0===e&&(e=0);var n=2*e,r="M ".concat(n,", 0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*t,",0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*-t,",0");return r},rect:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=10),void 0===n&&(n=0);var r=2*n,i="M ".concat(r,",").concat(-t/2," \n        L ").concat(r+e,",").concat(-t/2," \n        L ").concat(r+e,",").concat(t/2," \n        L ").concat(r,",").concat(t/2," Z");return i},diamond:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n,i="M ".concat(r,",0 \n        L ").concat(r+e/2,",").concat(-t/2," \n        L ").concat(r+e,",0 \n        L ").concat(r+e/2,",").concat(t/2," Z");return i},triangleRect:function(t,e,n,r,i,o){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===i&&(i=5),void 0===o&&(o=0);var s=2*o,a=s+e+i,c="M ".concat(s,",0 L ").concat(s+e,",-").concat(t/2," L ").concat(s+e,",").concat(t/2," Z\n            M ").concat(a,", -").concat(n/2,"\n            L ").concat(a+r," -").concat(n/2,"\n            L ").concat(a+r," ").concat(n/2,"\n            L ").concat(a," ").concat(n/2,"\n            Z");return c}},td={collapse:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t+n-4,e]]},expand:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t-n+2*n-4,e],["M",t-n+n,e-n+4],["L",t,e+n-4]]},upTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e+i],["L",t+r,e+i],["L",t,e-n],["Z"]]},downTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e-i],["L",t+r,e-i],["L",t,e+n],["Z"]]}},ed=El,nd=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],rd=function(t){return"force"===t||"g6force"===t||"gForce"===t||"force2"===t},id=N,od=(0,y.__assign)((0,y.__assign)((0,y.__assign)((0,y.__assign)((0,y.__assign)((0,y.__assign)((0,y.__assign)({},c),o),l),i),u),d),{transform:id,mat3:M}),sd=od,ad=function(){function t(t){this.graph=t,this.layoutCfg=t.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return t.prototype.initLayout=function(){},t.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},t.prototype.getLayoutCfgType=function(t){var e=t.type;if(e)return e;var n=t.pipes;return Array.isArray(n)?n.map((function(t){return(null===t||void 0===t?void 0:t.type)||""})):null},t.prototype.isLayoutTypeSame=function(t){var e=this.getLayoutCfgType(t),n=Array.isArray(this.layoutType),r=Array.isArray(e);return n&&r?this.layoutType.every((function(t,n){return t===e[n]})):!Array.isArray(e)&&!Array.isArray(this.layoutType)&&(null===t||void 0===t?void 0:t.type)===this.layoutType},t.prototype.refreshLayout=function(){var t=this,e=t.graph,n=t.layoutType,r=t.layoutCfg,i=void 0===r?{}:r;if(e){var o=i.animate,s=void 0===o&&("force"===n||"force2"===n),a=rd(n)&&(o||s);e.get("animate")&&!a?e.positionsAnimate("comboCombined"===n):e.refreshPositions("comboCombined"===n)}},t.prototype.changeLayout=function(t){var e=t.disableTriggerLayout,n=(0,y.__rest)(t,["disableTriggerLayout"]);this.layoutCfg=n,this.layoutType=n.type||this.layoutType,e||this.layout()},t.prototype.changeData=function(t){this.layout(t)},t.prototype.destoryLayoutMethods=function(){var t=this.layoutMethods,e=[];return null===t||void 0===t||t.forEach((function(t){var n,r=null===(n=t.getType)||void 0===n?void 0:n.call(t);r&&e.push(r),t.destroy()})),this.layoutMethods=[],e},t.prototype.destroyLayout=function(){this.destoryLayoutMethods();var t=this.graph;t&&!t.get("destroyed")&&t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},t.prototype.setDataFromGraph=function(){for(var t,e=[],n=[],r=[],i=[],o=[],s=[],a=[],c=this.graph.getNodes(),l=this.graph.getEdges(),u=this.graph.getCombos(),d=c.length,h=0;h<d;h++){var f=c[h];if(f&&!f.destroyed){var p=f.getModel();f.isVisible()?e.push(p):n.push(p)}}var g=l.length;for(h=0;h<g;h++){var m=l[h];if(m&&!m.destroyed){p=m.getModel();m.isVisible()?p.isComboEdge?o.push(p):r.push(p):i.push(p)}}var v=u.length;for(h=0;h<v;h++){var b=u[h];if(!b.destroyed){p=b.getModel();b.isVisible()?s.push(p):a.push(p)}}return{nodes:e,hiddenNodes:n,edges:r,hiddenEdges:i,combos:s,hiddenCombos:a,comboEdges:o,vedges:null===(t=this.graph.get("vedges"))||void 0===t?void 0:t.map((function(t){return t.getModel()}))}},t.prototype.relayout=function(t){var e=this,n=this,r=n.graph,i=n.layoutMethods,o=n.layoutCfg;if(r&&!r.get("destroyed")){var s=Promise.resolve();if(t){this.data=this.setDataFromGraph();var a=this.data.nodes;if(!a)return!1;s=this.initPositions(o.center,a)}r.emit("beforelayout"),null===i||void 0===i||i.forEach((function(t,n){var r=o[n]||o;s=s.then((function(){var t,s=e.execLayoutMethod(r,n);return n===i.length-1&&(null===(t=o.onAllLayoutEnd)||void 0===t||t.call(o)),s}))}))}},t.prototype.filterLayoutData=function(t,e){var n,r,i=t.nodes,o=t.edges,s=(0,y.__rest)(t,["nodes","edges"]);if(!i)return t;n=(0,k.isFunction)(null===e||void 0===e?void 0:e.nodesFilter)?e.nodesFilter:function(){return!0};var a=i.filter(n);if((0,k.isFunction)(null===e||void 0===e?void 0:e.edgesFilter))r=e.edgesFilter;else{var c=a.reduce((function(t,e){return t[e.id]=!0,t}),{});r=function(t){return c[t.source]&&c[t.target]}}return(0,y.__assign)({nodes:a,edges:o.filter(r)},s)},t.prototype.getLayoutBBox=function(t){var e=this.graph,n=(0,k.groupBy)(e.getNodes(),(function(t){return t.getModel().layoutOrder})),r=Object.values(n).map((function(t){var e=al(t);return e.size=[e.width,e.height],e})),i=Object.values((0,k.groupBy)(t,"layoutOrder"));return{groupNodes:i,layoutNodes:r}},t.prototype.layoutAnimate=function(){},t.prototype.moveToZero=function(){var t=this.graph,e=t.get("data"),n=e.nodes;if(void 0!==n[0].x&&null!==n[0].x&&!sl(n[0].x)){for(var r=[0,0],i=n.length,o=0;o<i;o++){var s=n[o];r[0]+=s.x,r[1]+=s.y}r[0]/=n.length,r[1]/=n.length;for(o=0;o<i;o++){s=n[o];s.x-=r[0],s.y-=r[1]}}},t.prototype.initPositions=function(t,e){var n;return(0,y.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,y.__generator)(this,(function(s){return r=this.graph,(null===e||void 0===e?void 0:e.length)?(i=e.filter((function(t){return sl(t.x)||sl(t.y)})),o=i?i.length:0,o?[2,null===(n=this.initWithPreset)||void 0===n?void 0:n.call(this,(function(){}),(function(){var e=.85*r.get("width"),n=.85*r.get("height"),s=Math.ceil(Math.sqrt(o)*(e/n)),a=Math.ceil(o/s),c=e/(s-1),l=n/(a-1);isFinite(c)&&c||(c=0),isFinite(l)&&c||(l=0);for(var u=t[0]-e/2,d=t[1]-n/2,h=0;h<o;h++){var f=i[h];sl(+f.x)&&(!1,f.x=h%s*c+u),sl(+f.y)&&(!1,f.y=Math.floor(h/s)*l+d)}}))]:[2]):[2,Promise.resolve()]}))}))},t.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},t}(),cd=ad,ld=function(){function t(t){this.graph=t,this.destroyed=!1,this.initEvents()}return t}(),ud=ld,dd=ed.registerNode,hd=ed.registerEdge,fd=ed.registerCombo,pd=C.registerBehavior,gd=Nn,md=(Nn.version,ed.registerNode,ed.registerEdge,ed.registerCombo,C.registerBehavior,n(7302));function vd(){return window?window.devicePixelRatio:1}function bd(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function yd(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function kd(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function wd(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function _d(t,e){return t[0]===e[0]&&t[1]===e[1]}var Ad=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Cd=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,xd=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ed=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Sd(t,e){var n=t.match(Ed);(0,k.each)(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function Md(t,e,n){var r,i,o=Ad.exec(n),s=parseFloat(o[1])%360*(Math.PI/180),a=o[2],c=e.getBBox();s>=0&&s<.5*Math.PI?(r={x:c.minX,y:c.minY},i={x:c.maxX,y:c.maxY}):.5*Math.PI<=s&&s<Math.PI?(r={x:c.maxX,y:c.minY},i={x:c.minX,y:c.maxY}):Math.PI<=s&&s<1.5*Math.PI?(r={x:c.maxX,y:c.maxY},i={x:c.minX,y:c.minY}):(r={x:c.minX,y:c.maxY},i={x:c.maxX,y:c.minY});var l=Math.tan(s),u=l*l,d=(i.x-r.x+l*(i.y-r.y))/(u+1)+r.x,h=l*(i.x-r.x+l*(i.y-r.y))/(u+1)+r.y,f=t.createLinearGradient(r.x,r.y,d,h);return Sd(a,f),f}function Id(t,e,n){var r=Cd.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),s=parseFloat(r[3]),a=r[4];if(0===s){var c=a.match(Ed);return c[c.length-1].split(":")[1]}var l=e.getBBox(),u=l.maxX-l.minX,d=l.maxY-l.minY,h=Math.sqrt(u*u+d*d)/2,f=t.createRadialGradient(l.minX+u*i,l.minY+d*o,0,l.minX+u/2,l.minY+d/2,s*h);return Sd(a,f),f}function Dd(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=xd.exec(n),s=o[1],a=o[2];function c(){r=t.createPattern(i,s),e.set("pattern",r),e.set("patternSource",n)}switch(s){case"a":s="repeat";break;case"x":s="repeat-x";break;case"y":s="repeat-y";break;case"n":s="no-repeat";break;default:s="no-repeat"}return i=new Image,a.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=a,i.complete?c():(i.onload=c,i.src=i.src),r}function Td(t,e,n){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if((0,k.isString)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return Md(t,e,n);if("r"===n[0])return Id(t,e,n);if("p"===n[0])return Dd(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0}function Od(t){var e=0,n=0,r=0,i=0;return(0,k.isArray)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}function Nd(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Pd(t,e){return Nd(t)*Nd(e)?(t[0]*e[0]+t[1]*e[1])/(Nd(t)*Nd(e)):1}function Ld(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Pd(t,e))}function Bd(t,e){var n=e[1],r=e[2],i=(0,k.mod)((0,k.toRadian)(e[3]),2*Math.PI),o=e[4],s=e[5],a=t[0],c=t[1],l=e[6],u=e[7],d=Math.cos(i)*(a-l)/2+Math.sin(i)*(c-u)/2,h=-1*Math.sin(i)*(a-l)/2+Math.cos(i)*(c-u)/2,f=d*d/(n*n)+h*h/(r*r);f>1&&(n*=Math.sqrt(f),r*=Math.sqrt(f));var p=n*n*(h*h)+r*r*(d*d),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===s&&(g*=-1),isNaN(g)&&(g=0);var m=r?g*n*h/r:0,v=n?g*-r*d/n:0,b=(a+l)/2+Math.cos(i)*m-Math.sin(i)*v,y=(c+u)/2+Math.sin(i)*m+Math.cos(i)*v,w=[(d-m)/n,(h-v)/r],_=[(-1*d-m)/n,(-1*h-v)/r],A=Ld([1,0],w),C=Ld(w,_);return Pd(w,_)<=-1&&(C=Math.PI),Pd(w,_)>=1&&(C=0),0===s&&C>0&&(C-=2*Math.PI),1===s&&C<0&&(C+=2*Math.PI),{cx:b,cy:y,rx:_d(t,[l,u])?0:n,ry:_d(t,[l,u])?0:r,startAngle:A,endAngle:A+C,xRotation:i,arcFlag:o,sweepFlag:s}}var Rd=Math.sin,jd=Math.cos,zd=Math.atan2,Fd=Math.PI;function Vd(t,e,n,r,i,o,s){var a=e.stroke,c=e.lineWidth,l=n-i,u=r-o,d=zd(u,l),h=new Bh({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*jd(Fd/6)+","+10*Rd(Fd/6)+" L0,0 L"+10*jd(Fd/6)+",-"+10*Rd(Fd/6),stroke:a,lineWidth:c}});h.translate(i,o),h.rotateAtPoint(i,o,d),t.set(s?"startArrowShape":"endArrowShape",h)}function Ud(t,e,n,r,i,o,s){var a=e.startArrow,c=e.endArrow,l=e.stroke,u=e.lineWidth,d=s?a:c,h=d.d,f=d.fill,p=d.stroke,g=d.lineWidth,m=(0,y.__rest)(d,["d","fill","stroke","lineWidth"]),v=n-i,b=r-o,k=zd(b,v);h&&(i-=jd(k)*h,o-=Rd(k)*h);var w=new Bh({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:(0,y.__assign)((0,y.__assign)({},m),{stroke:p||l,lineWidth:g||u,fill:f})});w.translate(i,o),w.rotateAtPoint(i,o,k),t.set(s?"startArrowShape":"endArrowShape",w)}function Gd(t,e,n,r,i){var o=zd(r-e,n-t);return{dx:jd(o)*i,dy:Rd(o)*i}}function Hd(t,e,n,r,i,o){"object"===typeof e.startArrow?Ud(t,e,n,r,i,o,!0):e.startArrow?Vd(t,e,n,r,i,o,!0):t.set("startArrowShape",null)}function $d(t,e,n,r,i,o){"object"===typeof e.endArrow?Ud(t,e,n,r,i,o,!1):e.endArrow?Vd(t,e,n,r,i,o,!1):t.set("startArrowShape",null)}var Wd={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Yd(t,e){var n=e.attr();for(var r in n){var i=n[r],o=Wd[r]?Wd[r]:r;"matrix"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&t.setLineDash?(0,k.isArray)(i)&&t.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=Td(t,e,i):"globalAlpha"===o&&(i*=t.globalAlpha),t[o]=i)}}function qd(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function Xd(t,e,n){var r=t.get("refreshElements");(0,k.each)(r,(function(e){if(e!==t){var n=e.cfg.parent;while(n&&n!==t&&!n.cfg.refresh)n.cfg.refresh=!0,n=n.cfg.parent}})),r[0]===t?Qd(e,n):Kd(e,n)}function Kd(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&Qd(r.cfg.children,e);else if(r.cfg.refresh)r.isGroup()&&Kd(r.cfg.children,e);else{var i=Jd(r,e);r.cfg.refresh=i,i&&r.isGroup()&&Kd(r.cfg.children,e)}}}function Zd(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&Zd(n.cfg.children)}}function Qd(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.visible&&(r.cfg.refresh=!0,r.isGroup()&&Qd(r.get("children"),e))}}function Jd(t,e){var n=t.cfg.cacheCanvasBBox,r=t.cfg.isInView&&n&&kd(n,e);return r}function th(t,e,n,r){var i=n.path,o=n.startArrow,s=n.endArrow;if(i){var a=[0,0],c=[0,0],l={dx:0,dy:0};e.beginPath();for(var u=0;u<i.length;u++){var d=i[u],h=d[0];if(0===u&&o&&o.d){var f=t.getStartTangent();l=Gd(f[0][0],f[0][1],f[1][0],f[1][1],o.d)}else if(u===i.length-2&&"Z"===i[u+1][0]&&s&&s.d){var p=i[u+1];if("Z"===p[0]){f=t.getEndTangent();l=Gd(f[0][0],f[0][1],f[1][0],f[1][1],s.d)}}else if(u===i.length-1&&s&&s.d&&"Z"!==i[0]){f=t.getEndTangent();l=Gd(f[0][0],f[0][1],f[1][0],f[1][1],s.d)}var g=l.dx,m=l.dy;switch(h){case"M":e.moveTo(d[1]-g,d[2]-m),c=[d[1],d[2]];break;case"L":e.lineTo(d[1]-g,d[2]-m);break;case"Q":e.quadraticCurveTo(d[1],d[2],d[3]-g,d[4]-m);break;case"C":e.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-g,d[6]-m);break;case"A":var v=void 0;r?(v=r[u],v||(v=Bd(a,d),r[u]=v)):v=Bd(a,d);var b=v.cx,y=v.cy,k=v.rx,w=v.ry,_=v.startAngle,A=v.endAngle,C=v.xRotation,x=v.sweepFlag;if(e.ellipse)e.ellipse(b,y,k,w,C,_,A,1-x);else{var E=k>w?k:w,S=k>w?1:k/w,M=k>w?w/k:1;e.translate(b,y),e.rotate(C),e.scale(S,M),e.arc(0,0,E,_,A,1-x),e.scale(1/S,1/M),e.rotate(-C),e.translate(-b,-y)}break;case"Z":e.closePath();break;default:break}if("Z"===h)a=c;else{var I=d.length;a=[d[I-2],d[I-1]]}}}}function eh(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function nh(t){var e;if(t.destroyed)e=t["_cacheCanvasBBox"];else{var n=t.get("cacheCanvasBBox"),r=n&&!(!n.width||!n.height),i=t.getCanvasBBox(),o=i&&!(!i.width||!i.height);r&&o?e=wd(n,i):r?e=n:o&&(e=i)}return e}function rh(t){if(!t.length)return null;var e=[],n=[],r=[],i=[];return(0,k.each)(t,(function(t){var o=nh(t);o&&(e.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:(0,k.min)(e),minY:(0,k.min)(n),maxX:(0,k.max)(r),maxY:(0,k.max)(i)}}function ih(t,e){return t&&e&&kd(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}var oh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.onCanvasChange=function(t){eh(this,t)},e.prototype.getShapeBase=function(){return h},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),Yd(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];(0,k.each)(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=(0,k.min)(e),o=(0,k.max)(e),s=(0,k.min)(n),a=(0,k.max)(n);r={minX:i,minY:s,x:i,y:s,maxX:o,maxY:a,width:o-i,height:a-s};var c=this.cfg.canvas;if(c){var l=c.getViewRange();this.set("isInView",kd(r,l))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),Yd(t,this),this._applyClip(t,this.getClip()),qd(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(Ea),sh=oh,ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return h},e.prototype.getGroupBase=function(){return sh},e.prototype.onCanvasChange=function(t){eh(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=Ta(t),r=n(this),i=e/2,o=r.x-i,s=r.y-i,a=r.x+r.width+i,c=r.y+r.height+i;return{x:o,minX:o,y:s,minY:s,width:r.width+e,height:r.height+e,maxX:a,maxY:c}},e.prototype.isFill=function(){return!!this.attrs["fill"]||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs["stroke"]},e.prototype._applyClip=function(t,e){e&&(t.save(),Yd(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var r=this.getCanvasBBox();if(!kd(e,r))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Yd(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=kd(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&((0,k.isNil)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&((0,k.isNil)(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t["lineWidth"]+t["lineAppendWidth"]},e}(Ma),ch=ah,lh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),s=o.x,a=o.y,c=o.r,l=i/2,u=bd(s,a,t,e);return r&&n?u<=c+l:r?u<=c:!!n&&(u>=c-l&&u<=c+l)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(ch),uh=lh;function dh(t,e,n,r){return t/(n*n)+e/(r*r)}var hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),s=i/2,a=o.x,c=o.y,l=o.rx,u=o.ry,d=(t-a)*(t-a),h=(e-c)*(e-c);return r&&n?dh(d,h,l+s,u+s)<=1:r?dh(d,h,l,u)<=1:!!n&&(dh(d,h,l-s,u-s)>=1&&dh(d,h,l+s,u+s)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var s=i>o?i:o,a=i>o?1:i/o,c=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(a,c),t.arc(0,0,s,0,2*Math.PI),t.restore(),t.closePath()}},e}(ch),fh=hh;function ph(t){return t instanceof HTMLElement&&(0,k.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,k.isString)(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):ph(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,s=e.sx,a=e.sy,c=e.swidth,l=e.sheight,u=e.img;(u instanceof Image||ph(u))&&((0,k.isNil)(s)||(0,k.isNil)(a)||(0,k.isNil)(c)||(0,k.isNil)(l)?t.drawImage(u,n,r,i,o):t.drawImage(u,s,a,c,l,n,r,i,o))},e}(ch),mh=gh;function vh(t,e,n,r,i,o,s){var a=Math.min(t,n),c=Math.max(t,n),l=Math.min(e,r),u=Math.max(e,r),d=i/2;return o>=a-d&&o<=c+d&&s>=l-d&&s<=u+d&&ja.pointToLine(t,e,n,r,o,s)<=i/2}var bh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,s=t.endArrow;o&&Hd(this,t,r,i,e,n),s&&$d(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr(),s=o.x1,a=o.y1,c=o.x2,l=o.y2;return vh(s,a,c,l,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,s=e.startArrow,a=e.endArrow,c={dx:0,dy:0},l={dx:0,dy:0};s&&s.d&&(c=Gd(n,r,i,o,e.startArrow.d)),a&&a.d&&(l=Gd(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+c.dx,r+c.dy),t.lineTo(i-l.dx,o-l.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return ja.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return ja.pointAt(n,r,i,o,t)},e}(ch),yh=bh,kh={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,k.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,o=r.y,s=r.symbol||"circle",a=this._getR(r);if((0,k.isFunction)(s))t=s,n=t(i,o,a),n=Uc(n);else{if(t=e.Symbols[s],!t)return console.warn(s+" marker is not supported."),null;n=t(i,o,a)}return n},e.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");th(this,t,{path:e},n)},e.Symbols=kh,e}(ch),_h=wh;function Ah(t,e,n){var r=Ac();return t.createPath(r),r.isPointInPath(e,n)}var Ch=1e-6;function xh(t){return Math.abs(t)<Ch?0:t<0?-1:1}function Eh(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Sh(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var s=t[o],a=t[(o+1)%i];if(Eh(s,a,[e,n]))return!0;xh(s[1]-n)>0!==xh(a[1]-n)>0&&xh(e-(n-s[1])*(s[0]-a[0])/(s[1]-a[1])-s[0])<0&&(r=!r)}return r}function Mh(t,e,n,r,i,o,s,a){var c=(Math.atan2(a-e,s-t)+2*Math.PI)%(2*Math.PI);if(c<r||c>i)return!1;var l={x:t+n*Math.cos(c),y:e+n*Math.sin(c)};return bd(l.x,l.y,s,a)<=o/2}var Ih=N;function Dh(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r],o=i[0];if("C"===o||"A"===o||"Q"===o){e=!0;break}}return e}function Th(t,e,n,r,i){for(var o=!1,s=e/2,a=0;a<t.length;a++){var c=t[a],l=c.currentPoint,u=c.params,d=c.prePoint,h=c.box;if(!h||yd(h.x-s,h.y-s,h.width+e,h.height+e,n,r)){switch(c.command){case"L":case"Z":o=vh(d[0],d[1],l[0],l[1],e,n,r);break;case"Q":var f=Ya.pointDistance(d[0],d[1],u[1],u[2],u[3],u[4],n,r);o=f<=e/2;break;case"C":var p=Ja.pointDistance(d[0],d[1],u[1],u[2],u[3],u[4],u[5],u[6],n,r,i);o=p<=e/2;break;case"A":var g=c.arcParams,m=g.cx,v=g.cy,b=g.rx,y=g.ry,k=g.startAngle,w=g.endAngle,_=g.xRotation,A=[n,r,1],C=b>y?b:y,x=b>y?1:b/y,E=b>y?y/b:1,S=Ih(null,[["t",-m,-v],["r",-_],["s",1/x,1/E]]);Ne.transformMat3(A,A,S),o=Mh(0,0,C,k,w,e,A[0],A[1]);break;default:break}if(o)break}}return o}function Oh(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var s=t[o],a=s[0];"M"===a?(i.length&&(r.push(i),i=[]),i.push([s[1],s[2]])):"Z"===a?i.length&&(n.push(i),i=[]):i.push([s[1],s[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}}var Nh=(0,y.__assign)({hasArc:Dh,extractPolygons:Oh,isPointInStroke:Th},s);function Ph(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(r=Sh(o,e,n),r)break}return r}var Lh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=Uc(t);var e=Nh.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Xc(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var r=this.getStartTangent();Hd(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}if(n){r=this.getEndTangent();$d(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),s=this.get("hasArc"),a=!1;if(n){var c=this.getTotalLength();a=Nh.isPointInStroke(o,i,t,e,c)}if(!a&&r)if(s)a=Ah(this,t,e);else{var l=this.attr("path"),u=Nh.extractPolygons(l);a=Ph(u.polygons,t,e)||Ph(u.polylines,t,e)}return a},e.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");th(this,t,e,n)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,k.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;(0,k.each)(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if((0,k.isNil)(o)||(0,k.isNil)(n))return null;var s=o.length,a=i[n+1];return Ja.pointAt(o[s-2],o[s-1],a[1],a[2],a[3],a[4],a[5],a[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Nh.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,o=0,s=[],a=this.get("curve");a&&((0,k.each)(a,(function(t,e){n=a[e+1],r=t.length,n&&(i+=Ja.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?((0,k.each)(a,(function(c,l){n=a[l+1],r=c.length,n&&(t=[],t[0]=o/i,e=Ja.length(c[r-2],c[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/i,s.push(t))})),this.set("tCache",s)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(ch),Bh=Lh;function Rh(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var s=0;s<o-1;s++){var a=t[s][0],c=t[s][1],l=t[s+1][0],u=t[s+1][1];if(vh(a,c,l,u,e,n,r))return!0}if(i){var d=t[0],h=t[o-1];if(vh(d[0],d[1],h[0],h[1],e,n,r))return!0}return!1}var jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,s=!1;return n&&(s=Rh(o,i,t,e,!0)),!s&&r&&(s=Sh(o,t,e)),s},e.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var r=0;r<n.length;r++){var i=n[r];0===r?t.moveTo(i[0],i[1]):t.lineTo(i[0],i[1])}t.closePath()}},e}(ch),zh=jh,Fh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,s=n[0][0],a=n[0][1],c=n[o-1][0],l=n[o-1][1];r&&Hd(this,t,n[1][0],n[1][1],s,a),i&&$d(this,t,n[o-2][0],n[o-2][1],c,l)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr().points;return Rh(o,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var s=n[0][0],a=n[0][1],c=n[o-1][0],l=n[o-1][1];if(r&&r.d){var u=Gd(s,a,n[1][0],n[1][1],r.d);s+=u.dx,a+=u.dy}if(i&&i.d){u=Gd(n[o-2][0],n[o-2][1],c,l,i.d);c-=u.dx,l-=u.dy}t.beginPath(),t.moveTo(s,a);for(var d=0;d<o-1;d++){var h=n[d];t.lineTo(h[0],h[1])}t.lineTo(c,l)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,k.isNil)(e)?(this.set("totalLength",vc.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,k.each)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),ja.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];(0,k.each)(t,(function(s,a){t[a+1]&&(n=[],n[0]=i/e,r=ja.length(s[0],s[1],t[a+1][0],t[a+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(ch),Vh=Fh;function Uh(t,e,n,r,i,o,s){var a=i/2;return yd(t-a,e-a,n,i,o,s)||yd(t+n-a,e-a,i,r,o,s)||yd(t+a,e+r-a,n,i,o,s)||yd(t-a,e+a,i,r,o,s)}function Gh(t,e,n,r,i,o,s,a){return vh(t+i,e,t+n-i,e,o,s,a)||vh(t+n,e+i,t+n,e+r-i,o,s,a)||vh(t+n-i,e+r,t+i,e+r,o,s,a)||vh(t,e+r-i,t,e+i,o,s,a)||Mh(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,o,s,a)||Mh(t+n-i,e+r-i,i,0,.5*Math.PI,o,s,a)||Mh(t+i,e+r-i,i,.5*Math.PI,Math.PI,o,s,a)||Mh(t+i,e+i,i,Math.PI,1.5*Math.PI,o,s,a)}var Hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),s=o.x,a=o.y,c=o.width,l=o.height,u=o.radius;if(u){var d=!1;return n&&(d=Gh(s,a,c,l,u,i,t,e)),!d&&r&&(d=Ah(this,t,e)),d}var h=i/2;return r&&n?yd(s-h,a-h,c+h,l+h,t,e):r?yd(s,a,c,l,t,e):n?Uh(s,a,c,l,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,s=e.radius;if(t.beginPath(),0===s)t.rect(n,r,i,o);else{var a=Od(s),c=a[0],l=a[1],u=a[2],d=a[3];t.moveTo(n+c,r),t.lineTo(n+i-l,r),0!==l&&t.arc(n+i-l,r+l,l,-Math.PI/2,0),t.lineTo(n+i,r+o-u),0!==u&&t.arc(n+i-u,r+o-u,u,0,Math.PI/2),t.lineTo(n+d,r+o),0!==d&&t.arc(n+d,r+o-d,d,Math.PI/2,Math.PI),t.lineTo(n,r+c),0!==c&&t.arc(n+c,r+c,c,Math.PI,1.5*Math.PI),t.closePath()}},e}(ch),$h=Hh,Wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Sc(t)},e.prototype._setText=function(t){var e=null;(0,k.isString)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,o=i.textBaseline,s=i.x,a=i.y,c=1*i.fontSize,l=this._getSpaceingY(),u=Cc(i.text,i.fontSize,i.lineHeight);(0,k.each)(e,(function(e,i){r=a+i*(l+c)-u+c,"middle"===o&&(r+=u-c-(u-c)/2),"top"===o&&(r+=u-c),(0,k.isNil)(e)||(n?t.fillText(e,s,r):t.strokeText(e,s,r))}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var s=n.text;(0,k.isNil)(s)||(e?t.fillText(s,r,i):t.strokeText(s,r,i))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&((0,k.isNil)(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&((0,k.isNil)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(ch),Yh=Wh;function qh(t,e){if(e){var n=mi(e);return gi(n,t)}return t}function Xh(t,e,n){var r=t.getTotalMatrix();if(r){var i=qh([e,n,1],r),o=i[0],s=i[1];return[o,s]}return[e,n]}function Kh(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!qr(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var r=Xh(t,e,n),i=r[0],o=r[1];if(t.isClipped(i,o))return!1}var s=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=s.minX&&e<=s.maxX&&n>=s.minY&&n<=s.maxY}function Zh(t,e,n){if(!Kh(t,e,n))return null;for(var r=null,i=t.getChildren(),o=i.length,s=o-1;s>=0;s--){var a=i[s];if(a.isGroup())r=Zh(a,e,n);else if(Kh(a,e,n)){var c=a,l=Xh(a,e,n),u=l[0],d=l[1];c.isInShape(u,d)&&(r=a)}if(r)break}return r}var Qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["renderer"]="canvas",e["autoDraw"]=!0,e["localRefresh"]=!0,e["refreshElements"]=[],e["clipView"]=!0,e["quickHit"]=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return h},e.prototype.getGroupBase=function(){return sh},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||vd();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){var r;return r=this.get("quickHit")?Zh(this,e,n):t.prototype.getShape.call(this,e,n,null),r},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();if(e.length&&e[0]===this)t=n;else if(t=rh(e),t){t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1;var r=this.get("clipView");r&&(t=ih(t,n))}return t},e.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,k.clearAnimationFrame)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Yd(t,this),qd(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),Yd(t,this),Xd(this,n,r),qd(t,n,r),t.restore()):e.length&&Zd(e),(0,k.each)(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame"),n=this.get("drawFrameCallback");e||(e=(0,k.requestAnimationFrame)((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null),n&&n()})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(Ca),Jh=Qh,tf={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},ef={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function nf(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function rf(t){var e=tf[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var r=nf(e);if(t.get("id")&&(r.id=t.get("id")),t.set("el",r),t.set("attrs",{}),n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(r)}return r}function of(t,e){var n=t.get("el"),r=(0,k.toArray)(n.children).sort(e),i=document.createDocumentFragment();r.forEach((function(t){i.appendChild(t)})),n.appendChild(i)}function sf(t,e){var n=t.parentNode,r=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),i=r[e],o=r.indexOf(t);if(i){if(o>e)n.insertBefore(t,i);else if(o<e){var s=r[e+1];s?n.insertBefore(t,s):n.appendChild(t)}}else n.appendChild(t)}function af(t,e){var n=t.cfg.el,r=t.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=e.find("filter",i);o||(o=e.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")}function cf(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);r=r.join(","),-1===r.indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}}function lf(t,e){var n=t.getClip(),r=t.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){rf(n),n.createPath(e);var i=e.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}}else r.removeAttribute("clip-path")}function uf(t,e){e.forEach((function(e){e.draw(t)}))}function df(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context"),i=t.getParent(),o=i?i.getChildren():[n],s=t.get("el");if("remove"===e){var a=t.get("isClipShape");if(a){var c=s&&s.parentNode,l=c&&c.parentNode;c&&l&&l.removeChild(c)}else s&&s.parentNode&&s.parentNode.removeChild(s)}else if("show"===e)s.setAttribute("visibility","visible");else if("hide"===e)s.setAttribute("visibility","hidden");else if("zIndex"===e)sf(s,o.indexOf(t));else if("sort"===e){var u=t.get("children");u&&u.length&&of(t,(function(t,e){return u.indexOf(t)-u.indexOf(e)?1:0}))}else"clear"===e?s&&(s.innerHTML=""):"matrix"===e?cf(t):"clip"===e?lf(t,r):"attr"===e||"add"===e&&t.draw(r)}}var hf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,y.__extends)(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=nf("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,e)}},e.prototype.onCanvasChange=function(t){df(this,t)},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),lf(this,t),this.createPath(t),e.length&&uf(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,k.each)(e||n,(function(t,e){ef[e]&&r.setAttribute(ef[e],t)})),cf(this)},e}(Ea),ff=hf,pf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,e)}},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return ff},e.prototype.onCanvasChange=function(t){df(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=Ta(this.get("type"));n&&(e=n(this))}if(e){var r=e.x,i=e.y,o=e.width,s=e.height,a=this.getHitLineWidth(),c=a/2,l=r-c,u=i-c,d=r+o+c,h=i+s+c;return{x:l,y:u,minX:l,minY:u,maxX:d,maxY:h,width:o+a,height:s+a}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||rf(this),lf(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,s=n.strokeStyle,a=n.fillOpacity,c=n.strokeOpacity,l=n.lineWidth,u=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",i):this._setColor(t,"fill",r||i),a&&u.setAttribute(ef["fillOpacity"],a)),this.canStroke&&l>0&&(e?"stroke"in n?this._setColor(t,"stroke",o):"strokeStyle"in n&&this._setColor(t,"stroke",s):this._setColor(t,"stroke",o||s),c&&u.setAttribute(ef["strokeOpacity"],c),l&&u.setAttribute(ef["lineWidth"],l))},e.prototype._setColor=function(t,e,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var i=t.find("gradient",n);i||(i=t.addGradient(n)),r.setAttribute(ef[e],"url(#"+i+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){i=t.find("pattern",n);i||(i=t.addPattern(n)),r.setAttribute(ef[e],"url(#"+i+")")}else r.setAttribute(ef[e],n);else r.setAttribute(ef[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,i=r.shadowOffsetX,o=r.shadowOffsetY,s=r.shadowBlur,a=r.shadowColor;(i||o||s||a)&&af(this,t)},e.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&cf(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas"),i=r.get("el").getBoundingClientRect(),o=t+i.left,s=e+i.top,a=document.elementFromPoint(o,s);return!(!a||!a.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(Ma),gf=pf,mf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,k.each)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):ef[e]&&r.setAttribute(ef[e],t)}))},e}(gf),vf=mf,bf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return(0,y.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");if((0,k.each)(e||n,(function(t,e){ef[e]&&r.setAttribute(ef[e],t)})),"function"===typeof n["html"]){var i=n["html"].call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var o=r.childNodes,s=o.length-1;s>=0;s--)r.removeChild(o[s]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n["html"]},e}(gf),yf=bf,kf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,k.each)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):ef[e]&&r.setAttribute(ef[e],t)}))},e}(gf),wf=kf,_f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,k.each)(e||r,(function(t,e){"img"===e?n._setImage(r.img):ef[e]&&i.setAttribute(ef[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,k.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,k.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+t.width),r.setAttribute("height",""+t.height),r.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",r.toDataURL())}},e}(gf),Af=_f,Cf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,k.each)(e||n,(function(e,i){if("startArrow"===i||"endArrow"===i)if(e){var o=(0,k.isObject)(e)?t.addArrow(n,ef[i]):t.getDefaultArrow(n,ef[i]);r.setAttribute(ef[i],"url(#"+o+")")}else r.removeAttribute(ef[i]);else ef[i]&&r.setAttribute(ef[i],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return ja.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return ja.pointAt(n,r,i,o,t)},e}(gf),xf=Cf,Ef={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},Sf={get:function(t){return Ef[t]},register:function(t,e){Ef[t]=e},remove:function(t){delete Ef[t]},getAll:function(){return Ef}},Mf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return(0,y.__extends)(e,t),e.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,k.isArray)(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,i=e.r||e.radius,o=e.symbol||"circle";return t=(0,k.isFunction)(o)?o:Sf.get(o),t?t(n,r,i):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=Sf,e}(gf),If=Mf,Df=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,k.each)(e||r,(function(e,o){if("path"===o&&(0,k.isArray)(e))i.setAttribute("d",n._formatPath(e));else if("startArrow"===o||"endArrow"===o)if(e){var s=(0,k.isObject)(e)?t.addArrow(r,ef[o]):t.getDefaultArrow(r,ef[o]);i.setAttribute(ef[o],"url(#"+s+")")}else i.removeAttribute(ef[o]);else ef[o]&&i.setAttribute(ef[o],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},e}(gf),Tf=Df,Of=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return(0,y.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,k.each)(e||n,(function(t,e){"points"===e&&(0,k.isArray)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):ef[e]&&r.setAttribute(ef[e],t)}))},e}(gf),Nf=Of,Pf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,k.each)(e||n,(function(t,e){"points"===e&&(0,k.isArray)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):ef[e]&&r.setAttribute(ef[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,k.isNil)(e)?(this.set("totalLength",vc.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,k.each)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),ja.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];(0,k.each)(t,(function(s,a){t[a+1]&&(n=[],n[0]=i/e,r=ja.length(s[0],s[1],t[a+1][0],t[a+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(gf),Lf=Pf;function Bf(t){var e=0,n=0,r=0,i=0;return(0,k.isArray)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}var Rf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el"),o=!1,s=["x","y","width","height","radius"];(0,k.each)(e||r,(function(t,e){-1===s.indexOf(e)||o?-1===s.indexOf(e)&&ef[e]&&i.setAttribute(ef[e],t):(i.setAttribute("d",n._assembleRect(r)),o=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius;if(!o)return"M "+e+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var s=Bf(o);(0,k.isArray)(o)?1===o.length?s.r1=s.r2=s.r3=s.r4=o[0]:2===o.length?(s.r1=s.r3=o[0],s.r2=s.r4=o[1]):3===o.length?(s.r1=o[0],s.r2=s.r4=o[1],s.r3=o[2]):(s.r1=o[0],s.r2=o[1],s.r3=o[2],s.r4=o[3]):s.r1=s.r2=s.r3=s.r4=o;var a=[["M "+(e+s.r1)+","+n],["l "+(r-s.r1-s.r2)+",0"],["a "+s.r2+","+s.r2+",0,0,1,"+s.r2+","+s.r2],["l 0,"+(i-s.r2-s.r3)],["a "+s.r3+","+s.r3+",0,0,1,"+-s.r3+","+s.r3],["l "+(s.r3+s.r4-r)+",0"],["a "+s.r4+","+s.r4+",0,0,1,"+-s.r4+","+-s.r4],["l 0,"+(s.r4+s.r1-i)],["a "+s.r1+","+s.r1+",0,0,1,"+s.r1+","+-s.r1],["z"]];return a.join(" ")},e}(gf),jf=Rf,zf=.3,Ff={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Vf={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Uf={left:"left",start:"left",center:"middle",right:"end",end:"end"},Gf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return(0,y.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,y.__assign)((0,y.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");this._setFont(),(0,k.each)(e||r,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?cf(n):ef[e]&&i.setAttribute(ef[e],t)})),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,r=e.textAlign,i=ci();i&&"firefox"===i.name?t.setAttribute("dominant-baseline",Vf[n]||"alphabetic"):t.setAttribute("alignment-baseline",Ff[n]||"baseline"),t.setAttribute("text-anchor",Uf[r]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,o=void 0===i?"bottom":i;if(t)if(~t.indexOf("\n")){var s=t.split("\n"),a=s.length-1,c="";(0,k.each)(s,(function(t,e){0===e?"alphabetic"===o?c+='<tspan x="'+r+'" dy="'+-a+'em">'+t+"</tspan>":"top"===o?c+='<tspan x="'+r+'" dy="0.9em">'+t+"</tspan>":"middle"===o?c+='<tspan x="'+r+'" dy="'+-(a-1)/2+'em">'+t+"</tspan>":"bottom"===o?c+='<tspan x="'+r+'" dy="-'+(a+zf)+'em">'+t+"</tspan>":"hanging"===o&&(c+='<tspan x="'+r+'" dy="'+(-(a-1)-zf)+'em">'+t+"</tspan>"):c+='<tspan x="'+r+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=c}else e.innerHTML=t;else e.innerHTML=""},e}(gf),Hf=Gf,$f=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Wf=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Yf=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function qf(t){var e=t.match(Yf);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),(0,k.each)(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}function Xf(t,e){var n,r,i=$f.exec(t),o=(0,k.mod)((0,k.toRadian)(parseFloat(i[1])),2*Math.PI),s=i[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var a=Math.tan(o),c=a*a,l=(r.x-n.x+a*(r.y-n.y))/(c+1)+n.x,u=a*(r.x-n.x+a*(r.y-n.y))/(c+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",l),e.setAttribute("y2",u),e.innerHTML=qf(s)}function Kf(t,e){var n=Wf.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),s=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",o),e.innerHTML=qf(s)}var Zf=function(){function t(t){this.cfg={};var e=null,n=(0,k.uniqueId)("gradient_");return"l"===t.toLowerCase()[0]?(e=nf("linearGradient"),Xf(t,e)):(e=nf("radialGradient"),Kf(t,e)),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),Qf=Zf,Jf={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},tp={x:"-40%",y:"-40%",width:"200%",height:"200%"},ep=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=nf("filter");return(0,k.each)(tp,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=(0,k.uniqueId)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return(0,k.each)(Object.keys(r),(function(t){if(r[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[Jf[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),np=ep,rp=function(){function t(t,e){this.cfg={};var n=nf("marker"),r=(0,k.uniqueId)("marker_");n.setAttribute("id",r);var i=nf("path");i.setAttribute("stroke",t.stroke||"none"),i.setAttribute("fill",t.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,i):(this.cfg=o,this._setMarker(t.lineWidth,i)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,r=this.cfg.path,i=this.cfg.d;(0,k.isArray)(r)&&(r=r.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",r),n.appendChild(e),i&&n.setAttribute("refX",""+i/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),ip=rp,op=function(){function t(t){this.type="clip",this.cfg={};var e=nf("clipPath");this.el=e,this.id=(0,k.uniqueId)("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),sp=op,ap=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,cp=function(){function t(t){this.cfg={};var e=nf("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=nf("image");e.appendChild(n);var r=(0,k.uniqueId)("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var i=ap.exec(t),o=i[2];n.setAttribute("href",o);var s=new Image;function a(){e.setAttribute("width",""+s.width),e.setAttribute("height",""+s.height)}return o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o,s.complete?a():(s.onload=a,s.src=s.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),lp=cp,up=function(){function t(t){var e=nf("defs"),n=(0,k.uniqueId)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},t.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new ip(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addGradient=function(t){var e=new Qf(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new ip(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new np(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new lp(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new sp(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),dp=up,hp=function(t){function e(e){return t.call(this,(0,y.__assign)((0,y.__assign)({},e),{autoDraw:!0,renderer:"svg"}))||this}return(0,y.__extends)(e,t),e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return ff},e.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!tf[r.tagName]){var i=r.parentNode;while(i&&!tf[i.tagName])i=i.parentNode;r=i}return this.find((function(t){return t.get("el")===r}))},e.prototype.createDom=function(){var t=nf("svg"),e=new dp(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var r=this.get("children");r&&r.length&&of(this,(function(t,e){return r.indexOf(t)-r.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var i=e.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===t?cf(this):"clip"===t?lf(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();lf(this,t),e.length&&uf(t,e)},e}(Ca),fp=hp,pp=n(2520),gp=n.n(pp);function mp(t){return mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(t)}var vp=/^\s+/,bp=/\s+$/;function yp(t,e){if(t=t||"",e=e||{},t instanceof yp)return t;if(!(this instanceof yp))return new yp(t,e);var n=kp(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function kp(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return"string"==typeof t&&(t=ng(t)),"object"==mp(t)&&(eg(t.r)&&eg(t.g)&&eg(t.b)?(e=wp(t.r,t.g,t.b),s=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):eg(t.h)&&eg(t.s)&&eg(t.v)?(r=Zp(t.s),i=Zp(t.v),e=xp(t.h,r,i),s=!0,a="hsv"):eg(t.h)&&eg(t.s)&&eg(t.l)&&(r=Zp(t.s),o=Zp(t.l),e=Ap(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=Hp(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function wp(t,e,n){return{r:255*$p(t,255),g:255*$p(e,255),b:255*$p(n,255)}}function _p(t,e,n){t=$p(t,255),e=$p(e,255),n=$p(n,255);var r,i,o=Math.max(t,e,n),s=Math.min(t,e,n),a=(o+s)/2;if(o==s)r=i=0;else{var c=o-s;switch(i=a>.5?c/(2-o-s):c/(o+s),o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4;break}r/=6}return{h:r,s:i,l:a}}function Ap(t,e,n){var r,i,o;function s(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=$p(t,360),e=$p(e,100),n=$p(n,100),0===e)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;r=s(c,a,t+1/3),i=s(c,a,t),o=s(c,a,t-1/3)}return{r:255*r,g:255*i,b:255*o}}function Cp(t,e,n){t=$p(t,255),e=$p(e,255),n=$p(n,255);var r,i,o=Math.max(t,e,n),s=Math.min(t,e,n),a=o,c=o-s;if(i=0===o?0:c/o,o==s)r=0;else{switch(o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4;break}r/=6}return{h:r,s:i,v:a}}function xp(t,e,n){t=6*$p(t,360),e=$p(e,100),n=$p(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),c=r%6,l=[n,s,o,o,a,n][c],u=[a,n,n,s,o,o][c],d=[o,o,a,n,n,s][c];return{r:255*l,g:255*u,b:255*d}}function Ep(t,e,n,r){var i=[Kp(Math.round(t).toString(16)),Kp(Math.round(e).toString(16)),Kp(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Sp(t,e,n,r,i){var o=[Kp(Math.round(t).toString(16)),Kp(Math.round(e).toString(16)),Kp(Math.round(n).toString(16)),Kp(Qp(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Mp(t,e,n,r){var i=[Kp(Qp(r)),Kp(Math.round(t).toString(16)),Kp(Math.round(e).toString(16)),Kp(Math.round(n).toString(16))];return i.join("")}function Ip(t,e){e=0===e?0:e||10;var n=yp(t).toHsl();return n.s-=e/100,n.s=Wp(n.s),yp(n)}function Dp(t,e){e=0===e?0:e||10;var n=yp(t).toHsl();return n.s+=e/100,n.s=Wp(n.s),yp(n)}function Tp(t){return yp(t).desaturate(100)}function Op(t,e){e=0===e?0:e||10;var n=yp(t).toHsl();return n.l+=e/100,n.l=Wp(n.l),yp(n)}function Np(t,e){e=0===e?0:e||10;var n=yp(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),yp(n)}function Pp(t,e){e=0===e?0:e||10;var n=yp(t).toHsl();return n.l-=e/100,n.l=Wp(n.l),yp(n)}function Lp(t,e){var n=yp(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,yp(n)}function Bp(t){var e=yp(t).toHsl();return e.h=(e.h+180)%360,yp(e)}function Rp(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=yp(t).toHsl(),r=[yp(t)],i=360/e,o=1;o<e;o++)r.push(yp({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function jp(t){var e=yp(t).toHsl(),n=e.h;return[yp(t),yp({h:(n+72)%360,s:e.s,l:e.l}),yp({h:(n+216)%360,s:e.s,l:e.l})]}function zp(t,e,n){e=e||6,n=n||30;var r=yp(t).toHsl(),i=360/n,o=[yp(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(yp(r));return o}function Fp(t,e){e=e||6;var n=yp(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;while(e--)s.push(yp({h:r,s:i,v:o})),o=(o+a)%1;return s}yp.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r,i,o,s=this.toRgb();return t=s.r/255,e=s.g/255,n=s.b/255,r=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),i=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*r+.7152*i+.0722*o},setAlpha:function(t){return this._a=Hp(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Cp(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Cp(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=_p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=_p(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return Ep(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return Sp(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*$p(this._r,255))+"%",g:Math.round(100*$p(this._g,255))+"%",b:Math.round(100*$p(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*$p(this._r,255))+"%, "+Math.round(100*$p(this._g,255))+"%, "+Math.round(100*$p(this._b,255))+"%)":"rgba("+Math.round(100*$p(this._r,255))+"%, "+Math.round(100*$p(this._g,255))+"%, "+Math.round(100*$p(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Up[Ep(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+Mp(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=yp(t);n="#"+Mp(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return yp(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Op,arguments)},brighten:function(){return this._applyModification(Np,arguments)},darken:function(){return this._applyModification(Pp,arguments)},desaturate:function(){return this._applyModification(Ip,arguments)},saturate:function(){return this._applyModification(Dp,arguments)},greyscale:function(){return this._applyModification(Tp,arguments)},spin:function(){return this._applyModification(Lp,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(zp,arguments)},complement:function(){return this._applyCombination(Bp,arguments)},monochromatic:function(){return this._applyCombination(Fp,arguments)},splitcomplement:function(){return this._applyCombination(jp,arguments)},triad:function(){return this._applyCombination(Rp,[3])},tetrad:function(){return this._applyCombination(Rp,[4])}},yp.fromRatio=function(t,e){if("object"==mp(t)){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:Zp(t[r]));t=n}return yp(t,e)},yp.equals=function(t,e){return!(!t||!e)&&yp(t).toRgbString()==yp(e).toRgbString()},yp.random=function(){return yp.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},yp.mix=function(t,e,n){n=0===n?0:n||50;var r=yp(t).toRgb(),i=yp(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return yp(s)},yp.readability=function(t,e){var n=yp(t),r=yp(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},yp.isReadable=function(t,e,n){var r,i,o=yp.readability(t,e);switch(i=!1,r=rg(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7;break}return i},yp.mostReadable=function(t,e,n){var r,i,o,s,a=null,c=0;n=n||{},i=n.includeFallbackColors,o=n.level,s=n.size;for(var l=0;l<e.length;l++)r=yp.readability(t,e[l]),r>c&&(c=r,a=yp(e[l]));return yp.isReadable(t,a,{level:o,size:s})||!i?a:(n.includeFallbackColors=!1,yp.mostReadable(t,["#fff","#000"],n))};var Vp=yp.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Up=yp.hexNames=Gp(Vp);function Gp(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Hp(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function $p(t,e){qp(t)&&(t="100%");var n=Xp(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Wp(t){return Math.min(1,Math.max(0,t))}function Yp(t){return parseInt(t,16)}function qp(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function Xp(t){return"string"===typeof t&&-1!=t.indexOf("%")}function Kp(t){return 1==t.length?"0"+t:""+t}function Zp(t){return t<=1&&(t=100*t+"%"),t}function Qp(t){return Math.round(255*parseFloat(t)).toString(16)}function Jp(t){return Yp(t)/255}var tg=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function eg(t){return!!tg.CSS_UNIT.exec(t)}function ng(t){t=t.replace(vp,"").replace(bp,"").toLowerCase();var e,n=!1;if(Vp[t])t=Vp[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=tg.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=tg.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=tg.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=tg.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=tg.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=tg.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=tg.hex8.exec(t))?{r:Yp(e[1]),g:Yp(e[2]),b:Yp(e[3]),a:Jp(e[4]),format:n?"name":"hex8"}:(e=tg.hex6.exec(t))?{r:Yp(e[1]),g:Yp(e[2]),b:Yp(e[3]),format:n?"name":"hex"}:(e=tg.hex4.exec(t))?{r:Yp(e[1]+""+e[1]),g:Yp(e[2]+""+e[2]),b:Yp(e[3]+""+e[3]),a:Jp(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=tg.hex3.exec(t))&&{r:Yp(e[1]+""+e[1]),g:Yp(e[2]+""+e[2]),b:Yp(e[3]+""+e[3]),format:n?"name":"hex"}}function rg(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var ig=2,og=.16,sg=.05,ag=.05,cg=.15,lg=5,ug=4,dg=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function hg(t,e,n){var r;return r=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-ig*e:Math.round(t.h)+ig*e:n?Math.round(t.h)+ig*e:Math.round(t.h)-ig*e,r<0?r+=360:r>=360&&(r-=360),r}function fg(t,e,n){return 0===t.h&&0===t.s?t.s:(r=n?t.s-og*e:e===ug?t.s+og:t.s+sg*e,r>1&&(r=1),n&&e===lg&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function pg(t,e,n){var r;return r=n?t.v+ag*e:t.v-cg*e,r>1&&(r=1),Number(r.toFixed(2))}function gg(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=yp(t),i=lg;i>0;i-=1){var o=r.toHsv(),s=yp({h:hg(o,i,!0),s:fg(o,i,!0),v:pg(o,i,!0)}).toHexString();n.push(s)}n.push(r.toHexString());for(var a=1;a<=ug;a+=1){var c=r.toHsv(),l=yp({h:hg(c,a),s:fg(c,a),v:pg(c,a)}).toHexString();n.push(l)}return"dark"===e.theme?dg.map((function(t){var r=t.index,i=t.opacity,o=yp.mix(e.backgroundColor||"#141414",n[r],100*i).toHexString();return o})):n}var mg={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},vg={},bg={};Object.keys(mg).forEach((function(t){vg[t]=gg(mg[t]),vg[t].primary=vg[t][5],bg[t]=gg(mg[t],{theme:"dark",backgroundColor:"#141414"}),bg[t].primary=bg[t][5]}));vg.red,vg.volcano,vg.gold,vg.orange,vg.yellow,vg.lime,vg.green,vg.cyan,vg.blue,vg.geekblue,vg.purple,vg.magenta,vg.grey;var yg=function(t,e,n){var r=gp()(t),i=gp()(e);return gp()([(1-n)*r.red()+n*i.red(),(1-n)*r.green()+n*i.green(),(1-n)*r.blue()+n*i.blue()]).rgb()},kg=function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var r=yg(e,t,.05).rgb().toString(),i=yg(e,t,.1).rgb().toString(),o=yg(e,t,.2).rgb().toString(),s=yg(e,t,.4).rgb().toString(),a=yg(e,n,.02).rgb().toString(),c=yg(e,n,.05).rgb().toString(),l=yg(e,n,.1).rgb().toString(),u=yg(e,n,.2).rgb().toString(),d=yg(e,n,.3).rgb().toString(),h=gg(t,{theme:"default",backgroundColor:e}),f=gp()(t).hex().toLowerCase(),p=h.indexOf(f),g=t;return-1!==p&&(g=h[p+1]),{mainStroke:t,mainFill:i,activeStroke:t,activeFill:r,inactiveStroke:s,inactiveFill:r,selectedStroke:t,selectedFill:e,highlightStroke:g,highlightFill:o,disableStroke:d,disableFill:c,edgeMainStroke:d,edgeActiveStroke:t,edgeInactiveStroke:u,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:l,comboMainStroke:d,comboMainFill:a,comboActiveStroke:t,comboActiveFill:r,comboInactiveStroke:d,comboInactiveFill:a,comboSelectedStroke:t,comboSelectedFill:a,comboHighlightStroke:g,comboHighlightFill:a,comboDisableStroke:u,comboDisableFill:c}},wg=function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="#777");var r=yg(e,t,.2).rgb().toString(),i=yg(e,t,.3).rgb().toString(),o=yg(e,t,.6).rgb().toString(),s=yg(e,t,.8).rgb().toString(),a=yg(e,n,.2).rgb().toString(),c=yg(e,n,.25).rgb().toString(),l=yg(e,n,.3).rgb().toString(),u=yg(e,n,.4).rgb().toString(),d=yg(e,n,.5).rgb().toString(),h=gg(t,{theme:"dark",backgroundColor:e}),f=gp()(t).hex().toLowerCase(),p=h.indexOf(f),g=t;return-1!==p&&(g=h[p+1]),{mainStroke:s,mainFill:r,activeStroke:t,activeFill:i,inactiveStroke:s,inactiveFill:r,selectedStroke:t,selectedFill:r,highlightStroke:t,highlightFill:o,disableStroke:d,disableFill:c,edgeMainStroke:n,edgeActiveStroke:t,edgeInactiveStroke:n,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:l,comboMainStroke:u,comboMainFill:c,comboActiveStroke:t,comboActiveFill:a,comboInactiveStroke:u,comboInactiveFill:c,comboSelectedStroke:t,comboSelectedFill:a,comboHighlightStroke:g,comboHighlightFill:c,comboDisableStroke:u,comboDisableFill:a}},_g=function(t,e,n,r){return void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)"),"default"===n?kg(t,e,"rgb(150, 150, 150)"):wg(t,e,"#777")},Ag=function(t,e,n,r){void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var i=[];return t.forEach((function(t){i.push(_g(t,e,n,r))})),i},Cg="rgb(95, 149, 255)",xg="rgb(255, 255, 255)",Eg="rgb(0, 0, 0)",Sg=_g(Cg,xg),Mg={version:"0.8.21",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Sg.mainStroke,fill:Sg.mainFill},size:20,color:Sg.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Sg.activeFill,stroke:Sg.activeStroke}},nodeStateStyles:{active:{fill:Sg.activeFill,stroke:Sg.activeStroke,lineWidth:2,shadowColor:Sg.mainStroke,shadowBlur:10},selected:{fill:Sg.selectedFill,stroke:Sg.selectedStroke,lineWidth:4,shadowColor:Sg.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Sg.highlightFill,stroke:Sg.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Sg.inactiveFill,stroke:Sg.inactiveStroke,lineWidth:1},disable:{fill:Sg.disableFill,stroke:Sg.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Eg,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Sg.edgeMainStroke,lineAppendWidth:2},color:Sg.edgeMainStroke},edgeStateStyles:{active:{stroke:Sg.edgeActiveStroke,lineWidth:1},selected:{stroke:Sg.edgeSelectedStroke,lineWidth:2,shadowColor:Sg.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Sg.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Sg.edgeInactiveStroke,lineWidth:1},disable:{stroke:Sg.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Eg,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Sg.comboMainFill,lineWidth:1,stroke:Sg.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Sg.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Sg.comboActiveStroke,lineWidth:1,fill:Sg.comboActiveFill},selected:{stroke:Sg.comboSelectedStroke,lineWidth:2,fill:Sg.comboSelectedFill,shadowColor:Sg.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Sg.comboHighlightStroke,lineWidth:2,fill:Sg.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Sg.comboInactiveStroke,fill:Sg.comboInactiveFill,lineWidth:1},disable:{stroke:Sg.comboDisableStroke,fill:Sg.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function Ig(t,e,n){if(t){if("function"===typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"===typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}var Dg=sd.cloneEvent,Tg=sd.isViewportChanged,Og=function(t){function e(e){var n=t.call(this,e)||this;return n.extendEvents=[],n.dragging=!1,n.mousedown=!1,n.preItem=null,n.destroy(),n.graph=e,n.destroyed=!1,n.initEvents(),n}return(0,y.__extends)(e,t),e.prototype.initEvents=function(){var t=this,e=t.graph,n=t.extendEvents,r=void 0===n?[]:n,i=e.get("canvas"),o=i.get("el"),s=(0,k.wrapBehavior)(this,"onCanvasEvents"),a=(0,k.wrapBehavior)(this,"onExtendEvents"),c=(0,k.wrapBehavior)(this,"onWheelEvent");i.off("*").on("*",s),this.canvasHandler=s,r.push(Ig(o,"wheel",c)),"undefined"!==typeof window&&(r.push(Ig(window,"keydown",a)),r.push(Ig(window,"keyup",a)),r.push(Ig(window,"focus",a))),this.resetHandler&&e.off("afterchangedata",this.resetHandler),this.resetHandler=(0,k.wrapBehavior)(this,"resetStatus"),e.on("afterchangedata",this.resetHandler)},e.getItemRoot=function(t){while(t&&!t.get("item"))t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var n=this,r=this.graph,i=r.get("canvas"),o=t.target,s=t.type;switch(s){case"drag":this.onCanvasEvents(Object.assign({},t,{type:"mousemove"}));break;case"dragend":this.onCanvasEvents(Object.assign({},t,{type:"mouseup"}));break;case"mousedown":this.mousedown=!0;break;case"dragend":case"mouseup":setTimeout((function(){return n.mousedown=!1}));break;case"click":if(!this.mousedown)return;break;default:break}t.canvasX=t.x,t.canvasY=t.y;var a={x:t.canvasX,y:t.canvasY},c=r.get("group"),l=c.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),Tg(l)&&(a=r.getPointByClient(t.clientX,t.clientY)),t.x=a.x,t.y=a.y,t.currentTarget=r,o===i)return"mousemove"!==s&&"mouseleave"!==s||this.handleMouseMove(t,"canvas"),t.target=i,t.item=null,r.emit(s,t),void r.emit("canvas:".concat(s),t);var u=e.getItemRoot(o);if(u){var d=u.get("item");if(!d.destroyed){var h=d.getType();if(t.target=o,t.item=d,t.canvasX===t.x&&t.canvasY===t.y){var f=r.getCanvasByPoint(t.x,t.y);t.canvasX=f.x,t.canvasY=f.y}t.name&&!t.name.includes(":")?(r.emit("".concat(h,":").concat(s),t),r.emit(s,t)):t.name&&r.emit(t.name,t),"dragstart"===s&&(this.dragging=!0),"dragend"===s&&(this.dragging=!1),"mousemove"===s&&this.handleMouseMove(t,h)}}else r.emit(s,t)},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.onWheelEvent=function(t){(0,k.isNil)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},e.prototype.handleMouseMove=function(t,e){var n=this,r=n.graph,i=n.preItem,o=r.get("canvas"),s=t.target===o?null:t.item;t=Dg(t),i&&i!==s&&!i.destroyed&&(t.item=i,this.emitCustomEvent(i.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(i.getType(),"dragleave",t)),s&&i!==s&&(t.item=s,this.emitCustomEvent(e,"mouseenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=s},e.prototype.emitCustomEvent=function(t,e,n){n.type=e,this.graph.emit("".concat(t,":").concat(e),n)},e.prototype.resetStatus=function(){this.mousedown=!1,this.dragging=!1,this.preItem=null},e.prototype.destroy=function(){var t=this,e=t.graph,n=t.canvasHandler,r=t.extendEvents,i=e.get("canvas");i.off("*",n),(0,k.each)(r,(function(t){t.remove()})),this.resetStatus(),this.extendEvents.length=0,this.canvasHandler=null,this.resetHandler=null,this.destroyed=!0},e}(ud),Ng=Og,Pg=n(4821),Lg=n(5802),Bg=n.n(Lg),Rg=sd.traverseTree,jg=function(t,e){var n;return n=t?(0,k.isNumber)(t)?function(e){return t}:t:function(t){return e||1},n},zg=function(t,e){var n=[],r=[],i={},o=0;for(o=0;o<t.length;o++){var s=t[o];i[s.id]=o,n.push(s.x),n.push(s.y),n.push(0),n.push(0),r.push([])}for(o=0;o<e.length;o++){var a=e[o];r[i[a.source]].push(i[a.target]),r[i[a.target]].push(i[a.source])}var c=0;for(o=0;o<t.length;o++){var l=n.length,u=r[o],d=u.length;n[4*o+2]=l,n[4*o+3]=u.length,c=Math.max(c,u.length);for(var h=0;h<d;++h){var f=u[h];n.push(+f)}}while(n.length%4!==0)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:c}},Fg=function(t,e,n){var r=[],i=[],o={},s=0;for(s=0;s<t.length;s++){var a=t[s];o[a.id]=s,r.push(a.x),r.push(a.y),r.push(0),r.push(0),i.push([])}for(s=0;s<e.length;s++){var c=e[s];i[o[c.source]].push(o[c.target]),i[o[c.source]].push(n(c)),i[o[c.target]].push(o[c.source]),i[o[c.target]].push(n(c))}var l=0;for(s=0;s<t.length;s++){var u=r.length,d=i[s],h=d.length;r[4*s+2]=u,r[4*s+3]=h/2,l=Math.max(l,h/2);for(var f=0;f<h;++f){var p=d[f];r.push(+p)}}while(r.length%4!==0)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:l}},Vg=function(t,e,n,r){var i=[],o=[],s={},a=0;for(a=0;a<t.length;a++){var c=t[a];s[c.id]=a,i.push(c.x),i.push(c.y),i.push(0),i.push(0),o.push([])}for(a=0;a<e.length;a++){var l=e[a];o[s[l.source]].push(s[l.target]),o[s[l.source]].push(n(l)),o[s[l.source]].push(r(l)),o[s[l.source]].push(0),o[s[l.target]].push(s[l.source]),o[s[l.target]].push(n(l)),o[s[l.target]].push(r(l)),o[s[l.target]].push(0)}var u=0;for(a=0;a<t.length;a++){var d=i.length,h=o[a],f=h.length;i[4*a+2]=d+1048576*f/4,i[4*a+3]=0,u=Math.max(u,f/4);for(var p=0;p<f;++p){var g=h[p];i.push(+g)}}while(i.length%4!==0)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:u}},Ug=function(t,e){var n=[],r=t.length,i={};return e.forEach((function(e){t.forEach((function(t,o){if(void 0===i[e[t]]&&(i[e[t]]=Object.keys(i).length),n.push(i[e[t]]),o===r-1)while(n.length%4!==0)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}},Gg=function(t){for(var e=[],n=t.length,r=t[0].length,i=function(r){t.forEach((function(t,i){if(e.push(t[r]),i===n-1)while(e.length%4!==0)e.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(e)},Hg=function(t,e){var n=["V","TB","BT"],r={x:1/0,y:1/0},i={x:-1/0,y:-1/0},o="x",s="y";e&&n.indexOf(e)>=0&&(s="x",o="y");var a=0;Rg(t,(function(t){return a++,t.x>i.x&&(i.x=t.x),t.x<r.x&&(r.x=t.x),t.y>i.y&&(i.y=t.y),t.y<r.y&&(r.y=t.y),!0}));var c=2*Math.PI/a,l=i[s]-r[s];return 0===l||Rg(t,(function(e){var n=(e[s]-r[s])/l*(2*Math.PI-c)+c,i=Math.abs("x"===o?e.x-t.x:e.y-t.y);return e.x=i*Math.cos(n),e.y=i*Math.sin(n),!0})),t},$g=function t(){return"undefined"===typeof window||"undefined"===typeof document?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n")),t},addGetWebGLMessage:function(e){e=e||{};var n=void 0!==e.parent?e.parent:document.body,r=void 0!==e.id?e.id:"oldie",i=t().getWebGLErrorMessage();i.id=r,n.appendChild(i)}}},Wg=function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("firefox")>-1?"firefox":t.indexOf("safari")>-1?"safari":t.indexOf("opr")>-1?"opera":t.indexOf("chrome")>-1?"chrome":t.indexOf("trident")>-1?"ie 11":t.indexOf("ie")>-1?"ie":"unknown"},Yg=(0,y.__assign)((0,y.__assign)((0,y.__assign)((0,y.__assign)((0,y.__assign)({},sd),p),g),m),v),qg=Yg,Xg=qg.radialLayout,Kg=function(){function t(t){this.type=t.type,this.radial=t.radial,this.config=t}return t.prototype.init=function(t){var e=this;this.data=t,this.radial?this.layoutMethod=function(t){var n=Bg()[e.type](t,e.config);return Xg(n),n}:this.layoutMethod=function(t){return Bg()[e.type](t,e.config)}},t.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},t.prototype.layout=function(t){return this.init(t),this.execute()},t}(),Zg=Kg;(0,Pg.registerLayout)("grid",Pg.GridLayout),(0,Pg.registerLayout)("random",Pg.RandomLayout),(0,Pg.registerLayout)("force",Pg.ForceLayout),(0,Pg.registerLayout)("circular",Pg.CircularLayout),(0,Pg.registerLayout)("dagre",Pg.DagreLayout),(0,Pg.registerLayout)("dagreCompound",Pg.DagreCompoundLayout),(0,Pg.registerLayout)("radial",Pg.RadialLayout),(0,Pg.registerLayout)("concentric",Pg.ConcentricLayout),(0,Pg.registerLayout)("mds",Pg.MDSLayout),(0,Pg.registerLayout)("fruchterman",Pg.FruchtermanLayout),(0,Pg.registerLayout)("fruchterman-gpu",Pg.FruchtermanGPULayout),(0,Pg.registerLayout)("gForce",Pg.GForceLayout),(0,Pg.registerLayout)("force2",Pg.Force2Layout),(0,Pg.registerLayout)("gForce-gpu",Pg.GForceGPULayout),(0,Pg.registerLayout)("comboForce",Pg.ComboForceLayout),(0,Pg.registerLayout)("comboCombined",Pg.ComboCombinedLayout),(0,Pg.registerLayout)("forceAtlas2",Pg.ForceAtlas2Layout);var Qg=function(t,e){e.isCustomLayout=!0,Pg.Layouts[t]=(0,Pg.registerLayout)(t,e)},Jg=function(){function t(t,e){var n=t.toString(),r=new Blob(["importScripts('".concat(e,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))}return t}(),tm=Jg,em=function(t){function e(){var t={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};function e(e){var n=e.data.type;return n===t.RUN||n===t.GPURUN}function n(e){var n=this,r=e.data.type;switch(r){case t.RUN:var i,o=e.data,s=o.nodes,a=o.edges,c=o.layoutCfg,l=void 0===c?{}:c,u=l.type,d=layout.getLayoutByName(u);if(!d){this.postMessage({type:t.ERROR,message:"layout ".concat(u," not found")});break}l.onLayoutEnd=function(){n.postMessage({type:t.END,nodes:s}),null===i||void 0===i||i.destroy()},i=new d(l),i.init({nodes:s,edges:a}),i.execute();break;case t.GPURUN:var h=e.data,f=h.nodes,p=(a=h.edges,h.layoutCfg),g=(l=void 0===p?{}:p,h.canvas);u=l.type,d=layout.getLayoutByName(u);if(!d){this.postMessage({type:t.ERROR,message:"layout ".concat(u," not found")});break}if("gpu"!==u.split("-")[1]){this.postMessage({type:t.ERROR,message:"layout ".concat(u," does not support GPU")});break}var m=new d(l);m.init({nodes:f,edges:a}),m.executeWithWorker(g,this);break;default:break}}layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("force2",layout.Force2Layout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(t){e(t)&&n(t)}}void 0===t&&(t="https://unpkg.com/@antv/layout@0.3.23/dist/layout.min.js");var n=new tm(e,t);return n},nm={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};function rm(t){return rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(t)}var im,om,sm,am,cm=function(t){return setTimeout(t,16)},lm=function(t){return clearTimeout(t)},um={requestAnimationFrame:function(t){var e="undefined"!==typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||cm;return e(t)},cancelAnimationFrame:function(t){var e="undefined"!==typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||lm;return e(t)}},dm=["fruchterman","gForce"],hm=["force","grid","circular"],fm=function(t){function e(e){var n=t.call(this,e)||this;return n.graph=e,n.layoutCfg=e.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return(0,y.__extends)(e,t),e.prototype.initLayout=function(){},e.prototype.getWorker=function(){return this.worker||("undefined"===typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=em(this.layoutCfg.workerScriptURL)),this.worker},e.prototype.stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(um.cancelAnimationFrame(t.requestId),t.requestId=null),t.requestId2&&(um.cancelAnimationFrame(t.requestId2),t.requestId2=null))},e.prototype.execLayoutMethod=function(t,e){var n=this;return new Promise((function(r,i){return(0,y.__awaiter)(n,void 0,void 0,(function(){var n,o,s,a,c,l,u,d,h,f;return(0,y.__generator)(this,(function(p){switch(p.label){case 0:if(n=this.graph,!n||n.get("destroyed"))return[2];o=t.type,t.onLayoutEnd=function(){n.emit("aftersublayout",{type:o}),r()},o&&this.isGPU&&(ym(o)?o="".concat(o,"-gpu"):console.warn("The '".concat(o,"' layout does not support GPU calculation for now, it will run in CPU."))),sd.isForce(o)?(s=t.onTick,a=t.animate,c=void 0===a&&("force"===o||"force2"===o),h=function(){s&&s(),(a||c)&&n.refreshPositions()},t.tick=h):"comboForce"!==o&&"comboCombined"!==o||(t.comboTrees=n.get("comboTrees")),l=!1;try{u=new Pg.Layouts[o](t),this.layoutMethods[e]&&this.layoutMethods[e].destroy(),this.layoutMethods[e]=u}catch(g){console.warn("The layout method: '".concat(o,"' does not exist! Please specify it first.")),i()}return l=u.enableTick,l&&(d=t.onTick,h=function(){d&&d(),n.refreshPositions()},u.tick=h),f=this.filterLayoutData(this.data,t),bm(f,e),u.init(f),n.emit("beforesublayout",{type:o}),[4,u.execute()];case 1:return p.sent(),u.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}}))}))}))},e.prototype.updateLayoutMethod=function(t,e){var n=this;return new Promise((function(r,i){return(0,y.__awaiter)(n,void 0,void 0,(function(){var n,i,o,s,a,c,l;return(0,y.__generator)(this,(function(u){switch(u.label){case 0:return n=this.graph,i=null===e||void 0===e?void 0:e.type,e.onLayoutEnd=function(){n.emit("aftersublayout",{type:i}),r()},sd.isForce(i)&&(o=e.onTick,s=e.animate,a=void 0===s&&("force"===i||"force2"===i),c=function(){null===o||void 0===o||o(),(s||a)&&n.refreshPositions()},e.tick=c),l=this.filterLayoutData(this.data,e),t.init(l),t.updateCfg(e),n.emit("beforesublayout",{type:i}),[4,t.execute()];case 1:return u.sent(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),[2]}}))}))}))},e.prototype.layout=function(t){var e,n=this,r=this.graph;if(r&&!r.get("destroyed")){this.data=this.setDataFromGraph();var i=this.data,o=i.nodes,s=i.hiddenNodes;if(!o)return!1;var a=r.get("width"),c=r.get("height"),l={};Object.assign(l,{width:a,height:c,center:[a/2,c/2]},this.layoutCfg),this.layoutCfg=l;var u=l.type,d=!1;null===(e=this.layoutMethods)||void 0===e||e.forEach((function(t){var e;return d=!!(null===(e=t.nodes)||void 0===e?void 0:e.length)||d}));var h=this.destoryLayoutMethods();r.emit("beforelayout");var f=Promise.resolve();d&&u&&1===(null===h||void 0===h?void 0:h.length)&&h[0]===u?this.tweakInit():f=this.initPositions(l.center,o);var p=this.initPositions(l.center,s);p.then(),this.isGPU=km(l,u);var g=l.onLayoutEnd,m=l.layoutEndFormatted,v=l.adjust;if(m||(l.layoutEndFormatted=!0,l.onAllLayoutEnd=function(){return(0,y.__awaiter)(n,void 0,void 0,(function(){return(0,y.__generator)(this,(function(t){switch(t.label){case 0:return g&&g(o),this.refreshLayout(),v&&l.pipes?[4,this.adjustPipesBox(this.data,v)]:[3,2];case 1:t.sent(),this.refreshLayout(),t.label=2;case 2:return r.emit("afterlayout"),[2]}}))}))}),this.stopWorker(),l.workerEnabled&&this.layoutWithWorker(this.data,t))return!0;var b=!1;return l.type?(b=!0,f=f.then((function(){return(0,y.__awaiter)(n,void 0,void 0,(function(){return(0,y.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(l,0)];case 1:return[2,t.sent()]}}))}))}))):l.pipes&&(b=!0,l.pipes.forEach((function(t,e){f=f.then((function(){return(0,y.__awaiter)(n,void 0,void 0,(function(){return(0,y.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.execLayoutMethod(t,e)];case 1:return[2,n.sent()]}}))}))}))}))),b?f.then((function(){l.onAllLayoutEnd&&l.onAllLayoutEnd(),t&&t()})).catch((function(t){console.warn("graph layout failed,",t)})):(r.refreshPositions(),null===t||void 0===t||t()),!1}},e.prototype.tweakInit=function(){var t=this,e=t.data,n=t.graph,r=e.nodes,i=e.edges;if(null===r||void 0===r?void 0:r.length){var o={};r.forEach((function(t){var e=t.x,n=t.y;isNaN(e)||isNaN(n)||(o[t.id]={x:e,y:n},t.mass=t.mass||2)})),i.forEach((function(t){var e=t.source,n=t.target,r=o[e],i=o[n];!r&&i?o[e]={x:i.x+80*(Math.random()-.5),y:i.y+80*(Math.random()-.5)}:!i&&r&&(o[n]={x:r.x+80*(Math.random()-.5),y:r.y+80*(Math.random()-.5)})}));var s=n.get("width"),a=n.get("height");r.forEach((function(t){var e=o[t.id]||{x:s/2+20*(Math.random()-.5),y:a/2+20*(Math.random()-.5)};t.x=e.x,t.y=e.y}))}},e.prototype.initWithPreset=function(t,e){var n=this;return new Promise((function(r,i){return(0,y.__awaiter)(n,void 0,void 0,(function(){var n,i,o,s,a,c,l;return(0,y.__generator)(this,(function(u){switch(u.label){case 0:return n=this,i=n.layoutCfg,o=n.data,s=i.preset,(null===s||void 0===s?void 0:s.type)&&Pg.Layouts[null===s||void 0===s?void 0:s.type]?(a=km(s,s.type),c=a?"".concat(s.type,"-gpu"):s.type,l=new Pg.Layouts[c](s),delete i.preset,l.init(o),[4,l.execute()]):(null===e||void 0===e||e(),r(),[2,!1]);case 1:return u.sent(),null===t||void 0===t||t(),r(),[2,!0]}}))}))}))},e.prototype.layoutWithWorker=function(t,e){var n=this,r=this,i=r.layoutCfg,o=r.graph,s=this.getWorker(),a=this.workerData;if(!s)return!1;a.requestId=null,a.requestId2=null,a.currentTick=null,a.currentTickData=null,o.emit("beforelayout");var c=Promise.resolve(),l=!1;if(i.type)l=!0,c=c.then((function(){return n.runWebworker(s,t,i)}));else if(i.pipes){l=!0;for(var u=function(e){c=c.then((function(){return n.runWebworker(s,t,e)}))},d=0,h=i.pipes;d<h.length;d++){var f=h[d];u(f)}}return l&&c.then((function(){i.onAllLayoutEnd&&i.onAllLayoutEnd(),null===e||void 0===e||e()})).catch((function(t){console.error("layout failed",t)})),!0},e.prototype.runWebworker=function(t,e,n){var r=this,i=this.isGPU,o=this.filterLayoutData(e,n),s=o.nodes,a=o.edges,c=document.createElement("canvas"),l=i&&"undefined"!==typeof window&&window.navigator&&!navigator["gpu"]&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in c,u=mm(n,(function(t){return"function"!==typeof t}));if(l){var d=c.transferControlToOffscreen();u.type="".concat(u.type,"-gpu"),t.postMessage({type:nm.GPURUN,nodes:s,edges:a,layoutCfg:u,canvas:d},[d])}else t.postMessage({type:nm.RUN,nodes:s,edges:a,layoutCfg:u});return new Promise((function(e,i){t.onmessage=function(t){r.handleWorkerMessage(e,i,t,o,n)}}))},e.prototype.handleWorkerMessage=function(t,e,n,r,i){var o=this,s=o.graph,a=o.workerData,c=n.data,l=c.type,u=function(){i.onTick&&i.onTick()};switch(l){case nm.TICK:a.currentTick=c.currentTick,a.currentTickData=c,a.requestId||(a.requestId=um.requestAnimationFrame((function(){gm(r,c),s.refreshPositions(),u(),c.currentTick===c.totalTicks?t():a.currentTick===c.totalTicks&&(a.requestId2=um.requestAnimationFrame((function(){gm(r,a.currentTickData),s.refreshPositions(),a.requestId2=null,u(),t()}))),a.requestId=null})));break;case nm.END:null==a.currentTick&&(gm(r,c),t());break;case nm.GPUEND:null==a.currentTick&&(vm(r,c),t());break;case nm.ERROR:console.warn("Web-Worker layout error!",c.message),e();break;default:e();break}},e.prototype.updateLayoutCfg=function(t){var e=this,n=this,r=n.graph,i=n.layoutMethods;if(r&&!r.get("destroyed")){var o=t.disableTriggerLayout,s=(0,y.__rest)(t,["disableTriggerLayout"]),a=(0,k.mix)({},this.layoutCfg,s);if(this.layoutCfg=a,!o)if(null===i||void 0===i?void 0:i.length){if(this.data=this.setDataFromGraph(),this.stopWorker(),!s.workerEnabled||!this.layoutWithWorker(this.data,null)){r.emit("beforelayout");var c=Promise.resolve(),l=!1;1===(null===i||void 0===i?void 0:i.length)?(l=!0,c=c.then((function(){return(0,y.__awaiter)(e,void 0,void 0,(function(){return(0,y.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(i[0],a)];case 1:return[2,t.sent()]}}))}))}))):(null===i||void 0===i?void 0:i.length)&&(l=!0,i.forEach((function(t,n){var r=a.pipes[n];c=c.then((function(){return(0,y.__awaiter)(e,void 0,void 0,(function(){return(0,y.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.updateLayoutMethod(t,r)];case 1:return[2,e.sent()]}}))}))}))}))),l&&c.then((function(){a.onAllLayoutEnd&&a.onAllLayoutEnd()})).catch((function(t){console.warn("layout failed",t)}))}}else this.layout()}},e.prototype.adjustPipesBox=function(t,e){var n=this;return new Promise((function(r){var i=t.nodes;(null===i||void 0===i?void 0:i.length)||r(),hm.includes(e)||(console.warn("The adjust type ".concat(e," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),r());var o={center:n.layoutCfg.center,nodeSize:function(t){return Math.max(t.height,t.width)},preventOverlap:!0,onLayoutEnd:function(){}},s=n.getLayoutBBox(i),a=s.groupNodes,c=s.layoutNodes,l=(0,k.clone)(c);o.onLayoutEnd=function(){null===c||void 0===c||c.forEach((function(t,e){var n,r,i,o=t.x-(null===(n=l[e])||void 0===n?void 0:n.x),s=t.y-(null===(r=l[e])||void 0===r?void 0:r.y);null===(i=a[e])||void 0===i||i.forEach((function(t){t.x+=o,t.y+=s}))})),r()};var u=new Pg.Layouts[e](o);u.layout({nodes:c})}))},e.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(cd),pm=fm;function gm(t,e){for(var n=t.nodes,r=e.nodes,i=n.length,o=0;o<i;o++){var s=n[o];s.x=r[o].x,s.y=r[o].y}}function mm(t,e){var n={};return t&&"object"===rm(t)?(Object.keys(t).forEach((function(r){t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r])})),n):t}function vm(t,e){for(var n=t.nodes,r=e.vertexEdgeData,i=n.length,o=0;o<i;o++){var s=n[o],a=r[4*o],c=r[4*o+1];s.x=a,s.y=c}}function bm(t,e){var n;if(null===(n=null===t||void 0===t?void 0:t.nodes)||void 0===n?void 0:n.length){var r=t.nodes;r.forEach((function(t){t.layoutOrder=e}))}}function ym(t){return dm.includes(t)}function km(t,e){var n=e;e&&"gpu"===e.split("-")[1]&&(n=e.split("-")[0],t.gpuEnabled=!0);var r=!1;return t.gpuEnabled&&(r=!0,$g().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),r=!1)),r&&!ym(n)&&(console.warn("The '".concat(n,"' layout does not support GPU calculation for now, it will run in CPU.")),r=!1),r}function wm(){im=document.createElement("table"),om=document.createElement("tr"),sm=/^\s*<(\w+|!)[^>]*>/,am={tr:document.createElement("tbody"),tbody:im,thead:im,tfoot:im,td:om,th:om,"*":document.createElement("div")}}function _m(t){im||wm();var e=sm.test(t)&&RegExp.$1;e&&e in am||(e="*");var n=am[e];t="string"===typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,n.innerHTML=""+t;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}var Am=function(t){var e=t.clone();return Cm(t,e),e},Cm=function t(e,n){var r;e.isGroup()&&n.isGroup()&&(null===(r=e.get("children"))||void 0===r||r.forEach((function(e,r){var i=n.get("children")[r];t(e,i)})));var i=e.get("type"),o=n.get("type");if("image"===i&&"image"===o){var s=e.get("clipShape");s&&n.setClip({type:s.get("type"),attrs:s.attr()})}},xm=N,Em="svg",Sm=function(t){function e(e){var n=t.call(this,e)||this,r=n.get("defaultNode");return r||n.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",n.set("defaultNode",r)),n.destroyed=!1,n}return(0,y.__extends)(e,t),e.prototype.initLayoutController=function(){var t=new pm(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new Ng(this);this.set({eventController:t})},e.prototype.initCanvas=function(){var t=this.get("container");if("string"===typeof t&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=t.clientWidth,n=t.clientHeight,r=this.get("width")||e,i=this.get("height")||n;this.get("width")||this.get("height")||(this.set("width",e),this.set("height",n));var o,s=this.get("renderer");if(s===Em)o=new fp({container:t,width:r,height:i});else{var a={container:t,width:r,height:i},c=this.get("pixelRatio");c&&(a.pixelRatio=c,window.devicePixelRatio=c),o=new Jh(a)}this.set("canvas",o)},e.prototype.initPlugins=function(){var t=this;(0,k.each)(t.get("plugins"),(function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)}))},e.prototype.downloadImageWatermark=function(t,e,n,r){return(0,y.__awaiter)(this,void 0,void 0,(function(){var i,o,s;return(0,y.__generator)(this,(function(a){switch(a.label){case 0:return i=t.style.backgroundImage,o=i.slice(5,i.length-2),s=new Image,s.src=o,[4,new Promise((function(t){s.onload=function(){var i=e.createPattern(s,"repeat");e.rect(0,0,n,r),e.fillStyle=i,e.fill(),t("")}}))];case 1:return a.sent(),[2]}}))}))},e.prototype.asyncToDataUrl=function(t,e,n,r,i,o){var s=this,a=document.querySelector(".g6-graph-watermarker"),c=this.get("canvas"),l=c.getRenderer(),u=o||c.get("el"),d="";t||(t="image/png"),setTimeout((function(){return(0,y.__awaiter)(s,void 0,void 0,(function(){var o,s,c,h,f,p,g,m,v,b;return(0,y.__generator)(this,(function(y){switch(y.label){case 0:return"svg"!==l?[3,1]:(o=u.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),c=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s),c.replaceChild(o,c.documentElement),h=(new XMLSerializer).serializeToString(c),d="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(h)),[3,4]);case 1:return f=void 0,p=u.getContext("2d"),g=r||this.get("width"),m=i||this.get("height"),v=void 0,a?[4,this.downloadImageWatermark(a,p,g,m)]:[3,3];case 2:y.sent(),y.label=3;case 3:if(e){b="undefined"!==typeof window?window.devicePixelRatio:1;try{f=p.getImageData(0,0,g*b,m*b),v=p.globalCompositeOperation,p.globalCompositeOperation="destination-over",p.fillStyle=e,p.fillRect(0,0,g,m)}catch(k){console.error("Download image failed. Out of memory at ImageData creation")}}d=u.toDataURL(t),e&&(p.clearRect(0,0,g,m),p.putImageData(f,0,0),p.globalCompositeOperation=v),y.label=4;case 4:return n&&n(d),[2]}}))}))}),16)},e.prototype.toDataURL=function(t,e){var n=this.get("canvas"),r=n.getRenderer(),i=n.get("el");t||(t="image/png");var o="";if("svg"===r){var s=i.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),c=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a);c.replaceChild(s,c.documentElement);var l=(new XMLSerializer).serializeToString(c);o="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(l))}else{var u=void 0,d=i.getContext("2d"),h=Math.max(this.get("width"),500),f=Math.max(this.get("height"),500),p=void 0;if(e){var g="undefined"!==typeof window&&window.devicePixelRatio||1;try{u=d.getImageData(0,0,h*g,f*g),p=d.globalCompositeOperation,d.globalCompositeOperation="destination-over",d.fillStyle=e,d.fillRect(0,0,h,f)}catch(m){console.error("Download image failed. Out of memory at ImageData creation")}}o=i.toDataURL(t),e&&(d.clearRect(0,0,h,f),d.putImageData(u,0,0),d.globalCompositeOperation=p)}return o},e.prototype.toFullDataURL=function(t,e,n){var r=this.get("group").getCanvasBBox(),i=r.height,o=r.width,s=this.get("renderer"),a=_m('<div id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,l=n?n.padding:void 0;l?(0,k.isNumber)(l)&&(l=[l,l,l,l]):l=[0,0,0,0];var u=i+l[0]+l[2],d=o+l[1]+l[3],h={container:a,height:u,width:d,quickHit:!0},f="svg"===s?new fp(h):new Jh(h),p=this.get("group"),g=p.clone(),m=(0,k.clone)(g.getMatrix());m||(m=[1,0,0,0,1,0,0,0,1]);var v=(r.maxX+r.minX)/2,b=(r.maxY+r.minY)/2;m=xm(m,[["t",-v,-b],["t",o/2+l[3],i/2+l[0]]]),g.resetMatrix(),g.setMatrix(m),f.add(g);var y=f.get("el"),w="";e||(e="image/png"),setTimeout((function(){if("svg"===s){var n=y.cloneNode(!0),r=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),i=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",r);i.replaceChild(n,i.documentElement);var o=(new XMLSerializer).serializeToString(i);w="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(o))}else{var a=void 0,l=y.getContext("2d"),h=void 0;if(c){var f="undefined"!==typeof window?window.devicePixelRatio:1;try{a=l.getImageData(0,0,d*f,u*f),h=l.globalCompositeOperation,l.globalCompositeOperation="destination-over",l.fillStyle=c,l.fillRect(0,0,d,u)}catch(p){console.error("Download image failed. Out of memory at ImageData creation")}}w=y.toDataURL(e),c&&(l.clearRect(0,0,d,u),l.putImageData(a,0,0),l.globalCompositeOperation=h)}t&&t(w)}),16)},e.prototype.downloadFullImage=function(t,e,n){var r=this,i=this.get("group").getCanvasBBox(),o=i.height,s=i.width,a=this.get("renderer"),c=_m('<div id="virtual-image"></div>'),l=document.querySelector(".g6-graph-watermarker"),u=n?n.backgroundColor:void 0,d=n?n.padding:void 0;d?(0,k.isNumber)(d)&&(d=[d,d,d,d]):d=[0,0,0,0];var h=o+d[0]+d[2],f=s+d[1]+d[3];if(l){var p=this.get("graphWaterMarker").cfg||{},g=p.width,m=p.height;h=Math.ceil(h/m)*m,f=Math.ceil(f/g)*g}var v={container:c,height:h,width:f},b="svg"===a?new fp(v):new Jh(v),y=this.get("group"),w=Am(y),_=(0,k.clone)(w.getMatrix());_||(_=[1,0,0,0,1,0,0,0,1]);var A=(i.maxX+i.minX)/2,C=(i.maxY+i.minY)/2;_=xm(_,[["t",-A,-C],["t",s/2+d[3],o/2+d[0]]]),w.resetMatrix(),w.setMatrix(_),b.add(w);var x=b.get("el");e||(e="image/png"),this.asyncToDataUrl(e,u,(function(n){var i=document.createElement("a"),o=(t||"graph")+("svg"===a?".svg":".".concat(e.split("/")[1]));r.dataURLToImage(n,a,i,o);var s=document.createEvent("MouseEvents");s.initEvent("click",!1,!1),i.dispatchEvent(s)}),f,h,x)},e.prototype.downloadImage=function(t,e,n){var r=this,i=this;i.stopAnimate();var o=i.get("canvas"),s=o.getRenderer();e||(e="image/png");var a=(t||"graph")+("svg"===s?".svg":e.split("/")[1]),c=document.createElement("a");i.asyncToDataUrl(e,n,(function(t){r.dataURLToImage(t,s,c,a);var e=document.createEvent("MouseEvents");e.initEvent("click",!1,!1),c.dispatchEvent(e)}))},e.prototype.dataURLToImage=function(t,e,n,r){if(t&&"data:"!==t){if("undefined"!==typeof window)if(window.Blob&&window.URL&&"svg"!==e){var i=t.split(","),o="";if(i&&i.length>0){var s=i[0].match(/:(.*?);/);s&&s.length>=2&&(o=s[1])}var a=atob(i[1]),c=a.length,l=new Uint8Array(c);while(c--)l[c]=a.charCodeAt(c);var u=new Blob([l],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(u,r):n.addEventListener("click",(function(){n.download=r,n.href=window.URL.createObjectURL(u)}))}else n.addEventListener("click",(function(){n.download=r,n.href=t}))}else console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items")},e.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},e.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},e.prototype.setImageWaterMarker=function(t,e){void 0===t&&(t=Mg.waterMarkerImage);var n=this.get("container");(0,k.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,k.deepMix)({},Mg.imageWaterMarkerConfig,e),o=i.width,s=i.height,a=i.compatible,c=i.image;if(!t){var l=a?n:document.querySelector(".g6-graph-watermarker");return l&&(l.style.cssText=void 0),void(r&&r.clear())}if(r)r.clear();else{var u={container:n,width:o,height:s,capture:!1},d=this.get("pixelRatio");d&&(u.pixelRatio=d,window.devicePixelRatio=d),r=new Jh(u),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var h=r.get("context"),f=c.rotate,p=c.x,g=c.y;h.rotate(-f*Math.PI/180);var m=new Image;m.crossOrigin="anonymous",m.src=t,m.onload=function(){if(h.drawImage(m,p,g,c.width,c.height),h.rotate(f*Math.PI/180),a)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var t=document.querySelector(".g6-graph-watermarker");t||(t=document.createElement("div"),t.className="g6-graph-watermarker"),t.className="g6-graph-watermarker",r.destroyed||(t.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(t))}}},e.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,k.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,k.deepMix)({},Mg.textWaterMarkerConfig,e),o=i.width,s=i.height,a=i.compatible,c=i.text;if(!(null===t||void 0===t?void 0:t.length)){var l=a?n:document.querySelector(".g6-graph-watermarker");return l&&(l.style.cssText=void 0),void(r&&r.clear())}if(r)r.clear();else{var u={container:n,width:o,height:s,capture:!1},d=this.get("pixelRatio");d&&(u.pixelRatio=d,window.devicePixelRatio=d),r=new Jh(u),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var h=r.get("context"),f=c.rotate,p=c.fill,g=c.fontFamily,m=c.fontSize,v=c.baseline,b=c.x,y=c.y,w=c.lineHeight;h.rotate(-f*Math.PI/180),h.font="".concat(m,"px ").concat(g),h.fillStyle=p,h.textBaseline=v;for(var _=(0,k.isString)(t)?[t]:t,A=_.length-1;A>=0;A--)h.fillText(_[A],b,y+A*w);if(h.rotate(f*Math.PI/180),a)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var C=document.querySelector(".g6-graph-watermarker");C||(C=document.createElement("div"),C.className="g6-graph-watermarker"),C.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(C)}},e.prototype.destroy=function(){var e,n,r,i;(0,k.each)(this.get("plugins"),(function(t){t.destroyPlugin()}));var o=this.get("tooltips");if(o)for(var s=0;s<o.length;s++){var a=o[s];if(a){var c=a.parentElement;c&&c.removeChild(a)}}null===(e=this.get("eventController"))||void 0===e||e.destroy(),null===(n=this.get("layoutController"))||void 0===n||n.destroy(),null===(r=this.get("graphWaterMarker"))||void 0===r||r.destroy(),null===(i=document.querySelector(".g6-graph-watermarker"))||void 0===i||i.remove(),t.prototype.destroy.call(this)},e}(Pu),Mm=Sm,Im=qg.radialLayout,Dm=qg.traverseTree,Tm=function(t){function e(e){var n=t.call(this,e)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return(0,y.__extends)(e,t),e.prototype.getLayout=function(){var t=this.get("layout");return t?"function"===typeof t?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="indented"===t.type?"LR":"TB"),t.radial?function(e){var n=Bg()[t.type](e,t);return Im(n),n}:function(e){return Bg()[t.type](e,t)}):null},e.indexOfChild=function(t,e){var n=-1;return(0,k.each)(t,(function(t,r){if(e===t.id)return n=r,!1})),n},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.animate=!0,e},e.prototype.innerAddChild=function(t,e,n){var r=this,i=t.data;i&&(i.x=t.x,i.y=t.y,i.depth=t.depth);var o=r.addItem("node",i,!1);if(e){if(o.set("parent",e),n){var s=e.get("originAttrs");if(s)o.set("originAttrs",s);else{var a=e.getModel();o.set("originAttrs",{x:a.x,y:a.y})}}var c=e.get("children");c?c.push(o):e.set("children",[o]),r.addItem("edge",{source:e.get("id"),target:o.get("id"),id:"".concat(e.get("id"),":").concat(o.get("id"))},!1)}return(0,k.each)(t.children||[],(function(t){r.innerAddChild(t,o,n)})),r.emit("afteraddchild",{item:o,parent:e}),o},e.prototype.innerUpdateChild=function(t,n,r){var i=this,o=i.findById(t.id);if(o){(0,k.each)(t.children||[],(function(t){i.innerUpdateChild(t,o,r)}));var s,a,c=o.get("children");if(c){var l=c.length;if(l>0)for(var u=c.length-1;u>=0;u--){var d=c[u].getModel();-1===e.indexOfChild(t.children||[],d.id)&&(i.innerRemoveChild(d.id,{x:t.x,y:t.y},r),c.splice(u,1))}}o.get("originAttrs")&&(s=o.get("originAttrs").x,a=o.get("originAttrs").y);var h=o.getModel();r&&o.set("originAttrs",{x:h.x,y:h.y}),o.set("model",Object.assign(h,t.data)),s===t.x&&a===t.y||o.updatePosition({x:t.x,y:t.y})}else i.innerAddChild(t,n,r)},e.prototype.innerRemoveChild=function(t,e,n){var r=this,i=r.findById(t);if(i)if((0,k.each)(i.get("children"),(function(t){r.innerRemoveChild(t.getModel().id,e,n)})),n){var o=i.getModel();i.set("to",e),i.set("originAttrs",{x:o.x,y:o.y}),r.get("removeList").push(i)}else r.removeItem(i,!1)},e.prototype.changeData=function(t,e){void 0===e&&(e=!0);var n=this;this.getNodes().map((function(t){return n.clearItemStates(t)})),this.getEdges().map((function(t){return n.clearItemStates(t)})),e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.get("originData"),after:t||n.get("data")}),t?(n.data(t),n.render(!1)):n.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},e.prototype.updateLayout=function(t,e,n,r){void 0===r&&(r=!0);var i=this;if(t){if(r&&this.get("enabledStack")&&this.pushStack("layout",{before:i.get("layout"),after:t}),i.set("layout",t),i.set("layoutMethod",i.getLayout()),i.layout(),e){var o=n;o||(o="begin"===e?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),o=this.getPointByCanvas(o.x,o.y);var s=this.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];o.x=o.x*s[0]+s[6],o.y=o.y*s[0]+s[7];var a=this.getGroup().getCanvasBBox(),c=a.minX,l=a.maxX,u=a.minY,d=a.maxY,h={x:(c+l)/2,y:(u+d)/2};"begin"===e&&(h.x=c,h.y=u),this.translate(o.x-h.x,o.y-h.y)}}else console.warn("layout cannot be null")},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},e.prototype.layout=function(t){var e=this,n=this,r=n.get("data"),i=n.get("layoutMethod"),o=n.get("layout"),s=r;if(null===o||void 0===o?void 0:o.excludeInvisibles){r=(0,k.clone)(n.get("data"));var a={};Dm(r,(function(t){var n=t.children;if(!(null===n||void 0===n?void 0:n.length))return!0;for(var r=n.length-1;r>=0;r--){var i=e.findById(n[r].id),o=i?!i.isVisible():!1===n[r].visible;o&&(a[t.id]=a[t.id]||[],a[t.id].push({idx:r,child:n.splice(r,1)[0]}))}})),s=i?i(r,n.get("layout")):r,Dm(s,(function(t){var e=a[t.id];if(null===e||void 0===e?void 0:e.length)for(var n=e.length-1;n>=0;n--){var r=e[n],i=r.idx,o=r.child;t.children.splice(i,0,o)}}))}else s=i?i(r,n.get("layout")):r;var c=n.get("animate");if(n.emit("beforerefreshlayout",{data:r,layoutData:s}),n.emit("beforelayout"),n.innerUpdateChild(s,void 0,c),t){var l=n.get("viewController");l.fitView()}c?n.layoutAnimate(s):(n.refresh(),n.paint()),n.emit("afterrefreshlayout",{data:r,layoutData:s}),n.emit("afterlayout")},e.prototype.addChild=function(t,e,n){void 0===n&&(n=!0);var r=this;r.emit("beforeaddchild",{model:t,parent:e}),(0,k.isString)(e)||(e=e.get("id"));var i=r.findDataById(e);if(i){i.children||(i.children=[]),i.children.push(t);var o=r.findById(e);o.refresh(),r.changeData(void 0,n)}},e.prototype.updateChildren=function(t,e,n){void 0===n&&(n=!0);var r=this,i=r.findById(e);if(e&&i){var o=r.findDataById(e);o.children=t,i.refresh(),r.changeData(void 0,n)}else console.warn("Update children failed! There is no node with id '".concat(e,"'"))},e.prototype.updateChild=function(t,n,r){void 0===r&&(r=!0);var i=this;if(n&&i.findById(n)){var o=i.findDataById(n),s=i.findById(t.id);if(o.children||(o.children=[]),s){var a=e.indexOfChild(o.children,t.id);a>-1&&(o.children[a]=t)}else o.children.push(t);var c=i.findById(n);null===c||void 0===c||c.refresh(),i.changeData(void 0,r)}else i.changeData(t,r)},e.prototype.removeChild=function(t,n){void 0===n&&(n=!0);var r,i=this,o=i.findById(t);if(r=o?null===o||void 0===o?void 0:o.get("parent"):i.getNodes().find((function(e){var n=e.getModel().children||[];return!!n.find((function(e){return e.id===t}))})),r&&!r.destroyed){var s=r.get("id"),a=i.findDataById(s),c=a&&a.children||[],l=e.indexOfChild(c,t);c.splice(l,1),r.refresh()}i.changeData(void 0,n)},e.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var r=null;return(0,k.each)(e.children||[],(function(e){return e.id===t?(r=e,!1):(r=n.findDataById(t,e),!r&&void 0)})),r},e.prototype.layoutAnimate=function(t,e){var n=this,r=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach((function(t){var e=t.get("model");e.sourceAnchor||(e.sourceAnchor=t.get("sourceAnchorIndex"))})),this.get("canvas").animate((function(r){Dm(t,(function(i){var o=n.findById(i.id);if(o){var s=o.get("originAttrs"),a=o.get("model");if(s||(s={x:a.x,y:a.y},o.set("originAttrs",s)),e){var c=e(o,r,s,t);o.set("model",Object.assign(a,c))}else a.x=s.x+(i.x-s.x)*r,a.y=s.y+(i.y-s.y)*r}return!0})),(0,k.each)(n.get("removeList"),(function(t){var e=t.getModel(),n=t.get("originAttrs"),i=t.get("to");e.x=n.x+(i.x-n.x)*r,e.y=n.y+(i.y-n.y)*r})),n.refreshPositions()}),{duration:r.duration,easing:r.ease,callback:function(){(0,k.each)(n.getNodes(),(function(t){t.set("originAttrs",null)})),(0,k.each)(n.get("removeList"),(function(t){n.removeItem(t,!1)})),n.set("removeList",[]),r.callback&&r.callback(),n.emit("afteranimate",{data:t})},delay:r.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(t){void 0===t&&(t=!0);var e=this,n=e.get("data");if(!n||!(0,k.isObject)(n)||!Object.keys(n).length)throw new Error("data must be defined first");e.clear(),t&&this.get("enabledStack")&&this.clearStack(),e.emit("beforerender"),e.layout(this.get("fitView")),e.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e.prototype.data=function(e){t.prototype.data.call(this,e),this.set("originData",JSON.parse(JSON.stringify(e)))},e}(Mm),Om=Tm;function Nm(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}var Pm=function(){function t(t){this._cfgs=(0,k.deepMix)(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}return t.prototype.getDefaultCfgs=function(){return{}},t.prototype.initPlugin=function(t){var e=this;e.set("graph",t);var n=e.getEvents(),r={};(0,k.each)(n,(function(n,i){var o=(0,k.wrapBehavior)(e,n);r[i]=o,t.on(i,o)})),this._events=r,this.init()},t.prototype.getEvents=function(){return{}},t.prototype.get=function(t){var e;return null===(e=this._cfgs)||void 0===e?void 0:e[t]},t.prototype.set=function(t,e){this._cfgs[t]=e},t.prototype.destroy=function(){},t.prototype.destroyPlugin=function(){this.destroy();var t=this.get("graph"),e=this._events;(0,k.each)(e,(function(e,n){t.off(n,e)})),this._events=null,this._cfgs=null,this.destroyed=!0},t}(),Lm=Pm,Bm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rm="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",jm=function(t){function e(e){return t.call(this,e)||this}return Bm(e,t),e.prototype.getDefaultCfgs=function(){return{img:Rm,follow:!0}},e.prototype.init=function(){var t=this.get("graph"),e=t.get("container"),n=t.get("canvas").get("el"),r=this.get("img")||Rm;r.includes("url(")||(r='url("'.concat(r,'")'));var i=_m("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),o=_m("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(r,";\n        user-select: none\n        '></div>"));this.set("container",i),this.set("gridContainer",o),this.positionInit(),i.appendChild(o),e.insertBefore(i,n)},e.prototype.positionInit=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("width"),r=t.get("height");Nm(this.get("container"),{width:"".concat(n,"px"),height:"".concat(r,"px")});var i=80*n/e,o=80*r/e;Nm(this.get("gridContainer"),{width:"".concat(i,"px"),height:"".concat(o,"px"),left:"-".concat(i/2,"px"),top:"-".concat(o/2,"px")})},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var r=this.get("follow"),i="matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(r?n[6]:"0",", ").concat(r?n[7]:"0",")");Nm(e,{transform:i})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},e}(Lm),zm=jm,Fm=n(9238),Vm=n.n(Fm),Um=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&Vm()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");var Gm=function(t){function e(e){return t.call(this,e)||this}return Um(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(t){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>菜单项1</li>\n            <li>菜单项2</li>\n          </ul>\n        "},shouldBegin:function(t){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},e.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),e=_m("<div class=".concat(t||"g6-component-contextmenu","></div>"));Nm(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,k.isString)(n)&&(n=document.getElementById(n)),n.appendChild(e),this.set("menu",e)},e.prototype.onMenuShow=function(t){var e=this;t.preventDefault();var n=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&-1===n.indexOf(t.item.getType()))return void e.onMenuHide()}else if(-1===n.indexOf("canvas"))return void e.onMenuHide();var r=this.get("shouldBegin");if(r(t)){var i=this.get("menu"),o=this.get("getContent"),s=this.get("graph"),a=o(t,s);(0,k.isString)(a)?i.innerHTML=a:i.innerHTML=a.outerHTML,this.removeMenuEventListener();var c=this.get("handleMenuClick");if(c){var l=function(e){c(e.target,t.item,s)};this.set("handleMenuClickWrapper",l),i.addEventListener("click",l)}var u=s.get("width"),d=s.get("height"),h=i.getBoundingClientRect(),f=this.get("offsetX")||0,p=this.get("offsetY")||0,g=s.getContainer().offsetTop,m=s.getContainer().offsetLeft,v=t.canvasX+m+f,b=t.canvasY+g+p;v+h.width>u&&(v=t.canvasX-h.width-f+m),b+h.height>d&&(b=t.canvasY-h.height-p+g),Nm(i,{top:"".concat(b,"px"),left:"".concat(v,"px"),visibility:"visible"});var y="click"===this.get("trigger"),w=function(t){y?y=!1:e.onMenuHide()};document.body.addEventListener("click",w),this.set("handler",w)}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&Nm(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),(0,k.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},e}(Lm),Hm=Gm,$m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wm=function(){return Wm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Wm.apply(this,arguments)},Ym=Math.max,qm=N,Xm="default",Km="keyShape",Zm="delegate",Qm="svg",Jm=function(t){function e(e){var n=t.call(this,e)||this;return n.handleUpdateCanvas=(0,k.debounce)((function(t){var e=n;e.destroyed||e.updateCanvas()}),100,!1),n}return $m(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0,hideEdge:!1}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,r=e.graph;if(!this.destroyed){var i=this.get("canvas"),o=i.get("container"),s=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,a=navigator.userAgent.toLowerCase().indexOf("safari")>-1,c=_m("\n      <div\n        class=".concat(e.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff;\n          cursor:move'\n        draggable=").concat(!a&&!s,"\n      </div>")),l=0,u=0,d=!1,h=0,f=0,p=0,g=0,m=0,v=0,b=a||s?"mousedown":"dragstart";c.addEventListener(b,(function(i){var o,s;if(i.dataTransfer){var a=new Image;a.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(s=(o=i.dataTransfer).setDragImage)||void 0===s||s.call(o,a,0,0);try{i.dataTransfer.setData("text/html","view-port-minimap")}catch(y){i.dataTransfer.setData("text","view-port-minimap")}}if(e.refresh=!1,i.target===c){var b=c.style;h=parseInt(b.left,10),f=parseInt(b.top,10),p=parseInt(b.width,10),g=parseInt(b.height,10),p>n[0]||g>n[1]||(v=r.getZoom(),m=t.get("ratio"),d=!0,l=i.clientX,u=i.clientY)}}),!1);var y=function(t){if(d&&!(0,k.isNil)(t.clientX)&&!(0,k.isNil)(t.clientY)){var e=l-t.clientX,i=u-t.clientY;(h-e<0||h-e+p>=n[0])&&(e=0),(f-i<0||f-i+g>=n[1])&&(i=0),h-=e,f-=i,Nm(c,{left:"".concat(h,"px"),top:"".concat(f,"px")}),r.translate(e*v/m,i*v/m),l=t.clientX,u=t.clientY}};a||s||c.addEventListener("drag",y,!1);var w=function(){d=!1,e.refresh=!0},_=a||s?"mouseup":"dragend";c.addEventListener(_,w,!1),o.addEventListener("mouseleave",w),o.addEventListener("mouseup",w),(a||s)&&o.addEventListener("mousemove",y,!1),this.set("viewport",c),o.appendChild(c)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("totaldx"),n=this.get("totaldy"),r=this.get("graph"),i=this.get("size"),o=r.get("canvas").get("el"),s=r.get("width")||o.scrollWidth||500,a=r.get("height")||o.scrollHeight||500,c=r.getPointByCanvas(0,0),l=r.getPointByCanvas(s,a),u=this.get("viewport");u||this.initViewport();var d=(l.x-c.x)*t,h=(l.y-c.y)*t,f=c.x*t+e,p=c.y*t+n,g=f+d,m=p+h;f<0&&(d+=f,f=0),g>i[0]&&(d-=g-i[0]),p<0&&(h+=p,p=0),m>i[1]&&(h-=m-i[1]),this.set("ratio",t);var v="".concat(f,"px"),b="".concat(p,"px");Nm(u,{left:v,top:b,width:"".concat(d,"px"),height:"".concat(h,"px")})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var r;e.clear(),this.get("hideEdge")?(r=e.addGroup(),n.get("children").forEach((function(t){t.get("id").includes("-edge")||r.add(t.clone())}))):(r=n.clone(),r.resetMatrix(),e.add(r));var i=t.get("renderer");i===Qm&&this.updateVisible(r)}},e.prototype.updateVisible=function(t){var e=this;if(t.isGroup()||t.get("visible")){var n=t.get("children");if(!n||!n.length)return;n.forEach((function(t){t.get("visible")||t.hide(),e.updateVisible(t)}))}else t.hide()},e.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,k.each)(e.getEdges(),(function(e){t.updateOneEdgeKeyShape(e,r)})),(0,k.each)(e.getNodes(),(function(e){t.updateOneNodeKeyShape(e,r)}));var i=e.getCombos();if(i&&i.length){var o=r.find((function(t){return"comboGroup"===t.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){t.destroyed||((0,k.each)(i,(function(e){t.updateOneComboKeyShape(e,o)})),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),t.updateCanvas())}),250)}this.clearDestroyedShapes()},e.prototype.updateOneComboKeyShape=function(t,e){if(!this.destroyed){var n=this.get("itemMap")||{},r=n[t.get("id")],i=t.getBBox(),o=t.get("keyShape").clone(),s=o.attr(),a={x:i.centerX,y:i.centerY};r?a=Object.assign(s,a):(r=o,e.add(r));var c=r.get("type");"rect"!==c&&"image"!==c||(a.x=i.minX,a.y=i.minY),r.attr(a),t.isVisible()?r.show():r.hide(),r.exist=!0;var l=t.getModel().depth;isNaN(l)||r.set("zIndex",l),n[t.get("id")]=r,this.set("itemMap",n)}},e.prototype.updateOneNodeKeyShape=function(t,e){var n=this.get("itemMap")||{},r=n[t.get("id")],i=t.getBBox(),o=t.get("keyShape").clone(),s=o.attr(),a={x:i.centerX,y:i.centerY};r?(a=Object.assign(s,a),r.toFront()):(r=o,e.add(r));var c=r.get("type");"rect"!==c&&"image"!==c||(a.x=i.minX,a.y=i.minY),r.attr(a),t.isVisible()?r.show():r.hide(),r.exist=!0;var l=t.getModel().depth;isNaN(l)||r.set("zIndex",l),n[t.get("id")]=r,this.set("itemMap",n)},e.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,k.each)(e.getEdges(),(function(e){t.updateOneEdgeKeyShape(e,r)})),(0,k.each)(e.getNodes(),(function(e){t.updateOneNodeDelegateShape(e,r)}));var i=e.getCombos();if(i&&i.length){var o=r.find((function(t){return"comboGroup"===t.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){t.destroyed||((0,k.each)(i,(function(e){t.updateOneComboKeyShape(e,o)})),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),t.updateCanvas())}),250)}this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(e&&0!==e.length)for(var n=e.length-1;n>=0;n--){var r=t[e[n]],i=r.exist;r.exist=!1,i||(r.remove(),delete t[e[n]])}},e.prototype.updateOneEdgeKeyShape=function(t,e){var n=this.get("itemMap")||{},r=n[t.get("id")];if(r){var i=t.get("keyShape").attr("path");r.attr("path",i)}else r=t.get("keyShape").clone(),e.add(r);t.isVisible()?r.show():r.hide(),r.exist=!0,n[t.get("id")]=r,this.set("itemMap",n)},e.prototype.updateOneNodeDelegateShape=function(t,e){var n=this.get("delegateStyle"),r=this.get("itemMap")||{},i=r[t.get("id")],o=t.getBBox();if(i){var s={x:o.minX,y:o.minY,width:o.width,height:o.height};i.attr(s),i.toFront()}else i=e.addShape("rect",{attrs:Wm({x:o.minX,y:o.minY,width:o.width,height:o.height},n),name:"minimap-node-shape"});t.isVisible()?i.show():i.hide(),i.exist=!0,r[t.get("id")]=i,this.set("itemMap",r)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),r=t.get("className"),i=t.get("container"),o=_m("<div class='".concat(r,"' style='width: ").concat(n[0],"px; height: ").concat(n[1],"px; overflow: hidden'></div>"));(0,k.isString)(i)&&(i=document.getElementById(i)),i?i.appendChild(o):e.get("container").appendChild(o),t.set("container",o);var s,a=_m('<div class="g6-minimap-container" style="position: relative;"></div>');o.appendChild(a),a.addEventListener("dragenter",(function(t){t.preventDefault()})),a.addEventListener("dragover",(function(t){t.preventDefault()}));var c=e.get("renderer");s=c===Qm?new fp({container:a,width:n[0],height:n[1]}):new Jh({container:a,width:n[0],height:n[1]}),t.set("canvas",s),t.updateCanvas()},e.prototype.updateCanvas=function(){if(!this.destroyed){var t=this.get("refresh");if(t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),r=this.get("canvas"),i=this.get("type"),o=this.get("padding");if(!r.destroyed){switch(i){case Xm:this.updateGraphShapes();break;case Km:this.updateKeyShapes();break;case Zm:this.updateDelegateShapes();break;default:break}var s=r.get("children")[0];if(s){s.resetMatrix();var a=s.getCanvasBBox(),c=e.get("canvas").getCanvasBBox(),l=e.getZoom()||1,u=c.width/l,d=c.height/l;Number.isFinite(a.width)&&(u=Ym(a.width,u),d=Ym(a.height,d)),u+=2*o,d+=2*o;var h=Math.min(n[0]/u,n[1]/d),f=[1,0,0,0,1,0,0,0,1],p=0,g=0;Number.isFinite(a.minX)&&(p=-a.minX),Number.isFinite(a.minY)&&(g=-a.minY);var m=(n[0]-(u-2*o)*h)/2,v=(n[1]-(d-2*o)*h)/2;f=qm(f,[["t",p,g],["s",h,h],["t",m,v]]),s.setMatrix(f),this.set("ratio",h),this.set("totaldx",m+p*h),this.set("totaldy",v+g*h),this.set("dx",m),this.set("dy",v),this.updateViewport()}}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t;null===(t=this.get("canvas"))||void 0===t||t.destroy();var e=this.get("container");(null===e||void 0===e?void 0:e.parentNode)&&e.parentNode.removeChild(e)},e}(Lm),tv=Jm,ev=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function nv(t,e,n){var r=t.x-e.x,i=t.y-e.y;return!n||Math.abs(r)>n||Math.abs(i)>n?Math.sqrt(r*r+i*i):n}function rv(t,e){return t.x*e.x+t.y*e.y}function iv(t,e){var n=(e.source.y-e.target.y)/(e.source.x-e.target.x),r=(n*n*e.source.x+n*(t.y-e.source.y)+t.x)/(n*n+1),i=n*(r-e.source.x)+e.source.y;return{x:r,y:i}}var ov=function(t){function e(e){return t.call(this,e)||this}return ev(e,t),e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},e.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],r=t.nodes||[],i={},o=!1;if(r.forEach((function(t){null!==t.x&&null!==!t.y&&void 0!==t.x&&void 0!==!t.y||(o=!0),i[t.id]=t})),o)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",i);var s=e.get("divisions"),a=e.get("divRate"),c=e.divideEdges(s);e.set("edgePoints",c);var l=e.getEdgeBundles();e.set("edgeBundles",l);for(var u=e.get("cycles"),d=e.get("iterations"),h=e.get("iterRate"),f=e.get("lambda"),p=0;p<u;p++){for(var g=function(t){var r=[];n.forEach((function(t,n){if(t.source!==t.target){var o=i[t.source],a=i[t.target];r[n]=e.getEdgeForces({source:o,target:a},n,s,f);for(var l=0;l<s+1;l++)c[n][l].x+=r[n][l].x,c[n][l].y+=r[n][l].y}}))},m=0;m<d;m++)g(m);f/=2,s*=a,d*=h,c=e.divideEdges(s),e.set("edgePoints",c)}n.forEach((function(t,e){t.source!==t.target&&(t.type="polyline",t.controlPoints=c[e].slice(1,c[e].length-1))}));var v=e.get("graph");v.refresh()}},e.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach((function(n){e.set(n,t[n])})),t.onTick){var r=this.get("graph");e.set("tick",(function(){t.onTick(),r.refresh()}))}e.bundling(n)},e.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,r=e.get("nodeIdMap"),i=e.get("edgePoints");return i&&void 0!==i||(i=[]),n.forEach((function(n,o){var s;i[o]&&void 0!==i[o]||(i[o]=[]);var a=r[n.source],c=r[n.target];if(1===t)i[o].push({x:a.x,y:a.y}),i[o].push({x:.5*(a.x+c.x),y:.5*(a.y+c.y)}),i[o].push({x:c.x,y:c.y});else{var l=0;l=(null===(s=i[o])||void 0===s?void 0:s.length)?e.getEdgeLength(i[o]):nv({x:a.x,y:a.y},{x:c.x,y:c.y});var u=l/(t+1),d=u,h=[{x:a.x,y:a.y}];i[o].forEach((function(t,e){if(0!==e){var n=nv(t,i[o][e-1]);while(n>d){var r=d/n,s={x:i[o][e-1].x,y:i[o][e-1].y};s.x+=r*(t.x-i[o][e-1].x),s.y+=r*(t.y-i[o][e-1].y),h.push(s),n-=d,d=u}d-=n}})),h.push({x:c.x,y:c.y}),i[o]=h}})),i},e.prototype.getEdgeLength=function(t){var e=0;return t.forEach((function(n,r){0!==r&&(e+=nv(n,t[r-1]))})),e},e.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],r=t.get("bundleThreshold"),i=t.get("nodeIdMap"),o=t.get("edgeBundles");return o||(o=[]),n.forEach((function(t,e){o[e]&&void 0!==o[e]||(o[e]=[])})),n.forEach((function(e,s){var a=i[e.source],c=i[e.target];n.forEach((function(e,n){if(!(n<=s)){var l=i[e.source],u=i[e.target],d=t.getBundleScore({source:a,target:c},{source:l,target:u});d>=r&&(o[s].push(n),o[n].push(s))}}))})),o},e.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=nv({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=nv({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var r=n.getAngleScore(t,e),i=n.getScaleScore(t,e),o=n.getPositionScore(t,e),s=n.getVisibilityScore(t,e);return r*i*o*s},e.prototype.getAngleScore=function(t,e){var n=rv({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},e.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,r=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return r},e.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,r={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},i={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},o=nv(r,i);return n/(n+o)},e.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),r=this.getEdgeVisibility(e,t);return n<r?n:r},e.prototype.getEdgeVisibility=function(t,e){var n=iv(e.source,t),r=iv(e.target,t),i={x:(n.x+r.x)/2,y:(n.y+r.y)/2},o={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*nv(i,o)/nv(n,r))},e.prototype.getEdgeForces=function(t,e,n,r){for(var i=this,o=i.get("edgePoints"),s=i.get("K"),a=s/(nv(t.source,t.target)*(n+1)),c=[{x:0,y:0}],l=1;l<n;l++){var u={x:0,y:0},d=i.getSpringForce({pre:o[e][l-1],cur:o[e][l],next:o[e][l+1]},a),h=i.getElectrostaticForce(l,e);u.x=r*(d.x+h.x),u.y=r*(d.y+h.y),c.push(u)}return c.push({x:0,y:0}),c},e.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,r=t.pre.y+t.next.y-2*t.cur.y;return n*=e,r*=e,{x:n,y:r}},e.prototype.getElectrostaticForce=function(t,e){var n=this,r=n.get("eps"),i=n.get("edgeBundles"),o=n.get("edgePoints"),s=i[e],a={x:0,y:0};return s.forEach((function(n){var i={x:o[n][t].x-o[e][t].x,y:o[n][t].y-o[e][t].y};if(Math.abs(i.x)>r||Math.abs(i.y)>r){var s=nv(o[n][t],o[e][t]),c=1/s;a.x+=i.x*c,a.y+=i.y*c}})),a},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),t.prototype.destroy.call(this)},e}(Lm),sv=ov,av=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cv=function(){return cv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},cv.apply(this,arguments)},lv=.05,uv={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},dv=function(t){function e(e){return t.call(this,e)||this}return av(e,t),e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,k.clone)(uv),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},e.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},e.prototype.createDelegate=function(t){var e=this,n=this,r=n.get("delegate");r&&!r.destroyed||(n.magnify(t),r=n.get("delegate"),r.on("dragstart",(function(t){n.set("delegateCenterDiff",{x:r.attr("x")-t.x,y:r.attr("y")-t.y})})),r.on("drag",(function(t){n.magnify(t)})),"wheel"===this.get("scaleDBy")&&r.on("mousewheel",(function(t){e.scaleDByWheel(t)})),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",(function(t){n.scaleRByWheel(t)})))},e.prototype.scaleRByWheel=function(t){var e=this;if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var n,r=e.get("graph"),i=e.get("delegate"),o=i?{x:i.attr("x"),y:i.attr("y")}:void 0,s=o||r.getPointByClient(t.clientX,t.clientY);n=t.originalEvent.wheelDelta<0?1-lv:1/(1-lv);var a=e.get("maxR"),c=e.get("minR"),l=e.get("r");(l>(a||r.get("height"))&&n>1||l<(c||.05*r.get("height"))&&n<1)&&(n=1),l*=n,e.set("r",l),e.set("r2",l*l);var u=e.get("d");e.set("molecularParam",(u+1)*l),e.set("delegateCenterDiff",void 0),e.magnify(t,s)}},e.prototype.scaleRByDrag=function(t){var e=this;if(t){var n,r=e.get("dragPrePos"),i=e.get("graph"),o=i.getPointByClient(t.clientX,t.clientY);n=t.x-r.x<0?1-lv:1/(1-lv);var s=e.get("maxR"),a=e.get("minR"),c=e.get("r");(c>(s||i.get("height"))&&n>1||c<(a||.05*i.get("height"))&&n<1)&&(n=1),c*=n,e.set("r",c),e.set("r2",c*c);var l=e.get("d");e.set("molecularParam",(l+1)*c),e.magnify(t,o),e.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var e=this;if(t||t.originalEvent){t.preventDefault&&t.preventDefault();var n=0;n=t.originalEvent.wheelDelta<0?-.1:.1;var r=e.get("d"),i=r+n,o=e.get("maxD"),s=e.get("minD");if(i<o&&i>s){e.set("d",i);var a=e.get("r");e.set("molecularParam",(i+1)*a);var c=e.get("delegate"),l=c?{x:c.attr("x"),y:c.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,l)}}},e.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),r=t.x-n.x>0?.1:-.1,i=e.get("d"),o=i+r,s=e.get("maxD"),a=e.get("minD");if(o<s&&o>a){e.set("d",o);var c=e.get("r");e.set("molecularParam",(o+1)*c),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,e){var n=this;n.restoreCache();var r=n.get("graph"),i=n.get("cachedMagnifiedModels"),o=n.get("cachedOriginPositions"),s=n.get("showLabel"),a=n.get("r"),c=n.get("r2"),l=n.get("d"),u=n.get("molecularParam"),d=r.getNodes(),h=d.length,f=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};!n.get("dragging")||"mousemove"!==n.get("trigger")&&"click"!==n.get("trigger")||(f=n.get("cacheCenter"));var p=n.get("delegateCenterDiff");p&&(f.x+=p.x,f.y+=p.y),n.updateDelegate(f,a);for(var g=0;g<h;g++){var m=d[g].getModel(),v=m.x,b=m.y;if(!isNaN(v)&&!isNaN(b)){var y=(v-f.x)*(v-f.x)+(b-f.y)*(b-f.y);if(!isNaN(y)&&y<c&&0!==y){var k=Math.sqrt(y),w=u*k/(l*k+a),_=(v-f.x)/k,A=(b-f.y)/k;if(m.x=_*w+f.x,m.y=A*w+f.y,o[m.id]||(o[m.id]={x:v,y:b,texts:[]}),i.push(m),s&&2*k<a)for(var C=d[g],x=C.getContainer(),E=x.getChildren(),S=E.length,M=0;M<S;M++){var I=E[M];"text"===I.get("type")&&(o[m.id].texts.push({visible:I.get("visible"),shape:I}),I.set("visible",!0))}}}}r.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),r=e.length,i=0;i<r;i++){var o=e[i],s=o.id,a=n[s];o.x=a.x,o.y=a.y;for(var c=a.texts.length,l=0;l<c;l++){var u=a.texts[l];u.shape.set("visible",u.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var e=this,n=t.r,r=t.d,i=t.trigger,o=t.minD,s=t.maxD,a=t.minR,c=t.maxR,l=t.scaleDBy,u=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(r)||e.set("d",r),isNaN(s)||e.set("maxD",s),isNaN(o)||e.set("minD",o),isNaN(c)||e.set("maxR",c),isNaN(a)||e.set("minR",a);var d=e.get("d"),h=e.get("r");if(e.set("molecularParam",(d+1)*h),"mousemove"!==i&&"click"!==i&&"drag"!==i||e.set("trigger",i),"drag"===l||"wheel"===l||"unset"===l){e.set("scaleDBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var f=e.get("dPercentText");f&&(f.remove(),f.destroy())}if("drag"===u||"wheel"===u||"unset"===u){e.set("scaleRBy",u),e.get("delegate").remove(),e.get("delegate").destroy();f=e.get("dPercentText");f&&(f.remove(),f.destroy())}},e.prototype.updateDelegate=function(t,e){var n=this,r=this,i=r.get("graph"),o=r.get("delegate");if(!o||o.destroyed){var s=i.get("group"),a=r.get("delegateStyle")||uv;o=s.addShape("circle",{attrs:cv({r:e/1.5,x:t.x,y:t.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?o.on("mousewheel",(function(t){r.scaleRByWheel(t)})):"drag"===this.get("scaleRBy")&&(o.on("dragstart",(function(t){r.set("dragging",!0),r.set("cacheCenter",{x:t.x,y:t.y}),r.set("dragPrePos",{x:t.x,y:t.y})})),o.on("drag",(function(t){r.scaleRByDrag(t)})),o.on("dragend",(function(t){r.set("dragging",!1)}))),"wheel"===this.get("scaleDBy")?o.on("mousewheel",(function(t){n.scaleDByWheel(t)})):"drag"===this.get("scaleDBy")&&(o.on("dragstart",(function(t){r.set("dragging",!0),r.set("cacheCenter",{x:t.x,y:t.y}),r.set("dragPrePos",{x:t.x,y:t.y})})),o.on("drag",(function(t){n.scaleDByDrag(t)})),o.on("dragend",(function(t){r.set("dragging",!1)}))))}else o.attr({x:t.x,y:t.y,r:e/1.5});if(r.get("showDPercent")){var c=Math.round((r.get("d")-r.get("minD"))/(r.get("maxD")-r.get("minD"))*100),l=r.get("dPercentText"),u=t.y+e/1.5+16;if(!l||l.destroyed){var d=i.get("group");l=d.addShape("text",{attrs:{text:"".concat(c,"%"),x:t.x,y:u,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),r.set("dPercentText",l)}else l.attr({text:"".concat(c,"%"),x:t.x,y:u})}r.set("delegate",o)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Lm),hv=dv,fv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pv=.05;"undefined"!==typeof document&&Vm()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");var gv=function(t){if(!t)return[];if(t.composedPath)return t.composedPath();var e=[],n=t.target;while(n){if(e.push(n),"HTML"===n.tagName)return e.push(document,window),e;n=n.parentElement}return e},mv=function(t){function e(e){return t.call(this,e)||this}return fv(e,t),e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(t){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},e.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),r=n(e),i=r;(0,k.isString)(r)&&(i=_m(r));var o=this.get("className");i.setAttribute("class",o||"g6-component-toolbar");var s=this.get("container");s||(s=this.get("graph").get("container")),(0,k.isString)(s)&&(s=document.getElementById(s)),s.appendChild(i),this.set("toolBar",i);var a=this.get("handleClick");i.addEventListener("click",(function(n){var r=gv(n).filter((function(t){return"LI"===t.nodeName}));if(0!==r.length){var i=r[0].getAttribute("code");i&&(a?a(i,e):t.handleDefaultOperator(i))}}));var c=this.get("position");c&&Nm(i,{top:"".concat(c.y,"px"),left:"".concat(c.x,"px")}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),r=document.querySelector('.g6-component-toolbar li[code="redo"]'),i=document.querySelector('.g6-component-toolbar li[code="redo"] svg');e&&n&&r&&i&&(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4"),r.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4"),t.on("stackchange",(function(t){var o=t.undoStack,s=t.redoStack,a=o.length,c=s.length;0===a?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),0===c?(r.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),i.removeAttribute("style"))})))},e.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(e&&0!==e.length){var n=e.pop();if(n){var r=n.action;t.pushStack(r,(0,k.clone)(n.data),"redo");var i=n.data.before;if("add"===r&&(i=n.data.after),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=t.findById(e.id);e.visible?t.showItem(n,!1):t.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=t.findById(e.id);delete e.id,t.updateItem(n,e,!1),"combo"===n.getType()&&t.updateCombo(n)}))}));break;case"changedata":t.changeData(i,!1);break;case"delete":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=e.itemType;delete e.itemType,t.addItem(n,e,!1)}))}));break;case"add":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){t.removeItem(e.id,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){t.updateComboTree(e.id,e.parentId,!1)}))}));break;case"createCombo":var o=n.data.after.combos,s=o[o.length-1];Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){t.updateComboTree(e.id,e.parentId,!1)}))})),t.removeItem(s.id,!1);break;case"uncombo":var a=i.combos[i.combos.length-1],c=i.nodes.concat(i.combos).map((function(t){return t.id})).filter((function(t){return t!==a.id}));t.createCombo(a,c,!1);break;case"layout":t.updateLayout(i,void 0,void 0,!1);break;default:}}}},e.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(e&&0!==e.length){var n=e.pop();if(n){var r=n.action,i=n.data.after;if(t.pushStack(r,(0,k.clone)(n.data)),"delete"===r&&(i=n.data.before),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=t.findById(e.id);e.visible?t.showItem(n,!1):t.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=t.findById(e.id);delete e.id,t.updateItem(n,e,!1),"combo"===n.getType()&&t.updateCombo(n)}))}));break;case"changedata":t.changeData(i,!1);break;case"delete":i.edges&&i.edges.forEach((function(e){t.removeItem(e.id,!1)})),i.nodes&&i.nodes.forEach((function(e){t.removeItem(e.id,!1)})),i.combos&&i.combos.forEach((function(e){t.removeItem(e.id,!1)}));break;case"add":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){var n=e.itemType;delete e.itemType,t.addItem(n,e,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(e){var n=i[e];n&&n.forEach((function(e){t.updateComboTree(e.id,e.parentId,!1)}))}));break;case"createCombo":var o=i.combos[i.combos.length-1];t.createCombo(o,o.children.map((function(t){return t.id})),!1);break;case"uncombo":var s=n.data.before.combos,a=s[s.length-1];t.uncombo(a.id,!1);break;case"layout":t.updateLayout(i,void 0,void 0,!1);break;default:}}}},e.prototype.zoomOut=function(){var t=this.get("graph"),e=t.getZoom(),n=1/(1-pv*this.get("zoomSensitivity")),r=this.get("maxZoom")||t.get("maxZoom");n*e>r||t.zoomTo(e*n)},e.prototype.zoomIn=function(){var t=this.get("graph"),e=t.getZoom(),n=1-pv*this.get("zoomSensitivity"),r=this.get("minZoom")||t.get("minZoom");n*e<r||t.zoomTo(e*n)},e.prototype.realZoom=function(){var t=this.get("graph");t.zoomTo(1)},e.prototype.autoZoom=function(){var t=this.get("graph");t.fitView([20,20])},e.prototype.handleDefaultOperator=function(t){switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":this.zoomOut();break;case"zoomIn":this.zoomIn();break;case"realZoom":this.realZoom();break;case"autoZoom":this.autoZoom();break;default:}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),(0,k.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},e}(Lm),vv=mv,bv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&Vm()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");var yv=function(t){function e(e){return t.call(this,e)||this}return bv(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(t){return"\n          <h4 class='tooltip-type'>类型：".concat(t.item.getType(),"</h4>\n          <span class='tooltip-id'>ID：").concat(t.item.getID(),"</span>\n        ")},shouldBegin:function(t){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},e.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this,e=t.get("className")||"g6-component-tooltip",n=_m("<div class='".concat(e,"'></div>")),r=t.get("container");r||(r=t.get("graph").get("container")),(0,k.isString)(r)&&(r=document.getElementById(r)),Nm(n,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(n),"click"!==t.get("trigger")&&(n.addEventListener("mouseenter",(function(t){Nm(n,{visibility:"visible",display:"unset"})})),n.addEventListener("mouseleave",(function(e){t.hideTooltip()}))),t.set("tooltip",n)},e.prototype.onClick=function(t){var e=this.get("itemTypes");if(!t.item||!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=t.item,r=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),r.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(t),r.emit("tooltipchange",{item:t.item,action:"show"}))}},e.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!t.item||!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=t.item,r=this.get("graph");this.currentTarget=n,this.showTooltip(t),r.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&-1===e.indexOf(t.item.getType())||this.currentTarget&&t.item===this.currentTarget&&this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.clearContainer=function(){var t=this.get("tooltip");t&&(t.innerHTML="")},e.prototype.showTooltip=function(t){if(t.item){var e=this.get("itemTypes");if(!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=this.get("tooltip"),r=this.get("getContent"),i=r(t);(0,k.isString)(i)?n.innerHTML=i:(this.clearContainer(),n.appendChild(i)),this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Nm(t,{visibility:"hidden",display:"none"})},e.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(e(t)){var r=this.get("graph"),i=r.get("width"),o=r.get("height"),s=this.get("offsetX")||0,a=this.get("offsetY")||0,c=r.getPointByClient(t.clientX,t.clientY),l=this.get("fixToNode"),u=t.item;if(u.getType&&"node"===u.getType()&&l&&(0,k.isArray)(l)&&l.length>=2){var d=u.getBBox();c={x:d.minX+d.width*l[0],y:d.minY+d.height*l[1]}}var h=r.getCanvasByPoint(c.x,c.y),f=h.x,p=h.y,g=r.getContainer(),m={x:f+g.offsetLeft+s,y:p+g.offsetTop+a};Nm(n,{visibility:"visible",display:"unset"});var v=n.getBoundingClientRect();f+v.width+s>i&&(m.x-=v.width+s),p+v.height+a>o&&(m.y-=v.height+a,m.y<0&&(m.y=0)),Nm(n,{left:"".concat(m.x,"px"),top:"".concat(m.y,"px")})}else Nm(n,{visibility:"hidden",display:"none"})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),(0,k.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},e}(Lm),kv=yv,wv="timebarstartplay",_v="timebarendplay",Av="valuechange",Cv="timebarConfigChanged",xv="playPauseBtn",Ev="nextStepBtn",Sv="preStepBtn",Mv=function(){function t(t){var e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r,o=t.container,s=t.text,a=t.padding,c=void 0===a?[4,4,4,4]:a,l=t.className,u=void 0===l?"g6-component-timebar-tooltip":l,d=t.backgroundColor,h=void 0===d?"#000":d,f=t.textColor,p=void 0===f?"#fff":f,g=t.opacity,m=void 0===g?.8:g,v=t.fontSize,b=void 0===v?12:v;this.container=o,this.className=u,this.backgroundColor=h,this.textColor=p,this.x=n,this.y=i,this.text=s,this.padding=c,this.opacity=m,this.fontSize=b,this.render()}return t.prototype.render=function(){var t=this,e=t.className,n=(t.x,t.y,t.backgroundColor),r=t.textColor,i=t.text,o=t.padding,s=t.opacity,a=t.fontSize,c=t.container,l=_m("<div class='".concat(e,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(s,'"></div>'));(0,k.isString)(c)&&(c=document.getElementById(c)),c.appendChild(l),t.parentHeight=c.offsetHeight,t.parentWidth=c.offsetWidth,Nm(l,{visibility:"hidden",top:0,left:0});var u=_m("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(n,"; font-size: ").concat(a,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(r,"; padding: ").concat(o[0],"px ").concat(o[1],"px ").concat(o[2],"px ").concat(o[3],"px'></div>"));u.innerHTML=i,l.appendChild(u),t.backgroundDOM=u;var d=_m("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(n,"'></div>"));l.appendChild(d),t.arrowDOM=d,t.container=l},t.prototype.show=function(t){var e=this,n=t.text,r=t.x;t.y,t.clientX,t.clientY;e.backgroundDOM.innerHTML=n;var i=e.backgroundDOM.offsetWidth,o=e.backgroundDOM.offsetHeight,s=e.arrowDOM.offsetWidth,a=e.arrowDOM.offsetHeight;Nm(e.container,{top:"".concat(-o-a,"px"),left:"".concat(r,"px"),visibility:"visible"}),Nm(e.backgroundDOM,{marginLeft:"".concat(-i/2,"px")}),Nm(e.arrowDOM,{marginLeft:"".concat(-s/2,"px"),top:"".concat(o,"px")});var c=r-i/2,l=r+i/2;c<0?Nm(e.backgroundDOM,{marginLeft:"".concat(-i/2-c,"px")}):l>e.parentWidth&&Nm(e.backgroundDOM,{marginLeft:"".concat(-i/2-l+e.parentWidth+12,"px")})},t.prototype.hide=function(){Nm(this.container,{top:0,left:0,visibility:"hidden"})},t}(),Iv=Mv,Dv=function(){return Dv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Dv.apply(this,arguments)},Tv=function(){function t(t){this.config=(0,k.deepMix)({},t),this.init()}return t.prototype.update=function(t){this.config=(0,k.deepMix)({},this.config,t),this.updateElement(),this.renderMarker()},t.prototype.init=function(){this.initElement(),this.renderMarker()},t.prototype.initElement=function(){var t=this.config,e=t.group,n=t.style,r=n.scale,i=void 0===r?1:r,o=n.offsetX,s=void 0===o?0:o,a=n.offsetY,c=void 0===a?0:a,l=this.config.x+s,u=this.config.y+c,d=e.addGroup({name:xv});this.startMarkerGroup=d.addGroup({name:xv}),this.circle=e.addShape("circle",{attrs:Dv({x:l,y:u,r:this.config.r*i},n),name:xv}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(l,u,i),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=d.addGroup({name:xv});var h=.25*this.config.r*i,f=.5*this.config.r*Math.sqrt(3)*i;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:l-.375*this.config.r*i,y:u-f/2,width:h,height:f,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:l+1/8*this.config.r*i,y:u-f/2,width:h,height:f,fill:n.stroke||"#aaa",lineWidth:0}})},t.prototype.updateElement=function(){var t=this.config.style,e=t.scale,n=void 0===e?1:e,r=t.offsetX,i=void 0===r?0:r,o=t.offsetY,s=void 0===o?0:o,a=this.config.x+i,c=this.config.y+s;this.circle.attr("x",a),this.circle.attr("y",c),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(a,c,n));var l=.25*this.config.r*n,u=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",a-.375*this.config.r*n),this.pauseLeftMarker.attr("y",c-u/2),this.pauseLeftMarker.attr("width",l),this.pauseLeftMarker.attr("height",u),this.pauseRightMarker.attr("x",a+1/8*this.config.r*n),this.pauseRightMarker.attr("y",c-u/2),this.pauseRightMarker.attr("width",l),this.pauseRightMarker.attr("height",u)},t.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},t.prototype.getStartMarkerPath=function(t,e,n){var r=.5*this.config.r*Math.sqrt(3)*n;return[["M",t-r/Math.sqrt(3)/2,e-r/2],["L",t+r/Math.sqrt(3),e],["L",t-r/Math.sqrt(3)/2,e+r/2]]},t}(),Ov=Tv,Nv=function(){return Nv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Nv.apply(this,arguments)},Pv=N,Lv="#aaa",Bv="green",Rv={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},jv={fill:"#fff"},zv={fill:"green"},Fv={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},Vv={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},Uv={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:Fv,timeTypeControllerStyle:Vv},Gv=110,Hv=50,$v={SINGLE:"single",RANGE:"range"},Wv=function(){function t(t){this.controllerCfg=(0,k.deepMix)({},Uv,t),this.group=t.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType=this.controllerCfg.defaultTimeType||$v.RANGE,this.fontFamily=t.fontFamily||"Arial, sans-serif",this.init()}return t.prototype.init=function(){this.renderPlayButton()},t.prototype.getNextMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t+n,e],["L",t,e+n],["Z",t,e-n],["M",t,e],["L",t-n,e-n],["L",t-n,e+n],["Z"]]},t.prototype.getPreMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t-n,e],["L",t,e+n],["L",t,e-n],["M",t,e],["L",t+n,e-n],["L",t+n,e+n],["Z"]]},t.prototype.renderPlayButton=function(){var t=this.controllerCfg,e=t.width,n=t.height,r=t.x,i=t.y,o=t.hideTimeTypeController,s=t.fill,a=void 0===s?Lv:s,c=t.stroke,l=void 0===c?Bv:c,u=t.containerStyle,d=void 0===u?{}:u,h=Nv(Nv({},Rv),t.playBtnStyle||{}),f=Nv(Nv({},jv),t.preBtnStyle||{}),p=Nv(Nv({},zv),t.nextBtnStyle||{}),g=n/2-5,m=i+10,v=this.controllerGroup.addShape("rect",{attrs:Nv({x:r,y:m,width:e,height:n,stroke:l,fill:a},d),name:"container-rect"});this.playButton?this.playButton.update({x:e/2,y:m,r:g}):this.playButton=new Ov({group:this.controllerGroup,x:e/2,y:m+g+5,r:g,isPlay:this.isPlay,style:h});var b=f.offsetX||0,y=f.offsetY||0,k=(f.scale||1)*g;this.controllerGroup.addShape("path",{attrs:Nv({path:this.getPreMarkerPath(e/2-5*g+b,m+g+5+y,.5*k)},f),name:Sv});var w=p.offsetX||0,_=p.offsetY||0,A=(p.scale||1)*g;this.controllerGroup.addShape("path",{attrs:Nv({path:this.getNextMarkerPath(e/2+5*g+w,m+g+5+_,.5*A)},p),name:Ev}),v.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var C=this.controllerCfg.scale,x=void 0===C?1:C,E=this.controllerGroup.getCanvasBBox(),S=(E.maxX+E.minX)/2,M=(E.maxY+E.minY)/2,I=Pv([1,0,0,0,1,0,0,0,1],[["t",-S,-M],["s",x,x],["t",S,M]]);this.controllerGroup.setMatrix(I)},t.prototype.renderSpeedBtn=function(){var t=this.controllerCfg,e=t.y,n=t.width,r=t.hideTimeTypeController,i=Nv(Nv({},Fv),this.controllerCfg.speedControllerStyle||{}),o=i.scroller,s=void 0===o?{}:o,a=i.text,c=void 0===a?{}:a,l=i.pointer,u=void 0===l?{}:l,d=i.scale,h=void 0===d?1:d,f=i.offsetX,p=void 0===f?0:f,g=i.offsetY,m=void 0===g?0:g,v=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=v;var b=[],y=5;this.speedAxisY=[19,22,26,32,39];for(var k=0;k<5;k++){var w=e+this.speedAxisY[k],_=n-(r?Hv:Gv);v.addShape("line",{attrs:Nv({x1:_,x2:_+15,y1:w,y2:w},s),speed:y,name:"speed-rect"}),this.speedAxisY[k]=w,b.push(y),y-=1}this.speedText=v.addShape("text",{attrs:Nv({x:n-(r?Hv:Gv)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},c),name:"speed-text"}),this.speedPoint=v.addShape("path",{attrs:Nv({path:this.getPointerPath(n-(r?Hv:Gv),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},u),name:"speed-pointer"});var A=this.speedGroup.getCanvasBBox(),C=(A.maxX+A.minX)/2,x=(A.maxY+A.minY)/2,E=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];E=Pv(E,[["t",-C,-x],["s",h,h],["t",C+p*h,x+m*h]]),this.speedGroup.setMatrix(E)},t.prototype.getPointerPath=function(t,e){return[["M",t,e],["L",t-10,e-4],["L",t-10,e+4],["Z"]]},t.prototype.renderToggleTime=function(){var t,e,n=this.controllerCfg,r=n.width,i=n.defaultTimeType,o=Nv(Nv({},Vv),this.controllerCfg.timeTypeControllerStyle||{}),s=o.scale,a=void 0===s?1:s,c=o.offsetX,l=void 0===c?0:c,u=o.offsetY,d=void 0===u?0:u,h=o.box,f=void 0===h?{}:h,p=o.check,g=void 0===p?{}:p,m=o.text,v=void 0===m?{}:m;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"});var b=i===$v.SINGLE;this.toggleGroup.addShape("rect",{attrs:Nv({x:r-Hv,y:this.speedAxisY[0]+3.5},f),isChecked:b,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Nv({path:[["M",r-Hv+3,this.speedAxisY[1]+6],["L",r-Hv+7,this.speedAxisY[1]+10],["L",r-Hv+12,this.speedAxisY[1]+4]]},g),capture:!1,name:"check-icon"}),b||this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Nv({text:b?(null===(t=this.controllerCfg)||void 0===t?void 0:t.timeRangeControllerText)||"时间范围":(null===(e=this.controllerCfg)||void 0===e?void 0:e.timePointControllerText)||"单一时间",x:r-Hv+15,y:this.speedAxisY[0]+4,fontFamily:"undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},v),name:"checked-text"});var y=this.toggleGroup.getCanvasBBox(),k=(y.maxX+y.minX)/2,w=(y.maxY+y.minY)/2,_=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];_=Pv(_,[["t",-k,-w],["s",a,a],["t",k+l*a,w+d*a]]),this.toggleGroup.setMatrix(_)},t.prototype.bindEvent=function(){var t=this;this.speedGroup.on("speed-rect:click",(function(e){var n=e.target.attr("y1"),r=t.speedPoint.attr("matrix"),i=t.speedAxisY.indexOf(r[7]||0),o=t.speedAxisY.indexOf(n),s=t.speedAxisY[o]-t.speedAxisY[i];r=Pv(r,[["t",0,s]]),t.speedPoint.setMatrix(r),t.currentSpeed=t.speedAxisY.length-o,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit(Cv,{speed:t.currentSpeed,type:t.currentType})})),this.speedGroup.on("mousewheel",(function(e){e.preventDefault();var n=t.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=n[7],i=t.speedAxisY.indexOf(r);if(-1===i){var o=1/0;t.speedAxisY.forEach((function(t,e){var n=Math.abs(t-r);o>n&&(o=n,i=e)}))}i=e.originalEvent.deltaY>0?Math.max(0,i-1):Math.min(t.speedAxisY.length-1,i+1);var s=t.speedAxisY[i]-r;n=Pv(n,[["t",0,s]]),t.speedPoint.setMatrix(n),t.currentSpeed=t.speedAxisY.length-i,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit(Cv,{speed:t.currentSpeed,type:t.currentType})})),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",(function(e){var n,r,i=e.target.get("isChecked");i?(t.checkedIcon.hide(),t.checkedText.attr("text",(null===(r=t.controllerCfg)||void 0===r?void 0:r.timePointControllerText)||"单一时间"),t.currentType=$v.RANGE):(t.checkedIcon.show(),t.checkedText.attr("text",(null===(n=t.controllerCfg)||void 0===n?void 0:n.timeRangeControllerText)||"时间范围"),t.currentType=$v.SINGLE),e.target.set("isChecked",!i),t.group.emit(Cv,{type:t.currentType,speed:t.currentSpeed})}))},t.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},t}(),Yv=Wv,qv=function(){return qv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},qv.apply(this,arguments)},Xv=N,Kv={fill:"#5B8FF9"},Zv={fill:"#e6e8e9"},Qv=function(){function t(t){this.frameCount=0,this.fontFamily="Arial, sans-serif";var e=t.graph,n=t.canvas,r=t.group,i=t.width,o=t.height,s=t.padding,a=t.data,c=t.start,l=t.end,u=t.x,d=void 0===u?0:u,h=t.y,f=void 0===h?0:h,p=t.tickLabelFormatter,g=t.selectedTickStyle,m=void 0===g?Kv:g,v=t.unselectedTickStyle,b=void 0===v?Zv:v,y=t.tooltipBackgroundColor,k=t.tooltipFomatter,w=t.tickLabelStyle,_=t.controllerCfg,A=void 0===_?{speed:1}:_;this.graph=e,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=n,this.width=i,this.height=o,this.padding=s,this.data=a,this.start=c,this.end=l,this.tickLabelFormatter=p,this.tickLabelStyle=w||{},this.selectedTickStyle=m,this.unselectedTickStyle=b,this.controllerCfg=A,this.currentSpeed=A.speed||1,this.x=d,this.y=f,this.tooltipBackgroundColor=y,this.tooltipFomatter=k,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return t.prototype.renderSlices=function(){var t=this,e=this,n=e.width,r=e.height,i=e.padding,o=e.data,s=e.start,a=e.end,c=e.tickLabelFormatter,l=e.selectedTickStyle,u=e.unselectedTickStyle,d=e.tickLabelStyle,h=n-2*i,f=10,p=4,g=3*i+p+f,m=r-g-2*i,v=2,b=o.length,y=(h-v*(b-1))/b;this.tickWidth=y;var w=this.sliceGroup,_=[],A=[],C=Math.round(b*s),x=Math.round(b*a);this.startTickRectId=C,this.endTickRectId=x;var E=d.rotate;delete d.rotate,o.forEach((function(e,r){var o=r>=C&&r<=x,s=o?l:u,a=w.addShape("rect",{attrs:qv({x:i+r*(y+v),y:i,width:y,height:m},s),draggable:!0,name:"tick-rect-".concat(r)}),h=w.addShape("rect",{attrs:{x:i+r*y+v*(2*r-1)/2,y:i,width:0===r||r===b-1?y+v/2:y+v,height:m,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(r)});h.toFront();var f,g=a.getBBox(),S=(g.minX+g.maxX)/2;if(_.push({rect:a,pickRect:h,value:e.date,x:S,y:g.minY}),c?(f=c(e),!(0,k.isString)(f)&&f&&(f=e.date)):r%Math.round(b/10)===0&&(f=e.date),f){A.push(f);var M=g.maxY+2*i;w.addShape("line",{attrs:{stroke:"#BFBFBF",x1:S,y1:M,x2:S,y2:M+p},name:"tick-line"});var I=M+p+i,D=w.addShape("text",{attrs:qv({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:S,y:I,textAlign:"center",text:f,textBaseline:"top",fontSize:10,fontFamily:t.fontFamily||"Arial, sans-serif"},d),capture:!1,name:"tick-label"}),T=D.getBBox();if(T.maxX>n?D.attr("textAlign","right"):T.minX<0&&D.attr("textAlign","left"),(0,k.isNumber)(E)&&10!==A.length){var O=Xv([1,0,0,0,1,0,0,0,1],[["t",-S,-I],["r",E],["t",S-5,I+2]]);D.attr({textAlign:"left",matrix:O})}1===A.length?D.attr({textAlign:"left"}):10===A.length&&D.attr({textAlign:"right"})}})),this.tickRects=_;var S=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Yv(qv({group:S,x:this.x,y:this.y+r+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"},this.controllerCfg))},t.prototype.initEvent=function(){var t=this,e=this.sliceGroup;e.on("click",(function(e){var n=e.target;if("rect"===n.get("type")&&n.get("name")){var r=parseInt(n.get("name").split("-")[2],10);if(!isNaN(r)){var i=t.tickRects,o=t.unselectedTickStyle;i.forEach((function(t){t.rect.attr(o)}));var s=t.selectedTickStyle;i[r].rect.attr(s),t.startTickRectId=r,t.endTickRectId=r;var a=i.length,c=r/a;t.graph.emit(Av,{value:[c,c]})}}})),e.on("dragstart",(function(e){var n=t.tickRects,r=t.unselectedTickStyle;n.forEach((function(t){t.rect.attr(r)}));var i=e.target,o=parseInt(i.get("name").split("-")[2],10),s=t.selectedTickStyle;n[o].rect.attr(s),t.startTickRectId=o;var a=n.length,c=o/a;t.graph.emit(Av,{value:[c,c]}),t.dragging=!0})),e.on("dragover",(function(e){if(t.dragging&&"rect"===e.target.get("type")){for(var n=parseInt(e.target.get("name").split("-")[2],10),r=t.startTickRectId,i=t.tickRects,o=t.selectedTickStyle,s=t.unselectedTickStyle,a=0;a<i.length;a++){var c=a>=r&&a<=n?o:s;i[a].rect.attr(c)}var l=i.length;t.endTickRectId=n;var u=r/l,d=n/l;t.graph.emit(Av,{value:[u,d]})}})),e.on("drop",(function(e){if(t.dragging&&(t.dragging=!1,"rect"===e.target.get("type"))){var n=t.startTickRectId,r=parseInt(e.target.get("name").split("-")[2],10);if(!(r<n)){var i=t.selectedTickStyle,o=t.tickRects;o[r].rect.attr(i),t.endTickRectId=r;var s=o.length,a=n/s,c=r/s;t.graph.emit(Av,{value:[a,c]})}}}));var n=this,r=n.tooltipBackgroundColor,i=n.tooltipFomatter,o=n.canvas,s=new Iv({container:o.get("container"),backgroundColor:r}),a=this.tickRects;a.forEach((function(t){var e=t.pickRect;e.on("mouseenter",(function(t){var e=t.target;if("rect"===e.get("type")){var n=parseInt(e.get("name").split("-")[2],10),r=o.getClientByPoint(a[n].x,a[n].y);s.show({x:a[n].x,y:a[n].y,clientX:r.x,clientY:r.y,text:i?i(a[n].value):a[n].value})}})),e.on("mouseleave",(function(t){s.hide()}))}));var c=this.group;c.on("".concat(xv,":click"),(function(){t.isPlay=!t.isPlay,t.changePlayStatus()})),c.on("".concat(Ev,":click"),(function(){t.updateStartEnd(1)})),c.on("".concat(Sv,":click"),(function(){t.updateStartEnd(-1)})),c.on(Cv,(function(e){e.type;var n=e.speed;t.currentSpeed=n}))},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(wv,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(_v,null))},t.prototype.startPlay=function(){var t=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var e=t.currentSpeed;t.frameCount%(60/e)===0&&(t.frameCount=0,t.updateStartEnd(1)),t.frameCount++,t.isPlay&&(t.playHandler=t.startPlay())})):void 0},t.prototype.updateStartEnd=function(t){var e=this,n=this.tickRects,r=n.length,i=this.unselectedTickStyle,o=this.selectedTickStyle,s=e.endTickRectId;if(t>0?e.endTickRectId++:(n[e.endTickRectId].rect.attr(i),e.endTickRectId--),s!==e.startTickRectId)e.endTickRectId<e.startTickRectId&&(e.startTickRectId=e.endTickRectId);else{for(var a=e.startTickRectId;a<=e.endTickRectId-1;a++)n[a].rect.attr(i);e.startTickRectId=e.endTickRectId}if(n[e.endTickRectId]){n[e.endTickRectId].rect.attr(o);var c=e.startTickRectId/r,l=e.endTickRectId/r;this.graph.emit(Av,{value:[c,l]})}},t.prototype.destory=function(){var t=this.sliceGroup;t.off("click"),t.off("dragstart"),t.off("dragover"),t.off("drop"),this.tickRects.forEach((function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")})),this.tickRects.length=0,t.off("".concat(xv,":click")),t.off("".concat(Ev,":click")),t.off("".concat(Sv,":click")),t.off(Cv),this.sliceGroup.destroy()},t}(),Jv=Qv,tb={};function eb(t){return tb[t]}function nb(t,e){tb[t]=e}var rb=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){(0,k.assign)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return(0,k.map)(this.ticks,(function(e,n){return(0,k.isObject)(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return(0,k.isNil)(r)||!(0,k.isFunction)(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){(0,k.assign)(this,this.__cfg__),this.setDomain(),(0,k.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if((0,k.isString)(t)){var n=eb(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else(0,k.isFunction)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return(0,k.isNumber)(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),ib=rb,ob=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return(0,y.__extends)(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=(0,k.isNumber)(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e;return(0,k.isNumber)(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,(0,y.__spreadArrays)([i],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,k.isNil)(this.getConfig("min"))&&(this.min=0),(0,k.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(ib),sb=ob,ab=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,cb="\\d\\d?",lb="\\d\\d",ub="\\d{3}",db="\\d{4}",hb="[^\\s]+",fb=/\[([^]*?)\]/gm;function pb(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var gb=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})),i=r.indexOf(e.toLowerCase());return i>-1?i:null}};function mb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];for(var s in o)t[s]=o[s]}return t}var vb=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bb=["January","February","March","April","May","June","July","August","September","October","November","December"],yb=pb(bb,3),kb=pb(vb,3),wb={dayNamesShort:kb,dayNames:vb,monthNamesShort:yb,monthNames:bb,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},_b=mb({},wb),Ab=function(t){return _b=mb(_b,t)},Cb=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},xb=function(t,e){void 0===e&&(e=2),t=String(t);while(t.length<e)t="0"+t;return t},Eb={D:function(t){return String(t.getDate())},DD:function(t){return xb(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return xb(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return xb(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return xb(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return xb(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return xb(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return xb(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return xb(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return xb(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return xb(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return xb(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+xb(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+xb(Math.floor(Math.abs(e)/60),2)+":"+xb(Math.abs(e)%60,2)}},Sb=function(t){return+t-1},Mb=[null,cb],Ib=[null,hb],Db=["isPm",hb,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],Tb=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],Ob={D:["day",cb],DD:["day",lb],Do:["day",cb+hb,function(t){return parseInt(t,10)}],M:["month",cb,Sb],MM:["month",lb,Sb],YY:["year",lb,function(t){var e=new Date,n=+(""+e.getFullYear()).substr(0,2);return+(""+(+t>68?n-1:n)+t)}],h:["hour",cb,void 0,"isPm"],hh:["hour",lb,void 0,"isPm"],H:["hour",cb],HH:["hour",lb],m:["minute",cb],mm:["minute",lb],s:["second",cb],ss:["second",lb],YYYY:["year",db],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",lb,function(t){return 10*+t}],SSS:["millisecond",ub],d:Mb,dd:Mb,ddd:Ib,dddd:Ib,MMM:["month",hb,gb("monthNamesShort")],MMMM:["month",hb,gb("monthNames")],a:Db,A:Db,ZZ:Tb,Z:Tb},Nb={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Pb=function(t){return mb(Nb,t)},Lb=function(t,e,n){if(void 0===e&&(e=Nb["default"]),void 0===n&&(n={}),"number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=Nb[e]||e;var r=[];e=e.replace(fb,(function(t,e){return r.push(e),"@@@"}));var i=mb(mb({},_b),n);return e=e.replace(ab,(function(e){return Eb[e](t,i)})),e.replace(/@@@/g,(function(){return r.shift()}))};function Bb(t,e,n){if(void 0===n&&(n={}),"string"!==typeof e)throw new Error("Invalid format in fecha parse");if(e=Nb[e]||e,t.length>1e3)return null;var r=new Date,i={year:r.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],s=[],a=e.replace(fb,(function(t,e){return s.push(Cb(e)),"@@@"})),c={},l={};a=Cb(a).replace(ab,(function(t){var e=Ob[t],n=e[0],r=e[1],i=e[3];if(c[n])throw new Error("Invalid format. "+n+" specified twice in format");return c[n]=!0,i&&(l[i]=!0),o.push(e),"("+r+")"})),Object.keys(l).forEach((function(t){if(!c[t])throw new Error("Invalid format. "+t+" is required in specified format")})),a=a.replace(/@@@/g,(function(){return s.shift()}));var u=t.match(new RegExp(a,"i"));if(!u)return null;for(var d,h=mb(mb({},_b),n),f=1;f<u.length;f++){var p=o[f-1],g=p[0],m=p[2],v=m?m(u[f],h):+u[f];if(null==v)return null;i[g]=v}if(1===i.isPm&&null!=i.hour&&12!==+i.hour?i.hour=+i.hour+12:0===i.isPm&&12===+i.hour&&(i.hour=0),null==i.timezoneOffset){d=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var b=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(f=0,b.length);f<y;f++)if(c[b[f][0]]&&i[b[f][0]]!==d[b[f][1]]())return null}else if(d=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return d}var Rb={format:Lb,parse:Bb,defaultI18n:wb,setGlobalDateI18n:Ab,setGlobalDateMasks:Pb},jb=Rb;function zb(t){return function(e,n,r,i){var o=(0,k.isNil)(r)?0:r,s=(0,k.isNil)(i)?e.length:i;while(o<s){var a=o+s>>>1;t(e[a])>n?s=a:o=a+1}return o}}var Fb="format";function Vb(t,e){var n=b[Fb]||jb[Fb];return n(t,e)}function Ub(t){return(0,k.isString)(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),(0,k.isDate)(t)&&(t=t.getTime()),t}var Gb=1e3,Hb=60*Gb,$b=60*Hb,Wb=24*$b,Yb=31*Wb,qb=365*Wb,Xb=[["HH:mm:ss",Gb],["HH:mm:ss",10*Gb],["HH:mm:ss",30*Gb],["HH:mm",Hb],["HH:mm",10*Hb],["HH:mm",30*Hb],["HH",$b],["HH",6*$b],["HH",12*$b],["YYYY-MM-DD",Wb],["YYYY-MM-DD",4*Wb],["YYYY-WW",7*Wb],["YYYY-MM",Yb],["YYYY-MM",4*Yb],["YYYY-MM",6*Yb],["YYYY",380*Wb]];function Kb(t,e,n){var r=(e-t)/n,i=zb((function(t){return t[1]}))(Xb,r)-1,o=Xb[i];return i<0?o=Xb[0]:i>=Xb.length&&(o=(0,k.last)(Xb)),o}var Zb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return(0,y.__extends)(e,t),e.prototype.translate=function(t){t=Ub(t);var e=this.values.indexOf(t);return-1===e&&(e=(0,k.isNumber)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,e):Vb(r,this.mask),r}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;(0,k.each)(e,(function(t,n){e[n]=Ub(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(sb),Qb=Zb,Jb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return(0,y.__extends)(e,t),e.prototype.scale=function(t){if((0,k.isNil)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax(),r=this.max,i=this.min;if(r===i)return e;var o=this.getScalePercent(t);return e+o*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=(0,k.head)(e),r=(0,k.last)(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),(0,k.isNil)(this.minLimit)||(this.min=n),(0,k.isNil)(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=(0,k.getRange)(this.values),e=t.min,n=t.max;(0,k.isNil)(this.min)&&(this.min=e),(0,k.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=(0,k.filter)(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(ib),ty=Jb,ey=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return(0,y.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(ty),ny=ey;function ry(t,e){var n,r=Math.E;return n=e>=0?Math.pow(r,Math.log(e)/t):-1*Math.pow(r,Math.log(-e)/t),n}function iy(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function oy(t,e,n){(0,k.isNil)(n)&&(n=Math.max.apply(null,t));var r=n;return(0,k.each)(t,(function(t){t>0&&t<r&&(r=t)})),r===n&&(r=n/e),r>1&&(r=1),r}var sy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return(0,y.__extends)(e,t),e.prototype.invert=function(t){var e,n=this.base,r=iy(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,s=this.positiveMin;if(s){if(0===t)return 0;e=iy(n,s/n);var a=1/(r-e)*o;if(t<a)return t/a*s}else e=iy(n,this.min);var c=(t-i)/o,l=c*(r-e)+e;return Math.pow(n,l)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=oy(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r,i=this.base,o=this.positiveMin;return o&&(n=1*o/i),r=t<o?t/o/(iy(i,e)-iy(i,n)):(iy(i,t)-iy(i,n))/(iy(i,e)-iy(i,n)),r},e}(ty),ay=sy,cy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return(0,y.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=ry(n,this.max),i=ry(n,this.min),o=e*(r-i)+i,s=o>=0?1:-1;return Math.pow(o,n)*s},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent,i=(ry(r,t)-ry(r,n))/(ry(r,e)-ry(r,n));return i},e}(ty),ly=cy,uy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return(0,y.__extends)(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):Vb(n,this.mask)},e.prototype.scale=function(e){var n=e;return((0,k.isString)(n)||(0,k.isDate)(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return Ub(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if((0,k.isNil)(e)&&(0,k.isNumber)(e)||(this.min=this.translate(this.min)),(0,k.isNil)(n)&&(0,k.isNumber)(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],i=1/0,o=i,s=0;(0,k.each)(t,(function(t){var e=Ub(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");i>e?(o=i,i=e):o>e&&(o=e),s<e&&(s=e),r.push(e)})),t.length>1&&(this.minTickInterval=o-i),(0,k.isNil)(e)&&(this.min=i),(0,k.isNil)(n)&&(this.max=s)}},e}(ny),dy=uy,hy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return(0,y.__extends)(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(i>=n-1)return(0,k.last)(e);if(i<0)return(0,k.head)(e);var o=e[i],s=e[i+1],a=i/(n-1),c=(i+1)/(n-1);return o+(r-a)/(c-a)*(s-o)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||((0,k.last)(e)!==this.max&&e.push(this.max),(0,k.head)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<(0,k.head)(e))return 0;if(t>(0,k.last)(e))return 1;var n=0;return(0,k.each)(e,(function(e,r){if(!(t>=e))return!1;n=r})),n/(e.length-1)},e}(ty),fy=hy,py=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return(0,y.__extends)(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(fy),gy=py,my={};function vy(t){return my[t]}function by(t,e){if(vy(t))throw new Error("type '"+t+"' existed.");my[t]=e}var yy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return(0,y.__extends)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,k.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(ib),ky=yy;function wy(t){var e=t.values,n=t.tickInterval,r=t.tickCount,i=t.showLast;if((0,k.isNumber)(n)){var o=(0,k.filter)(e,(function(t,e){return e%n===0})),s=(0,k.last)(e);return i&&(0,k.last)(o)!==s&&o.push(s),o}var a=e.length,c=t.min,l=t.max;if((0,k.isNil)(c)&&(c=0),(0,k.isNil)(l)&&(l=e.length-1),!(0,k.isNumber)(r)||r>=a)return e.slice(c,l+1);if(r<=0||l<=0)return[];for(var u=1===r?a:Math.floor(a/(r-1)),d=[],h=c,f=0;f<r;f++){if(h>=l)break;h=Math.min(c+f*u,l),f===r-1&&i?d.push(e[l]):d.push(e[h])}return d}function _y(t){var e=t.min,n=t.max,r=t.nice,i=t.tickCount,o=new Sy;return o.domain([e,n]),r&&o.nice(i),o.ticks(i)}var Ay=5,Cy=Math.sqrt(50),xy=Math.sqrt(10),Ey=Math.sqrt(2),Sy=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=Ay);var r,i=this._domain.slice(),o=0,s=this._domain.length-1,a=this._domain[o],c=this._domain[s];return c<a&&(e=[c,a],a=e[0],c=e[1],n=[s,o],o=n[0],s=n[1]),r=Iy(a,c,t),r>0?(a=Math.floor(a/r)*r,c=Math.ceil(c/r)*r,r=Iy(a,c,t)):r<0&&(a=Math.ceil(a*r)/r,c=Math.floor(c*r)/r,r=Iy(a,c,t)),r>0?(i[o]=Math.floor(a/r)*r,i[s]=Math.ceil(c/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[s]=Math.floor(c*r)/r,this.domain(i)),this},t.prototype.ticks=function(t){return void 0===t&&(t=Ay),My(this._domain[0],this._domain[this._domain.length-1],t||Ay)},t}();function My(t,e,n){var r,i,o,s,a=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(s=Iy(t,e,n))||!isFinite(s))return[];if(s>0){t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(i=Math.ceil(e-t+1));while(++a<i)o[a]=(t+a)*s}else{t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(i=Math.ceil(t-e+1));while(++a<i)o[a]=(t-a)/s}return r&&o.reverse(),o}function Iy(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Cy?10:o>=xy?5:o>=Ey?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Cy?10:o>=xy?5:o>=Ey?2:1)}function Dy(t,e,n){var r;return r="ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e),r*e}function Ty(t,e,n){var r=Dy(t,n,"floor"),i=Dy(e,n,"ceil");r=(0,k.fixedBase)(r,n),i=(0,k.fixedBase)(i,n);for(var o=[],s=Math.max((i-r)/(Math.pow(2,12)-1),n),a=r;a<=i;a+=s){var c=(0,k.fixedBase)(a,s);o.push(c)}return{min:r,max:i,ticks:o}}function Oy(t,e,n){var r,i=t.minLimit,o=t.maxLimit,s=t.min,a=t.max,c=t.tickCount,l=void 0===c?5:c,u=(0,k.isNil)(i)?(0,k.isNil)(e)?s:e:i,d=(0,k.isNil)(o)?(0,k.isNil)(n)?a:n:o;if(u>d&&(r=[u,d],d=r[0],u=r[1]),l<=2)return[u,d];for(var h=(d-u)/(l-1),f=[],p=0;p<l;p++)f.push(u+h*p);return f}function Ny(t){var e=t.min,n=t.max,r=t.tickInterval,i=t.minLimit,o=t.maxLimit,s=_y(t);return(0,k.isNil)(i)&&(0,k.isNil)(o)?r?Ty(e,n,r).ticks:s:Oy(t,(0,k.head)(s),(0,k.last)(s))}function Py(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var Ly=[1,5,2,2.5,4,3],By=100*Number.EPSILON;function Ry(t,e){return(t%e+e)%e}function jy(t){return Math.round(1e12*t)/1e12}function zy(t,e,n,r,i,o){var s=(0,k.size)(e),a=(0,k.indexOf)(e,t),c=0,l=Ry(r,o);return(l<By||o-l<By)&&r<=0&&i>=0&&(c=1),1-a/(s-1)-n+c}function Fy(t,e,n){var r=(0,k.size)(e),i=(0,k.indexOf)(e,t),o=1;return 1-i/(r-1)-n+o}function Vy(t,e,n,r,i,o){var s=(t-1)/(o-i),a=(e-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(s/a,a/s)}function Uy(t,e){return t>=e?2-(t-1)/(e-1):1}function Gy(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function Hy(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function $y(){return 1}function Wy(t,e,n,r,i,o){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=Ly),void 0===o&&(o=[.25,.2,.5,.05]);var s=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!==typeof t||"number"!==typeof e||!s)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===s)return{min:t,max:e,ticks:[t]};if(e-t>1e148){var a=n||5,c=(e-t)/a;return{min:t,max:e,ticks:Array(a).fill(null).map((function(e,n){return Py(t+c*n)}))}}var l={score:-2,lmin:0,lmax:0,lstep:0},u=1;while(u<1/0){for(var d=0;d<i.length;d+=1){var h=i[d],f=Fy(h,i,u);if(o[0]*f+o[1]+o[2]+o[3]<l.score){u=1/0;break}var p=2;while(p<1/0){var g=Uy(p,s);if(o[0]*f+o[1]+o[2]*g+o[3]<l.score)break;var m=(e-t)/(p+1)/u/h,v=Math.ceil(Math.log10(m));while(v<1/0){var b=u*h*Math.pow(10,v),y=Hy(t,e,b*(p-1));if(o[0]*f+o[1]*y+o[2]*g+o[3]<l.score)break;var w=Math.floor(e/b)*u-(p-1)*u,_=Math.ceil(t/b)*u;if(w<=_){a=_-w;for(var A=0;A<=a;A+=1){var C=w+A,x=C*(b/u),E=x+b*(p-1),S=b,M=zy(h,i,u,x,E,S),I=Gy(t,e,x,E),D=Vy(p,s,t,e,x,E),T=$y(),O=o[0]*M+o[1]*I+o[2]*D+o[3]*T;O>l.score&&(!r||x<=t&&E>=e)&&(l.lmin=x,l.lmax=E,l.lstep=S,l.score=O)}}v+=1}p+=1}}u+=1}var N=Py(l.lmax),P=Py(l.lmin),L=Py(l.lstep),B=Math.floor(jy((N-P)/L))+1,R=new Array(B);R[0]=Py(P);for(d=1;d<B;d++)R[d]=Py(R[d-1]+L);return{min:Math.min(t,(0,k.head)(R)),max:Math.max(e,(0,k.last)(R)),ticks:R}}function Yy(t){var e=t.min,n=t.max,r=t.tickCount,i=t.nice,o=t.tickInterval,s=t.minLimit,a=t.maxLimit,c=Wy(e,n,r,i).ticks;return(0,k.isNil)(s)&&(0,k.isNil)(a)?o?Ty(e,n,o).ticks:c:Oy(t,(0,k.head)(c),(0,k.last)(c))}function qy(t){var e,n=t.base,r=t.tickCount,i=t.min,o=t.max,s=t.values,a=iy(n,o);if(i>0)e=Math.floor(iy(n,i));else{var c=oy(s,n,o);e=Math.floor(iy(n,c))}for(var l=a-e,u=Math.ceil(l/r),d=[],h=e;h<a+u;h+=u)d.push(Math.pow(n,h));return i<=0&&d.unshift(0),d}function Xy(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var r=n<0?0:Math.round(n);if(0===r)return{max:e,min:t,ticks:[]};var i=1.5,o=.5+1.5*i,s=e-t,a=s/r,c=Math.pow(10,Math.floor(Math.log10(a))),l=c;2*c-a<i*(a-l)&&(l=2*c,5*c-a<o*(a-l)&&(l=5*c,10*c-a<i*(a-l)&&(l=10*c)));for(var u=Math.ceil(e/l),d=Math.floor(t/l),h=Math.max(u*l,e),f=Math.min(d*l,t),p=Math.floor((h-f)/l)+1,g=new Array(p),m=0;m<p;m++)g[m]=Py(f+m*l);return{min:f,max:h,ticks:g}}function Ky(t){var e=t.exponent,n=t.tickCount,r=Math.ceil(ry(e,t.max)),i=Math.floor(ry(e,t.min)),o=Xy(i,r,n).ticks;return o.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))}function Zy(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}function Qy(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(t,e){return t-e})),i=[],o=0;o<e;o++){var s=o/(e-1);i.push(Zy(r,s))}return i}function Jy(t){var e=t.min,n=t.max,r=t.tickCount,i=t.tickInterval,o=t.minLimit,s=t.maxLimit,a=Xy(e,n,r).ticks;return(0,k.isNil)(o)&&(0,k.isNil)(s)?i?Ty(e,n,i).ticks:a:Oy(t,(0,k.head)(a),(0,k.last)(a))}function tk(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickInterval,o=t.tickCount;if(i)o=Math.ceil((n-e)/i);else{i=Kb(e,n,o)[1];var s=(n-e)/i,a=s/o;a>1&&(i*=Math.ceil(a)),r&&i<r&&(i=r)}i=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),i);for(var c=[],l=e;l<n+i;l+=i)c.push(l);return c}function ek(t){var e=wy((0,y.__assign)({showLast:!0},t));return e}function nk(t){return new Date(t).getFullYear()}function rk(t){return new Date(t,0,1).getTime()}function ik(t){return new Date(t).getMonth()}function ok(t,e){var n=nk(t),r=nk(e),i=ik(t),o=ik(e);return 12*(r-n)+(o-i)%12}function sk(t,e){return new Date(t,e,1).getTime()}function ak(t,e){return Math.ceil((e-t)/Wb)}function ck(t,e){return Math.ceil((e-t)/$b)}function lk(t,e){return Math.ceil((e-t)/6e4)}function uk(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickCount,o=t.tickInterval,s=[];o||(o=(n-e)/i,r&&o<r&&(o=r)),o=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),o);var a=nk(e);if(o>qb)for(var c=nk(n),l=Math.ceil(o/qb),u=a;u<=c+l;u+=l)s.push(rk(u));else if(o>Yb){var d=Math.ceil(o/Yb),h=ik(e),f=ok(e,n);for(u=0;u<=f+d;u+=d)s.push(sk(a,u+h))}else if(o>Wb){var p=new Date(e),g=p.getFullYear(),m=p.getMonth(),v=p.getDate(),b=Math.ceil(o/Wb),y=ak(e,n);for(u=0;u<y+b;u+=b)s.push(new Date(g,m,v+u).getTime())}else if(o>$b){p=new Date(e),g=p.getFullYear(),m=p.getMonth(),b=p.getDate();var k=p.getHours(),w=Math.ceil(o/$b),_=ck(e,n);for(u=0;u<=_+w;u+=w)s.push(new Date(g,m,b,k+u).getTime())}else if(o>Hb){var A=lk(e,n),C=Math.ceil(o/Hb);for(u=0;u<=A+C;u+=C)s.push(e+u*Hb)}else{var x=o;x<Gb&&(x=Gb);var E=Math.floor(e/Gb)*Gb,S=Math.ceil((n-e)/Gb),M=Math.ceil(x/Gb);for(u=0;u<S+M;u+=M)s.push(E+u*Gb)}return s.length>=512&&console.warn("Notice: current ticks length("+s.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),s}nb("cat",wy),nb("time-cat",ek),nb("wilkinson-extended",Yy),nb("r-pretty",Jy),nb("time",tk),nb("time-pretty",uk),nb("log",qy),nb("pow",Ky),nb("quantile",Qy),nb("d3-linear",Ny),by("cat",sb),by("category",sb),by("identity",ky),by("linear",ny),by("log",ay),by("pow",ly),by("time",dy),by("timeCat",Qb),by("quantize",fy),by("quantile",gy);var dk=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function hk(t){return(0,k.map)(t,(function(t,e){var n=0===e?"M":"L",r=t[0],i=t[1];return[n,r,i]}))}function fk(t){return hk(t)}function pk(t){if(t.length<=2)return fk(t);var e=[];(0,k.each)(t,(function(t){(0,k.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var n=Lc(e,!1),r=(0,k.head)(t),i=r[0],o=r[1];return n.unshift(["M",i,o]),n}function gk(t,e,n,r){void 0===r&&(r=!0);var i=new ny({values:t}),o=new sb({values:(0,k.map)(t,(function(t,e){return e}))}),s=(0,k.map)(t,(function(t,r){return[o.scale(r)*e,n-i.scale(t)*n]}));return r?pk(s):fk(s)}function mk(t,e,n,r){void 0===r&&(r=5);for(var i=new ny({values:t}),o=new sb({values:(0,k.map)(t,(function(t,e){return e}))}),s=(0,k.map)(t,(function(t,r){return[o.scale(r)*e,n-i.scale(t)*n]})),a=[],c=0;c<s.length;c++){var l=s[c],u={x:l[0],y:l[1],y0:n,size:r},d=yk(u);a.push.apply(a,d)}return kk(a)}function vk(t,e){var n=new ny({values:t}),r=Math.max(0,n.min);return e-n.scale(r)*e}function bk(t,e,n,r){var i=dk([],t,!0),o=vk(r,n);return i.push(["L",e,o]),i.push(["L",0,o]),i.push(["Z"]),i}function yk(t){var e,n,r,i,o=t.x,s=t.y,a=t.y0,c=t.size;(0,k.isArray)(s)?(e=s[0],n=s[1]):(e=a,n=s),(0,k.isArray)(o)?(r=o[0],i=o[1]):(r=o-c/2,i=o+c/2);var l=[{x:r,y:e},{x:r,y:n}];return l.push({x:i,y:n},{x:i,y:e}),l}function kk(t,e){void 0===e&&(e=!0);var n=[],r=t[0];n.push(["M",r.x,r.y]);for(var i=1,o=t.length;i<o;i++)n.push(["L",t[i].x,t[i].y]);return e&&(n.push(["L",r.x,r.y]),n.push(["z"])),n}var wk=function(){return wk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},wk.apply(this,arguments)},_k={stroke:"#C5C5C5",strokeOpacity:.85},Ak={fill:"#CACED4",opacity:.85},Ck=function(){function t(t){var e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r,o=t.width,s=void 0===o?200:o,a=t.height,c=void 0===a?26:a,l=t.smooth,u=void 0===l||l,d=t.isArea,h=void 0!==d&&d,f=t.data,p=void 0===f?[]:f,g=t.lineStyle,m=t.areaStyle,v=t.group,b=t.interval,y=void 0===b?null:b;this.group=v,this.x=n,this.y=i,this.width=s,this.height=c,this.data=p,this.smooth=u,this.isArea=h,this.lineStyle=Object.assign({},_k,g),this.areaStyle=Object.assign({},Ak,m),this.intervalConfig=y,this.renderLine()}return t.prototype.renderLine=function(){var t=this,e=t.x,n=t.y,r=t.width,i=t.height,o=(t.barWidth,t.data),s=t.smooth,a=t.isArea,c=t.lineStyle,l=t.areaStyle,u=this.group.addGroup({name:"trend-group"});if(o){var d=gk(o,r,i,s);if(u.addShape("path",{attrs:wk({path:d},c),name:"trend-line"}),a){var h=bk(d,r,i,o);u.addShape("path",{attrs:wk({path:h},l),name:"trend-area"})}}this.intervalConfig&&u.addShape("path",{attrs:wk({path:mk(this.intervalConfig.data,r,i,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),u.move(e,n)},t.prototype.destory=function(){this.group.destroy()},t}(),xk=Ck,Ek=function(){return Ek=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ek.apply(this,arguments)},Sk={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},Mk={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},Ik=function(){function t(t){var e=t.group,n=t.name,r=t.type,i=t.x,o=void 0===i?0:i,s=t.y,a=void 0===s?0:s,c=t.width,l=void 0===c?2:c,u=t.height,d=void 0===u?24:u,h=t.style,f=void 0===h?{}:h;this.group=e,this.name=n,this.handleType=r,this.x=o,this.y=a,this.width=l,this.height=d,"trend"===r?this.style=Ek(Ek({},Sk),f):"simple"===r&&(this.style=Ek(Ek({},Mk),f)),this.renderHandle()}return t.prototype.setX=function(t){this.setXY(t,void 0)},t.prototype.setY=function(t){this.setXY(void 0,t)},t.prototype.setXY=function(t,e){(0,k.isNumber)(t)&&(this.x=t),(0,k.isNumber)(e)&&(this.y=e),this.updateXY()},t.prototype.renderHandle=function(){var t=this,e=t.width,n=t.height,r=t.style,i=t.name,o=r.fill,s=r.stroke,a=r.radius,c=r.opacity,l=r.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:e,height:n,fill:o,stroke:s,radius:a,opacity:c,cursor:l},name:"".concat(i,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:0,r:2*e,fill:o,stroke:s,radius:a,opacity:c,cursor:l,lineAppendWidth:12},name:"".concat(i,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:n,r:2*e,fill:o,stroke:s,radius:a,opacity:c,cursor:l},name:"".concat(i,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:n/2,r:2*e,fill:o,stroke:s,radius:a,opacity:c,cursor:l,lineWidth:2},name:"".concat(i,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},t.prototype.bindSimpleEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),(function(){var e=t.style.highLightFill;t.topCircle.attr("fill",e)})),this.handleGroup.on("".concat(e,"-handler:mouseleave"),(function(){var e=t.style.fill;t.topCircle.attr("fill",e)}))},t.prototype.bindTrendEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),(function(){var e=t.style.highLightFill;t.verticalLine.attr("fill",e),t.topCircle.attr("fill",e),t.bottomCircle.attr("fill",e)})),this.handleGroup.on("".concat(e,"-handler:mouseleave"),(function(){var e=t.style.fill;t.verticalLine.attr("fill",e),t.topCircle.attr("fill",e),t.bottomCircle.attr("fill",e)}))},t.prototype.show=function(){this.handleGroup.show()},t.prototype.hide=function(){this.handleGroup.hide()},t.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},t}(),Dk=Ik,Tk=function(){return Tk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Tk.apply(this,arguments)},Ok=N,Nk={fill:"#416180",opacity:.05},Pk={fill:"#416180",opacity:.15,radius:5},Lk={fill:"#5B8FF9",opacity:.3,cursor:"grab"},Bk=2,Rk={width:Bk,height:24},jk={textBaseline:"middle",fill:"#000",opacity:.45},zk={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},Fk={lineWidth:1,stroke:"#ccc"},Vk=function(){function t(t){var e=this;this.prevX=0,this.onMouseDown=function(t){return function(n){e.currentHandler=t;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),e.prevX=(0,k.get)(r,"touches.0.pageX",r.pageX);var i=e.canvas.get("container");i.addEventListener("mousemove",e.onMouseMove),i.addEventListener("mouseup",e.onMouseUp),i.addEventListener("mouseleave",e.onMouseUp),i.addEventListener("touchmove",e.onMouseMove),i.addEventListener("touchend",e.onMouseUp),i.addEventListener("touchcancel",e.onMouseUp)}},this.onMouseMove=function(t){t.stopPropagation(),t.preventDefault();var n=(0,k.get)(t,"touches.0.pageX",t.pageX),r=n-e.prevX,i=e.adjustOffsetRange(r/e.width);e.updateStartEnd(i),e.updateUI(),e.prevX=n},this.onMouseUp=function(){e.currentHandler&&(e.currentHandler=void 0);var t=e.canvas.get("container");t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))};var n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,s=t.width,a=void 0===s?100:s,c=t.height,l=t.padding,u=void 0===l?10:l,d=t.trendCfg,h=t.controllerCfg,f=void 0===h?{speed:1}:h,p=t.backgroundStyle,g=void 0===p?{}:p,m=t.foregroundStyle,v=void 0===m?{}:m,b=t.handlerStyle,y=void 0===b?{}:b,w=t.textStyle,_=void 0===w?{}:w,A=t.start,C=void 0===A?0:A,x=t.end,E=void 0===x?1:x,S=t.minText,M=void 0===S?"":S,I=t.maxText,D=void 0===I?"":I,T=t.group,O=t.graph,N=t.canvas,P=t.tick,L=void 0===P?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(t){return t},ticks:[]}:P,B=t.type;this.graph=O,this.canvas=N,this.group=T,this.timeBarType=B,this.x=r,this.y=o,this.width=a,this.height=c,this.padding=u,this.ticks=L.ticks,this.trendCfg=d,this.controllerCfg=f,this.currentSpeed=f.speed||1,this.tickLabelFormatter=L.tickLabelFormatter,"trend"===B?this.backgroundStyle=Tk(Tk({},Nk),g):"simple"===B&&(this.backgroundStyle=Tk(Tk({},Pk),g)),this.foregroundStyle=Tk(Tk({},Lk),v),this.handlerStyle=Tk(Tk({},Rk),y),this.textStyle=Tk(Tk({},jk),_),this.tickLabelStyle=Tk(Tk({},zk),L.tickLabelStyle),this.tickLineStyle=Tk(Tk({},Fk),L.tickLineStyle),this.currentMode=f.defaultTimeType||$v.RANGE,this.start=C,this.end=E,this.minText=M,this.maxText=D,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return t.prototype.update=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.minText,s=t.maxText,a=t.start,c=t.end;this.start=Math.min(1,Math.max(a,0)),this.end=Math.min(1,Math.max(c,0)),(0,k.assign)(this,{x:e,y:n,width:r,height:i,minText:o,maxText:s}),this.updateUI()},t.prototype.setText=function(t,e){this.minTextShape.attr("text",t),this.maxTextShape.attr("text",e)},t.prototype.renderSlider=function(){var t=this,e=this,n=e.width,r=e.height,i=e.timeBarType;if("trend"===i&&(0,k.size)((0,k.get)(this.trendCfg,"data"))){var o=new xk(Tk(Tk({x:this.x,y:this.y,width:n,height:r},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:Tk({x:0,y:0,width:n,height:r},this.backgroundStyle),name:"background"});var a=this.group.addGroup();"trend"===i?(this.minTextShape=a.addShape("text",{attrs:Tk({x:0,y:r/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=a.addShape("text",{attrs:Tk({y:r/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=a.addShape("text",{attrs:Tk({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=a.addShape("text",{attrs:Tk({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Tk({x:0,y:this.y,height:r},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",(function(t){t.target.attr("cursor","grabbing")})),this.foregroundShape.on("mouseup",(function(e){e.target.attr("cursor",t.foregroundStyle.cursor||"grab")}));var c=(0,k.get)(this.handlerStyle,"width",2),l=(0,k.get)(this.handlerStyle,"height",24),u=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new Dk({name:"minHandlerShape",group:u,type:i,x:this.x,y:this.y,width:c,height:l,style:this.handlerStyle});var d=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new Dk({name:"maxHandlerShape",group:d,type:i,x:this.x,y:this.y,width:c,height:l,style:this.handlerStyle});var h=this.ticks,f=n/(h.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach((function(t){t.destroy()}));var p=-1/0,g=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=h.map((function(e,n){var i;t.tickPosList.push(t.x+n*f),t.tickLabelFormatter?(i=t.tickLabelFormatter(e),!(0,k.isString)(i)&&i&&(i=e.date)):i=e.date;var o=t.x+n*f,s=t.y+r+5,a=t.group.addShape("text",{attrs:Tk({x:o,y:s,text:i,fontFamily:t.fontFamily||"Arial, sans-serif"},t.tickLabelStyle),name:"tick-label"});if((0,k.isNumber)(g)&&n!==h.length-1){var c=Ok([1,0,0,0,1,0,0,0,1],[["t",-o,-s],["r",g],["t",o-5,s+2]]);a.attr({textAlign:"left",matrix:c})}0===n?a.attr({textAlign:"left"}):n!==h.length-1&&a.attr({textAlign:"right"});var l=t.group.addShape("line",{attrs:Tk({x1:t.x+n*f,y1:t.y+r+2,x2:t.x+n*f,y2:t.y+r+6},t.tickLineStyle),name:"tick-line"});l.toBack();var u=a.getBBox();return u.minX>p?(a.show(),l.show(),p=u.minX+u.width+10):(a.hide(),l.hide()),a})),this.controllerBtnGroup=new Yv(Tk({group:this.group,x:this.x,y:this.y+r+25,width:n,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),s.move(this.x,this.y),this.bindEvents(),this.currentMode===$v.SINGLE&&(this.minHandlerShape.hide(),this.foregroundShape.hide(),this.minTextShape.hide())},t.prototype.bindEvents=function(){var t=this,e=this.group.find((function(t){return"minHandlerShape"===t.get("name")}));e&&(e.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),e.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find((function(t){return"maxHandlerShape"===t.get("name")}));n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(xv,":click"),(function(){t.isPlay=!t.isPlay,t.currentHandler=t.maxHandlerShape,t.changePlayStatus()})),this.group.on("".concat(Ev,":click"),(function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(.01),t.updateUI()})),this.group.on("".concat(Sv,":click"),(function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(-.01),t.updateUI()})),this.group.on(Cv,(function(e){var n=e.type,r=e.speed;t.currentSpeed=r,t.currentMode=n,n===$v.SINGLE?(t.minHandlerShape.hide(),t.foregroundShape.hide(),t.minTextShape.hide()):n===$v.RANGE&&(t.minHandlerShape.show(),t.foregroundShape.show(),t.minTextShape.show())}))},t.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1;return 0},t.prototype.adjustOffsetRange=function(t){switch(this.currentHandler){case this.minHandlerShape:var e=0-this.start,n=1-this.start;return Math.min(n,Math.max(e,t));case this.maxHandlerShape:e=0-this.end,n=1-this.end;return Math.min(n,Math.max(e,t));case this.foregroundShape:e=0-this.start,n=1-this.end;return Math.min(n,Math.max(e,t));default:return 0}},t.prototype.updateStartEnd=function(t){var e=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):null===e||void 0===e?void 0:e.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):null===n||void 0===n?void 0:n.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=t,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=t,this.end+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;default:break}},t.prototype.updateUI=function(){var t=this;this.start<0&&(this.start=0),this.start>1&&(this.start=1),this.end>1&&(this.end=1),this.end<0&&(this.end=0);var e=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",e),this.foregroundShape.attr("width",n-e);var r=(0,k.get)(this.handlerStyle,"width",Bk);this.setText(this.minText,this.maxText);var i=this.dodgeText([e,n]),o=i[0],s=i[1];this.minHandlerShape.setX(e-r/2),(0,k.each)(o,(function(e,n){return t.minTextShape.attr(n,e)})),this.maxHandlerShape.setX(n-r/2),(0,k.each)(s,(function(e,n){return t.maxTextShape.attr(n,e)})),this.currentMode===$v.RANGE?this.graph.emit(Av,{value:[this.start,this.end].sort()}):this.currentMode===$v.SINGLE&&this.graph.emit(Av,{value:[this.end,this.end]})},t.prototype.dodgeText=function(t){var e,n,r=2,i=(0,k.get)(this.handlerStyle,"width",Bk),o=this.minTextShape,s=this.maxTextShape,a=t[0],c=t[1],l=!1;a>c&&(e=[c,a],a=e[0],c=e[1],n=[s,o],o=n[0],s=n[1],l=!0);var u=o.getBBox(),d=s.getBBox(),h=null,f=null;return"trend"===this.timeBarType?(h=a-u.width<this.x+r?{x:a+i/2+r,textAlign:"left"}:{x:a-i/2-r,textAlign:"right"},f=c+d.width>this.x+this.width?{x:c-i/2-r,textAlign:"right"}:{x:c+i/2+r,textAlign:"left"}):"simple"===this.timeBarType&&(h=o.attr("x")>u.width?{x:a,textAlign:"center"}:{x:a,textAlign:"left"},f=s.attr("x")>this.width-d.width?{x:c,textAlign:"right"}:{x:c,textAlign:"center"}),l?[f,h]:[h,f]},t.prototype.startPlay=function(){var t=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var e=t,n=e.ticks,r=e.width,i=t.currentSpeed,o=r/n.length,s=o/(1e3*(10-i)/60),a=t.adjustOffsetRange(s/t.width);t.updateStartEnd(a),t.updateUI(),t.isPlay&&(t.playHandler=t.startPlay())})):void 0},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(wv,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(_v,null))},t.prototype.destory=function(){this.graph.off(Av,(function(){}));var t=this.group,e=t.find((function(t){return"minHandlerShape"===t.get("name")}));e&&(e.off("minHandlerShape-handler:mousedown"),e.off("minHandlerShape-handler:touchstart"),e.destroy());var n=t.find((function(t){return"maxHandlerShape"===t.get("name")}));n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),t.off("".concat(xv,":click")),t.off("".concat(Ev,":click")),t.off("".concat(Sv,":click")),t.off(Cv),t.destroy(),this.trendComponent&&this.trendComponent.destory()},t}(),Uk=Vk,Gk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hk=function(){return Hk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Hk.apply(this,arguments)},$k=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Wk=4,Yk=26,qk=function(t){function e(e){var n=t.call(this,e)||this;return n.afterrenderListener=function(t){return n.filterData({})},n.valueChangeListener=(0,k.throttle)((function(t){return n.filterData(t)}),200,{trailing:!0,leading:!0}),n.changeData=function(t){var e=n.get("graph");n.cacheGraphData=e.get("data"),n.filterData({})},n}return Gk(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{},putInGraphContainer:!0}},e.prototype.initContainer=function(){var t,e,n=this.get("graph"),r=this._cfgs,i=r.width,o=r.height,s=r.putInGraphContainer,a=this.get("className")||"g6-component-timebar",c=this.get("container");if(c?((0,k.isString)(c)&&(c=document.getElementById(c)),t=c):(t=_m("<div class='".concat(a,"'></div>")),Nm(t,{position:"relative"})),s){var l=this.get("graph").get("container");l.appendChild(t)}this.set("timeBarContainer",t);var u=n.get("renderer");e="SVG"===u?new fp({container:t,width:i,height:o}):new Jh({container:t,width:i,height:o}),this.get("containerCSS")&&Nm(t,this.get("containerCSS")),this.set("canvas",e)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent();var n="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",n)},e.prototype.play=function(){this.togglePlay(!0)},e.prototype.pause=function(){this.togglePlay(!1)},e.prototype.togglePlay=function(t){var e=this.get("timebar");e&&(e.isPlay=!!t,e.changePlayStatus())},e.prototype.renderTrend=function(){var t=this,e=this._cfgs,n=e.width,r=e.x,i=e.y,o=e.padding,s=e.type,a=e.trend,c=e.slider,l=e.controllerCfg,u=e.textStyle,d=e.tick,h=e.backgroundStyle,f=e.foregroundStyle,p=a.data,g=$k(a,["data"]),m=n-2*o,v="trend"===s?Yk:Wk,b=this.get("graph"),y=this.get("timeBarGroup"),k=this.get("canvas"),w=null;if("trend"===s||"simple"===s){var _=this.get("getValue");w=new Uk(Hk(Hk({graph:b,canvas:k,group:y,type:s,x:r+o,y:"trend"===s?i+o:i+o+15,width:m,height:v,padding:o,backgroundStyle:h,foregroundStyle:f,trendCfg:Hk(Hk({},g),{data:p.map((function(t){return(null===_||void 0===_?void 0:_(t))||t.value}))})},c),{tick:{ticks:p,tickLabelFormatter:d.tickLabelFormatter,tickLabelStyle:d.tickLabelStyle,tickLineStyle:d.tickLineStyle},handlerStyle:Hk(Hk({},c.handlerStyle),{height:c.height||v}),controllerCfg:l,textStyle:u}))}else"tick"===s&&(w=new Jv(Hk({graph:b,canvas:k,group:y,x:r+o,y:i+o,width:n,height:42,padding:2,controllerCfg:l},d)));var A=function e(){var n=t.get("timebar");n.draggingHandler=!1,n.isPlay&&(n.isPlay=!1,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()),document.removeEventListener("mouseup",e)};k.on("mousedown",(function(t){"maxHandlerShape-handler"!==t.target.get("name")&&"minHandlerShape-handler"!==t.target.get("name")&&t.target!==w.foregroundShape||document.addEventListener("mouseup",A)})),this.set("timebar",w)},e.prototype.filterData=function(t){var e,n=t.value;if(!n){n=[];var r=this._cfgs.type;r&&"trend"!==r&&"simple"!==r?"tick"===r&&(n[0]=this._cfgs.tick.start,n[1]=this._cfgs.tick.end):(n[0]=this._cfgs.slider.start,n[1]=this._cfgs.slider.end)}var i=null,o=this._cfgs.type;if("trend"===o||"simple"===o?i=this._cfgs.trend.data:"tick"===o&&(i=this._cfgs.tick.data),i&&0!==i.length){var s=this.get("rangeChange"),a=this.get("graph"),c=Math.round(i.length*n[0]),l=Math.round(i.length*n[1]);l=l>=i.length?i.length-1:l,c=c>=i.length?i.length-1:c;var u=null===(e=this._cfgs.tick)||void 0===e?void 0:e.tickLabelFormatter,d=u?u(i[c]):i[c].date,h=u?u(i[l]):i[l].date;if("tick"!==o){var f=this.get("timebar");f.setText(d,h)}if(s)s(a,d,h);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=a.get("data"));var p=this.get("filterItemTypes"),g=this.get("changeData"),m=this.get("getDate"),v=this.get("shouldIgnore"),b=i[c].date,y=i[l].date;if(g||void 0===g){var k=this.cacheGraphData.nodes,w=this.cacheGraphData.edges,_={},A={};a.getNodes().forEach((function(t){return _[t.getID()]=!0})),a.getEdges().forEach((function(t){return A[t.getID()]=!0})),p.includes("node")&&(null===k||void 0===k||k.forEach((function(t){var e=+((null===m||void 0===m?void 0:m(t))||t.date),n=e>=b&&e<=y||(null===v||void 0===v?void 0:v("node",t,{min:b,max:y})),r=_[t.id];r&&!n?(a.removeItem(t.id),_[t.id]=!1):!r&&n&&(a.addItem("node",t),_[t.id]=!0)})),null===w||void 0===w||w.forEach((function(t){var e=_[t.source]&&_[t.target]||(null===v||void 0===v?void 0:v("edge",t,{min:b,max:y})),n=!!a.findById(t.id);n&&!e?(a.removeItem(t.id),A[t.id]=!1):!n&&e?(a.addItem("edge",t),A[t.id]=!0):n||(A[t.id]=!1)}))),(this.get("filterEdge")||p.includes("edge"))&&(null===w||void 0===w||w.filter((function(t){var e=+((null===m||void 0===m?void 0:m(t))||t.date),n=e>=b&&e<=y||(null===v||void 0===v?void 0:v("edge",t,{min:b,max:y})),r=_[t.source]&&_[t.target],i=n&&r,o=A[t.id];o&&!i?(A[t.id]=!1,a.removeItem(t.id)):!o&&i&&(A[t.id]=!0,a.addItem("edge",t))})))}else p.includes("node")&&a.getNodes().forEach((function(t){var e=t.getModel();if(!(null===v||void 0===v?void 0:v("node",e,{min:b,max:y}))){var n=+((null===m||void 0===m?void 0:m(e))||e.date);n<b||n>y?a.hideItem(t):a.showItem(t)}})),(this.get("filterEdge")||p.includes("edge"))&&a.getEdges().forEach((function(t){var e=t.getModel();if(!(null===v||void 0===v?void 0:v("edge",e,{min:i[c].date,max:i[l].date}))){var n=+((null===m||void 0===m?void 0:m(e))||e.date);if(n<i[c].date||n>i[l].date)a.hideItem(t);else{var r=t.getSource().isVisible(),o=t.getTarget().isVisible();r&&o&&a.showItem(t)}}}))}}else console.warn("请配置 TimeBar 组件的数据")},e.prototype.initEvent=function(){var t=this.get("graph");t.on("afterchangedata",this.changeData),t.on("afterrender",this.afterrenderListener),t.on(Av,this.valueChangeListener)},e.prototype.destroy=function(){var e=this.get("graph");e.off("afterchangedata",this.changeData),e.off("afterrender",this.afterrenderListener),e.off(Av,this.valueChangeListener);var n=this.get("timebar");n&&n.destory&&n.destory(),t.prototype.destroy.call(this);var r=this.get("timeBarContainer");if(r){var i=this.get("container");i||(i=this.get("graph").get("container")),(0,k.isString)(i)&&(i=document.getElementById(i)),i===r&&(i=i.parentElement),i.removeChild(r)}},e}(Lm),Xk=qk,Kk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zk=sd.applyMatrix;function Qk(t,e){var n,r;if(t.naturalWidth)n=t.naturalWidth,r=t.naturalHeight;else{var i=new Image;i.src=t.src,i.onload=function(){e&&e(i.width,i.height)}}return[n,r]}var Jk=function(t){function e(e){return t.call(this,e)||this}return Kk(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var r=this.get("container");(0,k.isString)(r)&&(r=document.getElementById(r));var i=_m("<div class=".concat(e.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff;\n        cursor:move'\n      </div>")),o=0,s=0,a=!1,c=0,l=0,u=0,d=0,h=0,f=0;r.addEventListener("mousedown",(function(r){if(e.refresh=!1,r.target===i){var c=i.style;u=parseInt(c.width,10),d=parseInt(c.height,10);var l=t.get("width"),p=t.get("height");u>l||d>p||(f=n.getZoom(),h=t.get("ratio"),a=!0,o=r.clientX,s=r.clientY)}}),!1),r.addEventListener("mousemove",(function(e){if(a&&!(0,k.isNil)(e.clientX)&&!(0,k.isNil)(e.clientY)){var r=t.get("width"),p=t.get("height"),g=i.style;c=parseInt(g.left,10),l=parseInt(g.top,10),u=parseInt(g.width,10),d=parseInt(g.height,10);var m=o-e.clientX,v=s-e.clientY;c-m<0?m=c:c-m+u>=r&&(m=0),l-v<0?v=l:l-v+d>=p&&(v=0),c-=m,l-=v,Nm(i,{left:"".concat(c,"px"),top:"".concat(l,"px")}),n.translate(m*f/h,v*f/h),o=e.clientX,s=e.clientY}}),!1),r.addEventListener("mouseleave",(function(){a=!1,e.refresh=!0}),!1),r.addEventListener("mouseup",(function(){a=!1,e.refresh=!0}),!1),this.set("viewport",i),r.appendChild(i)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),r=this.get("graph"),i=r.get("width"),o=r.get("height"),s=i/o,a=r.getGroup(),c=a.getCanvasBBox(),l=[(c.minX+c.maxX)/2,(c.minY+c.maxY)/2],u=[c.maxX-c.minX,c.maxY-c.minY],d={centerX:l[0],centerY:l[1],width:0,height:0,minX:0,minY:0};c[0]/c[1]>s?(d.width=u[0],d.height=d.width/s):(d.height=u[1],d.width=d.height*s),d.minX=l[0]-d.width/2,d.minY=l[1]-d.height/2;var h=a.getMatrix();h||(h=[1,0,0,0,1,0,0,0,1]);var f=M.invert([1,0,0,0,1,0,0,0,1],h),p=Zk({x:d.minX,y:d.minY},f),g=r.getCanvasByPoint(p.x,p.y),m=this.get("viewport");m||this.initViewport();var v=i/d.width,b=v*e,y=v*n,k=e*-g.x/d.width,w=n*-g.y/d.height,_=k+b,A=w+y;k<0&&(b+=k,k=0),_>e&&(b-=_-e),w<0&&(y+=w,w=0),A>n&&(y-=A-n),this.set("ratio",t);var C="".concat(k,"px"),x="".concat(w,"px");Nm(m,{left:C,top:x,width:"".concat(b,"px"),height:"".concat(y,"px")})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),r=e.get("height"),i=r/n,o=t.get("className"),s=t.get("container"),a=t.get("width"),c=t.get("height");a||c||(a=200),a?(c=i*a,t.set("height",c)):(a=1/i*c,t.set("width",a));var l=_m("<div class='".concat(o,"' style='width: ").concat(a,"px; height: ").concat(c,"px; overflow: hidden; position: relative;'></div>"));(0,k.isString)(s)&&(s=document.getElementById(s)),s?s.appendChild(l):e.get("container").appendChild(l),t.set("container",l);var u=_m('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');l.appendChild(u);var d=_m('<span style="display: table-cell; vertical-align: middle; "></span>');u.appendChild(d),t.set("containerDOM",u),t.set("containerSpan",d);var h=_m('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));t.set("imgDOM",h),t.updateImgSize(),d.appendChild(h),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),r=t.get("height");e.onload=function(){var t=Qk(e);t[0]>t[1]?e.width=n:e.height=r}},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),r=e.get("canvas").getCanvasBBox(),i=r.width,o=n/i;this.set("ratio",o),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var r=_m('<img alt="" src="'.concat(t,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));e.set("imgDOM",r),r.src=t,e.updateImgSize();var i=e.get("containerSpan");i.appendChild(r),e.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(Lm),tw=Jk,ew=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nw=function(){return nw=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},nw.apply(this,arguments)},rw=sd.distance,iw=.05,ow={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},sw=function(t){function e(e){return t.call(this,e)||this}return ew(e,t),e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,k.clone)(ow),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},e.prototype.init=function(){var t=this,e=t.get("showLabel"),n="node"===e||"both"===e,r="edge"===e||"both"===e;t.set("showNodeLabel",n),t.set("showEdgeLabel",r);var i=t.get("shouldShow");i||t.set("shouldShow",(function(){return!0}))},e.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");n&&!n.destroyed||(e.filter(t),n=e.get("delegate"),n.on("dragstart",(function(t){})),n.on("drag",(function(t){e.filter(t)})),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",(function(t){e.scaleRByWheel(t)})))},e.prototype.scaleRByWheel=function(t){var e=this;if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var n,r=e.get("graph"),i=e.get("delegate"),o=i?{x:i.attr("x"),y:i.attr("y")}:void 0;o||r.getPointByClient(t.clientX,t.clientY);n=t.originalEvent.wheelDelta<0?1-iw:1/(1-iw);var s=e.get("maxR"),a=e.get("minR"),c=e.get("r");(c>(s||r.get("height"))&&n>1||c<(a||.05*r.get("height"))&&n<1)&&(n=1),c*=n,e.set("r",c),e.filter(t)}},e.prototype.filter=function(t){var e=this,n=e.get("graph"),r=n.getNodes(),i={},o=e.get("r"),s=e.get("type"),a={x:t.x,y:t.y};e.updateDelegate(a,o);var c=e.get("shouldShow"),l=e.get("vShapes");l&&l.forEach((function(t){t.remove(),t.destroy()})),l=[],r.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y;rw({x:n,y:r},a)<o&&(i[e.id]=t)}));var u=n.getEdges(),d=[];u.forEach((function(t){var e=t.getModel(),n=e.source,r=e.target;c(e)&&("only-source"===s||"one"===s?i[n]&&!i[r]&&d.push(t):"only-target"===s||"one"===s?i[r]&&!i[n]&&d.push(t):"both"===s&&i[n]&&i[r]&&d.push(t))}));var h=e.get("showNodeLabel"),f=e.get("showEdgelabel"),p=n.get("group");d.forEach((function(t){var e=t.get("group").get("children");e.forEach((function(t){var e=t.get("type"),n=p.addShape(e,{attrs:t.attr()});l.push(n),h&&"text"===e&&n.set("visible",!0)}))})),Object.keys(i).forEach((function(t){var e=i[t],n=e.get("group").clone();if(p.add(n),l.push(n),f)for(var r=n.get("children"),o=0;o<r.length;o++){var s=r[o];"text"===s.get("type")&&s.set("visible",!0)}})),e.set("vShapes",l)},e.prototype.updateParams=function(t){var e=this,n=t.r,r=t.trigger,i=t.minR,o=t.maxR,s=t.scaleRBy,a=t.showLabel,c=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(o)||e.set("maxR",o),isNaN(i)||e.set("minR",i),"mousemove"!==r&&"click"!==r||e.set("trigger",r),"wheel"===s||"unset"===s){e.set("scaleRBy",s),e.get("delegate").remove(),e.get("delegate").destroy();var l=e.get("dPercentText");l&&(l.remove(),l.destroy())}"node"!==a&&"both"!==a||e.set("showNodeLabel",!0),"edge"!==a&&"both"!==a||e.set("showEdgeLabel",!0),c&&e.set("shouldShow",c)},e.prototype.updateDelegate=function(t,e){var n=this,r=n.get("graph"),i=n.get("delegate");if(!i||i.destroyed){var o=r.get("group"),s=n.get("delegateStyle")||ow;i=o.addShape("circle",{attrs:nw({r:e,x:t.x,y:t.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&i.on("mousewheel",(function(t){n.scaleRByWheel(t)}))}else i.attr({x:t.x,y:t.y,r:e});n.set("delegate",i)},e.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach((function(t){t.remove(),t.destroy()})),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Lm),aw=sw,cw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lw=sd.pointLineDistance,uw={stroke:"#FA8C16",lineWidth:1},dw=function(t){function e(e){return t.call(this,e)||this}return cw(e,t),e.prototype.getDefaultCfgs=function(){return{line:uw,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},e.prototype.init=function(){},e.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},e.prototype.onDragStart=function(){this.initBoxLine()},e.prototype.onDrag=function(t){var e=t.item,n=e.get("delegateShape")||e,r=n.getBBox(),i=e.getModel(),o=i.x-r.x,s=i.y-r.y;this.show({x:r.minX+o,y:r.minY+s},{width:r.width,height:r.height})},e.prototype.onDragEnd=function(){this.destory()},e.prototype.initBoxLine=function(){var t=this._cfgs,e=t.horizontalLines,n=t.verticalLines,r=t.itemAlignType,i=this.get("graph"),o=i.getNodes();o.forEach((function(t){var i=t.getBBox(),o=t.get("id");!0===r||"horizontal"===r?(e["".concat(o,"tltr")]=[i.minX,i.minY,i.maxX,i.minY,t],e["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,t],e["".concat(o,"blbr")]=[i.minX,i.maxY,i.maxX,i.maxY,t]):"center"===r&&(e["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,t]),!0===r||"vertical"===r?(n["".concat(o,"tlbl")]=[i.minX,i.minY,i.minX,i.maxY,t],n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,t],n["".concat(o,"trbr")]=[i.maxX,i.minY,i.maxX,i.maxY,t]):"center"===r&&(n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,t])}))},e.prototype.show=function(t,e){var n=(0,k.mix)({},t);return this.itemAlign(t,e,n),t},e.prototype.itemAlign=function(t,e,n){var r=this,i=this._cfgs,o=i.horizontalLines,s=i.verticalLines,a=i.tolerance,c={x:n.x+e.width/2,y:n.y},l={x:n.x+e.width/2,y:n.y+e.height/2},u={x:n.x+e.width/2,y:n.y+e.height},d={x:n.x,y:n.y+e.height/2},h={x:n.x+e.width,y:n.y+e.height/2},f=[],p=[],g=null;if(this.clearAlignLine(),(0,k.each)(o,(function(t){t[4].isVisible&&(f.push(r.getLineDisObject(t,c)),f.push(r.getLineDisObject(t,l)),f.push(r.getLineDisObject(t,u)))})),(0,k.each)(s,(function(t){t[4].isVisible&&(p.push(r.getLineDisObject(t,d)),p.push(r.getLineDisObject(t,l)),p.push(r.getLineDisObject(t,h)))})),f.sort((function(t,e){return t.dis-e.dis})),p.sort((function(t,e){return t.dis-e.dis})),0!==f.length&&f[0].dis<a){t.y=f[0].line[1]-f[0].point.y+n.y,g={type:"item",horizontals:[f[0]]};for(var m=1;m<3;m++)f[0].dis===f[m].dis&&g.horizontals.push(f[m])}if(0!==p.length&&p[0].dis<a){t.x=p[0].line[0]-p[0].point.x+n.x,g?g.verticals=[p[0]]:g={type:"item",verticals:[p[0]]};for(m=1;m<3;m++)p[0].dis===p[m].dis&&g.verticals.push(p[m])}g&&(g.bbox=e,this.addAlignLine(g))},e.prototype.addAlignLine=function(t){var e=t.bbox,n=t.type,r=t.horizontals,i=t.verticals,o=this._cfgs,s=o.line,a=o.alignLines,c=this.get("graph"),l=c.get("group");"item"===n&&(r&&(0,k.each)(r,(function(t){var n,r,i=t.line,o=t.point,c=(i[0]+i[2])/2;o.x<c?(n=o.x-e.width/2,r=Math.max(i[0],i[2])):(n=o.x+e.width/2,r=Math.min(i[0],i[2]));var u=(0,k.mix)({x1:n,y1:i[1],x2:r,y2:i[1]},s),d=l.addShape("line",{attrs:u,capture:!1});a.push(d)})),i&&(0,k.each)(i,(function(t){var n,r,i=t.line,o=t.point,c=(i[1]+i[3])/2;o.y<c?(n=o.y-e.height/2,r=Math.max(i[1],i[3])):(n=o.y+e.height/2,r=Math.min(i[1],i[3]));var u=(0,k.mix)({x1:i[0],y1:n,x2:i[0],y2:r},s),d=l.addShape("line",{attrs:u,capture:!1});a.push(d)})))},e.prototype.getLineDisObject=function(t,e){return{line:t,point:e,dis:lw(t,e)}},e.prototype.getContainer=function(){return this.get("container")},e.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;(0,k.each)(t,(function(t){t.remove()})),t.length=0},e.prototype.destory=function(){var t=this._cfgs,e=t.horizontalLines,n=t.verticalLines,r=this.get("graph"),i=r.getNodes();i.forEach((function(t){var r=t.get("id");delete e["".concat(r,"tltr")],delete e["".concat(r,"lcrc")],delete e["".concat(r,"blbr")],delete n["".concat(r,"tlbl")],delete n["".concat(r,"tcbc")],delete n["".concat(r,"trbr")]})),this.clearAlignLine()},e}(Lm),hw=dw,fw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pw=function(){return pw=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},pw.apply(this,arguments)},gw=["click","mouseenter"],mw=function(t){function e(e){return t.call(this,e)||this}return fw(e,t),e.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},e.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{},e=t.multiple;e&&"mouseenter"===t.trigger&&this.set("multiple",!1);var n=this.get("align");if(!n){var r=this.get("position").split("-");r.includes("left")&&(n="left"),n=r.includes("right")?"right":"center",this.set("align",n)}var i=this.get("graph"),o=i.get("container"),s=_m("<div class='g6-legend-container' style=\"position: absolute;\"></div>");o.appendChild(s),this.set("container",s);var a=this.render();Nm(s,this.getContainerPos(a)),this.bindEvents()},e.prototype.getContainerPos=function(t){void 0===t&&(t=[0,0]);var e=this,n=e.get("graph"),r=this.get("offsetX"),i=this.get("offsetY"),o=this.get("margin"),s=this.get("position").split("-"),a={top:0,right:1,bottom:2,left:3},c=0,l=0,u={left:(n.getWidth()-t[0])/2+c,top:(n.getHeight()-t[1])/2+l};return s.forEach((function(e){var r=o[a[e]],i=e;switch(e){case"top":r+=l;break;case"left":r+=c;break;case"bottom":r=n.getHeight()-t[1]-r+l,i="top";break;default:r=n.getWidth()-t[0]-r+c,i="left";break}u[i]=r})),u.top+=i+n.getContainer().offsetTop,u.left+=r+n.getContainer().offsetLeft,Object.keys(u).forEach((function(t){u[t]="".concat(u[t],"px")})),u},e.prototype.bindEvents=function(){var t=this,e=t.get("filter");if(e&&e.enable){var n=e.trigger||"click";gw.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var r=t.get("legendCanvas");"mouseenter"===n?(r.on("node-container:mouseenter",(function(e){return t.filterData(e)})),r.on("node-container:mouseleave",(function(e){t.clearFilter(),t.clearActiveLegend()}))):(r.on("node-container:click",(function(e){return t.filterData(e)})),r.on("click",(function(e){e.target&&e.target.isCanvas&&e.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())})))}},e.prototype.changeData=function(t){this.set("data",t);var e=this.render();Nm(this.get("container"),this.getContainerPos(e))},e.prototype.activateLegend=function(t){var e=this.get("filter"),n=null===e||void 0===e?void 0:e.multiple;n||this.clearActiveLegend();var r=t.get("parent");r.get("active")?(r.set("active",!1),this.findLegendItemsByState("active").length&&r.set("inactive",!0)):(r.set("inactive",!1),r.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach((function(t){t.set("inactive",!0)})):this.clearActiveLegend();var i=(null===e||void 0===e?void 0:e.legendStateStyles)||{},o=(null===i||void 0===i?void 0:i.inactive)||{opacity:.5,"text-shape":{opacity:.5}},s=o["text-shape"]||{};this.findLegendItemsByState("inactive").forEach((function(t){var e=t.get("children"),n=e[0],r=e[1];n.attr(pw(pw({},n.get("oriAttrs")),o)),r.attr(pw(pw({},r.get("oriAttrs")),s))}));var a=(null===i||void 0===i?void 0:i.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},c=a["text-shape"]||{};this.findLegendItemsByState("active").forEach((function(t){var e=t.get("children"),n=e[0],r=e[1];n.attr(pw(pw({},n.get("oriAttrs")),a)),r.attr(pw(pw({},r.get("oriAttrs")),c))}))},e.prototype.findLegendItemsByState=function(t,e,n){void 0===e&&(e="all"),void 0===n&&(n=!0);var r=this.get("legendCanvas").find((function(t){return"root"===t.get("name")})),i=r.find((function(t){return"node-group"===t.get("name")})),o=r.find((function(t){return"edge-group"===t.get("name")}));return"node"===e?i.get("children").filter((function(e){return!!e.get(t)===n})):"edge"===e?o.get("children").filter((function(e){return!!e.get(t)===n})):i.get("children").filter((function(e){return!!e.get(t)===n})).concat(o.get("children").filter((function(e){return!!e.get(t)===n})))},e.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas"),e=t.find((function(t){return"root"===t.get("name")})),n=[e.find((function(t){return"node-group"===t.get("name")})),e.find((function(t){return"edge-group"===t.get("name")}))];n.forEach((function(t){t.get("children").forEach((function(t){t.set("active",!1),t.set("inactive",!1);var e=t.get("children"),n=e[0],r=e[1];n.attr(n.get("oriAttrs")),r.attr(r.get("oriAttrs"))}))}))},e.prototype.filterData=function(t){var e=this.get("filter"),n=null===e||void 0===e?void 0:e.filterFunctions;if(e&&n){var r=this.get("legendCanvas"),i=this.get("graph"),o=e.graphActiveState||"active",s=e.graphInactiveState||"inactive",a=e.multiple;this.clearFilter(),a||this.clearActiveLegend(),this.activateLegend(t.target);var c=r.find((function(t){return"root"===t.get("name")})),l=c.find((function(t){return"node-group"===t.get("name")})),u=c.find((function(t){return"edge-group"===t.get("name")})),d=l.get("children").filter((function(t){return t.get("active")})),h=u.get("children").filter((function(t){return t.get("active")})),f=0,p=["getNodes","getEdges"];p.forEach((function(t){i[t]().forEach((function(e){var r=!1,a="getNodes"===t?d:h;a.forEach((function(t){var i=n[t.get("id")];r=r||i(e.getModel())})),r?(i.setItemState(e,s,!1),i.setItemState(e,o,!0),f++):(i.setItemState(e,o,!1),i.setItemState(e,s,!0))}))})),f||p.forEach((function(t){i[t]().forEach((function(t){i.clearItemStates(t,[s])}))}))}},e.prototype.clearFilter=function(){var t=this.get("graph"),e=this.get("filter");if(e){var n=e.graphActiveState||"active",r=e.graphInactiveState||"inactive";t.getNodes().forEach((function(e){t.clearItemStates(e,[n,r])})),t.getEdges().forEach((function(e){t.clearItemStates(e,[n,r])}))}},e.prototype.render=function(){var t=this;this.processData();var e=this.get("legendCanvas");e?e.clear():e=new Jh({container:this.get("container"),width:200,height:200});var n=e.addGroup({name:"root"}),r=n.addGroup({name:"node-group"}),i=n.addGroup({name:"edge-group"});this.set("legendCanvas",e);var o=this.get("itemsData"),s=["nodes","edges"],a=[r,i];s.forEach((function(e,n){o[e].forEach((function(r){var i,o,s=a[n].addGroup({id:r.id,name:"node-container"}),c=r.type,l=t.getShapeSize(r),u=l.width,d=l.height,h=l.r,f=t.getStyle(e.substr(0,4),r);switch(r.type){case"circle":o={r:h,x:0,y:0};break;case"rect":o={width:u,height:d,x:-u/2,y:-d/2};break;case"ellipse":o={rx:u,ry:d,x:0,y:0},c="ellipse";break;case"line":o={x1:-u/2,y1:0,x2:u/2,y2:0},c="line";break;case"quadratic":o={path:[["M",-u/2,0],["Q",0,u/2,u/2,0]]},c="path";break;case"cubic":o={path:[["M",-u/2,0],["C",-u/6,u/2,u/6,-u/2,u/2,0]]},c="path";break;case"diamond":o={path:[["M",0,-d],["L",u,0],["L",0,d],["L",-u,0],["Z"]]},c="path";break;case"triangle":o={path:[["M",-u,d],["L",0,-d],["L",u,d],["Z"]]},c="path";break;case"star":o={path:sd.getStarPath(3*h,1.2*h)},c="path";break;default:o={r:h,x:0,y:0};break}var p=s.addShape(c,{attrs:pw(pw({},o),f),name:"".concat(r.type,"-node-keyShape"),oriAttrs:pw({opacity:1},f)});if(r.label){var g=p.getBBox(),m=(null===(i=r.labelCfg)||void 0===i?void 0:i.style)||{},v=pw({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},m);s.addShape("text",{attrs:pw({x:g.maxX+4,y:0,text:r.label},v),className:"legend-label",name:"".concat(r.type,"-node-text"),oriAttrs:v})}}))}));var c,l=this.get("padding"),u=n.find((function(t){return"title-container"===t.get("name")})),d={height:0,maxY:0,width:0};if(this.get("title")){u||(u=n.addGroup({name:"title-container"}));var h={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:l[0]},f=this.get("titleConfig")||{},p=Object.assign(h,f.style||{});c=u.addShape("text",{attrs:pw({text:this.get("title")},p)}),d=u.getCanvasBBox(),u.setMatrix([1,0,0,0,1,0,f.offsetX,f.offsetY,1])}this.layoutItems();var g=n.getCanvasBBox(),m=r.getCanvasBBox(),v=m.minX<0?Math.abs(m.minX)+l[3]:l[3],b=d.maxY<m.minY?Math.abs(d.maxY-m.minY)+l[0]:d.maxY+l[0],y=[1,0,0,0,1,0,v,b,1];r.setMatrix(y),g=n.getCanvasBBox();var k=[g.minX+g.width+l[1],g.minY+g.height+l[2]];if(c){f=pw({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));d=u.getCanvasBBox();var w=u.getMatrix()||[1,0,0,0,1,0,0,0,1];"center"===f.position?w[6]=k[0]/2+f.offsetX:"right"===f.position?(w[6]=k[0]-l[3]+f.offsetX,c.attr({textAlign:"right"})):(w[6]=l[3]+f.offsetX,c.attr({textAlign:"left"})),u.setMatrix(w),d=u.getCanvasBBox(),v=m.minX<0?Math.abs(m.minX)+l[3]:l[3],b=m.minY<d.maxY?Math.abs(d.maxY-m.minY)+l[0]:d.maxY+l[0],y=[1,0,0,0,1,0,v,b,1],r.setMatrix(y);var _=[1,0,0,0,1,0,v,b,1];"vertical"===this.get("layout")?_[6]+=m.maxX+this.get("horiSep"):_[7]+=m.maxY+this.get("vertiSep"),i.setMatrix(_)}else{m=r.getCanvasBBox();var A=[1,0,0,0,1,0,0,0,1];"vertical"===this.get("layout")?A[6]+=y[6]+m.maxX+this.get("horiSep"):A[7]+=y[7]+m.maxY+this.get("vertiSep"),i.setMatrix(A)}g=n.getCanvasBBox(),m=r.getCanvasBBox(),y=r.getMatrix()||[1,0,0,0,1,0,0,0,1];var C=i.getMatrix()||[1,0,0,0,1,0,0,0,1],x=i.getCanvasBBox();k=[Math.max(m.width+y[6],x.width+C[6])+l[1],Math.max(m.height+y[7],x.height+C[7])+l[2]],e.changeSize(k[0],k[1]);var E=this.get("containerStyle"),S=n.getMatrix()||[1,0,0,0,1,0,0,0,1],M=sd.invertMatrix({x:0,y:0},S),I=n.addShape("rect",{attrs:pw({x:M.x+(E.lineWidth||1),y:M.y+(E.lineWidth||1),width:k[0]-2*(E.lineWidth||1),height:k[1]-2*(E.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},E),name:"legend-back-rect",capture:!1});return I.toBack(),k},e.prototype.layoutItems=function(){var t=this.get("legendCanvas"),e=this.get("horiSep"),n=this.get("vertiSep"),r=this.get("layout"),i=this.get("align"),o=[0,0],s=t.find((function(t){return"root"===t.get("name")})),a=s.find((function(t){return"node-group"===t.get("name")})),c=s.find((function(t){return"edge-group"===t.get("name")})),l={min:0,max:-1/0},u=-1/0;a.get("children").forEach((function(t,i){0===i&&(l.min=o[0]);var s=t.get("children")[0],a=t.getCanvasBBox(),c=s.getBBox(),d=c.width,h=c.height,f=0,p=0,g=0;"vertical"===r?(p=o[1],g=o[0]+d/2,o[0]=g+a.height+n,f=a.maxX+p+d/2):(p=o[0]+d/2,g=o[1],o[0]=p+a.width+e,f=a.maxY+g+h/2),o[0]>l.max&&(l.max=o[0]),f>u&&(u=f),t.setMatrix([1,0,0,0,1,0,p,g,1])}));var d=l.max-l.min,h={min:0,max:-1/0},f=a.getCanvasBBox();o[0]=0,o[1]="vertical"===r?f.maxX+e:f.maxY+n,c.get("children").forEach((function(t,i){0===i&&(h.min=o[0]);var s=t.get("children")[0],a=t.getCanvasBBox(),c=s.getBBox(),l=c.width,u=c.height,d=0,f=0;"vertical"===r?(d=o[1],f=o[0],o[0]=f+a.height+n,t.setMatrix([1,0,0,0,1,0,0,f+u/2,1])):(d=o[0],f=o[1],o[0]=d+a.width+e,t.setMatrix([1,0,0,0,1,0,d+l/2,0,1])),o[0]>h.max&&(h.max=o[0])}));var p=h.max-h.min;if(i&&""!==i&&"left"!==i){var g=d-p,m="center"===i?Math.abs(g)/2:Math.abs(g),v=g<0?a:c;v.get("children").forEach((function(t){var e=t.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===r?e[7]+=m:e[6]+=m,t.setMatrix(e)}))}},e.prototype.processData=function(){var t=this.get("data"),e={nodes:[],edges:[]};t.nodes&&(t.nodes.sort((function(t,e){return t.order-e.order})),t.nodes.forEach((function(t){var n,r,i,o,s,a=t.size||[(null===(n=t.style)||void 0===n?void 0:n.width)||(null===(r=t.style)||void 0===r?void 0:r.r)||8,(null===(i=t.style)||void 0===i?void 0:i.height)||(null===(o=t.style)||void 0===o?void 0:o.r)||8],c=(null===(s=t.labelCfg)||void 0===s?void 0:s.style)||{};e.nodes.push({id:t.id||(0,k.uniqueId)(),type:t.type||"circle",style:pw({},t.style),order:t.order,label:t.label,itemType:"node",size:a,labelCfg:{position:"right",style:pw({fontFamily:"Arial"},c)}})}))),t.edges&&(t.edges.sort((function(t,e){return t.order-e.order})),t.edges.forEach((function(t){var n,r,i=t.type||"line";"cubic-horizontal"===t.type&&(i="cubic");var o=(null===(n=t.labelCfg)||void 0===n?void 0:n.style)||{},s=t.size||[(null===(r=t.style)||void 0===r?void 0:r.width)||8,1];e.edges.push({id:t.id||(0,k.uniqueId)(),type:i,size:s,style:pw({lineWidth:(0,k.isArray)(s)?s[1]:1},t.style),order:t.order,label:t.label,itemType:"edge",labelCfg:{position:"right",style:pw({fontFamily:"Arial"},o)}})}))),this.set("itemsData",e)},e.prototype.getContainer=function(){return this.get("container")},e.prototype.formatArray=function(t){var e=this.get(t);if((0,k.isNumber)(e))this.set(t,[e,e,e,e]);else if((0,k.isArray)(e))switch(e.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[e[0],e[0],e[0],e[0]]);break;case 2:this.set(t,[e[0],e[1],e[0],e[1]]);break;case 3:this.set(t,[e[0],e[1],e[2],e[1]]);break;default:break}return this.get(t)},e.prototype.getShapeSize=function(t){var e,n,r;return t.size&&((0,k.isArray)(t.size)?(e=t.size[0],n=t.size[1]||t.size[0],r=t.size[0]/2):(0,k.isNumber)(t.size)&&(e=t.size,n=t.size,r=t.size/2)),t.style&&(t.style.width&&(e=t.style.width),t.style.height&&(n=t.style.height),t.style.r&&(r=t.style.r)),r||(r=5),e||(e=r),n||(n=r),{width:e,height:n,r:r}},e.prototype.getStyle=function(t,e){var n="node"===t?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1};return pw(pw({},n),e.style||{})},e.prototype.destroy=function(){var t=this.get("legendCanvas");null===t||void 0===t||t.destroy();var e=this.get("graph"),n=e.get("container"),r=this.get("container");n.removeChild(r)},e}(Lm),vw=mw,bw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yw=function(){return yw=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},yw.apply(this,arguments)},kw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};"undefined"!==typeof document&&Vm()("\n  .g6-annotation-container {\n    background-color: rgba(255, 255, 255, 0.3);\n    padding: 8px;\n  }\n  .g6-annotation-wrapper {\n    background-color: #fff;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.85);\n  }\n  .g6-annotation-header-wapper {\n    height: fit-content;\n    width: 100%;\n    background-color: #5B8FF9;\n    display: inline-flex;\n    cursor: move;\n  }\n  .g6-annotation-title {\n    margin: 4px 40px 4px 8px;\n    cursor: text;\n    min-width: 32px;\n  }\n  .g6-annotation-collapse {\n    margin: 4px;\n    cursor: pointer;\n  }\n  .g6-annotation-expand {\n    margin: 4px;\n    cursor: pointer;\n  }\n  .g6-annotation-close {\n    margin: 4px 8px 4px 0;\n    cursor: pointer;\n  }\n  .g6-annotation-content {\n    padding: 8px;\n    width: fit-content;\n    cursor: text;\n    word-break: break-all;\n    min-width: 32px;\n  }\n  .g6-annotation-title-input-wrapper {\n    margin: 4px 40px 4px 8px;\n  }\n  .g6-annotation-content-input {\n    height: 100%;\n    word-break: break-all;\n  }\n  .g6-annotation-content-input-wrapper {\n    margin: 8px;\n    height: 100%;\n  }\n");var ww="canvas-annotation",_w=function(t){function e(e){return t.call(this,e)||this}return bw(e,t),e.prototype.getDefaultCfgs=function(){return{trigger:"click",editable:!0,itemHighlightState:"highlight",linkHighlightStyle:{shadowColor:"#5B8FF9",shadowBlur:10},cardCfg:{minHeight:60,width:"fit-content",height:"fit-content",collapseType:"minimize",closeType:"hide",borderRadius:5,maxTitleLength:20}}},e.prototype.getEvents=function(){var t={viewportchange:"updateLinks",afterlayout:"updateLinks",aftergraphrefreshposition:"updateLinks",afterupdateitem:"updateLink",afterchangedata:"onGraphDataChange",afteritemvisibilitychange:"onGraphItemVisibilityChange"};switch(this.get("trigger")){case"click":t=yw(yw({},t),{"node:click":"showAnnotation","edge:click":"showAnnotation"})}return t},e.prototype.getDOMContent=function(t){if(!this.destroyed){var e=t.collapsed,n=t.maxWidth,r=t.title,i=void 0===r?"":r,o=t.content,s=void 0===o?"":o,a=t.borderRadius,c=void 0===a?5:a,l=e?"<p class='g6-annotation-expand'>+</p>":"<p class='g6-annotation-collapse'>-</p>",u=e?"":" <p class='g6-annotation-content'>".concat(s,"</p>"),d="<p class='g6-annotation-close'>x</p>",h=e?"".concat(c,"px"):"".concat(c,"px ").concat(c,"px 0 0");return'<div class="g6-annotation-wrapper" style="border-radius: '.concat(c,"px; max-width: ").concat(n,'px">\n        <div\n          class="g6-annotation-header-wapper"\n          style="border-radius: ').concat(h,";\"\n        >\n          <h4 class='g6-annotation-title'>").concat(i,"</h4>\n          ").concat(l,"\n          ").concat(d,"\n        </div>\n        ").concat(u,"\n      </div>")}},e.prototype.init=function(){var t=this;if(!t.destroyed){var e=t.get("graph"),n=e.getContainer(),r=t.get("container"),i=this.get("containerCfg");i?(r=this.createContainer(),n.appendChild(r)):r=n,this.set("container",r);var o=n.getBoundingClientRect(),s=new Jh({container:n,width:o.right-o.left,height:o.bottom-o.top});Nm(s.get("el"),{position:"absolute",top:0,left:0,pointerEvents:"none"}),window.addEventListener("resize",(0,k.debounce)((function(){return t.resizeCanvas(t)}),100));var a=s.addGroup({id:"annotation-link-group"});t.set("linkGroup",a),t.set("canvas",s),t.get("getTitle")||t.set("getTitle",(function(t){var e,n=(null===(e=null===t||void 0===t?void 0:t.getModel)||void 0===e?void 0:e.call(t))||{},r=n.label,i=n.id;return r||i||"-"})),t.get("getContent")||t.set("getContent",(function(t){var e,n;if(!t)return"-";var r=(null===(e=t.getModel)||void 0===e?void 0:e.call(t))||{},i=r.label,o=r.id,s=null===(n=t.getType)||void 0===n?void 0:n.call(t),a=s?"".concat(s,": "):"";return"".concat(a).concat(i||o||"")}));var c=t.get("defaultData");c&&this.readData(c)}},e.prototype.createContainer=function(){var t=this;if(!this.destroyed){var e=this.get("containerCfg"),n=this.get("graph"),r=n.getContainer(),i=r.getBoundingClientRect(),o=i.left,s=i.right,a=i.top,c=i.bottom,l=c-a,u=s-o,d=e.position,h=void 0===d?"top":d,f=e.offsetX,p=void 0===f?0:f,g=e.offsetY,m=void 0===g?0:g,v=kw(e,["position","offsetX","offsetY"]),b=e.height,y=void 0===b?"fit-content":b,w=e.width,_=void 0===w?n.getWidth():w;"100%"===y&&(y=l),"100%"===_&&(_=u);var A="unset",C="unset",x={};switch(h){case"right":A="".concat(l,"px"),x={top:0,right:0},x.right+=o+p,x.top+=a+m;break;case"bottom":C="".concat(u,"px"),x={bottom:0,left:0},x.left+=o+p,x.bottom+=a+m;break;case"top":C="".concat(u,"px");case"left":A="".concat(l,"px");default:x={top:0,left:0},x.left+=o+p,x.top+=a+m;break}Object.keys(x).forEach((function(t){x[t]="".concat(x[t],"px")}));var E=_m("<div class='".concat(e.className," g6-annotation-container'></div>"));return Nm(E,yw(yw({position:"absolute",display:"top"===h||"bottom"===h?"inline-flex":"unset",width:(0,k.isNumber)(_)?"".concat(_,"px"):_,height:(0,k.isNumber)(y)?"".concat(y,"px"):y,maxHeight:A,maxWidth:C,overflow:"scroll"},x),v)),r.appendChild(E),E.addEventListener("scroll",(function(e){t.updateLinks()})),E}},e.prototype.resizeCanvas=function(t){clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout((function(){if(t&&!t.destroyed){var e=t.get("container").getBoundingClientRect(),n=e.right-e.left,r=e.bottom-e.top;t.get("canvas").changeSize(n,r),t.updateOutsideCards(t)}}),250)},e.prototype.updateOutsideCards=function(t){var e=t||this,n=e.get("cardInfoMap")||{},r=e.get("graph"),i=r.getPointByCanvas(0,0),o=r.getPointByCanvas(r.getWidth(),r.getHeight()),s=r.getClientByPoint(i.x,i.y),a=s.x,c=s.y,l=r.getClientByPoint(o.x,o.y),u=l.x,d=l.y;Object.values(n).forEach((function(t){var e=t.card;if(e){var n=e.style,r=Ew(n.left),i=Ew(n.top),o=e.getBoundingClientRect(),s=o.width,l=o.height,h=r,f=i;r+s>u-a&&(h=u-a-s),r<0&&(h=0),i+l>d-c&&(f=d-c-l),i<0&&(f=0),Nm(e,{left:"".concat(h,"px"),top:"".concat(f,"px")})}})),e.updateLinks()},e.prototype.showAnnotation=function(t){if(!this.destroyed){var e=t.item;this.toggleAnnotation(e)}},e.prototype.hideCards=function(){var t=this;if(!t.destroyed){var e=t.get("cardInfoMap")||{};Object.keys(e).forEach((function(e){t.hideCard(e)}))}},e.prototype.toggleAnnotation=function(t,e){var n,r;void 0===e&&(e={});var i=this;if(!i.destroyed){var o=i.get("cardInfoMap")||{},s=i.get("graph"),a=i.get("container"),c=i.get("containerCfg"),l=Object.assign({},i.get("cardCfg")||{},e),u=l.minHeight,d=l.minWidth,h=l.width,f=l.height,p=l.collapsed,g=void 0!==p&&p,m=l.x,v=l.y,b=l.title,y=l.content,w=l.maxTitleLength,_=l.defaultBegin,A=kw(l,["minHeight","minWidth","width","height","collapsed","x","y","title","content","maxTitleLength","defaultBegin"]),C=i.get("linkGroup"),x=this.get("rows")||[[]],E=null===(n=t.isCanvas)||void 0===n?void 0:n.call(t),S=E?ww:t.getID(),M=o[S]||{},I=M.card,D=M.link,T=M.x,O=M.y,N=M.title,P=M.content,L=this.get("getTitle"),B=this.get("getContent"),R=this.get("getContentPlaceholder")||function(){return""},j=this.get("getTitlePlaceHolder")||function(){return""},z=R(t),F=j(t),V=_m(this.getDOMContent(yw({itemId:S,collapsed:g,title:(null===(r=N||b||(null===L||void 0===L?void 0:L(t)))||void 0===r?void 0:r.substr(0,w))||F,content:P||y||(null===B||void 0===B?void 0:B(t))||z},A))),U=(0,k.isNumber)(u)?"".concat(u,"px"):u;Nm(V,{minHeight:g?"unset":U,minWidth:(0,k.isNumber)(d)?"".concat(d,"px"):d,height:f,width:h});var G,H=!!I;if(H?(null===D||void 0===D||D.remove(!0),a.replaceChild(V,I)):a.appendChild(V),!c){if(G=a.getBoundingClientRect()||{},void 0!==m&&void 0!==v)T=m,O=v;else if(!H&&!E){var $=G.top,W=_||{},Y=W.left,q=W.right,X=void 0===q?16:q,K=W.top,Z=void 0===K?8:K,Q=W.bottom,J=X,tt=Z;isNaN(Y)||(J=a.scrollWidth-Y),isNaN(Q)||(tt=a.scrollHeight-Q);var et=(0,k.isNumber)(d)?d:100;T=a.scrollWidth-V.scrollWidth-(x.length-1)*et-J;var nt=x[x.length-1],rt=(nt[nt.length-1]||{}).bbox;O=(null===rt||void 0===rt?void 0:rt.bottom)-$||tt}Nm(V,{position:"absolute",left:"".concat(T,"px"),top:"".concat(O,"px"),cusor:c?"unset":"move"})}this.bindListener(V,S);var it=V.getBoundingClientRect();if(!E){var ot=xw(t,it,s,this.get("canvas")),st=this.get("linkStyle");D=C.addShape("path",{attrs:yw({lineWidth:1,lineDash:[5,5],stroke:"#ccc",path:ot},st)})}if(o[S]=yw(yw({},o[S]||{}),{id:S,collapsed:g,card:V,link:D,x:T,y:O,cardBBox:it,content:P||y,title:N||b,contentPlaceholder:z,titlePlaceholder:F,isCanvas:E}),i.set("cardInfoMap",o),c)this.updateCardPositionsInConatainer(),this.updateLinks();else{var at=!isNaN(m)&&!isNaN(v);if(!H&&!E&&!at){var ct=G.bottom,lt=void 0===ct?0:ct;$=G.top;x[x.length-1].push({id:S,bbox:it}),it.top>lt-$-it.height-16&&x.push([]),this.set("rows",x)}}this.updateCardSize(S);var ut=this.get("onAnnotationChange");null===ut||void 0===ut||ut(o[S],H?"update":"create")}},e.prototype.updateCardPositionsInConatainer=function(){if(!this.destroyed){var t=this.get("cardInfoMap");if(t){var e=this.get("container"),n=this.get("containerCfg").position,r=e.getBoundingClientRect().width,i=getComputedStyle(e),o=Ew(i["paddingLeft"])+Ew(i["paddingRight"]);r-=o,Object.values(t).forEach((function(t){var e=t.card,i=e.getBoundingClientRect().width;switch(n){case"right":Nm(e,{marginLeft:r?"".concat(r-i,"px"):"0px"});break;case"top":case"bottom":Nm(e,{marginLeft:"8px"});default:break}}))}}},e.prototype.handleExpandCollapseCard=function(t){if(!this.destroyed){var e=this.get("graph"),n=this.get("cardInfoMap");if(n){var r=n[t].collapsed,i=e.findById(t);if(i){var o=this.get("cardCfg").collapseType;"hide"!==o||r?this.toggleAnnotation(i,{collapsed:!r}):this.hideCard(t),n[t]=yw(yw({},n[t]),{collapsed:!r})}}}},e.prototype.hideCard=function(t){if(!this.destroyed){var e=this.get("cardInfoMap");if(e&&e[t]){var n=e[t],r=n.card,i=n.link;Nm(r,{display:"none"}),null===i||void 0===i||i.hide();var o=this.get("onAnnotationChange");o(e[t],"hide")}}},e.prototype.removeCard=function(t){if(!this.destroyed){var e=this.get("cardInfoMap");if(e){var n=e[t],r=n.card,i=n.link,o=this.get("container");o.removeChild(r),null===i||void 0===i||i.remove(!0),delete e[t];var s=this.get("onAnnotationChange");s(n,"remove")}}},e.prototype.bindListener=function(t,e){var n=this;if(!this.destroyed){t.addEventListener("mousemove",(function(t){var r;if("g6-annotation-collapse"===t.target.className?r="collapse":"g6-annotation-expand"===t.target.className?r="expand":"g6-annotation-close"===t.target.className&&(r="close"),r){var i=n.get("cardCfg").onMouseEnterIcon,o=void 0===i?function(){}:i;o(t,e,r)}})),t.addEventListener("mouseout",(function(t){var r;if("g6-annotation-collapse"===t.target.className?r="collapse":"g6-annotation-expand"===t.target.className?r="expand":"g6-annotation-close"===t.target.className&&(r="close"),r){var i=n.get("cardCfg").onMouseLeaveIcon,o=void 0===i?function(){}:i;o(t,e,r)}})),t.addEventListener("mouseenter",(function(t){var r=n.get("cardInfoMap");if(r){var i=n.get("graph"),o=i.findById(e);if(o){var s=n.get("itemHighlightState");i.setItemState(o,s,!0)}var a=r[e].link;if(a){var c=n.get("linkHighlightStyle")||{};a.attr(c)}}})),t.addEventListener("mouseleave",(function(t){var r=n.get("cardInfoMap");if(r){var i=n.get("graph"),o=i.findById(e);if(o){var s=n.get("itemHighlightState");i.setItemState(o,s,!1)}var a=r[e].link;if(a){var c=n.get("linkHighlightStyle")||{};Object.keys(c).forEach((function(t){a.attr(t,void 0),a.attr(t,void 0)}));var l=n.get("linkStyle");a.attr(l)}}})),t.addEventListener("click",(function(t){var r=(n.get("cardCfg")||{}).onClickIcon;if("g6-annotation-collapse"===t.target.className||"g6-annotation-expand"===t.target.className){var i=n.get("cardCfg").collapseType;"hide"===i?n.hideCard(e):n.handleExpandCollapseCard(e),null===r||void 0===r||r(t,e,"g6-annotation-collapse"===t.target.className?"collapse":"expand")}else if("g6-annotation-close"===t.target.className){var o=n.get("cardCfg").closeType;"remove"===o?n.removeCard(e):n.hideCard(e),null===r||void 0===r||r(t,e,"close")}}));var r=this.get("editable");r&&t.addEventListener("dblclick",(function(t){var r=n.get("cardInfoMap"),i=(n.get("cardCfg")||{}).maxTitleLength,o=void 0===i?20:i;if(r){var s=t.target,a=s.className;if("g6-annotation-title"===a||"g6-annotation-content"===a){var c="g6-annotation-title"===a?s.getBoundingClientRect():s.parentNode.getBoundingClientRect(),l=c.width,u=c.height,d=getComputedStyle(s),h="g6-annotation-title"===a?"input":"textarea",f=_m("<".concat(h,' class="').concat(a,'-input" type="textarea" style="width:').concat(l,"px; height: ").concat(u,'px; min-width: 16px;"/>')),p=_m('<div class="'.concat(a,'-input-wrapper" style="width: ').concat(l,"px; height: ").concat(u,"px; min-width: 16px; margin-right: ").concat(d["marginRight"],'" />'));p.appendChild(f),s.parentNode.replaceChild(p,s);var g=r[e],m=g.contentPlaceholder,v=g.titlePlaceholder,b=g.content,y=g.title,k=b;"g6-annotation-title"===a?(f.name="title",f.maxLength=o,k=y):f.name="content",k?(f.innerHTML=s.innerHTML,f.value=s.innerHTML):f.placeholder="g6-annotation-title"===a?v:m,f.focus(),f.addEventListener("blur",(function(t){f.value&&(s.innerHTML=f.value,g[f.name||"title"]=f.value),p.parentNode.replaceChild(s,p),n.updateCardSize(e);var r=n.get("onAnnotationChange");null===r||void 0===r||r(g,"update")}))}}}));var i=["g6-annotation-title","g6-annotation-content","g6-annotation-title-input","g6-annotation-content-input"];t.draggable=!0,t.addEventListener("dragstart",(function(e){var r=e.target.className;if(!i.includes(r)){var o=t.style;n.set("dragging",{card:t,x:e.clientX,y:e.clientY,left:Ew(o.left),top:Ew(o.top)})}})),t.addEventListener("drag",(function(t){t.preventDefault();var r=n.get("cardInfoMap");if(r){var i=t.clientX,o=t.clientY,s=n.get("dragging");if(!isNaN(i)&&!isNaN(o)&&s){var a=s.x,c=s.y,l=s.left,u=s.top,d=s.card,h=i-a,f=o-c;l+=h,u+=f;var p=n.get("graph"),g=p.getPointByCanvas(0,0),m=p.getPointByCanvas(p.getWidth(),p.getHeight()),v=p.getClientByPoint(g.x,g.y),b=v.x,y=v.y,k=p.getClientByPoint(m.x,m.y),w=k.x,_=k.y,A=d.getBoundingClientRect(),C=A.right-A.left,x=A.bottom-A.top;(l>w-b-C&&h>0||l<0&&h<0)&&(l-=h),(u>_-y-x&&f>0||u<0&&f<0)&&(u-=f),Nm(d,{left:"".concat(l,"px"),top:"".concat(u,"px"),visibility:"hidden"}),a=i,c=o;var E=(r[e]||{}).link;if(E){var S=p.findById(e);E.attr("path",xw(S,A,p,n.get("canvas")))}n.set("dragging",{x:a,y:c,left:l,top:u,card:d})}}}));var o=function(t){var r=n.get("cardInfoMap");if(r){var i=n.get("dragging");if(i){var o=i.left,s=i.top,a=i.card;r[e].x=o,r[e].y=s,Nm(a,{visibility:"visible"}),n.set("dragging",!1);var c=n.get("rows");null===c||void 0===c||c.forEach((function(t){for(var n=t.length-1;n>=0;n--)t[n].id===e&&t.splice(n,1)}));var l=n.get("onAnnotationChange");null===l||void 0===l||l(r[e],"update")}}};t.addEventListener("dragend",o)}},e.prototype.updateCardSize=function(t){var e=this.get("cardInfoMap");if(e){var n=e[t].card,r=n.getBoundingClientRect().width,i=n.getElementsByClassName("g6-annotation-title")[0];if(i){var o=getComputedStyle(i),s=Ew(o["marginLeft"]),a=i.getBoundingClientRect().width;Nm(i,{marginRight:"".concat(r-s-24-16-a,"px")})}}},e.prototype.updateLink=function(t){var e=t.item;if(e){var n=this.get("cardInfoMap");if(n){var r=this.get("canvas"),i=this.get("graph"),o=e.getID(),s=n[o]||{},a=s.link,c=s.card;if(a){var l=xw(e,c.getBoundingClientRect(),i,r);a.attr("path",l)}}}},e.prototype.updateLinks=function(){var t=this;if(!this.destroyed){var e=this.get("cardInfoMap");if(e){var n=this.get("graph");Object.values(e).forEach((function(e){var r=e.id,i=n.findById(r);t.updateLink({item:i})}))}}},e.prototype.onGraphDataChange=function(){var t=this,e=this.get("cardInfoMap");if(e){var n=this.get("graph");Object.values(e).forEach((function(e){var r=e.id,i=e.card,o=e.isCanvas;if(i&&!o&&"none"!==i.style.display){var s=n.findById(r);s&&s.isVisible()?t.toggleAnnotation(s):t.hideCard(r)}}))}},e.prototype.onGraphItemVisibilityChange=function(t){var e=t.item,n=t.visible;if(e&&!e.destroyed){var r=this.get("cardInfoMap");if(r){var i=e.getID();r[i]&&(n||this.hideCard(i))}}},e.prototype.saveData=function(t){void 0===t&&(t=!1);var e=this.get("cardInfoMap");if(e){var n=this.get("graph"),r=this.get("getTitle"),i=this.get("getContent"),o=[];return Object.values(e).forEach((function(e){var s=e.title,a=e.content,c=e.x,l=e.y,u=e.id,d=e.collapsed,h=e.card;if(!h||"none"!==h.style.display||t){var f=n.findById(u)||n.get("canvas");o.push({id:u,x:c,y:l,collapsed:d,title:s||(null===r||void 0===r?void 0:r(f)),content:a||(null===i||void 0===i?void 0:i(f)),visible:h&&"none"!==h.style.display})}})),o}},e.prototype.readData=function(t){var e=this,n=this.get("graph");t.forEach((function(t){var r=t.id,i=t.x,o=t.y,s=t.title,a=t.content,c=t.collapsed,l=t.visible,u=n.findById(r);if(u||r!==ww||(u=n.get("canvas")),!u){var d=e.get("cardInfoMap")||{};return d[r]=t,void e.set("cardInfoMap",d)}e.toggleAnnotation(u,{x:i,y:o,title:s,content:a,collapsed:c}),l||e.hideCard(r)}))},e.prototype.clear=function(){var t=this.get("cardInfoMap");if(t){var e=this.get("container");Object.values(t).forEach((function(t){var n=t.card,r=t.link;e.removeChild(n),null===r||void 0===r||r.remove(!0)})),this.set("cardInfoMap",{})}},e.prototype.destroy=function(){var t;this.clear(),null===(t=this.get("canvas"))||void 0===t||t.destroy();var e=this.get("graph");e&&!e.destroyed&&(this.get("containerCfg")&&e.getContainer().removeChild(this.get("container")),this.destroyed=!0)},e}(Lm),Aw=_w,Cw=function(t,e){var n,r,i=1/0;Object.keys(t).forEach((function(o){var s=t[o];Object.keys(e).forEach((function(t){var a=e[t],c=s.x-a.x,l=s.y-a.y,u=c*c+l*l;i>u&&(i=u,n=s,r=a,[o,t])}))}));var o=20,s=sd.getControlPoint(n,r,.5,o);return[["M",n.x,n.y],["Q",s.x,s.y,r.x,r.y]]},xw=function(t,e,n,r){var i,o,s=t.getType();if("edge"===s)o=[t.getKeyShape().getPoint(.5)];else{var a=null===(i=t.getKeyShape)||void 0===i?void 0:i.call(t).getBBox(),c=a.minX,l=a.minY,u=a.maxX,d=a.maxY,h=t.getModel(),f=h.x,p=h.y;c+=f,l+=p,u+=f,d+=p,o={left:{x:c,y:(l+d)/2},right:{x:u,y:(l+d)/2},top:{x:(c+u)/2,y:l},bottom:{x:(c+u)/2,y:d}}}Object.keys(o).forEach((function(t){var e=o[t],i=e.x,s=e.y,a=n.getClientByPoint(i,s);o[t]=r.getPointByClient(a.x,a.y)}));var g=e.top,m=void 0===g?0:g,v=e.left,b=void 0===v?0:v,y=e.right,k=void 0===y?0:y,w=e.bottom,_=void 0===w?0:w,A={left:r.getPointByClient(b,(m+_)/2),right:r.getPointByClient(k,(m+_)/2),top:r.getPointByClient((b+k)/2,m),bottom:r.getPointByClient((b+k)/2,_)};return Cw(o,A)},Ew=function(t){return Number(t.replace(/\s+|px/gi,""))||0},Sw={PluginBase:Lm,Menu:Hm,Grid:zm,Minimap:tv,Bundling:sv,ToolBar:vv,Tooltip:kv,Fisheye:hv,TimeBar:Xk,ImageMinimap:tw,EdgeFilterLens:aw,SnapLine:hw,Legend:vw,Annotation:Aw},Mw=Sw,Iw=Mw;dd("circle",{options:{size:gd.defaultNode.size,style:{x:0,y:0,stroke:gd.defaultNode.style.stroke,fill:gd.defaultNode.style.fill,lineWidth:gd.defaultNode.style.lineWidth},labelCfg:{style:{fill:gd.nodeLabel.style.fill,fontSize:gd.nodeLabel.style.fontSize,fontFamily:gd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:gd.defaultNode.linkPoints.size,lineWidth:gd.defaultNode.linkPoints.lineWidth,fill:gd.defaultNode.linkPoints.fill,stroke:gd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,y.__assign)({},gd.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=(0,k.deepMix)({},r,t.icon),s="".concat(this.type,"-keyShape"),a=e.addShape("circle",{attrs:i,className:s,name:s,draggable:!0});e["shapeMap"][s]=a;var c=o.width,l=o.height,u=o.show,d=o.text;if(u){var h="".concat(this.type,"-icon");e["shapeMap"][h]=d?e.addShape("text",{attrs:(0,y.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:h,name:h,draggable:!0}):e.addShape("image",{attrs:(0,y.__assign)({x:-c/2,y:-l/2},o),className:h,name:h,draggable:!0})}return this.drawLinkPoints(t,e),a},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints;if(n){var r=n||{},i=r.top,o=r.left,s=r.right,a=r.bottom,c=r.size,l=r.r,u=(0,y.__rest)(r,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0]/2;if(o){var f="link-point-left";e["shapeMap"][f]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:-h,y:0,r:c/2||l||5}),className:f,name:f,isAnchorPoint:!0})}if(s){var p="link-point-right";e["shapeMap"][p]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:h,y:0,r:c/2||l||5}),className:p,name:p,isAnchorPoint:!0})}if(i){var g="link-point-top";e["shapeMap"][g]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:0,y:-h,r:c/2||l||5}),className:g,name:g,isAnchorPoint:!0})}if(a){var m="link-point-bottom";e["shapeMap"][m]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:0,y:h,r:c/2||l||5}),className:m,name:m,isAnchorPoint:!0})}}},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,k.deepMix)({},e,n),i=this.getSize(t),o=i[0]/2,s=(0,y.__assign)({x:0,y:0,r:o},r);return s},update:function(t,e,n){var r=e.getContainer(),i=this.getSize(t),o=(0,y.__assign)({},t.style);void 0===t.style.stroke&&t.color&&(o.stroke=t.color),void 0!==t.style.r||isNaN(i[0])||(o.r=i[0]/2),this.updateShape(t,e,o,!0,n),this.updateLinkPoints(t,r)}},"single-node"),dd("rect",{options:{size:[100,30],style:{radius:0,stroke:gd.defaultNode.style.stroke,fill:gd.defaultNode.style.fill,lineWidth:gd.defaultNode.style.lineWidth},labelCfg:{style:{fill:gd.nodeLabel.style.fill,fontSize:gd.nodeLabel.style.fontSize,fontFamily:gd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:gd.defaultNode.linkPoints.size,lineWidth:gd.defaultNode.linkPoints.lineWidth,fill:gd.defaultNode.linkPoints.fill,stroke:gd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,y.__assign)({},gd.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t),r=e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return e["shapeMap"]["".concat(this.type,"-keyShape")]=r,this.drawLinkPoints(t,e),r},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,s=r.right,a=r.bottom,c=r.size,l=r.r,u=(0,y.__rest)(r,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0],f=d[1];o&&(e["shapeMap"]["link-point-left"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:-h/2,y:0,r:c/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e["shapeMap"]["link-point-right"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:h/2,y:0,r:c/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e["shapeMap"]["link-point-top"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:0,y:-f/2,r:c/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),a&&(e["shapeMap"]["link-point-bottom"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:0,y:f/2,r:c/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,k.mix)({},e,n),i=this.getSize(t),o=r.width||i[0],s=r.height||i[1],a=(0,y.__assign)({x:-o/2,y:-s/2,width:o,height:s},r);return a},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getSize(t),s=e.get("keyShape");t.size||(o[0]=s.attr("width")||i.width,o[1]=s.attr("height")||i.height);var a={stroke:t.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},c=(0,k.mix)({},i,s.attr(),a);c=(0,k.mix)(c,t.style),this.updateShape(t,e,c,!1,n),this.updateLinkPoints(t,r)}},"single-node"),dd("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:gd.defaultNode.style.stroke,fill:gd.defaultNode.style.fill,lineWidth:gd.defaultNode.style.lineWidth},labelCfg:{style:{fill:gd.nodeLabel.style.fill,fontSize:gd.nodeLabel.style.fontSize,fontFamily:gd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:gd.defaultNode.linkPoints.size,lineWidth:gd.defaultNode.linkPoints.lineWidth,fill:gd.defaultNode.linkPoints.fill,stroke:gd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,y.__assign)({},gd.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape("ellipse",{attrs:i,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});e["shapeMap"]["ellipse-keyShape"]=o;var s=r.width,a=r.height,c=r.show,l=r.text;return c&&(e["shapeMap"]["".concat(this.type,"-icon")]=l?e.addShape("text",{attrs:(0,y.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,y.__assign)({x:-s/2,y:-a/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,s=r.right,a=r.bottom,c=r.size,l=r.r,u=(0,y.__rest)(r,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0]/2,f=d[1]/2;o&&(e["shapeMap"]["link-point-left"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:-h,y:0,r:c/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e["shapeMap"]["link-point-right"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:h,y:0,r:c/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e["shapeMap"]["link-point-top"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:0,y:-f,r:c/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),a&&(e["shapeMap"]["link-point-bottom"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:0,y:f,r:c/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,k.mix)({},e,n),i=this.getSize(t),o=i[0]/2,s=i[1]/2,a=(0,y.__assign)({x:0,y:0,rx:o,ry:s},r);return a},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getSize(t),s={stroke:t.color,rx:o[0]/2,ry:o[1]/2},a=e.get("keyShape"),c=(0,k.mix)({},i,a.attr(),s);c=(0,k.mix)(c,t.style),this.updateShape(t,e,c,!0,n),this.updateLinkPoints(t,r)}},"single-node"),dd("diamond",{options:{size:[80,80],style:{stroke:gd.defaultNode.style.stroke,fill:gd.defaultNode.style.fill,lineWidth:gd.defaultNode.style.lineWidth},labelCfg:{style:{fill:gd.nodeLabel.style.fill,fontSize:gd.nodeLabel.style.fontSize,fontFamily:gd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:gd.defaultNode.linkPoints.size,lineWidth:gd.defaultNode.linkPoints.lineWidth,fill:gd.defaultNode.linkPoints.fill,stroke:gd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,y.__assign)({},gd.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e["shapeMap"]["".concat(this.type,"-keyShape")]=o;var s=r.width,a=r.height,c=r.show,l=r.text;return c&&(e["shapeMap"]["".concat(this.type,"-icon")]=l?e.addShape("text",{attrs:(0,y.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,y.__assign)({x:-s/2,y:-a/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,s=r.right,a=r.bottom,c=r.size,l=r.r,u=(0,y.__rest)(r,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0],f=d[1];o&&(e["shapeMap"]["link-point-left"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:-h/2,y:0,r:c/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e["shapeMap"]["link-point-right"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:h/2,y:0,r:c/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e["shapeMap"]["link-point-top"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:0,y:-f/2,r:c/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),a&&(e["shapeMap"]["link-point-bottom"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:0,y:f/2,r:c/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(t){var e=this.getSize(t),n=e[0],r=e[1],i=[["M",0,-r/2],["L",n/2,0],["L",0,r/2],["L",-n/2,0],["Z"]];return i},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,k.mix)({},e,n),i=this.getPath(t),o=(0,y.__assign)({path:i},r);return o},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},a=e.get("keyShape"),c=(0,k.mix)({},i,a.attr(),s);c=(0,k.mix)(c,t.style),this.updateShape(t,e,c,!0,n),this.updateLinkPoints(t,r)}},"single-node"),dd("triangle",{options:{size:40,direction:"up",style:{stroke:gd.defaultNode.style.stroke,fill:gd.defaultNode.style.fill,lineWidth:gd.defaultNode.style.lineWidth},labelCfg:{style:{fill:gd.nodeLabel.style.fill,fontSize:gd.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:gd.defaultNode.linkPoints.size,lineWidth:gd.defaultNode.linkPoints.lineWidth,fill:gd.defaultNode.linkPoints.fill,stroke:gd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,y.__assign)({},gd.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,e){var n=this.mergeStyle||this.getOptions(t),r=n.icon,i=void 0===r?{}:r,o=n.direction,s=this.getShapeStyle(t),a=t.direction||o,c=e.addShape("path",{attrs:s,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e["shapeMap"]["".concat(this.type,"-keyShape")]=c;var l=i.width,u=i.height,d=i.show,h=i.offset,f=i.text;if(d)if(f)e["shapeMap"]["".concat(this.type,"-icon")]=e.addShape("text",{attrs:(0,y.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var p=-l/2,g=-u/2;"up"!==a&&"down"!==a||(g+=h),"left"!==a&&"right"!==a||(p+=h),e["shapeMap"]["".concat(this.type,"-icon")]=e.addShape("image",{attrs:(0,y.__assign)({x:p,y:g},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(t,e),c},drawLinkPoints:function(t,e){var n=this.mergeStyle||this.getOptions(t),r=n.linkPoints,i=void 0===r?{}:r,o=n.direction,s=t.direction||o,a=i.top,c=i.left,l=i.right,u=i.bottom,d=i.size,h=i.r,f=(0,y.__rest)(i,["top","left","right","bottom","size","r"]),p=this.getSize(t),g=p[0];if(c){var m=null,v=g*Math.sin(1/3*Math.PI),b=g*Math.sin(1/3*Math.PI);"up"===s?m=[-b,v]:"down"===s?m=[-b,-v]:"left"===s&&(m=[-b,b-v]),m&&(e["shapeMap"]["link-point-left"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},f),{x:m[0],y:m[1],r:d/2||h||5}),className:"link-point-left",name:"link-point-left"}))}if(l){var k=null;v=g*Math.sin(1/3*Math.PI),b=g*Math.sin(1/3*Math.PI);"up"===s?k=[b,v]:"down"===s?k=[b,-v]:"right"===s&&(k=[b,b-v]),k&&(e["shapeMap"]["link-point-right"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},f),{x:k[0],y:k[1],r:d/2||h||5}),className:"link-point-right",name:"link-point-right"}))}if(a){var w=null;v=g*Math.sin(1/3*Math.PI),b=g*Math.sin(1/3*Math.PI);"up"===s?w=[b-v,-v]:"left"===s?w=[b,-v]:"right"===s&&(w=[-b,-v]),w&&(e["shapeMap"]["link-point-top"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},f),{x:w[0],y:w[1],r:d/2||h||5}),className:"link-point-top",name:"link-point-top"}))}if(u){var _=null;v=g*Math.sin(1/3*Math.PI),b=g*Math.sin(1/3*Math.PI);"down"===s?_=[-b+v,v]:"left"===s?_=[b,v]:"right"===s&&(_=[-b,v]),_&&(e["shapeMap"]["link-point-bottom"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},f),{x:_[0],y:_[1],r:d/2||h||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(t){var e=(this.mergeStyle||this.getOptions(t)).direction,n=t.direction||e,r=this.getSize(t),i=r[0],o=i*Math.sin(1/3*Math.PI),s=i*Math.sin(1/3*Math.PI),a=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return"down"===n?a=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:"left"===n?a=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:"right"===n&&(a=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),a},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,k.mix)({},e,n),i=this.getPath(t),o=(0,y.__assign)({path:i},r);return o},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},a=e.get("keyShape"),c=(0,k.mix)({},i,a.attr(),s);c=(0,k.mix)(c,t.style),this.updateShape(t,e,c,!0,n),this.updateLinkPoints(t,r)},updateLinkPoints:function(t,e){var n=this.getOptions({}),r=n.linkPoints,i=n.direction,o=t.direction||i,s=e["shapeMap"]["link-point-left"]||e.find((function(t){return"link-point-left"===t.get("className")})),a=e["shapeMap"]["link-point-right"]||e.find((function(t){return"link-point-right"===t.get("className")})),c=e["shapeMap"]["link-point-top"]||e.find((function(t){return"link-point-top"===t.get("className")})),l=e["shapeMap"]["link-point-bottom"]||e.find((function(t){return"link-point-bottom"===t.get("className")})),u=r,d=s||a||c||l;d&&(u=d.attr());var h=(0,k.mix)({},u,t.linkPoints),f=h.fill,p=h.stroke,g=h.lineWidth,m=h.size/2;m||(m=h.r);var v=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},b=v.left,w=v.right,_=v.top,A=v.bottom,C=this.getSize(t),x=C[0],E={r:m,fill:f,stroke:p,lineWidth:g},S=null,M=x*Math.sin(1/3*Math.PI),I=x*Math.sin(1/3*Math.PI);"up"===o?S=[-I,M]:"down"===o?S=[-I,-M]:"left"===o&&(S=[-I,I-M]),S&&(s?b||void 0===b?s.attr((0,y.__assign)((0,y.__assign)({},E),{x:S[0],y:S[1]})):(s.remove(),delete e["shapeMap"]["link-point-left"]):b&&(e["shapeMap"]["link-point-left"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},E),{x:S[0],y:S[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var D=null;"up"===o?D=[I,M]:"down"===o?D=[I,-M]:"right"===o&&(D=[I,I-M]),D&&(a?w||void 0===w?a.attr((0,y.__assign)((0,y.__assign)({},E),{x:D[0],y:D[1]})):(a.remove(),delete e["shapeMap"]["link-point-right"]):w&&(e["shapeMap"]["link-point-right"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},E),{x:D[0],y:D[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var T=null;"up"===o?T=[I-M,-M]:"left"===o?T=[I,-M]:"right"===o&&(T=[-I,-M]),T&&(c?_||void 0===_?c.attr((0,y.__assign)((0,y.__assign)({},E),{x:T[0],y:T[1]})):(c.remove(),delete e["shapeMap"]["link-point-top"]):_&&(e["shapeMap"]["link-point-top"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},E),{x:T[0],y:T[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var O=null;"down"===o?O=[-I+M,M]:"left"===o?O=[I,M]:"right"===o&&(O=[-I,M]),O&&(l?A||void 0===A?l.attr((0,y.__assign)((0,y.__assign)({},E),{x:O[0],y:O[1]})):(l.remove(),delete e["shapeMap"]["link-point-bottom"]):A&&(e["shapeMap"]["link-point-bottom"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},E),{x:O[0],y:O[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),dd("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:gd.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:gd.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:gd.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).preRect,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=this.getSize(t),s=o[0],a=o[1],c=e.addShape("rect",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e["shapeMap"]["".concat(this.type,"-keyShape")]=c;var l=r.show,u=(0,y.__rest)(r,["show"]);return l&&(e["shapeMap"]["pre-rect"]=e.addShape("rect",{attrs:(0,y.__assign)({x:-s/2,y:-a/2,height:a},u),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),c},drawLogoIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).logoIcon,r=void 0===n?{}:n,i=this.getSize(t),o=i[0];if(r.show){var s=r.width,a=r.height,c=r.x,l=r.y,u=r.offset,d=r.text,h=(0,y.__rest)(r,["width","height","x","y","offset","text"]);e["shapeMap"]["rect-logo-icon"]=d?e.addShape("text",{attrs:(0,y.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):e.addShape("image",{attrs:(0,y.__assign)((0,y.__assign)({},h),{x:c||-o/2+s+u,y:l||-a/2,width:s,height:a}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).stateIcon,r=void 0===n?{}:n,i=this.getSize(t),o=i[0];if(r.show){var s=r.width,a=r.height,c=r.x,l=r.y,u=r.offset,d=r.text,h=(0,y.__rest)(r,["width","height","x","y","offset","text"]);e["shapeMap"]["rect-state-icon"]=d?e.addShape("text",{attrs:(0,y.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):e.addShape("image",{attrs:(0,y.__assign)((0,y.__assign)({},h),{x:c||o/2-s+u,y:l||-a/2,width:s,height:a}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,s=r.right,a=r.bottom,c=r.size,l=r.r,u=(0,y.__rest)(r,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0],f=d[1];o&&(e["shapeMap"]["link-point-left"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:-h/2,y:0,r:c/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(e["shapeMap"]["link-point-right"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:h/2,y:0,r:c/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e["shapeMap"]["link-point-top"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:0,y:-f/2,r:c/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),a&&(e["shapeMap"]["link-point-bottom"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},u),{x:0,y:f/2,r:c/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(t,e){var n=this.getOptions(t),r=n.labelCfg,i=void 0===r?{}:r,o=n.logoIcon,s=void 0===o?{}:o,a=n.descriptionCfg,c=void 0===a?{}:a,l=this.getSize(t),u=l[0],d=null,h=s.show,f=s.width,p=-u/2+i.offset;h&&(p=-u/2+f+i.offset);var g=i.style,m=c.style,v=c.paddingTop;return(0,k.isString)(t.description)?(d=e.addShape("text",{attrs:(0,y.__assign)((0,y.__assign)({},g),{x:p,y:-5,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e["shapeMap"]["text-shape"]=d,e["shapeMap"]["rect-description"]=e.addShape("text",{attrs:(0,y.__assign)((0,y.__assign)({},m),{x:p,y:17+(v||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(d=e.addShape("text",{attrs:(0,y.__assign)((0,y.__assign)({},g),{x:p,y:7,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e["shapeMap"]["text-shape"]=d),d},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,k.mix)({},e,n),i=this.getSize(t),o=r.width||i[0],s=r.height||i[1],a=(0,y.__assign)({x:-o/2,y:-s/2,width:o,height:s},r);return a},update:function(t,e){var n=this.mergeStyle||this.getOptions(t),r=n.style,i=void 0===r?{}:r,o=n.labelCfg,s=void 0===o?{}:o,a=n.descriptionCfg,c=void 0===a?{}:a,l=this.getSize(t),u=l[0],d=l[1],h=e.get("keyShape");h.attr((0,y.__assign)((0,y.__assign)({},i),{x:-u/2,y:-d/2,width:u,height:d}));var f=e.getContainer(),p=f["shapeMap"]["rect-logo-icon"]||f.find((function(t){return"rect-logo-icon"===t.get("className")})),g=p?p.attr():{},m=(0,k.mix)({},g,t.logoIcon),v=m.width;void 0===v&&(v=this.options.logoIcon.width);var b=t.logoIcon?t.logoIcon.show:void 0,w=s.offset,_=-u/2+v+w;b||void 0===b||(_=-u/2+w);var A=f["shapeMap"]["node-label"]||f.find((function(t){return"node-label"===t.get("className")})),C=f["shapeMap"]["rect-description"]||f.find((function(t){return"rect-description"===t.get("className")}));if(t.label)if(A){var x=t.labelCfg?t.labelCfg.style:{},E=(0,k.mix)({},A.attr(),x);t.label&&(E.text=t.label),E.x=_,(0,k.isString)(t.description)&&(E.y=-5),C&&(C.resetMatrix(),C.attr({x:_})),A.resetMatrix(),A.attr(E)}else f["shapeMap"]["node-label"]=f.addShape("text",{attrs:(0,y.__assign)((0,y.__assign)({},s.style),{x:_,y:t.description?-5:7,text:t.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});if((0,k.isString)(t.description)){var S=c.paddingTop;if(C){x=t.descriptionCfg?t.descriptionCfg.style:{};var M=(0,k.mix)({},C.attr(),x);(0,k.isString)(t.description)&&(M.text=t.description),M.x=_,C.resetMatrix(),C.attr((0,y.__assign)((0,y.__assign)({},M),{y:17+(S||0)}))}else f["shapeMap"]["rect-description"]=f.addShape("text",{attrs:(0,y.__assign)((0,y.__assign)({},c.style),{x:_,y:17+(S||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})}var I=f["shapeMap"]["pre-rect"]||f.find((function(t){return"pre-rect"===t.get("className")}));if(I&&!I.destroyed){var D=(0,k.mix)({},I.attr(),t.preRect);I.attr((0,y.__assign)((0,y.__assign)({},D),{x:-u/2,y:-d/2,height:d}))}if(p&&!p.destroyed)if(b||void 0===b){var T=m.width,O=m.height,N=m.x,P=m.y,L=m.offset,B=(0,y.__rest)(m,["width","height","x","y","offset"]);p.attr((0,y.__assign)((0,y.__assign)({},B),{x:N||-u/2+T+L,y:P||-O/2,width:T,height:O}))}else p.remove(),delete f["shapeMap"]["pre-rect"];else b&&this.drawLogoIcon(t,f);var R=f["shapeMap"]["rect-state-icon"]||f.find((function(t){return"rect-state-icon"===t.get("className")})),j=R?R.attr():{},z=(0,k.mix)({},j,t.stateIcon);if(R){z.show||void 0===z.show||(R.remove(),delete f["shapeMap"]["rect-state-icon"]);var F=z.width,V=(O=z.height,N=z.x,P=z.y,z.offset),U=(0,y.__rest)(z,["width","height","x","y","offset"]);R.attr((0,y.__assign)((0,y.__assign)({},U),{x:N||u/2-F+V,y:P||-O/2,width:F,height:O}))}else z.show&&this.drawStateIcon(t,f);this.updateLinkPoints(t,f)},getOptions:function(t,e){return"move"===e?t:(0,k.deepMix)({},this.options,this.getCustomConfig(t)||{},t)}},"single-node"),dd("star",{options:{size:60,style:{stroke:gd.defaultNode.style.stroke,fill:gd.defaultNode.style.fill,lineWidth:gd.defaultNode.style.lineWidth},labelCfg:{style:{fill:gd.nodeLabel.style.fill,fontSize:gd.nodeLabel.style.fontSize,fontFamily:gd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:gd.defaultNode.linkPoints.size,lineWidth:gd.defaultNode.linkPoints.lineWidth,fill:gd.defaultNode.linkPoints.fill,stroke:gd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,y.__assign)({},gd.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e["shapeMap"]["".concat(this.type,"-keyShape")]=o;var s=r.width,a=r.height,c=r.show,l=r.text;return c&&(e["shapeMap"]["".concat(this.type,"-icon")]=l?e.addShape("text",{attrs:(0,y.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,y.__assign)({x:-s/2,y:-a/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,s=r.right,a=r.leftBottom,c=r.rightBottom,l=r.size,u=r.r,d=(0,y.__rest)(r,["top","left","right","leftBottom","rightBottom","size","r"]),h=this.getSize(t),f=h[0];if(s){var p=Math.cos(.1*Math.PI)*f,g=Math.sin(.1*Math.PI)*f;e["shapeMap"]["link-point-right"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},d),{x:p,y:-g,r:l/2||u||5}),className:"link-point-right",name:"link-point-right"})}if(i){p=Math.cos(.5*Math.PI)*f,g=Math.sin(.5*Math.PI)*f;e["shapeMap"]["link-point-top"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},d),{x:p,y:-g,r:l/2||u||5}),className:"link-point-top",name:"link-point-top"})}if(o){p=Math.cos(.9*Math.PI)*f,g=Math.sin(.9*Math.PI)*f;e["shapeMap"]["link-point-left"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},d),{x:p,y:-g,r:l/2||u||5}),className:"link-point-left",name:"link-point-left"})}if(a){p=Math.cos(1.3*Math.PI)*f,g=Math.sin(1.3*Math.PI)*f;e["shapeMap"]["link-point-bottom"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},d),{x:p,y:-g,r:l/2||u||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(c){p=Math.cos(1.7*Math.PI)*f,g=Math.sin(1.7*Math.PI)*f;e["shapeMap"]["link-point-right-bottom"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},d),{x:p,y:-g,r:l/2||u||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(t){var e=this.getSize(t),n=e[0],r=3*n/8,i=t.innerR||r;return sd.getStarPath(n,i)},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=(0,k.mix)({},e,n),i=this.getPath(t),o=(0,y.__assign)({path:i},r);return o},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},a=e.get("keyShape"),c=(0,k.mix)({},i,a.attr(),s);c=(0,k.mix)(c,t.style),this.updateShape(t,e,c,!0,n),this.updateLinkPoints(t,r)},updateLinkPoints:function(t,e){var n=this.getOptions({}).linkPoints,r=e["shapeMap"]["link-point-left"]||e.find((function(t){return"link-point-left"===t.get("className")})),i=e["shapeMap"]["link-point-right"]||e.find((function(t){return"link-point-right"===t.get("className")})),o=e["shapeMap"]["link-point-top"]||e.find((function(t){return"link-point-top"===t.get("className")})),s=e["shapeMap"]["link-point-left-bottom"]||e.find((function(t){return"link-point-left-bottom"===t.get("className")})),a=e["shapeMap"]["link-point-left-bottom"]||e.find((function(t){return"link-point-right-bottom"===t.get("className")})),c=n,l=r||i||o||s||a;l&&(c=l.attr());var u=(0,k.mix)({},c,t.linkPoints),d=u.fill,h=u.stroke,f=u.lineWidth,p=u.size/2;p||(p=u.r);var g=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},m=g.left,v=g.right,b=g.top,w=g.leftBottom,_=g.rightBottom,A=this.getSize(t),C=A[0],x={r:p,fill:d,stroke:h,lineWidth:f},E=Math.cos(.1*Math.PI)*C,S=Math.sin(.1*Math.PI)*C;i?v||void 0===v?i.attr((0,y.__assign)((0,y.__assign)({},x),{x:E,y:-S})):(i.remove(),delete e["shapeMap"]["link-point-right"]):v&&(e["shapeMap"]["link-point-right"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},x),{x:E,y:-S}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),E=Math.cos(.5*Math.PI)*C,S=Math.sin(.5*Math.PI)*C,o?b||void 0===b?o.attr((0,y.__assign)((0,y.__assign)({},x),{x:E,y:-S})):(o.remove(),delete e["shapeMap"]["link-point-top"]):b&&(e["shapeMap"]["link-point-top"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},x),{x:E,y:-S}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),E=Math.cos(.9*Math.PI)*C,S=Math.sin(.9*Math.PI)*C,r?m||void 0===m?r.attr((0,y.__assign)((0,y.__assign)({},x),{x:E,y:-S})):(r.remove(),delete e["shapeMap"]["link-point-left"]):m&&(e["shapeMap"]["link-point-left"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},x),{x:E,y:-S}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),E=Math.cos(1.3*Math.PI)*C,S=Math.sin(1.3*Math.PI)*C,s?w||void 0===w?s.attr((0,y.__assign)((0,y.__assign)({},x),{x:E,y:-S})):(s.remove(),delete e["shapeMap"]["link-point-left-bottom"]):w&&(e["shapeMap"]["link-point-left-bottom"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},x),{x:E,y:-S}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),E=Math.cos(1.7*Math.PI)*C,S=Math.sin(1.7*Math.PI)*C,a?_||void 0===_?a.attr((0,y.__assign)((0,y.__assign)({},x),{x:E,y:-S})):(a.remove(),delete e["shapeMap"]["link-point-right-bottom"]):_&&(e["shapeMap"]["link-point-right-bottom"]=e.addShape("circle",{attrs:(0,y.__assign)((0,y.__assign)({},x),{x:E,y:-S}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var Dw=sd.defaultSubjectColors,Tw="fan-shape-";dd("donut",{options:{size:gd.defaultNode.size,style:{x:0,y:0,stroke:gd.defaultNode.style.stroke,fill:gd.defaultNode.style.fill,lineWidth:gd.defaultNode.style.lineWidth},labelCfg:{style:{fill:gd.nodeLabel.style.fill,fontSize:gd.nodeLabel.style.fontSize,fontFamily:gd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:gd.defaultNode.linkPoints.size,lineWidth:gd.defaultNode.linkPoints.lineWidth,fill:gd.defaultNode.linkPoints.fill,stroke:gd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,y.__assign)({},gd.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=(0,k.deepMix)({},r,t.icon),s=e.addShape("circle",{attrs:i,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});e["shapeMap"]["".concat(this.type,"-keyShape")]=s;var a=o.width,c=o.height,l=o.show,u=o.text;return l&&(e["shapeMap"]["".concat(this.type,"-icon")]=u?e.addShape("text",{attrs:(0,y.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:(0,y.__assign)({x:-a/2,y:-c/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),Ow(t,e,s),this.drawLinkPoints(t,e),s},updateShape:function(t,e,n,r,i){var o=e.get("keyShape");o.attr((0,y.__assign)({},n)),Pw(t,e,o),this.updateLabel(t,e,i),r&&this.updateIcon(t,e)}},"circle");var Ow=function(t,e,n){var r=t.donutAttrs,i=void 0===r?{}:r,o=t.donutColorMap,s=void 0===o?{}:o,a=Object.keys(i).length;if(i&&a>1){var c=Lw(i,s),l=c.configs,u=c.totalValue;if(u){var d=Bw(n),h=d.lineWidth,f=d.arcR,p=[f,0],g=0;if(1===a)return void Nw(e,{arcR:f,arcBegin:p,beginAngle:g,config:l[0],fanIndex:0,lineWidth:h,totalValue:u,drawWhole:!0});for(var m=0;m<l.length;m++){var v=Nw(e,{arcR:f,arcBegin:p,beginAngle:g,config:l[m],fanIndex:m,lineWidth:h,totalValue:u});if(v.shouldEnd)return;p=v.arcBegin,g=v.beginAngle}}}},Nw=function(t,e){var n,r,i,o=e.arcR,s=e.arcBegin,a=e.beginAngle,c=e.config,l=e.fanIndex,u=e.lineWidth,d=e.totalValue,h=e.drawWhole,f=void 0!==h&&h,p=e.updateShape,g=void 0===p?void 0:p,m=c.value/d;if(m<.001)return{beginAngle:a,arcBegin:s,shape:void 0,shouldEnd:!1};if(f||m>.999)n=[o,1e-4],i=1;else{var v=m*Math.PI*2;r=a+v,n=[o*Math.cos(r),-o*Math.sin(r)],i=v>Math.PI?1:0}var b={path:[["M",s[0],s[1]],["A",o,o,0,i,0,n[0],n[1]]],stroke:c.color||(null===g||void 0===g?void 0:g.attr("stroke"))||Dw[l%Dw.length],lineWidth:u};return g?g.attr(b):t["shapeMap"]["".concat(Tw).concat(l)]=t.addShape("path",{attrs:b,name:"".concat(Tw).concat(l),draggable:!0}),{beginAngle:r,arcBegin:n,shape:t["shapeMap"]["".concat(Tw).concat(l)],shouldEnd:f||m>.999}},Pw=function(t,e,n){var r=t.donutAttrs,i=t.donutColorMap,o=void 0===i?{}:i,s={},a=e.getContainer();if(r){var c=Lw(r,o),l=c.configs,u=c.totalValue;if(u)for(var d=Bw(n),h=d.lineWidth,f=d.arcR,p=[f,0],g=0,m=0;m<l.length;m++){var v="".concat(Tw).concat(m),b=Nw(a,{arcR:f,arcBegin:p,beginAngle:g,config:l[m],fanIndex:m,lineWidth:h,totalValue:u,drawWhole:1===l.length,updateShape:a["shapeMap"][v]});if(b.shape&&(s[v]=!0),b.shouldEnd)break;p=b.arcBegin,g=b.beginAngle}}var y=Object.keys(a["shapeMap"]).filter((function(t){return t.includes(Tw)}));y.forEach((function(t){s[t]||(a["shapeMap"][t].remove(!0),delete a["shapeMap"][t])}))},Lw=function(t,e){var n=0,r=[];return Object.keys(t).forEach((function(i){var o=+t[i];isNaN(o)||(r.push({key:i,value:o,color:e[i]}),n+=o)})),{totalValue:n,configs:r}},Bw=function(t){var e=t.attr("r"),n=.6*e,r=(e+n)/2,i=e-n;return{lineWidth:i,arcR:r}},Rw=function(t){var e=t.x,n=t.y;return{x:e,y:n,centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}},jw=function(t){void 0===t&&(t=[]);var e=[],n=[];t.forEach((function(t){e.push(t.x),n.push(t.y)}));var r=Math.min.apply(Math,e),i=Math.max.apply(Math,e),o=Math.min.apply(Math,n),s=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+s)/2,maxX:i,maxY:s,minX:r,minY:o,height:s-o,width:i-r}},zw=function(t){for(var e=[],n={},r=t.length,i=r-1;i>=0;i--){var o=t[i];o.id="".concat(o.x,"|||").concat(o.y),n[o.id]||(n[o.id]=o,e.push(o))}return e},Fw=function(t){return zw(t)},Vw=function(t,e){return t.width||t.height?{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}:t},Uw=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return 0===n&&0===r?0:n/e.width>r/e.height},Gw=function(t,e,n){var r=Uw(e,t);if(0===r){var i=t.centerX,o=t.centerY;return n.y<e.y?o=t.minY:n.x>e.x?i=t.maxX:n.x<e.x?i=t.minX:n.x===e.x&&(o=t.maxY),{x:i,y:o}}return r?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Hw=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},$w=function(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]},Ww=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Yw=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},qw=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Xw=function(t,e){return Yw(t,e.x).concat(qw(t,e.y))},Kw=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Zw=function(t,e){var n=-2,r=0;return e.forEach((function(e){e&&(t.x===e.x&&(r+=n),t.y===e.y&&(r+=n))})),r},Qw=function(t,e,n,r,i){return Kw(t,e)+Kw(t,n)+Zw(t,[e,n,r,i])},Jw=function t(e,n,r,i,o){void 0===o&&(o=0),e.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&t(e,n,r,r[i],o+1)},t_=function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,s=r.x-t.x,a=r.y-t.y,c=n.x-e.x,l=n.y-e.y,u=r.x-e.x,d=r.y-e.y,h=i*a-o*s,f=c*d-l*u,p=i*l-o*c,g=s*d-a*u;return h*f<=0&&p*g<=0},e_=function(t,e,n){if(n.width||n.height){var r=$w(n),i=r[0],o=r[1],s=r[2],a=r[3];return t_(t,e,i,o)||t_(t,e,i,a)||t_(t,e,o,s)||t_(t,e,s,a)}return!1},n_=function(t,e,n,r){var i=[];return t.forEach((function(t){if(t!==e&&(t.x===e.x||t.y===e.y)){if(e_(t,e,n)||e_(t,e,r))return;i.push(t)}})),zw(i)},r_=function(t,e,n,r,i,o,s){var a,c=[],l=(a={},a[e.id]=e,a),u={},d={},h={};d[e.id]=0,h[e.id]=Qw(e,n,e);var f=new l_;f.add({id:e.id,value:h[e.id]});var p,g={};t.forEach((function(t){g[t.id]=t}));while(Object.keys(l).length){var m=f.minId(!1);if(!m)break;if(p=l[m],p===n){var v=[];return Jw(v,g,u,n.id),v}delete l[p.id],f.remove(p.id),c.push(p);var b=n_(t,p,r,i),y=function(t){t.forEach((function(t){if(-1===c.indexOf(t)){var r=t.id;l[r]||(l[r]=t);var i=h[p.id]+Kw(p,t);d[r]&&i>=d[r]||(u[r]=p.id,d[r]=i,h[r]=d[r]+Qw(t,n,e,o,s)),f.add({id:r,value:h[r]})}}))};y(b)}return[e,n]},i_=function(t,e,n){return!(t.x===e.x&&e.x===n.x||t.y===e.y&&e.y===n.y)},o_=function(t,e,n,r){var i=Kw(t,e),o=Kw(n,e);i<r&&(r=i),o<r&&(r=o);var s={x:e.x-r/i*(e.x-t.x),y:e.y-r/i*(e.y-t.y)},a={x:e.x-r/o*(e.x-n.x),y:e.y-r/o*(e.y-n.y)};return[s,a]},s_=function(t,e){var n=[],r=t[0];return n.push("M".concat(r.x," ").concat(r.y)),t.forEach((function(r,i){var o=t[i+1],s=t[i+2];if(o&&s)if(i_(r,o,s)){var a=o_(r,o,s,e),c=a[0],l=a[1];n.push("L".concat(c.x," ").concat(c.y)),n.push("Q".concat(o.x," ").concat(o.y," ").concat(l.x," ").concat(l.y)),n.push("L".concat(l.x," ").concat(l.y))}else n.push("L".concat(o.x," ").concat(o.y));else o&&n.push("L".concat(o.x," ").concat(o.y))})),n.join("")},a_=function(t,e,n,r,i){var o,s;if(n&&n.getType())if("combo"===n.getType()){var a=n.getKeyShape().getBBox();if(a){var c=n.getModel(),l=c.x,u=c.y;o={x:l,y:u,width:a.width,height:a.height,minX:a.minX+l,maxX:a.maxX+l,minY:a.minY+u,maxY:a.maxY+u},o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=Rw(t)}else o=n&&n.getBBox();else o=Rw(t);if(r&&r.getType())if("combo"===r.getType()){var d=r.getKeyShape().getBBox();if(d){var h=r.getModel(),f=h.x,p=h.y;s={x:f,y:p,width:d.width,height:d.height,minX:d.minX+f,maxX:d.maxX+f,minY:d.minY+p,maxY:d.maxY+p},s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=Rw(e)}else s=r&&r.getBBox();else s=Rw(e);var g=Vw(o,i),m=Vw(s,i),v=Gw(g,t,e),b=Gw(m,e,t),y=jw([v,b]),k=Hw(g,y),w=Hw(m,y),_=[];_=_.concat($w(k)).concat($w(w));var A={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[y,k,w].forEach((function(t){_=_.concat(Xw(t,A).filter((function(t){return Ww(t,g)&&Ww(t,m)})))})),[{x:v.x,y:b.y},{x:b.x,y:v.y}].forEach((function(t){Ww(t,g)&&Ww(t,m)&&_.push(t)})),_.unshift(v),_.push(b),_=zw(_);var C=r_(_,v,b,o,s,t,e);return C.unshift(t),C.push(e),Fw(C)},c_=function(t){if(!(null===t||void 0===t?void 0:t.length))return t;for(var e=t[t.length-1],n={x:e.x,y:e.y},r=[e],i=[e],o=t.length-2;o>=0;o--){var s=t[o];if(s.x===n.x?r.push(s):(r=[s],n.x=s.x),s.y===n.y?i.push(s):(i=[s],n.y=s.y),r.length>2){var a=t.indexOf(r[1]);a>-1&&t.splice(a,1)}else if(i.length>2){a=t.indexOf(i[1]);a>-1&&t.splice(a,1)}}return t},l_=function(){function t(){this.arr=[],this.map={},this.arr=[],this.map={}}return t.prototype._innerAdd=function(t,e){var n=[0,e-1];while(n[1]-n[0]>1){var r=Math.floor((n[0]+n[1])/2);if(this.arr[r].value>t.value)n[1]=r;else{if(!(this.arr[r].value<t.value))return this.arr.splice(r,0,t),void(this.map[t.id]=!0);n[0]=r}}this.arr.splice(n[1],0,t),this.map[t.id]=!0},t.prototype.add=function(t){delete this.map[t.id];var e=this.arr.length;return e?this.arr[e-1].value<t.value?(this.arr.push(t),void(this.map[t.id]=!0)):void this._innerAdd(t,e):(this.arr.push(t),void(this.map[t.id]=!0))},t.prototype.remove=function(t){this.map[t]&&delete this.map[t]},t.prototype._clearAndGetMinId=function(){for(var t,e=this.arr.length-1;e>=0;e--)this.map[this.arr[e].id]?t=this.arr[e].id:this.arr.splice(e,1);return t},t.prototype._findFirstId=function(){while(this.arr.length){var t=this.arr.shift();if(this.map[t.id])return t.id}},t.prototype.minId=function(t){return t?this._clearAndGetMinId():this._findFirstId()},t}(),u_=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},d_=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},h_=function(t,e){return[t,e]},f_=function(t,e,n,r,i){return Fw(a_(t,e,n,r,i.offset))},p_={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:u_,fallbackRoute:f_},g_=(Math.PI,function(t,e){var n=Math.round(Math.abs(t/e)),r=t<0?-1:1;return n<0?0:r*n}),m_=function(t,e,n){var r={};return t.forEach((function(t){if(t)for(var i=Vw(t.getBBox(),n),o=g_(i.minX,e);o<=g_(i.maxX,e);o+=1)for(var s=g_(i.minY,e);s<=g_(i.maxY,e);s+=1)r["".concat(o,"|||").concat(s)]=!0})),r},v_=function(t,e){var n=e.x-t.x,r=e.y-t.y;return n||r?Math.atan2(r,n):0},b_=function(t,e){var n=Math.abs(t-e);return n>Math.PI?2*Math.PI-n:n},y_=function(t,e,n){for(var r=1/0,i=0,o=e.length;i<o;i++){var s=n(t,e[i]);s<r&&(r=s)}return r},k_=function(t,e,n,r,i){var o=[];if(!n)return[t];var s=i.directions,a=i.offset,c=n.getBBox(),l=e.x>c.minX&&e.x<c.maxX&&e.y>c.minY&&e.y<c.maxY,u=Vw(c,a);for(var d in u)u[d]=g_(u[d],i.gridSize);if(l){for(var h=0,f=s;h<f.length;h++){var p=f[h],g=[[{x:u.minX,y:u.minY},{x:u.maxX,y:u.minY}],[{x:u.minX,y:u.minY},{x:u.minX,y:u.maxY}],[{x:u.maxX,y:u.minY},{x:u.maxX,y:u.maxY}],[{x:u.minX,y:u.maxY},{x:u.maxX,y:u.maxY}]];for(d=0;d<4;d++){var m=g[d],v=sd.getLineIntersect(t,{x:t.x+p.stepX*u.width,y:t.y+p.stepY*u.height},m[0],m[1]);v&&!e_(t,v,c)&&(v.id="".concat(v.x,"|||").concat(v.y),o.push(v))}}return o}var b=Gw(u,t,r);return b.id="".concat(b.x,"|||").concat(b.y),[b]},w_=function(t,e,n,r){var i=v_(t,e),o=n[t.id];if(!o){var s=v_(r,t);return b_(s,i)}var a=v_({x:o.x,y:o.y},t);return b_(a,i)},__=function(t,e,n,r,i,o,s){var a=[r],c=r,l=t.id,u=t.x,d=t.y,h={x:u,y:d,id:l};w_(h,o,e,n)&&(c={x:o.x===r.x?r.x:h.x*s,y:o.y===r.y?r.y:h.y*s},a.unshift(c));var f=e[l];while(f&&f.id!==l){var p={x:u,y:d,id:l},g={x:f.x,y:f.y,id:f.id},m=w_(g,p,e,n);m&&(c={x:g.x===p.x?c.x:g.x*s,y:g.y===p.y?c.y:g.y*s},a.unshift(c)),l=g.id,u=g.x,d=g.y,f=e[l]}return a[0].x=u===n.x?i.x:c.x,a[0].y=d===n.y?i.y:c.y,a.unshift(i),a},A_=function(t,e,n,r,i){if(isNaN(t.x)||isNaN(e.x))return[];var o=(0,k.deepMix)(p_,i);o.obstacles=o.obstacles||[];var s=o.penalties,a=o.gridSize,c=m_(o.obstacles.concat([n,r]),a,o.offset),l={x:g_(t.x,a),y:g_(t.y,a)},u={x:g_(e.x,a),y:g_(e.y,a)};t.id="".concat(l.x,"|||").concat(l.y),e.id="".concat(u.x,"|||").concat(u.y);var d=k_(l,t,n,u,o),h=k_(u,e,r,l,o);d.forEach((function(t){delete c[t.id]})),h.forEach((function(t){delete c[t.id]}));for(var f={},p={},g={},m={},v={},b=new l_,y=0;y<d.length;y++){var w=d[y];f[w.id]=w,m[w.id]=0,v[w.id]=y_(w,h,o.distFunc),b.add({id:w.id,value:v[w.id]})}var _,A,C,x,E,S,M=o.maximumLoops,I=1/0,D={};h.forEach((function(t){D["".concat(t.x,"|||").concat(t.y)]=!0})),Object.keys(f).forEach((function(t){var e=f[t].id;v[e]<=I&&(I=v[e],_=f[e])}));while(Object.keys(f).length>0&&M>0){var T=b.minId((M+1)%30===0);if(!T)break;if(_=f[T],D["".concat(_.x,"|||").concat(_.y)])return __(_,g,l,e,t,u,a);delete f[_.id],b.remove(_.id),p[_.id]=!0;for(y=0;y<o.directions.length;y++){A=o.directions[y];var O="".concat(Math.round(_.x)+A.stepX,"|||").concat(Math.round(_.y)+A.stepY);if(C={x:_.x+A.stepX,y:_.y+A.stepY,id:O},!p[O]&&(S=w_(_,C,g,l),!(S>o.maxAllowedDirectionChange)&&!c[O])){f[O]||(f[O]=C);var N=s[S];x=o.distFunc(_,C)+(isNaN(N)?a:N),E=m[_.id]+x;var P=m[O];P&&E>=P||(g[O]=_,m[O]=E,v[O]=E+y_(C,h,o.distFunc),b.add({id:O,value:v[O]}))}}M-=1}return o.fallbackRoute(t,e,n,r,o)};hd("polyline",{options:{color:gd.defaultEdge.color,size:gd.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:gd.defaultEdge.style.stroke,lineAppendWidth:gd.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:gd.edgeLabel.style.fill,fontSize:gd.edgeLabel.style.fontSize,fontFamily:gd.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,y.__assign)({},gd.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);0===n.radius&&delete n.radius;var r=e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return e["shapeMap"]["edge-shape"]=r,r},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},r=(0,k.mix)({},e,n,t.style);t=this.getPathPoints(t),this.radius=r.radius,this.offset=r.offset;var i=t.startPoint,o=t.endPoint,s=this.getControlPoints(t),a=[i];s&&(a=a.concat(s)),a.push(o);var c=t.sourceNode,l=t.targetNode,u=r.radius,d=this.options.routeCfg,h=(0,k.mix)({},d,t.routeCfg);h.offset=r.offset;var f=this.getPath(a,c,l,u,h,!Boolean(s));((0,k.isArray)(f)&&f.length<=1||(0,k.isString)(f)&&-1===f.indexOf("L"))&&(f="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(o.x)||isNaN(o.y))&&(f="M0 0, L0 0");var p=(0,k.mix)({},gd.defaultEdge.style,r,{lineWidth:t.size,path:f});return p},updateShapeStyle:function(t,e){var n=e.getContainer();if(e.isVisible()){var r={stroke:t.color},i=n["shapeMap"]["edge-shape"]||n.find((function(t){return"edge-shape"===t.get("className")}))||e.getKeyShape(),o=t.size;t=this.getPathPoints(t);var s=t.startPoint,a=t.endPoint,c=this.getControlPoints(t),l=[s];c&&(l=l.concat(c)),l.push(a);var u=i.attr(),d=(0,k.mix)({},r,u,t.style),h=t.sourceNode,f=t.targetNode,p=d.radius,g=this.options.routeCfg,m=(0,k.mix)({},g,t.routeCfg);m.offset=d.offset;var v=this.getPath(l,h,f,p,m,!Boolean(c));((0,k.isArray)(v)&&v.length<=1||(0,k.isString)(v)&&-1===v.indexOf("L"))&&(v="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(a.x)||isNaN(a.y))&&(v="M0 0, L0 0"),u.endArrow&&!1===d.endArrow&&(t.style.endArrow={path:""}),u.startArrow&&!1===d.startArrow&&(t.style.startArrow={path:""});var b=(0,k.mix)(r,i.attr(),{lineWidth:o,path:v},t.style);i&&i.attr(b)}},getPath:function(t,e,n,r,i,o){var s=i.offset,a=i.obstacles,c=i.simple;if(!s||t.length>2||!1===o){if(r)return s_(t,r);var l=[];return(0,k.each)(t,(function(t,e){0===e?l.push(["M",t.x,t.y]):l.push(["L",t.x,t.y])})),l}!1===c||(null===a||void 0===a?void 0:a.length)||(c=!0);var u=c?a_(t[t.length-1],t[0],n,e,s):A_(t[0],t[t.length-1],e,n,i);if(!u||!u.length)return"M0 0, L0 0";if(r){var d=s_(u,r);return d}u=c_(u);var h=sd.pointsToPolygon(u);return h}},"single-edge");var C_=qg.cloneEvent,x_=qg.isNaN,E_=Math.abs,S_=10,M_=["shift","ctrl","alt","control"],I_={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{mousedown:"onMouseDown",drag:"onDragMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(t){var e=this.origin,n=+t.clientX,r=+t.clientY;if(!x_(n)&&!x_(r)){var i=n-e.x,o=r-e.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(i=0),this.origin={x:n,y:r};var s=this.graph.get("width"),a=this.graph.get("height"),c=this.graph.get("canvas").getCanvasBBox(),l=this.scalableRange,u=this.scalableRange;l<1&&l>-1&&(l*=s,u*=a),(c.minX<=s+l&&c.minX+i>s+l||c.maxX+l>=0&&c.maxX+l+i<0)&&(i=0),(c.minY<=a+u&&c.minY+o>a+u||c.maxY+u>=0&&c.maxY+u+o<0)&&(o=0),this.graph.translate(i,o)}},onTouchStart:function(t){var e=this,n=t.originalEvent.touches,r=n[0],i=n[1];r&&i||(t.preventDefault(),this.mousedown=!0,e.onDragStart(t))},onMouseDown:function(t){this.mousedown=!0},onDragMove:function(t){this.mousedown&&(this.dragstart?this.onDrag(t):(this.dragstart=!0,this.onDragStart(t)))},onDragStart:function(t){var e=this,n=t.originalEvent;if((!n||"touchstart"===t.name||0===n.button)&&("touchstart"===t.name||"undefined"===typeof window||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin(t,this)&&!e.keydown&&this.allowDrag(t)){if(e.origin={x:t.clientX,y:t.clientY},e.dragging=!1,this.enableOptimize){for(var r=this.graph,i=r.getEdges(),o=0,s=i.length;o<s;o++){var a=i[o].get("group").get("children");a&&a.forEach((function(t){t.set("ori-visibility",t.get("ori-visibility")||t.get("visible")),t.hide()}))}for(var c=r.getNodes(),l=0,u=c.length;l<u;l++)for(var d=c[l].getContainer(),h=d.get("children"),f=0,p=h;f<p.length;f++){var g=p[f],m=g.get("isKeyShape");m||(g.set("ori-visibility",g.get("ori-visibility")||g.get("visible")),g.hide())}}if("undefined"!==typeof window){var v=this;this.handleDOMContextMenu=function(t){return v.onMouseUp(t)},document.body.addEventListener("contextmenu",this.handleDOMContextMenu)}}},onTouchMove:function(t){var e=this,n=t.originalEvent.touches,r=n[0],i=n[1];r&&i?this.onMouseUp(t):(t.preventDefault(),e.onDrag(t))},onDrag:function(t){if(this.mousedown){var e=this.graph;if(!this.keydown&&this.allowDrag(t)&&(t=C_(t),this.origin)){if(this.dragging)t.type="drag",e.emit("canvas:drag",t);else{if(E_(this.origin.x-t.clientX)+E_(this.origin.y-t.clientY)<S_)return;this.shouldBegin(t,this)&&(t.type="dragstart",e.emit("canvas:dragstart",t),this.originPosition={x:t.clientX,y:t.clientY},this.dragging=!0)}this.shouldUpdate(t,this)&&this.updateViewport(t)}}},onMouseUp:function(t){var e,n;this.mousedown=!1,this.dragstart=!1;var r=this.graph;if(!this.keydown){var i=r.getZoom(),o=r.get("modeController"),s=null===(n=null===(e=null===o||void 0===o?void 0:o.modes[o.mode])||void 0===e?void 0:e.filter((function(t){return"zoom-canvas"===t.type})))||void 0===n?void 0:n[0],a=s?s.optimizeZoom||.1:0;if(this.enableOptimize){for(var c=r.getEdges(),l=0,u=c.length;l<u;l++){var d=c[l].get("group").get("children");d&&d.forEach((function(t){var e=t.get("ori-visibility");t.set("ori-visibility",void 0),e&&t.show()}))}if(i>a)for(var h=r.getNodes(),f=0,p=h.length;f<p;f++)for(var g=h[f].getContainer(),m=g.get("children"),v=0,b=m;v<b.length;v++){var y=b[v],k=y.get("isKeyShape");if(!k){var w=y.get("ori-visibility");y.set("ori-visibility",void 0),w&&y.show()}}}this.dragging?(t=C_(t),this.shouldEnd(t,this)&&this.updateViewport(t),t.type="dragend",t.dx=t.clientX-this.originPosition.x,t.dy=t.clientY-this.originPosition.y,r.emit("canvas:dragend",t),this.endDrag(),"undefined"!==typeof window&&document.body.removeEventListener("contextmenu",this.handleDOMContextMenu)):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1,this.mousedown=!1,this.dragstart=!1},onKeyDown:function(t){var e=this,n=t.key;n&&(M_.indexOf(n.toLowerCase())>-1?e.keydown=!0:e.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1},allowDrag:function(t){var e,n,r=t.target,i=r&&r.isCanvas&&r.isCanvas();if((0,k.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!i)return!1;if((0,k.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,a=o.edge,c=o.combo,l=null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e);if(!s&&"node"===l)return!1;if(!a&&"edge"===l)return!1;if(!c&&"combo"===l)return!1}return!0}},D_={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:mousedown":"onMouseDown",drag:"onDragMove",dragend:"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd",afterchangedata:"onDragEnd"}},validationCombo:function(t){if(!this.origin||!t||t.destroyed)return!1;var e=t.getType();return"combo"===e},onTouchStart:function(t){if(t.item){var e=this;try{var n=t.originalEvent.touches,r=n[0],i=n[1];if(r&&i)return;t.preventDefault()}catch(o){console.warn("Touch original event not exist!")}this.mousedown={item:t.item,target:t.target,origin:{x:t.x,y:t.y}},this.dragstart=!0,e.onDragStart(t)}},onTouchMove:function(t){var e=this;try{var n=t.originalEvent.touches,r=n[0],i=n[1];if(r&&i)return void e.onDragEnd(t);t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}e.onDrag(t)},onMouseDown:function(t){this.mousedown={item:t.item,target:t.target,origin:{x:t.x,y:t.y}},"undefined"===typeof window||this.windowEventBinded||(this.windowEventBinded=!0,document.body.addEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.addEventListener("mouseup",this.onDragEnd.bind(this)))},onDragMove:function(t){var e,n;"node"===(null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e))?this.mousedown&&(this.dragstart?this.onDrag((0,y.__assign)((0,y.__assign)({},t),this.mousedown)):(this.dragstart=!0,this.onDragStart(t))):this.onDragEnd()},onDragStart:function(t){var e=this;if(this.currentShouldEnd=!0,this.shouldBegin((0,y.__assign)((0,y.__assign)({},t),this.mousedown),this)){var n=this.mousedown,r=n.item,i=n.target;if(r&&!r.destroyed&&!r.hasLocked()){var o=r.getContainer();if(o.set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(r),i){var s=i.get("isAnchorPoint");if(s)return}var a=this.graph;this.targets=[],this.targetCombo=null;var c=a.findAllByState("node",this.selectedState),l=r.get("id"),u=c.filter((function(t){var e=t.get("id");return l===e}));if(0===u.length?this.targets.push(r):c.length>1?c.forEach((function(t){var n=t.hasLocked();n||e.targets.push(t)})):this.targets.push(r),this.graph.get("enabledStack")&&this.enableStack){var d=[];this.targets.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y,i=e.id;d.push({x:n,y:r,id:i})})),this.set("beforeDragNodes",d)}this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(t){var n=t.getEdges();n.forEach((function(t){t.isVisible()&&(e.hidenEdge[t.getID()]=!0,t.hide())}))})),this.origin=this.mousedown.origin,this.point={},this.originPoint={}}}},onDrag:function(t){var e=this;if(this.mousedown&&this.origin&&this.shouldUpdate(t,this))if(this.get("enableDelegate"))this.updateDelegate(t);else if(this.enableDebounce)this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos});else{var n={};this.targets.map((function(r){e.update(r,t);var i=r.getModel().comboId;i&&(n[i]=e.graph.findById(i))})),this.onlyChangeComboSize&&this.updateParentCombos()}},onDragEnd:function(t){var e,n=this;if(this.mousedown=!1,this.dragstart=!1,"undefined"!==typeof window&&this.windowEventBinded&&(this.windowEventBinded=!1,document.body.removeEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.removeEventListener("mouseup",this.onDragEnd.bind(this))),this.origin){null===(e=this.cachedCaptureItems)||void 0===e||e.forEach((function(t){var e=t.getContainer();e.set("capture",!0)})),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(t){var e=t.getEdges();e.forEach((function(t){n.hidenEdge[t.getID()]&&t.show(),t.refresh()}))})),this.hidenEdge={};var r=this.graph;if(r.get("enabledStack")&&this.enableStack){var i={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach((function(t){i.before.nodes.push(t)})),this.targets.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y,o=e.id;i.after.nodes.push({x:n,y:r,id:o})})),r.pushStack("update",(0,k.clone)(i))}r.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(t){var e=t.item;if(this.currentShouldEnd=this.shouldEnd(t,e,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(e)){var n=this.graph;if(this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1),this.targetCombo=e,this.onlyChangeComboSize)n.updateCombos();else{var r=e.getModel();this.targets.map((function(t){var e=t.getModel();e.comboId!==r.id&&n.updateComboTree(t,r.id)})),n.updateCombo(e)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(t){var e=this.graph;this.currentShouldEnd=this.shouldEnd(t,void 0,this),this.updatePositions(t,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?this.updateParentCombos():this.targets.map((function(t){var n=t.getModel();n.comboId&&e.updateComboTree(t)})))},onDropNode:function(t){if(this.targets&&0!==this.targets.length){var e=this,n=t.item,r=e.graph,i=n.getModel().comboId,o=i?r.findById(i):void 0;if(this.currentShouldEnd=this.shouldEnd(t,o,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd){if(this.onlyChangeComboSize)this.updateParentCombos();else if(i){var s=r.findById(i);e.comboActiveState&&r.setItemState(s,e.comboActiveState,!1),this.targets.map((function(t){var e=t.getModel();i!==e.comboId&&r.updateComboTree(t,i)})),r.updateCombo(s)}else this.targets.map((function(t){var e=t.getModel();e.comboId&&r.updateComboTree(t)}));r.emit("dragnodeend",{items:this.targets,targetItem:n})}}},onDragEnter:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!0)}},onDragLeave:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1)}},updatePositions:function(t,e){var n=this;this.targets&&0!==this.targets.length&&(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos}):e||this.targets.map((function(e){return n.update(e,t)})):this.targets.map((function(r){return n.update(r,t,e)})))},update:function(t,e,n){var r=this.origin,i=t.get("model"),o=t.get("id");this.point[o]||(this.point[o]={x:i.x||0,y:i.y||0});var s=e.x-r.x+this.point[o].x,a=e.y-r.y+this.point[o].y;n&&(s+=r.x-e.x,a+=r.y-e.y);var c={x:s,y:a};this.get("updateEdge")?this.graph.updateItem(t,c,!1):t.updatePosition(c)},debounceUpdate:(0,k.debounce)((function(t){var e=t.targets,n=t.graph,r=t.point,i=t.origin,o=t.evt,s=t.updateEdge,a=t.onlyChangeComboSize,c=t.updateParentCombos;e.map((function(t){var e=t.get("model"),a=t.get("id");r[a]||(r[a]={x:e.x||0,y:e.y||0});var c=o.x-i.x+r[a].x,l=o.y-i.y+r[a].y,u={x:c,y:l};s?n.updateItem(t,u,!1):t.updatePosition(u)})),a&&c(n,e)}),50,!0),updateDelegate:function(t){var e=this.graph;if(this.delegateRect){var n=t.x-this.origin.x+this.originPoint.minX,r=t.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:n,y:r})}else{var i=e.get("group"),o=(0,k.deepMix)({},Mg.delegateStyle,this.delegateStyle),s=this.calculationGroupPosition(t),a=s.x,c=s.y,l=s.width,u=s.height,d=s.minX,h=s.minY;this.originPoint={x:a,y:c,width:l,height:u,minX:d,minY:h},this.delegateRect=i.addShape("rect",{attrs:(0,y.__assign)({width:l,height:u,x:a,y:c},o),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(t){var e=this.targets;0===e.length&&e.push(t.item);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,s=0;s<e.length;s++){var a=e[s],c=a.getBBox(),l=c.minX,u=c.minY,d=c.maxX,h=c.maxY;l<n&&(n=l),u<i&&(i=u),d>r&&(r=d),h>o&&(o=h)}var f=Math.floor(n),p=Math.floor(i),g=Math.ceil(r)-Math.floor(n),m=Math.ceil(o)-Math.floor(i);return{x:f,y:p,width:g,height:m,minX:n,minY:i}},updateParentCombos:function(t,e){var n=t||this.graph,r=e||this.targets,i={};null===r||void 0===r||r.forEach((function(t){var e=t.getModel().comboId;e&&(i[e]=n.findById(e))})),Object.values(i).forEach((function(t){t&&n.updateCombo(t)}))}},T_={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(t){var e=this;try{var n=t.originalEvent.touches,r=n[0],i=n[1];if(r&&i)return;t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}e.setAllItemStates(t)},clearOnTouchStart:function(t){var e=this;try{var n=t.originalEvent.touches,r=n[0],i=n[1];if(r&&i)return;t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}e.clearActiveState(t)},setAllItemStates:function(t){clearTimeout(this.timer),this.throttleSetAllItemStates(t,this)},clearActiveState:function(t){var e=this;this.timer=setTimeout((function(){e.throttleClearActiveState(t,e)}),50)},throttleSetAllItemStates:(0,k.throttle)((function(t,e){var n=t.item,r=e.graph;if(r&&!r.destroyed&&(e.item=n,e.shouldUpdate(t.item,{event:t,action:"activate"},e))){for(var i=e.activeState,o=e.inactiveState,s=r.getNodes(),a=r.getCombos(),c=r.getEdges(),l=r.get("vedges"),u=s.length,d=a.length,h=c.length,f=l.length,p=e.inactiveItems||{},g=e.activeItems||{},m=0;m<u;m++){var v=s[m],b=v.getID(),y=v.hasState("selected");e.resetSelected&&y&&r.setItemState(v,"selected",!1),g[b]&&(r.setItemState(v,i,!1),delete g[b]),o&&!p[b]&&(r.setItemState(v,o,!0),p[b]=v)}for(m=0;m<d;m++){var k=a[m],w=k.getID();y=k.hasState("selected");e.resetSelected&&y&&r.setItemState(k,"selected",!1),g[w]&&(r.setItemState(k,i,!1),delete g[w]),o&&!p[w]&&(r.setItemState(k,o,!0),p[w]=k)}for(m=0;m<h;m++){var _=c[m],A=_.getID();g[A]&&(r.setItemState(_,i,!1),delete g[A]),o&&!p[A]&&(r.setItemState(_,o,!0),p[A]=_)}for(m=0;m<f;m++){var C=l[m],x=C.getID();g[x]&&(r.setItemState(C,i,!1),delete g[x]),o&&!p[x]&&(r.setItemState(C,o,!0),p[x]=C)}if(n&&!n.destroyed){o&&(r.setItemState(n,o,!1),delete p[n.getID()]),g[n.getID()]||(r.setItemState(n,i,!0),g[n.getID()]=n);var E=n.getEdges(),S=E.length;for(m=0;m<S;m++){_=E[m],A=_.getID();var M=void 0;M=_.getSource()===n?_.getTarget():_.getSource();var I=M.getID();o&&p[I]&&(r.setItemState(M,o,!1),delete p[I]),g[I]||(r.setItemState(M,i,!0),g[I]=M),p[A]&&(r.setItemState(_,o,!1),delete p[A]),g[A]||(r.setItemState(_,i,!0),g[A]=_),_.toFront()}}e.activeItems=g,e.inactiveItems=p,r.emit("afteractivaterelations",{item:t.item,action:"activate"})}}),50,{trailing:!0,leading:!0}),throttleClearActiveState:(0,k.throttle)((function(t,e){var n=e.get("graph");if(n&&!n.destroyed&&e.shouldUpdate(t.item,{event:t,action:"deactivate"},e)){var r=e.activeState,i=e.inactiveState,o=e.activeItems||{},s=e.inactiveItems||{};Object.values(o).filter((function(t){return!t.destroyed})).forEach((function(t){n.clearItemStates(t,r)})),Object.values(s).filter((function(t){return!t.destroyed})).forEach((function(t){n.clearItemStates(t,i)})),e.activeItems={},e.inactiveItems={},n.emit("afteractivaterelations",{item:t.item||e.get("item"),action:"deactivate"})}}),50,{trailing:!0,leading:!0})},O_=Math.min,N_=Math.max,P_=Math.abs,L_="shift",B_=["drag","shift","ctrl","alt","control"],R_={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:L_,includeEdges:!0,includeCombos:!1,selectedEdges:[],selectedNodes:[],selectedCombos:[]}},getEvents:function(){return B_.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=L_,console.warn("Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(t){var e=t.item,n=this.brush;e||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:t.canvasX,y:t.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(t)},onMouseUp:function(t){this.graph;(this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(t),this.dragging=!1)},clearStates:function(){var t=this,e=t.graph,n=t.selectedState,r=e.findAllByState("node",n),i=e.findAllByState("edge",n),o=e.findAllByState("combo",n);r.forEach((function(t){return e.setItemState(t,n,!1)})),i.forEach((function(t){return e.setItemState(t,n,!1)})),o.forEach((function(t){return e.setItemState(t,n,!1)})),this.selectedNodes=[],this.selectedEdges=[],this.selectedCombos=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges,this.selectedCombos),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},isBBoxCenterInRect:function(t,e,n,r,i){var o=t.getBBox();return o.centerX>=e&&o.centerX<=n&&o.centerY>=r&&o.centerY<=i},getSelectedNodes:function(t){var e=this,n=this,r=n.graph,i=n.originPoint,o=n.shouldUpdate,s=n.isBBoxCenterInRect,a=this.selectedState,c={x:t.x,y:t.y},l=r.getPointByCanvas(i.x,i.y),u=O_(c.x,l.x),d=N_(c.x,l.x),h=O_(c.y,l.y),f=N_(c.y,l.y),p=[],g=[];r.getNodes().forEach((function(t){if(t.isVisible()&&s(t,u,d,h,f)&&o(t,"select",e)){p.push(t);var n=t.getModel();g.push(n.id),r.setItemState(t,a,!0)}}));var m=[];this.includeEdges&&p.forEach((function(t){var n=t.getOutEdges();n.forEach((function(t){if(t.isVisible()){var n=t.getModel(),i=n.source,s=n.target;g.includes(i)&&g.includes(s)&&o(t,"select",e)&&(m.push(t),r.setItemState(t,e.selectedState,!0))}}))}));var v=[];this.includeCombos&&r.getCombos().forEach((function(t){if(t.isVisible()&&s(t,u,d,h,f)&&o(t,"select",e)){v.push(t);var n=t.getModel();g.push(n.id),r.setItemState(t,a,!0)}})),this.selectedEdges=m,this.selectedNodes=p,this.selectedCombos=v,this.onSelect&&this.onSelect(p,m,v),r.emit("nodeselectchange",{selectedItems:{nodes:p,edges:m,combos:v},select:!0})},createBrush:function(){var t=this,e=t.graph.get("canvas").addShape("rect",{attrs:t.brushStyle,capture:!1,name:"brush-shape"});return this.brush=e,this.delegate=e,e},updateBrush:function(t){var e=this.originPoint;this.brush.attr({width:P_(t.canvasX-e.x),height:P_(t.canvasY-e.y),x:O_(t.canvasX,e.x),y:O_(t.canvasY,e.y)})},onKeyDown:function(t){var e=t.key;if(e){var n=this.trigger.toLowerCase(),r=e.toLowerCase();this.keydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},j_="shift",z_=["shift","ctrl","alt","control"],F_={getDefaultCfg:function(){return{multiple:!0,trigger:j_,selectedState:"selected",selectNode:!0,selectEdge:!1,selectCombo:!0}},getEvents:function(){var t=this;return z_.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=j_,console.warn("Behavior click-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),t.multiple?{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(t){var e=this,n=t.item;if(n&&!n.destroyed){var r=n.getType(),i=e.graph,o=e.keydown,s=e.multiple,a=e.shouldUpdate,c=e.shouldBegin;if(c(t,e)){if(!o||!s){var l=i.findAllByState("node",e.selectedState).concat(i.findAllByState("edge",e.selectedState)).concat(i.findAllByState("combo",e.selectedState));(0,k.each)(l,(function(t){t!==n&&i.setItemState(t,e.selectedState,!1)}))}var u=function(){switch(r){case"node":return e.selectNode;case"edge":return e.selectEdge;case"combo":return e.selectCombo;default:return!1}}();if(u)if(n.hasState(e.selectedState)){a(t,e)&&i.setItemState(n,e.selectedState,!1);d=i.findAllByState("node",e.selectedState),h=i.findAllByState("edge",e.selectedState),f=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:d,edges:h,combos:f},select:!1})}else{a(t,e)&&i.setItemState(n,e.selectedState,!0);d=i.findAllByState("node",e.selectedState),h=i.findAllByState("edge",e.selectedState),f=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:d,edges:h,combos:f},select:!0})}else{var d=i.findAllByState("node",e.selectedState),h=i.findAllByState("edge",e.selectedState),f=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{selectedItems:{nodes:d,edges:h,combos:f},select:!1})}}}},onCanvasClick:function(t){var e=this,n=this,r=n.graph,i=n.shouldBegin;if(i(t,this)){var o=r.findAllByState("node",this.selectedState);(0,k.each)(o,(function(t){r.setItemState(t,e.selectedState,!1)}));var s=r.findAllByState("edge",this.selectedState);(0,k.each)(s,(function(t){r.setItemState(t,e.selectedState,!1)}));var a=r.findAllByState("combo",this.selectedState);(0,k.each)(a,(function(t){r.setItemState(t,e.selectedState,!1)})),r.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(t){var e=this,n=t.key;n&&(n.toLowerCase()===this.trigger.toLowerCase()||"control"===n.toLowerCase()?e.keydown=!0:e.keydown=!1)},onKeyUp:function(){var t=this;t.keydown=!1}},V_=N,U_=.05,G_={getDefaultCfg:function(){return this.isFireFox="firefox"===Wg(),{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState="selected"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(t){var e=t.originalEvent.touches,n=e[0],r=e[1];t.preventDefault(),r&&(this.shouldBegin&&!this.shouldBegin(t,this)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(t){if(this.moveable){t.preventDefault();var e=t.originalEvent.touches,n=e[0],r=e[1];if(r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var i=function(t,e){return Math.hypot(e.x-t.x,e.y-t.y)},o=i({x:n.pageX,y:n.pageY},{x:r.pageX,y:r.pageY})/i({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var a=this.get("minZoom")||this.graph.get("minZoom"),c=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>c||s<a)){var l=this.get("animate"),u=this.get("animateCfg"),d=this.graph.get("canvas"),h=d.getPointByClient(t.clientX,t.clientY);this.graph.zoomTo(s,{x:h.x,y:h.y},l,u),this.graph.emit("wheelzoom",t)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(t){var e=this,n=this,r=n.graph,i=n.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin(t,this))&&this.shouldUpdate(t,this)){t.preventDefault();var o=r.get("canvas"),s=o.getPointByClient(t.clientX,t.clientY),a=this.get("sensitivity"),c=r.getZoom(),l=c,u=c;l=this.isFireFox?t.deltaY>0||t.wheelDelta<0?1-U_*a:1/(1-U_*a):t.wheelDelta<0?1-U_*a:1/(1-U_*a),u=c*l;var d=this.get("minZoom")||r.get("minZoom"),h=this.get("maxZoom")||r.get("maxZoom");u>h?u=h:u<d&&(u=d);var f=this.get("enableOptimize");if(f){var p=this.get("optimizeZoom"),g=this.get("optimized"),m=r.getNodes(),v=r.getEdges(),b=m.length,y=v.length;if(!g){for(var w=0;w<b;w++){var _=m[w];if(!_.destroyed)for(var A=_.get("group").get("children"),C=A.length,x=0;x<C;x++){var E=A[x];E.destoryed||E.get("isKeyShape")||(E.set("ori-visibility",E.get("ori-visibility")||E.get("visible")),E.hide())}}for(var S=0;S<y;S++){var M=v[S];for(A=M.get("group").get("children"),C=A.length,x=0;x<C;x++){E=A[x];E.set("ori-visibility",E.get("ori-visibility")||E.get("visible")),E.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var I=setTimeout((function(){var t=r.getZoom(),n=e.get("optimized");if(n){e.set("optimized",!1);for(var i=0;i<b;i++){var o=m[i],s=o.get("group").get("children"),a=s.length;if(t<p){var c=o.getKeyShape(),l=c.get("ori-visibility");c.set("ori-visibility",void 0),l&&c.show()}else for(var u=0;u<a;u++){var d=s[u];l=d.get("ori-visibility");d.set("ori-visibility",void 0),!d.get("visible")&&l&&l&&d.show()}}for(var h=0;h<y;h++){var f=v[h];s=f.get("group").get("children"),a=s.length;if(t<p){c=f.getKeyShape(),l=c.get("ori-visibility");c.set("ori-visibility",void 0),l&&c.show()}else for(u=0;u<a;u++){d=s[u];if(!d.get("visible")){l=d.get("ori-visibility");d.set("ori-visibility",void 0),l&&d.show()}}}}}),100);this.set("timeout",I)}if(c<=1){var D=void 0,T=void 0;if(i.fixAll||i.fixLineWidth||i.fixLabel){D=r.findAllByState("node",i.fixState),T=r.findAllByState("edge",i.fixState);for(var O=c/u,N=D.length,P=0;P<N;P++){_=D[P];var L=_.getContainer(),B=_.getModel(),R=_.getOriginStyle(),j=_.getStateStyle(i.fixState),z=_.get("shapeFactory").getShape(B.type).getStateStyle(i.fixState,_)[i.fixState];if(i.fixAll){if(u<=1){var F=(0,k.clone)(L.getMatrix());F||(F=[1,0,0,0,1,0,0,0,1]);var V=_.getModel(),U=V.x,G=V.y;F=V_(F,[["t",-U,-G],["s",O,O],["t",U,G]]),L.setMatrix(F)}}else for(A=L.get("children"),C=A.length,x=0;x<C;x++){E=A[x];var H=void 0,$=void 0;if(i.fixLabel){var W=E.get("type");if("text"===W){H=E.attr("fontSize")||12;var Y=j[E.get("name")],q=z[E.get("name")],X=Y?Y.fontSize:12,K=q?q.fontSize:12,Z=X||K||12;if(u<=1&&E.attr("fontSize",Z/u),$)break}}if(i.fixLineWidth&&E.get("isKeyShape")){$=E.attr("lineWidth")||0;var Q=j.lineWidth||z.lineWidth||R.lineWidth||0;if(u<=1&&E.attr("lineWidth",Q/u),H)break}}}for(var J=T.length,tt=0;tt<J;tt++)for(M=T[tt],L=M.getContainer(),A=L.get("children"),B=M.getModel(),j=M.getStateStyle(i.fixState),z=M.get("shapeFactory").getShape(B.type).getStateStyle(i.fixState,M)[i.fixState],C=A.length,x=0;x<C;x++){E=A[x],H=void 0,$=void 0;if(i.fixLabel||i.fixAll){W=E.get("type");if("text"===W){H=E.attr("fontSize")||12;Y=j[E.get("name")],q=z[E.get("name")],X=Y?Y.fontSize:12,K=q?q.fontSize:12,Z=X||K||12;if(u<=1&&E.attr("fontSize",Z/u),$)break}}if((i.fixLineWidth||i.fixAll)&&E.get("isKeyShape")){$=E.attr("lineWidth")||0;Q=j.lineWidth||z.lineWidth||1;if(u<=1&&E.attr("lineWidth",Q/u),H)break}}}}var et=this.get("animate"),nt=this.get("animateCfg");r.zoomTo(u,{x:s.x,y:s.y},et,nt),r.emit("wheelzoom",t)}}},H_={onMouseEnter:function(t){var e=t.item;this.currentTarget=e,this.showTooltip(t),this.graph.emit("tooltipchange",{item:t.item,action:"show"})},onMouseMove:function(t){this.shouldUpdate(t,this)?this.currentTarget&&t.item===this.currentTarget&&this.updatePosition(t):this.hideTooltip()},onMouseLeave:function(t){this.shouldEnd(t,this)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(t){var e=this.container;if(t.item&&!t.item.destroyed){e||(e=this.createTooltip(this.graph.get("canvas")),this.container=e);var n=this.formatText(t.item.get("model"),t);e.innerHTML=n,Nm(this.container,{visibility:"visible"}),this.updatePosition(t)}},hideTooltip:function(){Nm(this.container,{visibility:"hidden"})},updatePosition:function(t){var e=this.get("shouldBegin"),n=this,r=n.width,i=n.height,o=n.container,s=n.graph;if(e(t,this)){var a=s.getPointByClient(t.clientX,t.clientY),c=s.getCanvasByPoint(a.x,a.y),l=c.x,u=c.y,d=o.getBoundingClientRect();l>r/2?l-=d.width:l+=this.offset,u>i/2?u-=d.height:u+=this.offset;var h="".concat(l,"px"),f="".concat(u,"px");Nm(this.container,{left:h,top:f,visibility:"visible"})}else Nm(o,{visibility:"hidden"})},createTooltip:function(t){var e=t.get("el");e.style.position="relative";var n=_m('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return e.parentNode.appendChild(n),Nm(n,{position:"absolute",visibility:"visible"}),this.width=t.get("width"),this.height=t.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},$_=(0,y.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},H_),W_=(0,y.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: ".concat(t.source," target: ").concat(t.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},H_),Y_="click",q_=["click","dblclick"],X_={getDefaultCfg:function(){return{trigger:Y_,onChange:function(){}}},getEvents:function(){var t,e;return q_.includes(this.trigger)?e=this.trigger:(e=Y_,console.warn("Behavior collapse-expand 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),t={},t["node:".concat(e)]="onNodeClick",t.touchstart="onNodeClick",t},onNodeClick:function(t){var e=this;if("click"===this.trigger){if(this.timer)return clearTimeout(this.timer),void(this.timer=0);this.timer=setTimeout((function(){e.toggle(t),clearTimeout(e.timer),e.timer=0}),200)}else this.toggle(t)},toggle:function(t){var e=t.item;if(e){var n=this.graph.findDataById(e.get("id"));if(n){var r=n.children;if(r&&0!==r.length){var i=!n.collapsed;this.shouldBegin(t,i,this)&&(n.collapsed=i,e.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:t.item,collapsed:i}),this.shouldUpdate(t,i,this)&&(this.onChange(e,i,this),this.graph.layout()))}}}}},K_=qg.calculationItemsBBox,Z_=function t(e,n){if(!1!==n(e)&&e){var r=e.get("combos");if(0===r.length)return!1;(0,k.each)(r,(function(e){t(e,n)}))}},Q_={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected",enableStack:!0}},getEvents:function(){return{"combo:mousedown":"onMouseDown","combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(t){var e=t.item;if(!e||e.destroyed)return!1;if(!this.shouldUpdate(t,this))return!1;var n=e.getType();return"combo"===n},onMouseDown:function(t){this.origin={x:t.x,y:t.y}},onDragStart:function(t){var e=this,n=this.graph,r=t.item;if(this.currentShouldEnd=!0,this.validationCombo(t)){this.targets=[];var i=n.findAllByState("combo",this.selectedState),o=r.get("id"),s=i.filter((function(t){var e=t.get("id");return o===e}));0===s.length?this.targets.push(r):this.targets=i;var a=[];this.targets.forEach((function(t){var e=t.getModel(),n=e.x,r=e.y,i=e.id;a.push({x:n,y:r,id:i})})),this.set("beforeDragItems",a),this.activeState&&this.targets.map((function(t){var r=t.getModel();if(r.parentId){var i=n.findById(r.parentId);i&&n.setItemState(i,e.activeState,!0)}})),this.point={},this.originPoint={},this.currentItemChildCombos=[],Z_(r,(function(t){if(t.destroyed)return!1;var n=t.getModel();return e.currentItemChildCombos.push(n.id),!0}))}},onDrag:function(t){var e=this;if(this.origin&&this.validationCombo(t))if(this.enableDelegate)this.updateDelegate(t);else{if(this.activeState){var n=this.graph,r=t.item,i=r.getModel(),o=n.getCombos(),s=r.getBBox(),a=s.centerX,c=s.centerY,l=s.width,u=o.filter((function(t){var n=t.getModel();return i.parentId,n.id!==i.id&&!e.currentItemChildCombos.includes(n.id)}));u.map((function(t){var r=t.getBBox(),i=r.centerX,o=r.centerY,s=r.width,u=a-i,d=c-o,h=2*Math.sqrt(u*u+d*d);l+s-h>.8*l?n.setItemState(t,e.activeState,!0):n.setItemState(t,e.activeState,!1)}))}(0,k.each)(this.targets,(function(n){e.updateCombo(n,t)})),this.onlyChangeComboSize&&this.updateParentCombos()}},updatePositions:function(t,e){var n=this;(this.enableDelegate||e)&&(0,k.each)(this.targets,(function(r){n.updateCombo(r,t,e)}))},onDrop:function(t){var e=this,n=t.item;if(this.currentShouldEnd=this.shouldEnd(t,n,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&n&&this.targets&&!n.destroyed){var r=this.graph,i=n.getModel();this.targets.map((function(t){var o=t.getModel();o.parentId!==i.id?(e.activeState&&r.setItemState(n,e.activeState,!1),e.onlyChangeComboSize?r.updateCombo(t):r.updateComboTree(t,i.id,!1)):r.updateCombo(n)})),this.end(n,t),this.endComparison=!0}},onNodeDrop:function(t){var e=this;if(this.targets&&0!==this.targets.length){var n=this.graph,r=t.item,i=r.getModel().comboId,o=i?n.findById(i):void 0;if(this.currentShouldEnd=this.shouldEnd(t,o,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd){var s;if(i){if(this.activeState){var a=n.findById(i);n.setItemState(a,this.activeState,!1)}this.targets.map((function(t){e.onlyChangeComboSize?n.updateCombo(t):i!==t.getID()&&(s=n.findById(i),i!==t.getModel().parentId&&n.updateComboTree(t,i,!1))}))}else this.targets.map((function(t){if(e.onlyChangeComboSize)n.updateCombo(t);else{var r=t.getModel();r.comboId&&n.updateComboTree(t,void 0,!1)}}));this.endComparison=!0,this.end(s,t)}}},onDragEnter:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!0)}},onDragLeave:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!1)}},onDragEnd:function(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.currentShouldEnd&&this.updatePositions(t);var n=this.getParentCombo(e.getModel().parentId),r=this.graph;n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,t)}},end:function(t,e){var n=this;if(this.origin){var r=this.graph;if(this.delegateShape){var i=r.get("delegateGroup");i.clear(),this.delegateShape=null}if(t&&this.activeState&&r.setItemState(t,this.activeState,!1),!t){var o=r.get("enabledStack")&&this.enableStack,s={before:{nodes:[],edges:[],combos:[].concat(this.get("beforeDragItems"))},after:{nodes:[],edges:[],combos:[]}};this.targets.map((function(t){if(n.onlyChangeComboSize){r.updateCombo(t);var e=t.getModel(),i=e.x,a=e.y,c=e.id;s.after.combos.push({x:i,y:a,id:c}),r.pushStack("update",s)}else r.updateComboTree(t,void 0,o)}))}this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(t,e,n){var r=this;if(void 0===n&&(n={}),!1!==e(t,n)&&t){var i=t.get("combos");(0,k.each)(i,(function(t){r.traverse(t,e,n)}));var o=t.get("nodes");(0,k.each)(o,(function(t){r.traverse(t,e,n)}))}},updateCombo:function(t,e,n){this.updateSingleItem(t,e,n);var r={};this.traverse(t,(function(t,e){return!t.destroyed&&(t.getEdges().forEach((function(t){return e[t.getID()]=t})),!0)}),r),Object.values(r).forEach((function(t){return t.refresh()}))},updateSingleItem:function(t,e,n){var r=this.origin,i=this.graph,o=t.getModel(),s=t.get("id");this.point[s]||(this.point[s]={x:o.x,y:o.y});var a=e.x-r.x+this.point[s].x,c=e.y-r.y+this.point[s].y;n&&(a+=r.x-e.x,c+=r.y-e.y),i.updateItem(t,{x:a,y:c},!1)},getParentCombo:function(t){var e=this.graph;if(t){var n=e.findById(t);if(n)return n}},updateDelegate:function(t){var e=this.graph;if(this.delegateShape){var n=t.x-this.origin.x+this.originPoint.minX,r=t.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:r})}else{var i=e.get("delegateGroup"),o=null;o=this.targets.length>1?K_(this.targets):this.targets[0].getBBox();var s=o.x,a=o.y,c=o.width,l=o.height,u=o.minX,d=o.minY;this.originPoint={x:s,y:a,width:c,height:l,minX:u,minY:d};var h=(0,y.__assign)((0,y.__assign)({},Mg.delegateStyle),this.delegateStyle);this.delegateShape=i.addShape("rect",{attrs:(0,y.__assign)({width:o.width,height:o.height,x:o.x,y:o.y},h),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}},updateParentCombos:function(){var t=this,e=t.graph,n=t.targets,r={};null===n||void 0===n||n.forEach((function(t){var n=t.getModel().parentId;n&&(r[n]=e.findById(n))})),Object.values(r).forEach((function(t){t&&e.updateCombo(t)}))}},J_="dblclick",tA=["click","dblclick"],eA={getDefaultCfg:function(){return{trigger:J_,relayout:!0}},getEvents:function(){var t,e;return tA.includes(this.trigger)?e=this.trigger:(e=J_,console.warn("Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),t={},t["combo:".concat(e)]="onComboClick",t},onComboClick:function(t){var e=t.item,n=this,r=n.graph,i=n.relayout;if(e&&!e.destroyed&&"combo"===e.getType()){var o=e.getModel(),s=o.id;s&&(r.collapseExpandCombo(s),i&&r.get("layout")?r.layout():r.refreshPositions())}}},nA=qg.isPolygonsIntersect,rA=qg.pathToPoints,iA="shift",oA=["drag","shift","ctrl","alt","control"],sA=function(t,e){var n,r=t.getKeyShape();if("path"===t.get("type"))n=rA(r.attr("path"));else{var i=r.getCanvasBBox();n=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return nA(e,n)},aA={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:iA,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return oA.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=iA,console.warn("Behavior lasso-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(t){var e=this.lasso,n=t.item;n||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates("dragstart"),e||(e=this.createLasso()),this.dragging=!0,this.originPoint={x:t.x,y:t.y},this.points.push(this.originPoint),e.show())},onDragMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:t.x,y:t.y}),this.updateLasso(t))},onDragEnd:function(t){(this.lasso||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var t=this.points,e=[];return t.length&&(t.forEach((function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e.push(["L",t[0].x,t[0].y])),e},clearStates:function(t){void 0===t&&(t="canvas:click");var e=this,n=e.graph,r=e.selectedState,i=e.shouldDeselect,o=n.findAllByState("node",r),s=n.findAllByState("edge",r);i&&!i({action:t,nodes:o,edges:s})||(o.forEach((function(t){return n.setItemState(t,r,!1)})),s.forEach((function(t){return n.setItemState(t,r,!1)}))),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var t=this,e=this,n=e.graph,r=e.shouldUpdate,i=this.points.map((function(t){return[n.getCanvasByPoint(t.x,t.y).x,n.getCanvasByPoint(t.x,t.y).y]})),o=this.selectedState,s=[],a=[];n.getNodes().forEach((function(e){if(e.isVisible()&&sA(e,i)&&r(e,"select",t)){s.push(e);var c=e.getModel();a.push(c.id),n.setItemState(e,o,!0)}}));var c=[];this.includeEdges&&s.forEach((function(e){var i=e.getOutEdges();i.forEach((function(e){if(e.isVisible()){var i=e.getModel(),o=i.source,s=i.target;a.includes(o)&&a.includes(s)&&r(e,"select",t)&&(c.push(e),n.setItemState(e,t.selectedState,!0))}}))})),this.selectedEdges=c,this.selectedNodes=s,this.onSelect&&this.onSelect(s,c),n.emit("nodeselectchange",{selectedItems:{nodes:s,edges:c},select:!0})},createLasso:function(){var t=this,e=t.graph.get("delegateGroup").addShape("path",{attrs:(0,y.__assign)({path:[]},t.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=e,this.delegate=e,this.points=[],e},updateLasso:function(t){var e=this;this.lasso.attr({path:e.getLassoPath()})},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},cA="click",lA=["click","drag"],uA=void 0,dA=["shift","ctrl","control","alt","meta",void 0],hA={getDefaultCfg:function(){return{trigger:cA,key:uA,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var t,e=this;return lA.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=cA,console.warn("Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'")),e.key&&-1===dA.indexOf(e.key.toLowerCase())&&(e.trigger=uA,console.warn("Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined")),"drag"===e.trigger?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===e.trigger&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),e.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(t){var e=this;if(!e.key||e.keydown){var n=t.item;n&&n.getID()!==e.source&&"node"===n.getType()||e.cancelCreating({item:e.edge,x:t.x,y:t.y})}},onClick:function(t){var e=this;if(!e.key||e.keydown){var n=t.item,r=e.graph,i=n.getModel(),o=e.getEdgeConfig;if(e.addingEdge&&e.edge){if(!e.shouldEnd(t,e))return;var s=void 0;s=o&&(0,k.isFunction)(o)?o({source:e.source,target:i.id},e):e.edgeConfig;var a=(0,y.__assign)({target:i.id},s);if(e.source===i.id&&(a.type="loop"),r.emit("beforecreateedge",{}),r.updateItem(e.edge,a,!1),r.get("enabledStack")){var c=(0,y.__assign)((0,y.__assign)({},e.edge.getModel()),{itemType:"edge"}),l={};l.edges=[c],r.pushStack("add",{before:{},after:l})}r.emit("aftercreateedge",{edge:e.edge}),e.edge.getKeyShape().set("capture",!0),e.edge=null,e.addingEdge=!1}else{if(!e.shouldBegin(t,e))return;s=void 0;s=o&&(0,k.isFunction)(o)?o({source:i.id,target:i.id},e):e.edgeConfig,e.edge=r.addItem("edge",(0,y.__assign)({source:i.id,target:i.id},s),!1),e.source=i.id,e.addingEdge=!0,e.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(t){var e=this;if(!e.key||e.keydown){e.edge&&e.edge.destroyed&&e.cancelCreating({item:e.edge});var n={x:t.x,y:t.y};e.graph.findById(e.source)?e.addingEdge&&e.edge&&e.graph.updateItem(e.edge,{target:n},!1):e.addingEdge=!1}},cancelCreating:function(t){var e,n,r=this;if(!r.key||r.keydown){var i=r.graph,o=t.item;return r.addingEdge&&(r.edge===o||(null===(n=null===(e=t.target)||void 0===e?void 0:e.isCanvas)||void 0===n?void 0:n.call(e)))?(r.edge&&!r.edge.destroyed&&i.removeItem(r.edge,!1),r.edge=null,void(r.addingEdge=!1)):void 0}},onKeyDown:function(t){var e=this,n=t.key;n&&(n.toLowerCase()===e.key.toLowerCase()?e.keydown=!0:e.keydown=!1)},onKeyUp:function(){var t=this;t.addingEdge&&t.edge&&(t.graph.removeItem(t.edge,!1),t.addingEdge=!1,t.edge=null),this.keydown=!1}},fA="ctrl",pA=["shift","ctrl","alt","control"],gA="1",mA={getDefaultCfg:function(){return{trigger:fA,combinedKey:gA,functionName:"fitView",functionParams:[]}},getEvents:function(){return pA.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=fA,console.warn("Behavior shortcuts-fit-view 的 trigger 参数 '".concat(this.trigger,"' 不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(t){var e=t.key;if(e){var n=this.trigger.toLowerCase(),r=e.toLowerCase();this.triggerKeydown||(this.triggerKeydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n);var i=this.graph;if(!i[this.functionName])return console.warn("Behavior shortcuts-fit-view 的 functionName 参数 '".concat(this.functionName,"' 不合法，它不是 Graph 的一个函数名")),{};if(!this.triggerKeydown||this.combinedKey){var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===o||"control"===r&&"ctrl"===o||"ctrl"===r&&"control"===o)&&(this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]())}else this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},vA=["shift","ctrl","alt","control","meta"],bA={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0,allowDragOnItem:!0}},getEvents:function(){return this.zoomKey&&-1!==vA.indexOf(this.zoomKey)||(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(t){var e=this;if(this.allowDrag(t)){var n=this.graph,r=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];r.includes("control")&&r.push("ctrl");var i=r.some((function(e){return t["".concat(e,"Key")]}));if(i){var o=n.get("canvas"),s=o.getPointByClient(t.clientX,t.clientY),a=n.getZoom();t.wheelDelta>0?a+=.05*a:a-=.05*a,n.zoomTo(a,{x:s.x,y:s.y})}else{var c=t.deltaX||t.movementX,l=t.deltaY||t.movementY;!l&&navigator.userAgent.indexOf("Firefox")>-1&&(l=125*-t.wheelDelta/3);var u=this.graph.get("width"),d=this.graph.get("height"),h=this.graph.get("canvas").getCanvasBBox(),f=this.scalableRange,p=this.scalableRange;f<1&&f>-1&&(f*=u,p*=d);var g=h.minX,m=h.maxX,v=h.minY,b=h.maxY;c>0?m<-f?c=0:m-c<-f&&(c=m+f):c<0&&(g>u+f?c=0:g-c>u+f&&(c=g-(u+f))),l>0?b<-p?l=0:b-l<-p&&(l=b+p):l<0&&(v>d+p?l=0:v-l>d+p&&(l=v-(d+p))),"x"===this.get("direction")?l=0:"y"===this.get("direction")&&(c=0),n.translate(-c,-l)}t.preventDefault();var y=this.get("enableOptimize");if(y){var k=this.get("optimizeZoom"),w=this.get("optimized"),_=n.getNodes(),A=n.getEdges(),C=_.length,x=A.length;if(!w){for(var E=0;E<C;E++){var S=_[E];if(!S.destroyed)for(var M=S.get("group").get("children"),I=M.length,D=0;D<I;D++){var T=M[D];T.destoryed||T.get("isKeyShape")||(T.set("ori-visibility",T.get("ori-visibility")||T.get("visible")),T.hide())}}for(var O=0;O<x;O++){var N=A[O];for(M=N.get("group").get("children"),I=M.length,D=0;D<I;D++){T=M[D];T.set("ori-visibility",T.get("ori-visibility")||T.get("visible")),T.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var P=setTimeout((function(){var t=n.getZoom(),r=e.get("optimized");if(r){e.set("optimized",!1);for(var i=0;i<C;i++){var o=_[i],s=o.get("group").get("children"),a=s.length;if(t<k){var c=o.getKeyShape(),l=c.get("ori-visibility");l&&c.show()}else for(var u=0;u<a;u++){var d=s[u];l=d.get("ori-visibility");!d.get("visible")&&l&&l&&d.show()}}for(var h=0;h<x;h++){var f=A[h];s=f.get("group").get("children"),a=s.length;if(t<k){c=f.getKeyShape(),l=c.get("ori-visibility");l&&c.show()}else for(u=0;u<a;u++){d=s[u];if(!d.get("visible")){l=d.get("ori-visibility");l&&d.show()}}}}}),100);this.set("timeout",P)}}},allowDrag:function(t){var e,n,r=t.target,i=r&&r.isCanvas&&r.isCanvas();if((0,k.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!i)return!1;if((0,k.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,a=o.edge,c=o.combo,l=null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e);if(!s&&"node"===l)return!1;if(!a&&"edge"===l)return!1;if(!c&&"combo"===l)return!1}return!0}},yA={"drag-canvas":I_,"zoom-canvas":G_,"drag-node":D_,"activate-relations":T_,"brush-select":R_,"click-select":F_,"lasso-select":aA,tooltip:$_,"edge-tooltip":W_,"collapse-expand":X_,"drag-combo":Q_,"collapse-expand-combo":eA,"create-edge":hA,"shortcuts-call":mA,"scroll-canvas":bA};(0,k.each)(yA,(function(t,e){pd(e,t)}));var kA=(0,y.__assign)((0,y.__assign)({},r),md),wA=(Iw.Grid,Iw.Minimap,Iw.Bundling,Iw.Menu,Iw.Fisheye),_A=(Iw.ToolBar,Iw.Tooltip,Iw.TimeBar),AA=Iw.ImageMinimap,CA=Iw.EdgeFilterLens,xA=Iw.SnapLine,EA=(Iw.Legend,Iw.Annotation),SA={version:Mg.version,Graph:Mm,TreeGraph:Om,Util:qg,Layout:Pg.Layouts,TreeLayout:Zg,registerLayout:Qg,Global:Mg,registerBehavior:pd,registerCombo:fd,registerEdge:hd,registerNode:dd,Minimap:Iw.Minimap,Grid:Iw.Grid,Bundling:Iw.Bundling,Menu:Iw.Menu,ToolBar:Iw.ToolBar,Tooltip:Iw.Tooltip,Legend:Iw.Legend,TimeBar:_A,SnapLine:xA,Fisheye:wA,ImageMinimap:AA,EdgeFilterLens:CA,Annotation:EA,Algorithm:kA,Arrow:Ju,Marker:td,Shape:ed};SA.version="4.8.21";var MA=SA},6449:function(t,e,n){"use strict";n.r(e),n.d(e,{Graph:function(){return x},GraphWithEvent:function(){return z},algorithm:function(){return r},comparision:function(){return o},essence:function(){return i},generate:function(){return a}});var r={};n.r(r),n.d(r,{components:function(){return Y},dfs:function(){return K},dijkstra:function(){return st},dijkstraAll:function(){return ct},findCycles:function(){return ht},floydWarshall:function(){return zt},isAcyclic:function(){return Tt},postorder:function(){return Nt},preorder:function(){return Lt},prim:function(){return $},tarjan:function(){return ut},topsort:function(){return It}});var i={};n.r(i),n.d(i,{hasSelfLoop:function(){return ie},isGraph:function(){return ee},isNullGraph:function(){return re},isSimpleGraph:function(){return ne}});var o={};n.r(o),n.d(o,{containAllSameEdges:function(){return Wt},containAllSameNodes:function(){return $t},containSameEdges:function(){return Vt},containSameNodes:function(){return Ft},getSameEdges:function(){return Gt},getSameNodes:function(){return Ut},isGraphComplement:function(){return oe},isGraphContainsAnother:function(){return qt},isGraphOptionSame:function(){return Ht},isGraphSame:function(){return Yt}});var s,a={};function c(t,e){var n=t.get(e)||0;t.set(e,n+1)}function l(t,e){var n=t.get(e);void 0!==n&&(n-=1,n>0?t.set(e,n):t.delete(e))}function u(t,e,n,r){var i=String(e),o=String(n);if(!t&&i>o){var a=i;i=o,o=a}return i+s.EDGE_KEY_DELIM+o+s.EDGE_KEY_DELIM+(void 0===r?s.DEFAULT_EDGE_NAME:r)}function d(t,e,n,r){var i=String(e),o=String(n),s={v:e,w:n};if(!t&&i>o){var a=s.v;s.v=s.w,s.w=a}return void 0!==r&&(s.name=r),s}function h(t,e){return u(t,e.v,e.w,e.name)}function f(t){return"function"===typeof t}n.r(a),n.d(a,{getGraphComplement:function(){return se}}),function(t){t["DEFAULT_EDGE_NAME"]="\0",t["GRAPH_NODE"]="\0",t["EDGE_KEY_DELIM"]=""}(s||(s={}));var p=function(t){return t.nodes().map((function(e){var n=t.node(e),r=t.parent(e),i={id:e,value:n,parent:r};return void 0===i.value&&delete i.value,void 0===i.parent&&delete i.parent,i}))},g=function(t){return t.edges().map((function(e){var n=t.edge(e),r={v:e.v,w:e.w,value:n,name:e.name};return void 0===r.name&&delete r.name,void 0===r.value&&delete r.value,r}))},m=function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:p(t),edges:g(t),value:t.graph()};return void 0===e.value&&delete e.value,e},v=function(t){var e=new x(t.options);return void 0!==t.value&&e.setGraph(t.value),t.nodes.forEach((function(t){e.setNode(t.id,t.value),t.parent&&e.setParent(t.id,t.parent)})),t.edges.forEach((function(t){e.setEdge(t.v,t.w,t.value,t.name)})),e};function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var C={compound:!1,multigraph:!1,directed:!0},x=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w(this,t),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=s.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return e.directed},this.isMultigraph=function(){return e.multigraph},this.isCompound=function(){return e.compound},this.setGraph=function(t){return e.label=t,e},this.graph=function(){return e.label},this.setDefaultNodeLabel=function(t){return f(t)?e.defaultNodeLabelFn=t:e.defaultNodeLabelFn=function(){return t},e},this.nodeCount=function(){return e.nodeCountNum},this.node=function(t){return e.nodesLabelMap.get(t)},this.nodes=function(){return Array.from(e.nodesLabelMap.keys())},this.sources=function(){return e.nodes().filter((function(t){var n;return!(null===(n=e.inEdgesMap.get(t))||void 0===n?void 0:n.size)}))},this.sinks=function(){return e.nodes().filter((function(t){var n;return!(null===(n=e.outEdgesMap.get(t))||void 0===n?void 0:n.size)}))},this.setNodes=function(t,n){return t.map((function(t){return e.setNode(t,n)})),e},this.hasNode=function(t){return e.nodesLabelMap.has(t)},this.checkCompound=function(){if(!e.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(t){if(e.isCompound()){var n,r=null===(n=e.parentMap)||void 0===n?void 0:n.get(t);if(r!==e.GRAPH_NODE)return r}},this.removeFromParentsChildList=function(t){var n=e.parentMap.get(t);e.childrenMap.get(n).delete(t)},this.setParent=function(t,n){var r,i;e.checkCompound();var o=void 0===n?e.GRAPH_NODE:n,s=e.parent(o);while(s){if(t===s)throw new Error("Setting "+n+" as parent of "+t+" would create a cycle");s=e.parent(s)}n&&e.setNode(n),e.setNode(t),e.removeFromParentsChildList(t),null===(r=e.parentMap)||void 0===r||r.set(t,o);var a=e.childrenMap.get(o);return a.set(t,!0),null===(i=e.childrenMap)||void 0===i||i.set(o,a),e},this.children=function(t){var n=void 0===t?e.GRAPH_NODE:t;if(e.isCompound()){var r,i=null===(r=e.childrenMap)||void 0===r?void 0:r.get(n);return i?Array.from(i.keys()):void 0}return n===e.GRAPH_NODE?e.nodes():t&&e.hasNode(t)?[]:void 0},this.predecessors=function(t){var n=e.predecessorsMap.get(t);return n?Array.from(n.keys()):void 0},this.successors=function(t){var n=e.successorsMap.get(t);return n?Array.from(n.keys()):void 0},this.neighbors=function(t){var n;if(e.hasNode(t))return Array.from(new Set(null===(n=e.predecessors(t))||void 0===n?void 0:n.concat(e.successors(t))))},this.isLeaf=function(t){var n,r;return e.isDirected()?!(null===(r=e.successors(t))||void 0===r?void 0:r.length):!(null===(n=e.neighbors(t))||void 0===n?void 0:n.length)},this.filterNodes=function(n){var r=e.directed,i=e.multigraph,o=e.compound,s=new t({directed:r,multigraph:i,compound:o});if(s.setGraph(e.graph()),e.nodes().forEach((function(t){n(t)&&s.setNode(t,e.node(t))})),e.edges().forEach((function(t){s.hasNode(t.v)&&s.hasNode(t.w)&&s.setEdgeObj(t,e.edge(t))})),o){var a=function(t){var n=e.parent(t);while(void 0!==n&&!s.hasNode(n))n=e.parent(n);return n};s.nodes().forEach((function(t){s.setParent(t,a(t))}))}return s},this.setDefaultEdgeLabel=function(t){return f(t)?e.defaultEdgeLabelFn=t:e.defaultEdgeLabelFn=function(){return t},e},this.edgeCount=function(){return e.edgeCountNum},this.setEdgeObj=function(t,n){return e.setEdge(t.v,t.w,n,t.name)},this.setPath=function(t,n){return t.reduce((function(t,r){return e.setEdge(t,r,n),r})),e},this.edgeFromArgs=function(t,n,r){return e.edge({v:t,w:n,name:r})},this.edge=function(t){return e.edgesLabelsMap.get(h(e.isDirected(),t))},this.hasEdge=function(t,n,r){return e.edgesLabelsMap.has(h(e.isDirected(),{v:t,w:n,name:r}))},this.removeEdgeObj=function(t){var n=t.v,r=t.w,i=t.name;return e.removeEdge(n,r,i)},this.edges=function(){return Array.from(e.edgesMap.values())},this.inEdges=function(t,n){var r=e.inEdgesMap.get(t);if(r)return Array.from(r.values()).filter((function(t){return!n||t.v===n}))},this.outEdges=function(t,n){var r=e.outEdgesMap.get(t);if(r)return Array.from(r.values()).filter((function(t){return!n||t.w===n}))},this.nodeEdges=function(t,n){var r;if(e.hasNode(t))return null===(r=e.inEdges(t,n))||void 0===r?void 0:r.concat(e.outEdges(t,n))},this.toJSON=function(){return m(e)},this.nodeInDegree=function(t){var n=e.inEdgesMap.get(t);return n?n.size:0},this.nodeOutDegree=function(t){var n=e.outEdgesMap.get(t);return n?n.size:0},this.nodeDegree=function(t){return e.nodeInDegree(t)+e.nodeOutDegree(t)},this.source=function(t){return t.v},this.target=function(t){return t.w};var r=y(y({},C),n);this.compound=r.compound,this.directed=r.directed,this.multigraph=r.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}return A(t,[{key:"setNode",value:function(t,e){var n,r=this.nodesLabelMap,i=this.defaultNodeLabelFn,o=this.isCompound,s=this.parentMap,a=this.childrenMap,c=this.inEdgesMap,l=this.outEdgesMap,u=this.predecessorsMap,d=this.successorsMap;if(r.has(t))return void 0!==e&&r.set(t,e),this;(r.set(t,e||i(t)),o())&&(null===s||void 0===s||s.set(t,this.GRAPH_NODE),null===a||void 0===a||a.set(t,new Map),(null===a||void 0===a?void 0:a.has(this.GRAPH_NODE))||null===a||void 0===a||a.set(this.GRAPH_NODE,new Map),null===a||void 0===a||null===(n=a.get(this.GRAPH_NODE))||void 0===n||n.set(t,!0));return[c,l,u,d].forEach((function(e){return e.set(t,new Map)})),this.nodeCountNum+=1,this}},{key:"removeNode",value:function(t){var e=this;if(this.hasNode(t)){var n,r,i,o=function(t){e.removeEdge(t.v,t.w,t.name)},s=this.inEdgesMap,a=this.outEdgesMap,c=this.predecessorsMap,l=this.successorsMap,u=this.nodesLabelMap;if(this.isCompound())this.removeFromParentsChildList(t),null===(n=this.parentMap)||void 0===n||n.delete(t),null===(r=this.children(t))||void 0===r||r.forEach((function(t){return e.setParent(t)})),null===(i=this.childrenMap)||void 0===i||i.delete(t);var d=s.get(t),h=a.get(t);Array.from(d.values()).forEach((function(t){return o(t)})),Array.from(h.values()).forEach((function(t){return o(t)})),u.delete(t),s.delete(t),a.delete(t),c.delete(t),l.delete(t),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(t,e,n,r){var i,o,s=d(this.isDirected(),t,e,r),a=h(this.isDirected(),s),l=s.v,u=s.w;if(this.edgesLabelsMap.has(a))return this.edgesLabelsMap.set(a,n),this;if(void 0!==r&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(l),this.setNode(u),this.edgesLabelsMap.set(a,n||this.defaultEdgeLabelFn(l,u,r)),Object.freeze(s),this.edgesMap.set(a,s);var f=this.predecessorsMap.get(u),p=this.successorsMap.get(l);return c(f,l),c(p,u),null===(i=this.inEdgesMap.get(u))||void 0===i||i.set(a,s),null===(o=this.outEdgesMap.get(l))||void 0===o||o.set(a,s),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(t,e,n){var r=u(this.isDirected(),t,e,n),i=this.edgesMap.get(r);if(i){var o=d(this.isDirected(),t,e,n),s=o.v,a=o.w;this.edgesLabelsMap.delete(r),this.edgesMap.delete(r);var c=this.predecessorsMap.get(a),h=this.successorsMap.get(s);l(c,s),l(h,a),this.inEdgesMap.get(a).delete(r),this.outEdgesMap.get(s).delete(r),this.edgeCountNum-=1}return this}}]),t}();function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e,n){return e&&M(t.prototype,e),n&&M(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function D(){return D="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=T(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},D.apply(this,arguments)}function T(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=j(t),null===t)break;return t}function O(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}function N(t,e){return N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},N(t,e)}function P(t){var e=R();return function(){var n,r=j(t);if(e){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}function L(t,e){if(e&&("object"===E(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return B(t)}function B(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}x.fromJSON=v;var z=function(t){O(n,t);var e=P(n);function n(){var t;S(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),t.eventPool={},t}return I(n,[{key:"appendEvent",value:function(t,e){this.eventPool[t]||(this.eventPool[t]=[]),this.eventPool[t].push(e)}},{key:"removeEvent",value:function(t,e){if(this.eventPool[t]){var n=this.eventPool[t].indexOf(e);n>-1&&this.eventPool[t].splice(n,1)}}},{key:"emitEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.eventPool[t]&&this.eventPool[t].forEach((function(t){t.apply(void 0,n)}))}},{key:"setNode",value:function(t,e){return D(j(n.prototype),"setNode",this).call(this,t,e),this.emitEvent("nodeAdd",t,e),this}},{key:"removeNode",value:function(t){return D(j(n.prototype),"removeNode",this).call(this,t),this.emitEvent("nodeRemove",t),this}},{key:"setEdge",value:function(t,e,r,i){return D(j(n.prototype),"setEdge",this).call(this,t,e,r,i),this.emitEvent("edgeAdd",t,e,r,i),this}},{key:"removeEdge",value:function(t,e,r){return D(j(n.prototype),"removeEdge",this).call(this,t,e,r),this.emitEvent("edgeRemove",t,e,r),this}}]),n}(x);function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e,n){return e&&F(t.prototype,e),n&&F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var G=V((function t(){var e=this;U(this,t),this.arr=[],this.keyIndice=new Map,this.size=function(){return e.arr.length},this.keys=function(){return e.arr.map((function(t){return t.key}))},this.has=function(t){return e.keyIndice.has(t)},this.priority=function(t){var n=e.keyIndice.get(t);if(void 0!==n)return e.arr[n].priority},this.swap=function(t,n){var r=e.arr,i=e.keyIndice,o=[r[t],r[n]],s=o[0],a=o[1];r[t]=a,r[n]=s,i.set(s.key,n),i.set(a.key,t)},this.innerDecrease=function(t){var n,r=e.arr,i=r[t].priority,o=t;while(0!==o){var s;if(n=o>>1,(null===(s=r[n])||void 0===s?void 0:s.priority)<i)break;e.swap(o,n),o=n}},this.heapify=function(t){var n=e.arr,r=t<<1,i=r+1,o=t;r<n.length&&(o=n[r].priority<n[o].priority?r:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==t&&(e.swap(t,o),e.heapify(o)))},this.min=function(){if(0===e.size())throw new Error("Queue underflow");return e.arr[0].key},this.add=function(t,n){var r=e.keyIndice,i=e.arr;if(!r.has(t)){var o=i.length;return r.set(t,o),i.push({key:t,priority:n}),e.innerDecrease(o),!0}return!1},this.removeMin=function(){e.swap(0,e.arr.length-1);var t=e.arr.pop();return e.keyIndice.delete(t.key),e.heapify(0),t.key},this.decrease=function(t,n){if(!e.has(t))throw new Error("There's no key named ".concat(t));var r=e.keyIndice.get(t);if(n>e.arr[r].priority)throw new Error("New priority is greater than current priority.Key: ".concat(t," Old: + ").concat(e.arr[r].priority," New: ").concat(n));e.arr[r].priority=n,e.innerDecrease(r)}})),H=function(t,e){var n,r=new x,i=new Map,o=new G;function s(t){var r=t.v===n?t.w:t.v,s=o.priority(r);if(void 0!==s){var a=e(t);a<s&&(i.set(r,n),o.decrease(r,a))}}if(0===t.nodeCount())return r;t.nodes().forEach((function(t){o.add(t,Number.POSITIVE_INFINITY),r.setNode(t)})),o.decrease(t.nodes()[0],0);var a=!1;while(o.size()>0){var c;if(n=o.removeMin(),i.has(n))r.setEdge(n,i.get(n));else{if(a)throw new Error("Input graph is not connected: "+t.graph());a=!0}null===(c=t.nodeEdges(n))||void 0===c||c.forEach(s)}return r},$=H,W=function(t){var e=new Set,n=[],r=t.nodes();return r.forEach((function(r){var i=[],o=[r];while(o.length>0){var s,a,c=o.pop();if(!e.has(c))e.add(c),i.push(c),null===(s=t.successors(c))||void 0===s||s.forEach((function(t){return o.push(t)})),null===(a=t.predecessors(c))||void 0===a||a.forEach((function(t){return o.push(t)}))}i.length&&n.push(i)})),n},Y=W,q=function t(e,n,r,i,o,s){i.includes(n)||(i.push(n),r||s.push(n),o(n).forEach((function(n){return t(e,n,r,i,o,s)})),r&&s.push(n))},X=function(t,e,n){var r=Array.isArray(e)?e:[e],i=function(e){return t.isDirected()?t.successors(e):t.neighbors(e)},o=[],s=[];return r.forEach((function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);q(t,e,"post"===n,s,i,o)})),o},K=X;function Z(t,e){return nt(t)||et(t,e)||J(t,e)||Q()}function Q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function J(t,e){if(t){if("string"===typeof t)return tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(t,e):void 0}}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function et(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done);s=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){a=!0,i=c}finally{try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}return o}}function nt(t){if(Array.isArray(t))return t}var rt=function(){return 1},it=function(t,e,n,r){return ot(t,e,n||rt,r||function(e){return t.outEdges(e)})},ot=function(t,e,n,r){var i,o,s=new Map,a=new G,c=function(t){var e=t.v!==i?t.v:t.w,r=s.get(e),c=n(t),l=o.distance+c;if(c<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+c);l<r.distance&&(r.distance=l,r.predecessor=i,a.decrease(e,l))};t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s.set(t,{distance:n}),a.add(t,n)}));while(a.size()>0){if(i=a.removeMin(),o=s.get(i),o&&o.distance===Number.POSITIVE_INFINITY)break;r(i).forEach(c)}var l={};return Array.from(s.entries()).forEach((function(t){var e=Z(t,2),n=e[0],r=e[1];return l[String(n)]=r,l})),l},st=it,at=function(t,e,n){var r={};return t.nodes().forEach((function(i){return r[String(i)]=st(t,i,e,n),r})),r},ct=at,lt=function(t){var e=0,n=[],r=new Map,i=[];function o(s){var a,c={onStack:!0,lowlink:e,index:e};if(r.set(s,c),e+=1,n.push(s),null===(a=t.successors(s))||void 0===a||a.forEach((function(t){var e;if(r.has(t)){if(null===(e=r.get(t))||void 0===e?void 0:e.onStack){var n=r.get(t);c.lowlink=Math.min(c.lowlink,n.index)}}else{o(t);var i=r.get(t);c.lowlink=Math.min(c.lowlink,i.lowlink)}})),c.lowlink===c.index){var l,u=[];do{l=n.pop();var d=r.get(l);d.onStack=!1,u.push(l)}while(s!==l);i.push(u)}}return t.nodes().forEach((function(t){r.has(t)||o(t)})),i},ut=lt,dt=function(t){return ut(t).filter((function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))},ht=dt;function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e,n){return e&&pt(t.prototype,e),n&&pt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}function bt(t){var e=At();return function(){var n,r=Et(t);if(e){var i=Et(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}function yt(t,e){if(e&&("object"===ft(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kt(t)}function kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t){var e="function"===typeof Map?new Map:void 0;return wt=function(t){if(null===t||!Ct(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return _t(t,arguments,Et(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),xt(n,t)},wt(t)}function _t(t,e,n){return _t=At()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=Function.bind.apply(t,r),o=new i;return n&&xt(o,n.prototype),o},_t.apply(null,arguments)}function At(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ct(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function xt(t,e){return xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xt(t,e)}function Et(t){return Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Et(t)}var St=function(t){vt(n,t);var e=bt(n);function n(){return mt(this,n),e.apply(this,arguments)}return gt(n)}(wt(Error));function Mt(t){var e=new Set,n=new Set,r=[];function i(o){if(n.has(o))throw new St;var s;e.has(o)||(n.add(o),e.add(o),null===(s=t.predecessors(o))||void 0===s||s.forEach(i),n.delete(o),r.push(o))}if(t.sinks().forEach(i),e.size!==t.nodeCount())throw new St;return r}var It=Mt,Dt=function(t){try{It(t)}catch(e){if(e instanceof St)return!1;throw e}return!0},Tt=Dt,Ot=function(t,e){return K(t,e,"post")},Nt=Ot,Pt=function(t,e){return K(t,e,"pre")},Lt=Pt,Bt=function(){return 1};function Rt(t,e,n){return jt(t,e||Bt,n||function(e){return t.outEdges(e)})}function jt(t,e,n){var r={},i=t.nodes();return i.forEach((function(t){var o=String(t);r[o]={},r[o][o]={distance:0},i.forEach((function(e){t!==e&&(r[o][String(e)]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var i=n.v===t?n.w:n.v,s=e(n);r[o][String(i)]={distance:s,predecessor:t}}))})),i.forEach((function(t){var e=String(t),n=r[e];i.forEach((function(t){var o=String(t),s=r[o];i.forEach((function(t){var r=String(t),i=s[e],o=n[r],a=s[r],c=i.distance+o.distance;c<a.distance&&(a.distance=c,a.predecessor=o.predecessor)}))}))})),r}var zt=Rt,Ft=function(t,e){for(var n=t.nodes(),r=0;r<n.length;r++){var i=n[r];if(e.hasNode(i))return!0}return!1},Vt=function(t,e){for(var n=t.edges(),r=0;r<n.length;r++){var i=n[r];if(e.hasEdge(i.v,i.w,i.name))return!0}return!1},Ut=function(t,e){var n=t.nodes(),r=n.filter((function(t){return e.hasNode(t)}));return r},Gt=function(t,e){var n=t.edges(),r=n.filter((function(t){return e.hasEdge(t.v,t.w,t.name)}));return r},Ht=function(t,e){return t.isCompound()===e.isCompound()&&t.isDirected()===e.isDirected()&&t.isMultigraph()===e.isMultigraph()},$t=function(t,e){var n=Ut(t,e);return n.length===t.nodes().length},Wt=function(t,e){var n=Gt(t,e);return n.length===t.edges().length},Yt=function(t,e){return Ht(t,e)&&t.nodeCount()===e.nodeCount()&&$t(t,e)&&t.edgeCount()===e.edgeCount()&&Wt(t,e)},qt=function(t,e){return $t(t,e)&&Wt(t,e)};function Xt(t,e){return te(t)||Jt(t,e)||Zt(t,e)||Kt()}function Kt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zt(t,e){if(t){if("string"===typeof t)return Qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(t,e):void 0}}function Qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jt(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done);s=!0)if(o.push(r.value),e&&o.length===e)break}catch(c){a=!0,i=c}finally{try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}return o}}function te(t){if(Array.isArray(t))return t}function ee(t){return t instanceof x}function ne(t){if(t.isMultigraph())return!1;for(var e=t.edges(),n=new Map,r=0;r<e.length;r++){var i=e[r];if(i.v===i.w)return!1;var o=[i.v,i.w].sort(),s=Xt(o,2),a=s[0],c=s[1],l="".concat(a,"-").concat(c);if(n.has(l))return!1;n.set(l,!0)}return!0}function re(t){return 0===t.nodes().length}function ie(t){for(var e=t.edges(),n=0;n<e.length;n++){var r=e[n];if(r.v===r.w)return!0}return!1}var oe=function(t,e){if(!ne(t)||!ne(e))return!1;if(!$t(t,e))return!1;if(Vt(t,e))return!1;var n=t.nodeCount();return t.edgeCount()+e.edgeCount()===n*(n-1)/2},se=function(t){if(!ne(t))return null;for(var e=t.nodeCount(),n=new x({compound:t.isCompound(),directed:t.isDirected(),multigraph:t.isMultigraph()}),r=t.nodes(),i=0;i<e;i++){var o=r[i];n.setNode(o,t.node(o));for(var s=i+1;s<e;s++){var a=r[s];t.hasEdge(o,a)||n.setEdge(o,a)}}return n}},5802:function(t){(function(e,n){t.exports=n()})("undefined"!==typeof self&&self,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e){function n(t,e,n,r){return void 0===r&&(r="height"),"center"===n?(t[r]+e[r])/2:t.height}t.exports={assign:Object.assign,getHeight:n}},function(t,e,n){var r=n(3),i=function(){function t(t,e){void 0===e&&(e={});var n=this;n.options=e,n.rootNode=r(t,e)}var e=t.prototype;return e.execute=function(){throw new Error("please override this method")},t}();t.exports=i},function(t,e,n){var r=n(4),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],s=function(t){return o.indexOf(t)>-1},a=i[0];t.exports=function(t,e,n){var o=e.direction||a;if(e.isHorizontal=s(o),o&&-1===i.indexOf(o))throw new TypeError("Invalid direction: "+o);if(o===i[0])n(t,e);else if(o===i[1])n(t,e),t.right2left();else if(o===i[2])n(t,e);else if(o===i[3])n(t,e),t.bottom2top();else if(o===i[4]||o===i[5]){var c=r(t,e),l=c.left,u=c.right;n(l,e),n(u,e),e.isHorizontal?l.right2left():l.bottom2top(),u.translate(l.x-u.x,l.y-u.y),t.x=l.x,t.y=u.y;var d=t.getBoundingBox();e.isHorizontal?d.top<0&&t.translate(0,-d.top):d.left<0&&t.translate(-d.left,0)}var h=e.fixedRoot;return void 0===h&&(h=!0),h&&t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,e,n){var r=n(0),i=18,o=2*i,s=i,a={getId:function(t){return t.id||t.name},getPreH:function(t){return t.preH||0},getPreV:function(t){return t.preV||0},getHGap:function(t){return t.hgap||s},getVGap:function(t){return t.vgap||s},getChildren:function(t){return t.children},getHeight:function(t){return t.height||o},getWidth:function(t){var e=t.label||" ";return t.width||e.split("").length*i}};function c(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof c)return t;n.data=t;var r=e.getHGap(t),i=e.getVGap(t);return n.preH=e.getPreH(t),n.preV=e.getPreV(t),n.width=e.getWidth(t),n.height=e.getHeight(t),n.width+=n.preH,n.height+=n.preV,n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}function l(t,e,n){void 0===e&&(e={}),e=r.assign({},a,e);var i,o=new c(t,e),s=[o];if(!n&&!t.collapsed)while(i=s.shift())if(!i.data.collapsed){var l=e.getChildren(i.data),u=l?l.length:0;if(i.children=new Array(u),l&&u)for(var d=0;d<u;d++){var h=new c(l[d],e);i.children[d]=h,s.push(h),h.parent=i,h.depth=i.depth+1}}return o}r.assign(c.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){var n=this;n.hgap+=t,n.vgap+=e,n.width+=2*t,n.height+=2*e},eachNode:function(t){var e,n=this,r=[n];while(e=r.shift())t(e),r=e.children.concat(r)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){var e,n=this,r=[n];while(e=r.shift())t(e),r=r.concat(e.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)})),t},translate:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.eachNode((function(n){n.x+=t,n.y+=e,n.x+=n.preH,n.y+=n.preV}))},right2left:function(){var t=this,e=t.getBoundingBox();t.eachNode((function(t){t.x=t.x-2*(t.x-e.left)-t.width})),t.translate(e.width,0)},bottom2top:function(){var t=this,e=t.getBoundingBox();t.eachNode((function(t){t.y=t.y-2*(t.y-e.top)-t.height})),t.translate(0,e.height)}}),t.exports=l},function(t,e,n){var r=n(3);t.exports=function(t,e){for(var n=r(t.data,e,!0),i=r(t.data,e,!0),o=t.children.length,s=Math.round(o/2),a=e.getSide||function(t,e){return e<s?"right":"left"},c=0;c<o;c++){var l=t.children[c],u=a(l,c);"right"===u?i.children.push(l):n.children.push(l)}return n.eachNode((function(t){t.isRoot()||(t.side="left")})),i.eachNode((function(t){t.isRoot()||(t.side="right")})),{left:n,right:i}}},function(t,e,n){var r={compactBox:n(6),dendrogram:n(8),indented:n(10),mindmap:n(12)};t.exports=r},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}var o=n(1),s=n(7),a=n(2),c=n(0),l=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.execute=function(){var t=this;return a(t.rootNode,t.options,s)},e}(o),u={};function d(t,e){return e=c.assign({},u,e),new l(t,e).execute()}t.exports=d},function(t,e){function n(t,e,n,r){void 0===r&&(r=[]);var i=this;i.w=t||0,i.h=e||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(t,e,n){n?t.y+=e:t.x+=e,t.children.forEach((function(t){r(t,e,n)}))}function i(t,e){var n=e?t.y:t.x;return t.children.forEach((function(t){n=Math.min(i(t,e),n)})),n}function o(t,e){var n=i(t,e);r(t,-n,e)}function s(t,e,n){n?e.y=t.x:e.x=t.x,t.c.forEach((function(t,r){s(t,e.children[r],n)}))}function a(t,e,n){void 0===n&&(n=0),e?(t.x=n,n+=t.width):(t.y=n,n+=t.height),t.children.forEach((function(t){a(t,e,n)}))}n.fromNode=function(t,e){if(!t)return null;var r=[];return t.children.forEach((function(t){r.push(n.fromNode(t,e))})),e?new n(t.height,t.width,t.x,r):new n(t.width,t.height,t.y,r)},t.exports=function(t,e){void 0===e&&(e={});var r=e.isHorizontal;function i(t){if(0!==t.cs){i(t.c[0]);for(var e=k(f(t.c[0].el),0,null),n=1;n<t.cs;++n){i(t.c[n]);var r=f(t.c[n].er);l(t,n,e),e=k(r,n,e)}m(t),c(t)}else c(t)}function c(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function l(t,e,n){var r=t.c[e-1],i=r.mod,o=t.c[e],s=o.mod;while(null!==r&&null!==o){f(r)>n.low&&(n=n.nxt);var a=i+r.prelim+r.w-(s+o.prelim);a>0&&(s+=a,u(t,e,n.index,a));var c=f(r),l=f(o);c<=l&&(r=h(r),null!==r&&(i+=r.mod)),c>=l&&(o=d(o),null!==o&&(s+=o.mod))}!r&&o?p(t,e,o,s):r&&!o&&g(t,e,r,i)}function u(t,e,n,r){t.c[e].mod+=r,t.c[e].msel+=r,t.c[e].mser+=r,b(t,e,n,r)}function d(t){return 0===t.cs?t.tl:t.c[0]}function h(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function f(t){return t.y+t.h}function p(t,e,n,r){var i=t.c[0].el;i.tl=n;var o=r-n.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}function g(t,e,n,r){var i=t.c[e].er;i.tr=n;var o=r-n.mod-t.c[e].mser;i.mod+=o,i.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}function m(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}function v(t,e){e+=t.mod,t.x=t.prelim+e,y(t);for(var n=0;n<t.cs;n++)v(t.c[n],e)}function b(t,e,n,r){if(n!==e-1){var i=e-n;t.c[n+1].shift+=r/i,t.c[e].shift-=r/i,t.c[e].change-=r-r/i}}function y(t){for(var e=0,n=0,r=0;r<t.cs;r++)e+=t.c[r].shift,n+=e+t.c[r].change,t.c[r].mod+=n}function k(t,e,n){while(null!==n&&t>=n.low)n=n.nxt;return{low:t,index:e,nxt:n}}a(t,r);var w=n.fromNode(t,r);return i(w),v(w,0),s(w,t,r),o(t,r),t}},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}var o=n(1),s=n(9),a=n(2),c=n(0),l=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.execute=function(){var t=this;return t.rootNode.width=0,a(t.rootNode,t.options,s)},e}(o),u={};function d(t,e){return e=c.assign({},u,e),new l(t,e).execute()}t.exports=d},function(t,e,n){var r=n(0);function i(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=e}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function s(t,e,n){n?(e.x=t.x,e.y=t.y):(e.x=t.y,e.y=t.x),t.children.forEach((function(t,r){s(t,e.children[r],n)}))}t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},o,e);var n,a=0;function c(t){if(!t)return null;t.width=0,t.depth&&t.depth>a&&(a=t.depth);var e=t.children,n=e.length,r=new i(t.height,[]);return e.forEach((function(t,e){var i=c(t);r.children.push(i),0===e&&(r.leftChild=i),e===n-1&&(r.rightChild=i)})),r.originNode=t,r.isLeaf=t.isLeaf(),r}function l(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=a;else{var e=t.children.map((function(t){return l(t)})),n=Math.min.apply(null,e);t.drawingDepth=n-1}return t.drawingDepth}function u(t){t.x=t.drawingDepth*e.rankSep,t.isLeaf?(t.y=0,n&&(t.y=n.y+n.height+e.nodeSep,t.originNode.parent!==n.originNode.parent&&(t.y+=e.subTreeSep)),n=t):(t.children.forEach((function(t){u(t)})),t.y=(t.leftChild.y+t.rightChild.y)/2)}var d=c(t);return l(d),u(d),s(d,t,e.isHorizontal),t}},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}var o=n(1),s=n(11),a=n(4),c=n(0),l=["LR","RL","H"],u=l[0],d=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.execute=function(){var t=this,e=t.options,n=t.rootNode;e.isHorizontal=!0;var r=e.indent,i=void 0===r?20:r,o=e.dropCap,c=void 0===o||o,d=e.direction,h=void 0===d?u:d,f=e.align;if(h&&-1===l.indexOf(h))throw new TypeError("Invalid direction: "+h);if(h===l[0])s(n,i,c,f);else if(h===l[1])s(n,i,c,f),n.right2left();else if(h===l[2]){var p=a(n,e),g=p.left,m=p.right;s(g,i,c,f),g.right2left(),s(m,i,c,f);var v=g.getBoundingBox();m.translate(v.width,0),n.x=m.x-n.width/2}return n},e}(o),h={};function f(t,e){return e=c.assign({},h,e),new d(t,e).execute()}t.exports=f},function(t,e,n){var r=n(0);function i(t,e,n,i,o){var s="function"===typeof n?n(t):n*t.depth;if(!i)try{if(t.id===t.parent.children[0].id)return t.x+=s,void(t.y=e?e.y:0)}catch(l){}if(t.x+=s,e){if(t.y=e.y+r.getHeight(e,t,o),e.parent&&t.parent.id!==e.parent.id){var a=e.parent,c=a.y+r.getHeight(a,t,o);t.y=c>t.y?c:t.y}}else t.y=0}t.exports=function(t,e,n,r){var o=null;t.eachNode((function(t){i(t,o,e,n,r),o=t}))}},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}var o=n(1),s=n(13),a=n(2),c=n(0),l=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.execute=function(){var t=this;return a(t.rootNode,t.options,s)},e}(o),u={};function d(t,e){return e=c.assign({},u,e),new l(t,e).execute()}t.exports=d},function(t,e,n){var r=n(0);function i(t,e){var n=0;return t.children.length?t.children.forEach((function(t){n+=i(t,e)})):n=t.height,t._subTreeSep=e.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,n)+2*t._subTreeSep,t.totalHeight}function o(t){var e=t.children,n=e.length;if(n){e.forEach((function(t){o(t)}));var r=e[0],i=e[n-1],s=i.y-r.y+i.height,a=0;if(e.forEach((function(t){a+=t.totalHeight})),s>t.height)t.y=r.y+s/2-t.height/2;else if(1!==e.length||t.height>a){var c=t.y+(t.height-s)/2-r.y;e.forEach((function(t){t.translate(0,c)}))}else t.y=(r.y+r.height/2+i.y+i.height/2)/2-t.height/2}}var s={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},s,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse((function(t){t.x=t.parent.x+t.parent.width})),t.parent=null,i(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode((function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}})),o(t)}}])}))},4821:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutByName=e.unRegisterLayout=e.registerLayout=void 0;var o=n(8119);Object.defineProperty(e,"registerLayout",{enumerable:!0,get:function(){return o.registerLayout}}),Object.defineProperty(e,"unRegisterLayout",{enumerable:!0,get:function(){return o.unRegisterLayout}}),Object.defineProperty(e,"getLayoutByName",{enumerable:!0,get:function(){return o.getLayoutByName}}),i(n(8352),e)},6271:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Base=void 0;var n=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return t.prototype.layout=function(t){return this.init(t),this.execute(!0)},t.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[],this.comboEdges=t.comboEdges||[],this.hiddenNodes=t.hiddenNodes||[],this.hiddenEdges=t.hiddenEdges||[],this.hiddenCombos=t.hiddenCombos||[],this.vedges=t.vedges||[]},t.prototype.execute=function(t){},t.prototype.executeWithWorker=function(){},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){t&&Object.assign(this,t)},t.prototype.getType=function(){return"base"},t.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},t}();e.Base=n},3455:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.CircularLayout=void 0;var i=n(6271),o=n(1422);function s(t,e,n,r){t.forEach((function(e,n){t[n].children=[],t[n].parent=[]})),r?e.forEach((function(e){var r=(0,o.getEdgeTerminal)(e,"source"),i=(0,o.getEdgeTerminal)(e,"target"),s=0;r&&(s=n[r]);var a=0;i&&(a=n[i]);var c=t[s].children,l=t[a].parent;c.push(t[a].id),l.push(t[s].id)})):e.forEach((function(e){var r=(0,o.getEdgeTerminal)(e,"source"),i=(0,o.getEdgeTerminal)(e,"target"),s=0;r&&(s=n[r]);var a=0;i&&(a=n[i]);var c=t[s].children,l=t[a].children;c.push(t[a].id),l.push(t[s].id)}))}function a(t,e,n){for(var r=n.length,i=0;i<r;i++){var s=(0,o.getEdgeTerminal)(n[i],"source"),a=(0,o.getEdgeTerminal)(n[i],"target");if(t.id===s&&e.id===a||e.id===s&&t.id===a)return!0}return!1}function c(t,e){var n=t.degree,r=e.degree;return n<r?-1:n>r?1:0}var l=function(t){function e(e){var n=t.call(this)||this;return n.radius=null,n.nodeSize=void 0,n.startRadius=null,n.endRadius=null,n.startAngle=0,n.endAngle=2*Math.PI,n.clockwise=!0,n.divisions=1,n.ordering=null,n.angleRatio=1,n.nodes=[],n.edges=[],n.nodeMap={},n.degrees=[],n.width=300,n.height=300,n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},e.prototype.execute=function(){var t,e=this,n=e.nodes,r=e.edges,i=n.length;if(0!==i){e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);var s=e.center;if(1===i)return n[0].x=s[0],n[0].y=s[1],void(e.onLayoutEnd&&e.onLayoutEnd());var a=e.radius,c=e.startRadius,l=e.endRadius,u=e.divisions,d=e.startAngle,h=e.endAngle,f=e.angleRatio,p=e.ordering,g=e.clockwise,m=e.nodeSpacing,v=e.nodeSize,b=(h-d)/i,y={};n.forEach((function(t,e){y[t.id]=e})),e.nodeMap=y;var k=(0,o.getDegree)(n.length,y,r);if(e.degrees=k,m){var w=(0,o.getFuncByUnknownType)(10,m),_=(0,o.getFuncByUnknownType)(10,v),A=-1/0;n.forEach((function(t){var e=_(t);A<e&&(A=e)}));var C=0;n.forEach((function(t,e){C+=0===e?A||10:(w(t)||0)+(A||10)})),a=C/(2*Math.PI)}else a||c||l?!c&&l?c=l:c&&!l&&(l=c):a=e.height>e.width?e.width/2:e.height/2;var x=b*f,E=[];E="topology"===p?e.topologyOrdering():"topology-directed"===p?e.topologyOrdering(!0):"degree"===p?e.degreeOrdering():n;for(var S=Math.ceil(i/u),M=0;M<i;++M){var I=a;I||null===c||null===l||(I=c+M*(l-c)/(i-1)),I||(I=10+100*M/(i-1));var D=d+M%S*x+2*Math.PI/u*Math.floor(M/S);g||(D=h-M%S*x-2*Math.PI/u*Math.floor(M/S)),E[M].x=s[0]+Math.cos(D)*I,E[M].y=s[1]+Math.sin(D)*I,E[M].weight=k[M].all}return null===(t=e.onLayoutEnd)||void 0===t||t.call(e),{nodes:E,edges:this.edges}}e.onLayoutEnd&&e.onLayoutEnd()},e.prototype.topologyOrdering=function(t){void 0===t&&(t=!1);var e=this,n=e.degrees,r=e.edges,i=e.nodes,c=(0,o.clone)(i),l=e.nodeMap,u=[c[0]],d=[i[0]],h=[],f=i.length;h[0]=!0,s(c,r,l,t);var p=0;return c.forEach((function(t,e){if(0!==e)if(e!==f-1&&n[e].all===n[e+1].all&&!a(u[p],t,r)||h[e]){for(var o=u[p].children,s=!1,g=0;g<o.length;g++){var m=l[o[g]];if(n[m].all===n[e].all&&!h[m]){u.push(c[m]),d.push(i[l[c[m].id]]),h[m]=!0,s=!0;break}}var v=0;while(!s)if(h[v]||(u.push(c[v]),d.push(i[l[c[v].id]]),h[v]=!0,s=!0),v++,v===f)break}else u.push(t),d.push(i[l[t.id]]),h[e]=!0,p++})),d},e.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],r=t.degrees;return e.forEach((function(t,e){t.degree=r[e].all,n.push(t)})),n.sort(c),n},e.prototype.getType=function(){return"circular"},e}(i.Base);e.CircularLayout=l},4193:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ComboCombinedLayout=void 0;var o=n(5573),s=n(6271),a=n(1422),c=n(8352),l=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.nodes=[],n.edges=[],n.combos=[],n.comboEdges=[],n.comboPadding=10,n.comboTrees=[],n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=n[0],e[0].y=n[1],void(t.onLayoutEnd&&t.onLayoutEnd());t.initVals(),t.run(),t.onLayoutEnd&&t.onLayoutEnd()}else t.onLayoutEnd&&t.onLayoutEnd()},e.prototype.run=function(){var t,e=this,n=e.nodes,r=e.edges,s=e.combos,l=e.comboEdges,u=e.center,d={};n.forEach((function(t){d[t.id]=t}));var h={};s.forEach((function(t){h[t.id]=t}));var f=e.getInnerGraphs(d),p=[],g=[],m={},v=!0;this.comboTrees.forEach((function(t){var e=f[t.id];if(e){var n=i(i({},t),{x:e.x||h[t.id].x,y:e.y||h[t.id].y,fx:e.fx||h[t.id].fx,fy:e.fy||h[t.id].fy,mass:e.mass||h[t.id].mass,size:e.size});g.push(n),isNaN(n.x)||0===n.x||isNaN(n.y)||0===n.y?(n.x=100*Math.random(),n.y=100*Math.random()):v=!1,p.push(t.id),(0,a.traverseTreeUp)(t,(function(e){return e.id!==t.id&&(m[e.id]=t.id),!0}))}})),n.forEach((function(t){if(!t.comboId||!h[t.comboId]){var e=i({},t);g.push(e),isNaN(e.x)||0===e.x||isNaN(e.y)||0===e.y?(e.x=100*Math.random(),e.y=100*Math.random()):v=!1,p.push(t.id)}}));var b=[];if(r.concat(l).forEach((function(t){var e=m[t.source]||t.source,n=m[t.target]||t.target;e!==n&&p.includes(e)&&p.includes(n)&&b.push({source:e,target:n})})),null===g||void 0===g?void 0:g.length){if(1===g.length)g[0].x=u[0],g[0].y=u[1];else{var y={nodes:g,edges:b},k=this.outerLayout||new c.GForceLayout({gravity:1,factor:4,linkDistance:function(t,e,n){var r,i,o=(((null===(r=e.size)||void 0===r?void 0:r[0])||30)+((null===(i=n.size)||void 0===i?void 0:i[0])||30))/2;return Math.min(1.5*o,700)}}),w=null===(t=k.getType)||void 0===t?void 0:t.call(k);if(k.updateCfg({center:u,kg:5,preventOverlap:!0,animate:!1}),v&&o.FORCE_LAYOUT_TYPE_MAP[w]){var _=g.length<100?new c.MDSLayout:new c.GridLayout;_.layout(y)}k.layout(y)}g.forEach((function(t){var e=f[t.id];if(e)e.visited=!0,e.x=t.x,e.y=t.y,e.nodes.forEach((function(e){e.x+=t.x,e.y+=t.y}));else{var n=d[t.id];n&&(n.x=t.x,n.y=t.y)}}))}for(var A=Object.keys(f),C=function(t){var e=A[t],n=f[e];if(!n)return"continue";n.nodes.forEach((function(t){n.visited||(t.x+=n.x||0,t.y+=n.y||0),d[t.id]&&(d[t.id].x=t.x,d[t.id].y=t.y)})),h[e]&&(h[e].x=n.x,h[e].y=n.y)},x=A.length-1;x>=0;x--)C(x);return{nodes:n,edges:r,combos:s,comboEdges:l}},e.prototype.getInnerGraphs=function(t){var e=this,n=e.comboTrees,r=e.nodeSize,o=e.edges,s=e.comboPadding,l=e.spacing,u={},d=this.innerLayout||new c.ConcentricLayout({type:"concentric",sortBy:"id"});return d.center=[0,0],d.preventOverlap=!0,d.nodeSpacing=l,(n||[]).forEach((function(e){(0,a.traverseTreeUp)(e,(function(e){var n,c=(null===s||void 0===s?void 0:s(e))||10;if((0,a.isArray)(c)&&(c=Math.max.apply(Math,c)),null===(n=e.children)||void 0===n?void 0:n.length){var l=e.children.map((function(e){if("combo"===e.itemType)return u[e.id];var n=t[e.id]||{};return i(i({},n),e)})),h=l.map((function(t){return t.id})),f={nodes:l,edges:o.filter((function(t){return h.includes(t.source)&&h.includes(t.target)}))},p=1/0;l.forEach((function(t){var e;t.size||(t.size=(null===(e=u[t.id])||void 0===e?void 0:e.size)||(null===r||void 0===r?void 0:r(t))||[30,30]),(0,a.isNumber)(t.size)&&(t.size=[t.size,t.size]),p>t.size[0]&&(p=t.size[0]),p>t.size[1]&&(p=t.size[1])})),d.layout(f);var g=(0,a.getLayoutBBox)(l),m=g.minX,v=g.minY,b=g.maxX,y=g.maxY,k={x:(b+m)/2,y:(y+v)/2};f.nodes.forEach((function(t){t.x-=k.x,t.y-=k.y}));var w=Math.max(b-m,p)+2*c,_=Math.max(y-v,p)+2*c;u[e.id]={id:e.id,nodes:l,size:[w,_]}}else if("combo"===e.itemType){var A=c?[2*c,2*c]:[30,30];u[e.id]={id:e.id,nodes:[],size:A}}return!0}))})),u},e.prototype.initVals=function(){var t,e,n=this,r=n.nodeSize,i=n.spacing;if(e=(0,a.isNumber)(i)?function(){return i}:(0,a.isFunction)(i)?i:function(){return 0},this.spacing=e,r)if((0,a.isFunction)(r))t=function(t){var n=r(t),i=e(t);if((0,a.isArray)(t.size)){var o=t.size[0]>t.size[1]?t.size[0]:t.size[1];return(o+i)/2}return((n||10)+i)/2};else if((0,a.isArray)(r)){var o=r[0]>r[1]?r[0]:r[1],s=o/2;t=function(t){return s+e(t)/2}}else{var c=r/2;t=function(t){return c+e(t)/2}}else t=function(t){var n=e(t);if(t.size){if((0,a.isArray)(t.size)){var r=t.size[0]>t.size[1]?t.size[0]:t.size[1];return(r+n)/2}if((0,a.isObject)(t.size)){r=t.size.width>t.size.height?t.size.width:t.size.height;return(r+n)/2}return(t.size+n)/2}return 10+n/2};this.nodeSize=t;var l,u=n.comboPadding;l=(0,a.isNumber)(u)?function(){return u}:(0,a.isArray)(u)?function(){return Math.max.apply(null,u)}:(0,a.isFunction)(u)?u:function(){return 0},this.comboPadding=l},e.prototype.getType=function(){return"comboCombined"},e}(s.Base);e.ComboCombinedLayout=l},2335:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ComboForceLayout=void 0;var i=n(6271),o=n(1422),s=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.maxIteration=100,n.gravity=10,n.comboGravity=10,n.linkDistance=10,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.edgeStrength=.6,n.nodeStrength=30,n.preventOverlap=!1,n.preventNodeOverlap=!1,n.preventComboOverlap=!1,n.collideStrength=void 0,n.nodeCollideStrength=.5,n.comboCollideStrength=.5,n.comboSpacing=20,n.comboPadding=10,n.optimizeRangeFactor=1,n.onTick=function(){},n.onLayoutEnd=function(){},n.depthAttractiveForceScale=1,n.depthRepulsiveForceScale=2,n.nodes=[],n.edges=[],n.combos=[],n.comboTrees=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.oriComboMap={},n.indexMap={},n.comboMap={},n.previousLayouted=!1,n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},e&&0!==e.length){if(1===e.length)return e[0].x=n[0],e[0].y=n[1],void(t.onLayoutEnd&&t.onLayoutEnd());t.initVals(),t.run(),t.onLayoutEnd&&t.onLayoutEnd()}else t.onLayoutEnd&&t.onLayoutEnd()},e.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight);var r=t.center,i=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var a=function(n){var r=[];e.forEach((function(t,e){r[e]={x:0,y:0}})),t.applyCalculate(r),t.applyComboCenterForce(r),e.forEach((function(t,e){(0,o.isNumber)(t.x)&&(0,o.isNumber)(t.y)&&(t.x+=r[e].x*i,t.y+=r[e].y*i)})),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},c=0;c<n;c++)a(c);var l=[0,0];e.forEach((function(t){(0,o.isNumber)(t.x)&&(0,o.isNumber)(t.y)&&(l[0]+=t.x,l[1]+=t.y)})),l[0]/=e.length,l[1]/=e.length;var u=[r[0]-l[0],r[1]-l[1]];e.forEach((function(t,e){(0,o.isNumber)(t.x)&&(0,o.isNumber)(t.y)&&(t.x+=u[0],t.y+=u[1])})),t.combos.forEach((function(t){var e=s[t.id];e&&e.empty&&(t.x=e.cx||t.x,t.y=e.cy||t.y)})),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,r=t.combos,i={},s={},a={};n.forEach((function(t,e){s[t.id]=t,a[t.id]=e})),t.nodeMap=s,t.indexMap=a;var c={};r.forEach((function(t){c[t.id]=t})),t.oriComboMap=c,t.comboMap=t.getComboMap();var l=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||l,t.preventNodeOverlap=t.preventNodeOverlap||l;var u=t.collideStrength;u&&(t.comboCollideStrength=u,t.nodeCollideStrength=u),t.comboCollideStrength=t.comboCollideStrength?t.comboCollideStrength:0,t.nodeCollideStrength=t.nodeCollideStrength?t.nodeCollideStrength:0;for(var d=0;d<e.length;++d){var h=(0,o.getEdgeTerminal)(e[d],"source"),f=(0,o.getEdgeTerminal)(e[d],"target");i[h]?i[h]++:i[h]=1,i[f]?i[f]++:i[f]=1}var p=[];for(d=0;d<e.length;++d){h=(0,o.getEdgeTerminal)(e[d],"source"),f=(0,o.getEdgeTerminal)(e[d],"target");p[d]=i[h]/(i[h]+i[f])}this.bias=p;var g,m,v=t.nodeSize,b=t.nodeSpacing;if(m=(0,o.isNumber)(b)?function(){return b}:(0,o.isFunction)(b)?b:function(){return 0},this.nodeSpacing=m,v)if((0,o.isFunction)(v))g=function(t){return v(t)};else if((0,o.isArray)(v)){var y=v[0]>v[1]?v[0]:v[1],k=y/2;g=function(t){return k}}else{var w=v/2;g=function(t){return w}}else g=function(t){if(t.size){if((0,o.isArray)(t.size)){var e=t.size[0]>t.size[1]?t.size[0]:t.size[1];return e/2}if((0,o.isObject)(t.size)){e=t.size.width>t.size.height?t.size.width:t.size.height;return e/2}return t.size/2}return 10};this.nodeSize=g;var _,A=t.comboSpacing;_=(0,o.isNumber)(A)?function(){return A}:(0,o.isFunction)(A)?A:function(){return 0},this.comboSpacing=_;var C,x=t.comboPadding;C=(0,o.isNumber)(x)?function(){return x}:(0,o.isArray)(x)?function(){return Math.max.apply(null,x)}:(0,o.isFunction)(x)?x:function(){return 0},this.comboPadding=C;var E,S=this.linkDistance;S||(S=10),E=(0,o.isNumber)(S)?function(t){return S}:S,this.linkDistance=E;var M,I=this.edgeStrength;I||(I=1),M=(0,o.isNumber)(I)?function(t){return I}:I,this.edgeStrength=M;var D,T=this.nodeStrength;T||(T=30),D=(0,o.isNumber)(T)?function(t){return T}:T,this.nodeStrength=D},e.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach((function(e,n){var r=e.comboId,i=t[r];r&&i?(e.x=i.cx+100/(n+1),e.y=i.cy+100/(n+1)):(e.x=100/(n+1),e.y=100/(n+1))}))},e.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.comboTrees,r=t.oriComboMap,i={};return(n||[]).forEach((function(n){var s=[];(0,o.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;if(!r[n.id])return!0;if(void 0===i[n.id]){var a={id:n.id,name:n.id,cx:0,cy:0,count:0,depth:t.oriComboMap[n.id].depth||0,children:[]};i[n.id]=a}var c=n.children;c&&c.forEach((function(t){if(!i[t.id]&&!e[t.id])return!0;s.push(t)}));var l=i[n.id];if(l.cx=0,l.cy=0,0===s.length){l.empty=!0;var u=r[n.id];l.cx=u.x,l.cy=u.y}return s.forEach((function(t){if(l.count++,"node"!==t.itemType){var n=i[t.id];return(0,o.isNumber)(n.cx)&&(l.cx+=n.cx),void((0,o.isNumber)(n.cy)&&(l.cy+=n.cy))}var r=e[t.id];r&&((0,o.isNumber)(r.x)&&(l.cx+=r.x),(0,o.isNumber)(r.y)&&(l.cy+=r.y))})),l.cx/=l.count||1,l.cy/=l.count||1,l.children=s,!0}))})),i},e.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,r=e.comboGravity||n,i=this.alpha,s=e.comboTrees,a=e.indexMap,c=e.nodeMap,l=e.comboMap;(s||[]).forEach((function(e){(0,o.traverseTreeUp)(e,(function(e){if("node"===e.itemType)return!0;var n=l[e.id];if(!n)return!0;var s=l[e.id],u=(s.depth+1)/10*.5,d=s.cx,h=s.cy;return s.cx=0,s.cy=0,s.children.forEach((function(e){if("node"!==e.itemType){var n=l[e.id];return n&&(0,o.isNumber)(n.cx)&&(s.cx+=n.cx),void(n&&(0,o.isNumber)(n.cy)&&(s.cy+=n.cy))}var f=c[e.id],p=f.x-d||.005,g=f.y-h||.005,m=Math.sqrt(p*p+g*g),v=a[f.id],b=r*i/m*u;t[v].x-=p*b,t[v].y-=g*b,(0,o.isNumber)(f.x)&&(s.cx+=f.x),(0,o.isNumber)(f.y)&&(s.cy+=f.y)})),s.cx/=s.count||1,s.cy/=s.count||1,!0}))}))},e.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,r=e.nodes,i={};r.forEach((function(t,e){r.forEach((function(n,r){if(!(e<r)){var o=t.x-n.x||.005,s=t.y-n.y||.005,a=o*o+s*s,c=Math.sqrt(a);a<1&&(a=c),i["".concat(t.id,"-").concat(n.id)]={vx:o,vy:s,vl2:a,vl:c},i["".concat(n.id,"-").concat(t.id)]={vl2:a,vl:c,vx:-o,vy:-s}}}))})),e.updateComboSizes(n),e.calRepulsive(t,i),e.calAttractive(t,i);var o=e.preventComboOverlap;o&&e.comboNonOverlapping(t,n)},e.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,r=e.nodeMap,i=e.nodeSize,s=e.comboSpacing,a=e.comboPadding;(n||[]).forEach((function(n){var c=[];(0,o.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;var l=t[n.id];if(!l)return!1;var u=n.children;u&&u.forEach((function(e){(t[e.id]||r[e.id])&&c.push(e)})),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0,c.forEach((function(t){if("node"!==t.itemType)return!0;var e=r[t.id];if(!e)return!0;var n=i(e),o=e.x-n,s=e.y-n,a=e.x+n,c=e.y+n;l.minX>o&&(l.minX=o),l.minY>s&&(l.minY=s),l.maxX<a&&(l.maxX=a),l.maxY<c&&(l.maxY=c)}));var d=e.oriComboMap[n.id].size||10;(0,o.isArray)(d)&&(d=d[0]);var h=Math.max(l.maxX-l.minX,l.maxY-l.minY,d);return l.r=h/2+s(l)/2+a(l),!0}))}))},e.prototype.comboNonOverlapping=function(t,e){var n=this,r=n.comboTree,i=n.comboCollideStrength,s=n.indexMap,a=n.nodeMap;(0,o.traverseTreeUp)(r,(function(n){if(!e[n.id]&&!a[n.id]&&"comboTreeRoot"!==n.id)return!1;var r=n.children;return r&&r.length>1&&r.forEach((function(n,o){if("node"===n.itemType)return!1;var c=e[n.id];c&&r.forEach((function(r,l){if(o<=l)return!1;if("node"===r.itemType)return!1;var u=e[r.id];if(!u)return!1;var d=c.cx-u.cx||.005,h=c.cy-u.cy||.005,f=d*d+h*h,p=c.r||1,g=u.r||1,m=p+g,v=g*g,b=p*p;if(f<m*m){var y=n.children;if(!y||0===y.length)return!1;var k=r.children;if(!k||0===k.length)return!1;var w=Math.sqrt(f),_=(m-w)/w*i,A=d*_,C=h*_,x=v/(b+v),E=1-x;y.forEach((function(e){if("node"!==e.itemType)return!1;if(a[e.id]){var n=s[e.id];k.forEach((function(e){if("node"!==e.itemType)return!1;if(!a[e.id])return!1;var r=s[e.id];t[n].x+=A*x,t[n].y+=C*x,t[r].x-=A*E,t[r].y-=C*E}))}}))}}))})),!0}))},e.prototype.calRepulsive=function(t,e){var n=this,r=n.nodes,i=n.width*n.optimizeRangeFactor,o=n.nodeStrength,s=n.alpha,a=n.nodeCollideStrength,c=n.preventNodeOverlap,l=n.nodeSize,u=n.nodeSpacing,d=n.depthRepulsiveForceScale,h=n.center;r.forEach((function(f,p){if(f.x&&f.y){if(h){var g=n.gravity,m=f.x-h[0]||.005,v=f.y-h[1]||.005,b=Math.sqrt(m*m+v*v);t[p].x-=m*g*s/b,t[p].y-=v*g*s/b}r.forEach((function(n,r){if(p!==r&&n.x&&n.y){var h=e["".concat(f.id,"-").concat(n.id)],g=h.vl2,m=h.vl;if(!(m>i)){var v=e["".concat(f.id,"-").concat(n.id)],b=v.vx,y=v.vy,k=Math.log(Math.abs(n.depth-f.depth)/10)+1||1;k=k<1?1:k,n.comboId!==f.comboId&&(k+=1);var w=k?Math.pow(d,k):1,_=o(n)*s/g*w;if(t[p].x+=b*_,t[p].y+=y*_,p<r&&c){var A=l(f)+u(f)||1,C=l(n)+u(n)||1,x=A+C;if(g<x*x){var E=(x-m)/m*a,S=C*C,M=S/(A*A+S),I=b*E,D=y*E;t[p].x+=I*M,t[p].y+=D*M,M=1-M,t[r].x-=I*M,t[r].y-=D*M}}}}}))}}))},e.prototype.calAttractive=function(t,e){var n=this,r=n.edges,i=n.linkDistance,s=n.alpha,a=n.edgeStrength,c=n.bias,l=n.depthAttractiveForceScale;r.forEach((function(r,u){var d=(0,o.getEdgeTerminal)(r,"source"),h=(0,o.getEdgeTerminal)(r,"target");if(d&&h&&d!==h){var f=n.indexMap[d],p=n.indexMap[h],g=n.nodeMap[d],m=n.nodeMap[h];if(g&&m){var v=g.depth===m.depth?0:Math.log(Math.abs(g.depth-m.depth)/10);g.comboId===m.comboId&&(v/=2);var b=v?Math.pow(l,v):1;if(g.comboId!==m.comboId&&1===b?b=l/2:g.comboId===m.comboId&&(b=2),(0,o.isNumber)(m.x)&&(0,o.isNumber)(g.x)&&(0,o.isNumber)(m.y)&&(0,o.isNumber)(g.y)){var y=e["".concat(h,"-").concat(d)],k=y.vl,w=y.vx,_=y.vy,A=(k-i(r))/k*s*a(r)*b,C=w*A,x=_*A,E=c[u];t[p].x-=C*E,t[p].y-=x*E,t[f].x+=C*(1-E),t[f].y+=x*(1-E)}}}}))},e.prototype.getType=function(){return"comboForce"},e}(i.Base);e.ComboForceLayout=s},8006:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ConcentricLayout=void 0;var i=n(1422),o=n(6271),s=function(t){function e(e){var n=t.call(this)||this;return n.nodeSize=30,n.minNodeSpacing=10,n.nodeSpacing=10,n.preventOverlap=!1,n.equidistant=!1,n.startAngle=1.5*Math.PI,n.clockwise=!0,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.onLayoutEnd=function(){},n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},e.prototype.execute=function(){var t,e,n=this,r=n.nodes,o=n.edges,s=r.length;if(0!==s){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var a=n.center;if(1===s)return r[0].x=a[0],r[0].y=a[1],void(null===(e=n.onLayoutEnd)||void 0===e||e.call(n));var c,l=n.nodeSize,u=n.nodeSpacing,d=[],h=0;c=(0,i.isArray)(l)?Math.max(l[0],l[1]):l,(0,i.isArray)(u)?h=Math.max(u[0],u[1]):(0,i.isNumber)(u)&&(h=u),r.forEach((function(t){d.push(t);var e=c;(0,i.isArray)(t.size)?e=Math.max(t.size[0],t.size[1]):(0,i.isNumber)(t.size)?e=t.size:(0,i.isObject)(t.size)&&(e=Math.max(t.size.width,t.size.height)),c=Math.max(c,e),(0,i.isFunction)(u)&&(h=Math.max(u(t),h))})),n.clockwise=void 0!==n.counterclockwise?!n.counterclockwise:n.clockwise;var f={},p={};if(d.forEach((function(t,e){f[t.id]=t,p[t.id]=e})),("degree"===n.sortBy||!(0,i.isString)(n.sortBy)||void 0===d[0][n.sortBy])&&(n.sortBy="degree",!(0,i.isNumber)(r[0].degree))){var g=(0,i.getDegree)(r.length,p,o);d.forEach((function(t,e){t.degree=g[e].all}))}d.sort((function(t,e){return e[n.sortBy]-t[n.sortBy]})),n.maxValueNode=d[0],n.maxLevelDiff=n.maxLevelDiff||n.maxValueNode[n.sortBy]/4;var m=[[]],v=m[0];d.forEach((function(t){if(v.length>0){var e=Math.abs(v[0][n.sortBy]-t[n.sortBy]);n.maxLevelDiff&&e>=n.maxLevelDiff&&(v=[],m.push(v))}v.push(t)}));var b=c+(h||n.minNodeSpacing);if(!n.preventOverlap){var y=m.length>0&&m[0].length>1,k=Math.min(n.width,n.height)/2-b,w=k/(m.length+(y?1:0));b=Math.min(b,w)}var _=0;if(m.forEach((function(t){var e=n.sweep;void 0===e&&(e=2*Math.PI-2*Math.PI/t.length);var r=t.dTheta=e/Math.max(1,t.length-1);if(t.length>1&&n.preventOverlap){var i=Math.cos(r)-Math.cos(0),o=Math.sin(r)-Math.sin(0),s=Math.sqrt(b*b/(i*i+o*o));_=Math.max(s,_)}t.r=_,_+=b})),n.equidistant){for(var A=0,C=0,x=0;x<m.length;x++){var E=m[x],S=E.r-C;A=Math.max(A,S)}C=0,m.forEach((function(t,e){0===e&&(C=t.r),t.r=C,C+=A}))}return m.forEach((function(t){var e=t.dTheta,r=t.r;t.forEach((function(t,i){var o=n.startAngle+(n.clockwise?1:-1)*e*i;t.x=a[0]+r*Math.cos(o),t.y=a[1]+r*Math.sin(o)}))})),n.onLayoutEnd&&n.onLayoutEnd(),{nodes:r,edges:o}}null===(t=n.onLayoutEnd)||void 0===t||t.call(n)},e.prototype.getType=function(){return"concentric"},e}(o.Base);e.ConcentricLayout=s},5573:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FORCE_LAYOUT_TYPE_MAP=e.LAYOUT_MESSAGE=void 0,e.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},e.FORCE_LAYOUT_TYPE_MAP={gForce:!0,force2:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},9829:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DagreLayout=void 0;var o=i(n(3038)),s=n(1422),a=n(6271),c=n(8326),l=function(t){function e(e){var n=t.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n.edgeLabelSpace=!0,n.radial=!1,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.layoutNode=function(t){var e=n,r=e.nodes,i=r.find((function(e){return e.id===t}));if(i){var o=!1!==i.layout;return o}return!0},n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},e.prototype.execute=function(){var t,e,n,r,i=this,a=this,l=a.nodes,d=a.nodeSize,h=a.rankdir,f=a.combos,p=a.begin,g=a.radial,m=a.comboEdges,v=void 0===m?[]:m,b=a.vedges,y=void 0===b?[]:b;if(l){var k=a.edges||[],w=new c.Graph({multigraph:!0,compound:!0});a.nodeMap={};var _={};l.forEach((function(t){a.nodeMap[t.id]=t,t.comboId&&(_[t.comboId]=_[t.comboId]||[],_[t.comboId].push(t.id))}));var A,C=[],x={};(null===(t=a.nodeOrder)||void 0===t?void 0:t.length)?(a.nodeOrder.forEach((function(t){x[t]=!0,C.push(a.nodeMap[t])})),l.forEach((function(t){x[t.id]||C.push(t)}))):C=l,A=d?(0,s.isArray)(d)?function(){return d}:function(){return[d,d]}:function(t){return t.size?(0,s.isArray)(t.size)?t.size:(0,s.isObject)(t.size)?[t.size.width||40,t.size.height||40]:[t.size,t.size]:[40,40]};var E=(0,s.getFunc)(a.ranksep,50,a.ranksepFunc),S=(0,s.getFunc)(a.nodesep,50,a.nodesepFunc),M=S,I=E;"LR"!==h&&"RL"!==h||(M=E,I=S),w.setDefaultEdgeLabel((function(){return{}})),w.setGraph(a);var D={};this.sortByCombo&&f&&f.forEach((function(t){if(D[t.id]=t,t.collapsed){var e=A(t),n=I(t),r=M(t),i=e[0]+2*r,o=e[1]+2*n;w.setNode(t.id,{width:i,height:o})}t.parentId&&(D[t.parentId]||w.setNode(t.parentId,{}),w.setParent(t.id,t.parentId))})),C.filter((function(t){return!1!==t.layout})).forEach((function(t){var e=A(t),n=I(t),r=M(t),o=e[0]+2*r,a=e[1]+2*n,c=t.layer;(0,s.isNumber)(c)?w.setNode(t.id,{width:o,height:a,layer:c}):w.setNode(t.id,{width:o,height:a}),i.sortByCombo&&t.comboId&&(D[t.comboId]||(D[t.comboId]={id:t.comboId},w.setNode(t.comboId,{})),w.setParent(t.id,t.comboId))})),k.forEach((function(t){var e=(0,s.getEdgeTerminal)(t,"source"),n=(0,s.getEdgeTerminal)(t,"target");i.layoutNode(e)&&i.layoutNode(n)&&w.setEdge(e,n,{weight:t.weight||1})})),null===(e=null===v||void 0===v?void 0:v.concat(y||[]))||void 0===e||e.forEach((function(t){var e,n,r=t.source,i=t.target,o=(null===(e=D[r])||void 0===e?void 0:e.collapsed)?[r]:_[r]||[r],s=(null===(n=D[i])||void 0===n?void 0:n.collapsed)?[i]:_[i]||[i];o.forEach((function(e){s.forEach((function(n){w.setEdge(e,n,{weight:t.weight||1})}))}))}));var T=void 0;(null===(n=a.preset)||void 0===n?void 0:n.nodes)&&(T=new c.Graph({multigraph:!0,compound:!0}),a.preset.nodes.forEach((function(t){null===T||void 0===T||T.setNode(t.id,t)}))),o.default.layout(w,{prevGraph:T,edgeLabelSpace:a.edgeLabelSpace,keepNodeOrder:Boolean(!!a.nodeOrder),nodeOrder:a.nodeOrder});var O=[0,0];if(p){var N=1/0,P=1/0;w.nodes().forEach((function(t){var e=w.node(t);N>e.x&&(N=e.x),P>e.y&&(P=e.y)})),w.edges().forEach((function(t){var e,n=w.edge(t);null===(e=n.points)||void 0===e||e.forEach((function(t){N>t.x&&(N=t.x),P>t.y&&(P=t.y)}))})),O[0]=p[0]-N,O[1]=p[1]-P}var L="LR"===h||"RL"===h;if(g){var B=this,R=B.focusNode,j=B.ranksep,z=B.getRadialPos,F=(0,s.isString)(R)?R:null===R||void 0===R?void 0:R.id,V=F?null===(r=w.node(F))||void 0===r?void 0:r._rank:0,U=[],G=L?"y":"x",H=L?"height":"width",$=1/0,W=-1/0;w.nodes().forEach((function(t){var e=w.node(t);if(a.nodeMap[t]){var n=S(a.nodeMap[t]);if(0===V)U[e._rank]||(U[e._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),U[e._rank].nodes.push(t),U[e._rank].totalWidth+=2*n+e[H],U[e._rank].maxSize<Math.max(e.width,e.height)&&(U[e._rank].maxSize=Math.max(e.width,e.height));else{var r=e._rank-V;if(0===r)U[r]||(U[r]={nodes:[],totalWidth:0,maxSize:-1/0}),U[r].nodes.push(t),U[r].totalWidth+=2*n+e[H],U[r].maxSize<Math.max(e.width,e.height)&&(U[r].maxSize=Math.max(e.width,e.height));else{var i=Math.abs(r);U[i]||(U[i]={left:[],right:[],totalWidth:0,maxSize:-1/0}),U[i].totalWidth+=2*n+e[H],U[i].maxSize<Math.max(e.width,e.height)&&(U[i].maxSize=Math.max(e.width,e.height)),r<0?U[i].left.push(t):U[i].right.push(t)}}var o=e[G]-e[H]/2-n,s=e[G]+e[H]/2+n;o<$&&($=o),s>W&&(W=s)}}));var Y=j||50,q={},X=(W-$)/.9,K=[.5*($+W-X),.5*($+W+X)],Z=function(t,e,n,r){void 0===n&&(n=-1/0),void 0===r&&(r=[0,1]);var i=n;return t.forEach((function(t){var n=w.node(t);q[t]=e;var o=z(n[G],K,X,e,r),s=o.x,c=o.y;if(a.nodeMap[t]){a.nodeMap[t].x=s+O[0],a.nodeMap[t].y=c+O[1],a.nodeMap[t]._order=n._order;var l=E(a.nodeMap[t]);i<l&&(i=l)}})),i},Q=!0;U.forEach((function(t){var e,n,r,i,o,s,c;if((null===(e=null===t||void 0===t?void 0:t.nodes)||void 0===e?void 0:e.length)||(null===(n=null===t||void 0===t?void 0:t.left)||void 0===n?void 0:n.length)||(null===(r=null===t||void 0===t?void 0:t.right)||void 0===r?void 0:r.length)){if(Q&&1===t.nodes.length){var l=t.nodes[0];if(!a.nodeMap[l])return;return a.nodeMap[l].x=O[0],a.nodeMap[l].y=O[1],q[t.nodes[0]]=0,Y=E(a.nodeMap[l]),void(Q=!1)}Y=Math.max(Y,t.totalWidth/(2*Math.PI));var u=-1/0;if(0===V||(null===(i=t.nodes)||void 0===i?void 0:i.length))u=Z(t.nodes,Y,u,[0,1]);else{var d=(null===(o=t.left)||void 0===o?void 0:o.length)/((null===(s=t.left)||void 0===s?void 0:s.length)+(null===(c=t.right)||void 0===c?void 0:c.length));u=Z(t.left,Y,u,[0,d]),u=Z(t.right,Y,u,[d+.05,1])}Y+=u,Q=!1,t.maxSize}})),w.edges().forEach((function(t){var e,n,r,i=w.edge(t),o=k.findIndex((function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target");return n===t.v&&r===t.w}));if(!(o<=-1)&&a.edgeLabelSpace&&a.controlPoints&&"loop"!==k[o].type){var c="x"===G?"y":"x",l=null===(e=null===i||void 0===i?void 0:i.points)||void 0===e?void 0:e.slice(1,i.points.length-1),u=[],d=null===(n=w.node(t.v))||void 0===n?void 0:n[c],h=d-(null===(r=w.node(t.w))||void 0===r?void 0:r[c]),f=q[t.v],p=f-q[t.w];null===l||void 0===l||l.forEach((function(t){var e=(t[c]-d)/h*p+f,n=z(t[G],K,X,e);u.push({x:n.x+O[0],y:n.y+O[1]})})),k[o].controlPoints=u}}))}else{var J=new Set,tt="BT"===h||"RL"===h,et=tt?function(t,e){return e-t}:function(t,e){return t-e};w.nodes().forEach((function(t){var e=w.node(t);if(e){var n=i.nodeMap[t];n||(n=null===f||void 0===f?void 0:f.find((function(e){return e.id===t}))),n&&(n.x=e.x+O[0],n.y=e.y+O[1],n._order=e._order,J.add(L?n.x:n.y))}}));var nt=Array.from(J).sort(et),rt=L?function(t,e){return t.x!==e.x}:function(t,e){return t.y!==e.y},it=L?function(t,e,n){var r=Math.max(e.y,n.y),i=Math.min(e.y,n.y);return t.filter((function(t){return t.y<=r&&t.y>=i}))}:function(t,e,n){var r=Math.max(e.x,n.x),i=Math.min(e.x,n.x);return t.filter((function(t){return t.x<=r&&t.x>=i}))};w.edges().forEach((function(t){var e,n=w.edge(t),r=k.findIndex((function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target");return n===t.v&&r===t.w}));if(!(r<=-1)&&a.edgeLabelSpace&&a.controlPoints&&"loop"!==k[r].type){null===(e=null===n||void 0===n?void 0:n.points)||void 0===e||e.forEach((function(t){t.x+=O[0],t.y+=O[1]}));var i=a.nodeMap[t.v],o=a.nodeMap[t.w];k[r].controlPoints=u(null===n||void 0===n?void 0:n.points,i,o,nt,L,rt,it)}}))}return a.onLayoutEnd&&a.onLayoutEnd(),{nodes:l,edges:k}}},e.prototype.getRadialPos=function(t,e,n,r,i){void 0===i&&(i=[0,1]);var o=(t-e[0])/n;o=o*(i[1]-i[0])+i[0];var s=2*o*Math.PI;return{x:Math.cos(s)*r,y:Math.sin(s)*r}},e.prototype.getType=function(){return"dagre"},e}(a.Base);e.DagreLayout=l;var u=function(t,e,n,r,i,o,s){var a=(null===t||void 0===t?void 0:t.slice(1,t.length-1))||[];if(e&&n){var c=e.x,l=e.y,u=n.x,d=n.y;if(i&&(c=e.y,l=e.x,u=n.y,d=n.x),d!==l&&c!==u){var h=r.indexOf(l),f=r[h+1];if(f){var p=a[0],g=i?{x:(l+f)/2,y:(null===p||void 0===p?void 0:p.y)||u}:{x:(null===p||void 0===p?void 0:p.x)||u,y:(l+f)/2};p&&!o(p,g)||a.unshift(g)}var m=r.indexOf(d),v=Math.abs(m-h);if(1===v)a=s(a,e,n),a.length||a.push(i?{x:(l+d)/2,y:c}:{x:c,y:(l+d)/2});else if(v>1){var b=r[m-1];if(b){var y=a[a.length-1],k=i?{x:(d+b)/2,y:(null===y||void 0===y?void 0:y.y)||u}:{x:(null===y||void 0===y?void 0:y.x)||c,y:(d+b)/2};y&&!o(y,k)||a.push(k)}}}}return a}},9524:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.DagreCompoundLayout=void 0;var s=n(6271),a=n(9861),c=n(1422),l=function(t){function e(e){var n=t.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.edgesep=5,n.ranksep=50,n.controlPoints=!0,n.anchorPoint=!0,n.nodes=[],n.edges=[],n.combos=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},e.prototype.init=function(t){var e=t.hiddenNodes||[],n=t.hiddenEdges||[],r=t.hiddenCombos||[];this.nodes=this.getDataByOrder((t.nodes||[]).concat(e)),this.edges=this.getDataByOrder((t.edges||[]).concat(n)),this.combos=(t.combos||[]).concat(r.map((function(t){return i(i({},t),{collapsed:!0})})))},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges;if(e){var r=t.getLayoutConfig(),i=r.graphDef,o=r.graphOption,s=r.graphSettings,c=(0,a.buildGraph)(i,o,s),l=(0,a.flatGraph)(c,!0);return this.updatePosition(l),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}},e.prototype.getNodePath=function(t){var e=this,n=e.nodes,r=e.combos,i=n.find((function(e){return e.id===t})),o=function(t,e){void 0===e&&(e=[]);var n=r.find((function(e){return e.id===t}));return n?(e.unshift(t),n.parentId?o(n.parentId,e):e):e};return i&&i.comboId?o(i.comboId,[t]):[t]},e.prototype.getLayoutConfig=function(){var t,e,n,r,s=this,l=s.nodes,u=s.edges,d=s.combos,h=s.nodeSize,f=s.rankdir,p=s.align,g=s.edgesep,m=s.nodesep,v=s.ranksep,b=s.settings,y=(d||[]).reduce((function(t,e){var n=l.filter((function(t){return t.comboId===e.id})).map((function(t){return t.id})),r=(d||[]).filter((function(t){return t.parentId===e.id})).map((function(t){return t.id}));return(n.length||r.length)&&(t[e.id]=o(o([],n,!0),r,!0)),t}),{});r=h?(0,c.isArray)(h)?function(){return h}:function(){return[h,h]}:function(t){return t&&t.size?(0,c.isArray)(t.size)?t.size:(0,c.isObject)(t.size)?[t.size.width||40,t.size.height||40]:[t.size,t.size]:[40,40]};var k=function(t){return t&&t.size?(0,c.isArray)(t.size)?t.size:[t.size,t.size]:[80,40]},w=k(null===d||void 0===d?void 0:d[0]),_=w[0],A=w[1],C=null===(e=null===(t=s.graphSettings)||void 0===t?void 0:t.subScene)||void 0===e?void 0:e.meta,x=(null===(n=d.find((function(t){return!t.collapsed})))||void 0===n?void 0:n.padding)||[20,20,20,20],E=x[0],S=x[1],M=x[2],I=x[3],D={compound:y,nodes:o([],(l||[]).map((function(t){var e=r(t),n=e[0],o=e[1];return i(i({},t),{width:n,height:o})})),!0),edges:o([],(u||[]).map((function(t){return i(i({},t),{v:t.source,w:t.target})})),!0)},T={expanded:(d||[]).filter((function(t){return!t.collapsed})).map((function(t){return t.id}))},O={graph:{meta:{align:p,rankDir:f,nodeSep:m,edgeSep:g,rankSep:v}},subScene:{meta:{paddingTop:E||(null===C||void 0===C?void 0:C.paddingTop)||20,paddingRight:S||(null===C||void 0===C?void 0:C.paddingRight)||20,paddingBottom:M||(null===C||void 0===C?void 0:C.paddingBottom)||20,paddingLeft:I||(null===C||void 0===C?void 0:C.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:_,height:A}}},N=(0,a.mergeConfig)(b,i({},(0,a.mergeConfig)(O,a.LAYOUT_CONFIG)));return s.graphSettings=N,{graphDef:D,graphOption:T,graphSettings:N}},e.prototype.updatePosition=function(t){var e=t.nodes,n=t.edges;this.updateNodePosition(e,n),this.updateEdgePosition(e,n)},e.prototype.getBegin=function(t,e){var n=this,r=n.begin,i=[0,0];if(r){var o=1/0,s=1/0;t.forEach((function(t){o>t.x&&(o=t.x),s>t.y&&(s=t.y)})),e.forEach((function(t){t.points.forEach((function(t){o>t.x&&(o=t.x),s>t.y&&(s=t.y)}))})),i[0]=r[0]-o,i[1]=r[1]-s}return i},e.prototype.updateNodePosition=function(t,e){var n=this,r=n.combos,i=n.nodes,o=n.edges,s=n.anchorPoint,c=n.graphSettings,l=this.getBegin(t,e);t.forEach((function(t){var n,u=t.x,d=t.y,h=t.id,f=t.type,p=t.coreBox;if(f===a.HierarchyNodeType.META&&h!==a.ROOT_NAME){var g=r.findIndex((function(t){return t.id===h})),m=null===(n=null===c||void 0===c?void 0:c.subScene)||void 0===n?void 0:n.meta;r[g].offsetX=u+l[0],r[g].offsetY=d+l[1],r[g].fixSize=[p.width,p.height],r[g].fixCollapseSize=[p.width,p.height],t.expanded?r[g].padding=[null===m||void 0===m?void 0:m.paddingTop,null===m||void 0===m?void 0:m.paddingRight,null===m||void 0===m?void 0:m.paddingBottom,null===m||void 0===m?void 0:m.paddingLeft]:r[g].padding=[0,0,0,0]}else if(f===a.HierarchyNodeType.OP){g=i.findIndex((function(t){return t.id===h}));if(i[g].x=u+l[0],i[g].y=d+l[1],s){var v=[],b=e.filter((function(t){return t.v===h})),y=e.filter((function(t){return t.w===h}));b.length>0&&b.forEach((function(e){var n=e.points[0],r=(n.x-u)/t.width+.5,i=(n.y-d)/t.height+.5;v.push([r,i]),e.baseEdgeList.forEach((function(t){var e=o.find((function(e){return e.source===t.v&&e.target===t.w}));e&&(e.sourceAnchor=v.length-1)}))})),y.length>0&&y.forEach((function(e){var n=e.points[e.points.length-1],r=(n.x-u)/t.width+.5,i=(n.y-d)/t.height+.5;v.push([r,i]),e.baseEdgeList.forEach((function(t){var e=o.find((function(e){return e.source===t.v&&e.target===t.w}));e&&(e.targetAnchor=v.length-1)}))})),i[g].anchorPoints=v.length>0?v:i[g].anchorPoints||[]}}}))},e.prototype.updateEdgePosition=function(t,e){var n=this,r=n.combos,s=n.edges,c=n.controlPoints,l=this.getBegin(t,e);c&&(r.forEach((function(t){t.inEdges=[],t.outEdges=[]})),s.forEach((function(e){var s,c,u,d,h=t.find((function(t){return t.id===e.source})),f=t.find((function(t){return t.id===e.target})),p=[],g=[];if(h&&f)g=(0,a.getEdges)(null===h||void 0===h?void 0:h.id,null===f||void 0===f?void 0:f.id,t);else if(!h||!f){var m=n.getNodePath(e.source),v=n.getNodePath(e.target),b=m.reverse().slice(h?0:1).find((function(e){return t.find((function(t){return t.id===e}))})),y=v.reverse().slice(f?0:1).find((function(e){return t.find((function(t){return t.id===e}))}));h=t.find((function(t){return t.id===b})),f=t.find((function(t){return t.id===y})),g=(0,a.getEdges)(null===h||void 0===h?void 0:h.id,null===f||void 0===f?void 0:f.id,t,{v:e.source,w:e.target})}if(p=g.reduce((function(t,e){return o(o([],t,!0),e.points.map((function(t){return i(i({},t),{x:t.x+l[0],y:t.y+l[1]})})),!0)}),[]),p=p.slice(1,-1),e.controlPoints=p,(null===f||void 0===f?void 0:f.type)===a.NodeType.META){var k=r.findIndex((function(t){return t.id===(null===f||void 0===f?void 0:f.id)}));if(!r[k]||(null===(s=r[k].inEdges)||void 0===s?void 0:s.some((function(t){return t.source===h.id&&t.target===f.id}))))return;null===(c=r[k].inEdges)||void 0===c||c.push({source:h.id,target:f.id,controlPoints:p})}if((null===h||void 0===h?void 0:h.type)===a.NodeType.META){k=r.findIndex((function(t){return t.id===(null===h||void 0===h?void 0:h.id)}));if(!r[k]||(null===(u=r[k].outEdges)||void 0===u?void 0:u.some((function(t){return t.source===h.id&&t.target===f.id}))))return;null===(d=r[k].outEdges)||void 0===d||d.push({source:h.id,target:f.id,controlPoints:p})}})))},e.prototype.getType=function(){return"dagreCompound"},e.prototype.getDataByOrder=function(t){return t.every((function(t){return void 0!==t.layoutOrder}))||t.forEach((function(t,e){t.layoutOrder=e})),t.sort((function(t,e){return t.layoutOrder-e.layoutOrder}))},e}(s.Base);e.DagreCompoundLayout=l},8326:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=void 0;var i=n(6449),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i.Graph);e.Graph=o},3038:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8733)),o=n(1519);e["default"]={layout:i.default,util:{time:o.time,notime:o.notime}}},9367:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(9952)),o=function(t){var e=function(t){return function(e){var n;return(null===(n=t.edge(e))||void 0===n?void 0:n.weight)||1}},n="greedy"===t.graph().acyclicer?(0,i.default)(t,e(t)):s(t);null===n||void 0===n||n.forEach((function(e){var n=t.edge(e);t.removeEdgeObj(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,"rev-".concat(Math.random()))}))},s=function(t){var e=[],n={},r={},i=function(o){var s;r[o]||(r[o]=!0,n[o]=!0,null===(s=t.outEdges(o))||void 0===s||s.forEach((function(t){n[t.w]?e.push(t):i(t.w)})),delete n[o])};return t.nodes().forEach(i),e},a=function(t){t.edges().forEach((function(e){var n=t.edge(e);if(n.reversed){t.removeEdgeObj(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))};e["default"]={run:o,undo:a}},2342:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1519),i=function(t){var e,n=function(e){var r=t.children(e),i=t.node(e);if((null===r||void 0===r?void 0:r.length)&&r.forEach((function(t){return n(t)})),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,a=i.maxRank+1;s<a;s+=1)o(t,"borderLeft","_bl",e,i,s),o(t,"borderRight","_br",e,i,s)}};null===(e=t.children())||void 0===e||e.forEach((function(t){return n(t)}))},o=function(t,e,n,i,o,s){var a={rank:s,borderType:e,width:0,height:0},c=o[e][s-1],l=(0,r.addDummyNode)(t,"border",a,n);o[e][s]=l,t.setParent(l,i),c&&t.setEdge(c,l,{weight:1})};e["default"]=i},347:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){var e,n=null===(e=t.graph().rankdir)||void 0===e?void 0:e.toLowerCase();"lr"!==n&&"rl"!==n||i(t)},r=function(t){var e,n=null===(e=t.graph().rankdir)||void 0===e?void 0:e.toLowerCase();"bt"!==n&&"rl"!==n||s(t),"lr"!==n&&"rl"!==n||(c(t),i(t))},i=function(t){t.nodes().forEach((function(e){o(t.node(e))})),t.edges().forEach((function(e){o(t.edge(e))}))},o=function(t){var e=t.width;t.width=t.height,t.height=e},s=function(t){t.nodes().forEach((function(e){a(t.node(e))})),t.edges().forEach((function(e){var n,r=t.edge(e);null===(n=r.points)||void 0===n||n.forEach((function(t){return a(t)})),r.hasOwnProperty("y")&&a(r)}))},a=function(t){(null===t||void 0===t?void 0:t.y)&&(t.y=-t.y)},c=function(t){t.nodes().forEach((function(e){l(t.node(e))})),t.edges().forEach((function(e){var n,r=t.edge(e);null===(n=r.points)||void 0===n||n.forEach((function(t){return l(t)})),r.hasOwnProperty("x")&&l(r)}))},l=function(t){var e=t.x;t.x=t.y,t.y=e};e["default"]={adjust:n,undo:r}},7110:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){if("next"!==t&&"prev"!==t)return e},r=function(t){t.prev.next=t.next,t.next.prev=t.prev,delete t.next,delete t.prev},i=function(){function t(){var t={};t.prev=t,t.next=t.prev,this.shortcut=t}return t.prototype.dequeue=function(){var t=this.shortcut,e=t.prev;if(e&&e!==t)return r(e),e},t.prototype.enqueue=function(t){var e=this.shortcut;t.prev&&t.next&&r(t),t.next=e.next,e.next.prev=t,e.next=t,t.prev=e},t.prototype.toString=function(){var t=[],e=this.shortcut,r=e.prev;while(r!==e)t.push(JSON.stringify(r,n)),r=null===r||void 0===r?void 0:r.prev;return"[".concat(t.join(", "),"]")},t}();e["default"]=i},9952:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(7110)),s=n(6449),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.default),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s.Graph),l=function(){return 1},u=function(t,e){var n;if(t.nodeCount()<=1)return[];var r=f(t,e||l),i=d(r.graph,r.buckets,r.zeroIdx);return null===(n=i.map((function(e){return t.outEdges(e.v,e.w)})))||void 0===n?void 0:n.flat()},d=function(t,e,n){var r,i=[],o=e[e.length-1],s=e[0];while(t.nodeCount()){while(r=s.dequeue())h(t,e,n,r);while(r=o.dequeue())h(t,e,n,r);if(t.nodeCount())for(var a=e.length-2;a>0;--a)if(r=e[a].dequeue(),r){i=i.concat(h(t,e,n,r,!0));break}}return i},h=function(t,e,n,r,i){var o,s,a=[];return null===(o=t.inEdges(r.v))||void 0===o||o.forEach((function(r){var o=t.edge(r),s=t.node(r.v);i&&a.push({v:r.v,w:r.w,in:0,out:0}),void 0===s.out&&(s.out=0),s.out-=o,p(e,n,s)})),null===(s=t.outEdges(r.v))||void 0===s||s.forEach((function(r){var i=t.edge(r),o=r.w,s=t.node(o);void 0===s.in&&(s.in=0),s.in-=i,p(e,n,s)})),t.removeNode(r.v),i?a:void 0},f=function(t,e){var n=new c,r=0,i=0;t.nodes().forEach((function(t){n.setNode(t,{v:t,in:0,out:0})})),t.edges().forEach((function(t){var o=n.edge(t)||0,s=(null===e||void 0===e?void 0:e(t))||1,a=o+s;n.setEdge(t.v,t.w,a),i=Math.max(i,n.node(t.v).out+=s),r=Math.max(r,n.node(t.w).in+=s)}));for(var o=[],s=i+r+3,l=0;l<s;l++)o.push(new a);var u=r+1;return n.nodes().forEach((function(t){p(o,u,n.node(t))})),{buckets:o,zeroIdx:u,graph:n}},p=function(t,e,n){n.out?n["in"]?t[n.out-n["in"]+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)};e["default"]=u},8733:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(9367)),s=i(n(7484)),a=i(n(6686)),c=n(1519),l=i(n(6873)),u=i(n(3396)),d=i(n(2342)),h=i(n(347)),f=i(n(6524)),p=i(n(3099)),g=i(n(1696)),m=n(8326),v=function(t,e){var n=e&&e.debugTiming?c.time:c.notime;n("layout",(function(){e&&!e.keepNodeOrder&&e.prevGraph&&n("  inheritOrder",(function(){y(t,e.prevGraph)}));var r=n("  buildLayoutGraph",(function(){return I(t)}));e&&!1===e.edgeLabelSpace||n("  makeSpaceForEdgeLabels",(function(){D(r)}));try{n("  runLayout",(function(){b(r,n,e)}))}catch(i){if("Not possible to find intersection inside of the rectangle"===i.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",i);throw i}n("  updateInputGraph",(function(){k(t,r)}))}))},b=function(t,e,n){e("    removeSelfEdges",(function(){z(t)})),e("    acyclic",(function(){o.default.run(t)})),e("    nestingGraph.run",(function(){u.default.run(t)})),e("    rank",(function(){(0,a.default)((0,c.asNonCompoundGraph)(t))})),e("    injectEdgeLabelProxies",(function(){T(t)})),e("    removeEmptyRanks",(function(){(0,c.removeEmptyRanks)(t)})),e("    nestingGraph.cleanup",(function(){u.default.cleanup(t)})),e("    normalizeRanks",(function(){(0,c.normalizeRanks)(t)})),e("    assignRankMinMax",(function(){O(t)})),e("    removeEdgeLabelProxies",(function(){N(t)})),e("    normalize.run",(function(){s.default.run(t)})),e("    parentDummyChains",(function(){(0,l.default)(t)})),e("    addBorderSegments",(function(){(0,d.default)(t)})),n&&n.keepNodeOrder&&e("    initDataOrder",(function(){(0,g.default)(t,n.nodeOrder)})),e("    order",(function(){(0,f.default)(t,null===n||void 0===n?void 0:n.keepNodeOrder)})),e("    insertSelfEdges",(function(){F(t)})),e("    adjustCoordinateSystem",(function(){h.default.adjust(t)})),e("    position",(function(){(0,p.default)(t)})),e("    positionSelfEdges",(function(){V(t)})),e("    removeBorderNodes",(function(){j(t)})),e("    normalize.undo",(function(){s.default.undo(t)})),e("    fixupEdgeLabelCoords",(function(){B(t)})),e("    undoCoordinateSystem",(function(){h.default.undo(t)})),e("    translateGraph",(function(){P(t)})),e("    assignNodeIntersects",(function(){L(t)})),e("    reversePoints",(function(){R(t)})),e("    acyclic.undo",(function(){o.default.undo(t)}))},y=function(t,e){t.nodes().forEach((function(n){var r=t.node(n),i=e.node(n);void 0!==i?(r.fixorder=i._order,delete i._order):delete r.fixorder}))},k=function(t,e){t.nodes().forEach((function(n){var r,i=t.node(n);if(i){var o=e.node(n);i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,(null===(r=e.children(n))||void 0===r?void 0:r.length)&&(i.width=o.width,i.height=o.height)}})),t.edges().forEach((function(n){var r=t.edge(n),i=e.edge(n);r.points=i?i.points:[],i&&i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height},w=["nodesep","edgesep","ranksep","marginx","marginy"],_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},A=["acyclicer","ranker","rankdir","align"],C=["width","height","layer","fixorder"],x={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"],I=function(t){var e=new m.Graph({multigraph:!0,compound:!0}),n=G(t.graph()),i={};return null===A||void 0===A||A.forEach((function(t){void 0!==n[t]&&(i[t]=n[t])})),e.setGraph(Object.assign({},_,U(n,w),i)),t.nodes().forEach((function(n){var i=G(t.node(n)),o=r(r({},x),i),s=U(o,C);e.setNode(n,s),e.setParent(n,t.parent(n))})),t.edges().forEach((function(n){var r=G(t.edge(n)),i={};null===M||void 0===M||M.forEach((function(t){void 0!==r[t]&&(i[t]=r[t])})),e.setEdgeObj(n,Object.assign({},S,U(r,E),i))})),e},D=function(t){var e=t.graph();e.ranksep||(e.ranksep=0),e.ranksep/=2,t.nodes().forEach((function(e){var n=t.node(e);isNaN(n.layer)||n.layer||(n.layer=0)})),t.edges().forEach((function(n){var r,i=t.edge(n);i.minlen*=2,"c"!==(null===(r=i.labelpos)||void 0===r?void 0:r.toLowerCase())&&("TB"===e.rankdir||"BT"===e.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)}))},T=function(t){t.edges().forEach((function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),o={e:e,rank:(i.rank-r.rank)/2+r.rank};(0,c.addDummyNode)(t,"edge-proxy",o,"_ep")}}))},O=function(t){var e=0;t.nodes().forEach((function(n){var r,i,o=t.node(n);o.borderTop&&(o.minRank=null===(r=t.node(o.borderTop))||void 0===r?void 0:r.rank,o.maxRank=null===(i=t.node(o.borderBottom))||void 0===i?void 0:i.rank,e=Math.max(e,o.maxRank||-1/0))})),t.graph().maxRank=e},N=function(t){t.nodes().forEach((function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))},P=function(t){var e,n,r=0,i=0,o=t.graph(),s=o.marginx||0,a=o.marginy||0,c=function(t){if(t){var o=t.x,s=t.y,a=t.width,c=t.height;isNaN(o)||isNaN(a)||(void 0===e&&(e=o-a/2),e=Math.min(e,o-a/2),r=Math.max(r,o+a/2)),isNaN(s)||isNaN(c)||(void 0===n&&(n=s-c/2),n=Math.min(n,s-c/2),i=Math.max(i,s+c/2))}};t.nodes().forEach((function(e){c(t.node(e))})),t.edges().forEach((function(e){var n=t.edge(e);(null===n||void 0===n?void 0:n.hasOwnProperty("x"))&&c(n)})),e-=s,n-=a,t.nodes().forEach((function(r){var i=t.node(r);i&&(i.x-=e,i.y-=n)})),t.edges().forEach((function(r){var i,o=t.edge(r);null===(i=o.points)||void 0===i||i.forEach((function(t){t.x-=e,t.y-=n})),o.hasOwnProperty("x")&&(o.x-=e),o.hasOwnProperty("y")&&(o.y-=n)})),o.width=r-e+s,o.height=i-n+a},L=function(t){t.edges().forEach((function(e){var n,r,i=t.edge(e),o=t.node(e.v),s=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=s,r=o),i.points.unshift((0,c.intersectRect)(o,n)),i.points.push((0,c.intersectRect)(s,r))}))},B=function(t){t.edges().forEach((function(e){var n=t.edge(e);if(null===n||void 0===n?void 0:n.hasOwnProperty("x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}}))},R=function(t){t.edges().forEach((function(e){var n,r=t.edge(e);r.reversed&&(null===(n=r.points)||void 0===n||n.reverse())}))},j=function(t){t.nodes().forEach((function(e){var n,r,i;if(null===(n=t.children(e))||void 0===n?void 0:n.length){var o=t.node(e),s=t.node(o.borderTop),a=t.node(o.borderBottom),c=t.node(o.borderLeft[(null===(r=o.borderLeft)||void 0===r?void 0:r.length)-1]),l=t.node(o.borderRight[(null===(i=o.borderRight)||void 0===i?void 0:i.length)-1]);o.width=Math.abs((null===l||void 0===l?void 0:l.x)-(null===c||void 0===c?void 0:c.x))||10,o.height=Math.abs((null===a||void 0===a?void 0:a.y)-(null===s||void 0===s?void 0:s.y))||10,o.x=((null===c||void 0===c?void 0:c.x)||0)+o.width/2,o.y=((null===s||void 0===s?void 0:s.y)||0)+o.height/2}})),t.nodes().forEach((function(e){var n;"border"===(null===(n=t.node(e))||void 0===n?void 0:n.dummy)&&t.removeNode(e)}))},z=function(t){t.edges().forEach((function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdgeObj(e)}}))},F=function(t){var e=(0,c.buildLayerMatrix)(t);null===e||void 0===e||e.forEach((function(e){var n=0;null===e||void 0===e||e.forEach((function(e,r){var i,o=t.node(e);o.order=r+n,null===(i=o.selfEdges)||void 0===i||i.forEach((function(e){(0,c.addDummyNode)(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:r+ ++n,e:e.e,label:e.label},"_se")})),delete o.selfEdges}))}))},V=function(t){t.nodes().forEach((function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;t.setEdgeObj(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{y:o,x:i+s},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}}))},U=function(t,e){var n={};return null===e||void 0===e||e.forEach((function(e){void 0!==t[e]&&(n[e]=+t[e])})),n},G=function(t){void 0===t&&(t={});var e={};return Object.keys(t).forEach((function(n){e[n.toLowerCase()]=t[n]})),e};e["default"]=v},3396:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1519),i=function(t){var e,n=(0,r.addDummyNode)(t,"root",{},"_root"),i=s(t),c=Math.max.apply(Math,Object.values(i));Math.abs(c)===1/0&&(c=1);var l=c-1,u=2*l+1;t.graph().nestingRoot=n,t.edges().forEach((function(e){t.edge(e).minlen*=u}));var d=a(t)+1;null===(e=t.children())||void 0===e||e.forEach((function(e){o(t,n,u,d,l,i,e)})),t.graph().nodeRankFactor=u},o=function(t,e,n,i,s,a,c){var l=t.children(c);if(null===l||void 0===l?void 0:l.length){var u=(0,r.addBorderNode)(t,"_bt"),d=(0,r.addBorderNode)(t,"_bb"),h=t.node(c);t.setParent(u,c),h.borderTop=u,t.setParent(d,c),h.borderBottom=d,null===l||void 0===l||l.forEach((function(r){o(t,e,n,i,s,a,r);var l=t.node(r),h=l.borderTop?l.borderTop:r,f=l.borderBottom?l.borderBottom:r,p=l.borderTop?i:2*i,g=h!==f?1:s-a[c]+1;t.setEdge(u,h,{minlen:g,weight:p,nestingEdge:!0}),t.setEdge(f,d,{minlen:g,weight:p,nestingEdge:!0})})),t.parent(c)||t.setEdge(e,u,{weight:0,minlen:s+a[c]})}else c!==e&&t.setEdge(e,c,{weight:0,minlen:n})},s=function(t){var e,n={},r=function(e,i){var o=t.children(e);null===o||void 0===o||o.forEach((function(t){return r(t,i+1)})),n[e]=i};return null===(e=t.children())||void 0===e||e.forEach((function(t){return r(t,1)})),n},a=function(t){var e=0;return t.edges().forEach((function(n){e+=t.edge(n).weight})),e},c=function(t){var e=t.graph();e.nestingRoot&&t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach((function(e){var n=t.edge(e);n.nestingEdge&&t.removeEdgeObj(e)}))};e["default"]={run:i,cleanup:c}},7484:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1519),i=function(t){t.graph().dummyChains=[],t.edges().forEach((function(e){return o(t,e)}))},o=function(t,e){var n=e.v,i=t.node(n).rank,o=e.w,s=t.node(o).rank,a=e.name,c=t.edge(e),l=c.labelRank;if(s!==i+1){t.removeEdgeObj(e);var u,d,h,f=t.graph();for(h=0,++i;i<s;++h,++i)c.points=[],d={edgeLabel:c,width:0,height:0,edgeObj:e,rank:i},u=(0,r.addDummyNode)(t,"edge",d,"_d"),i===l&&(d.width=c.width,d.height=c.height,d.dummy="edge-label",d.labelpos=c.labelpos),t.setEdge(n,u,{weight:c.weight},a),0===h&&(f.dummyChains||(f.dummyChains=[]),f.dummyChains.push(u)),n=u;t.setEdge(n,o,{weight:c.weight},a)}},s=function(t){var e;null===(e=t.graph().dummyChains)||void 0===e||e.forEach((function(e){var n,r=t.node(e),i=r.edgeLabel;r.edgeObj&&t.setEdgeObj(r.edgeObj,i);var o=e;while(r.dummy)n=t.successors(o)[0],t.removeNode(o),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),o=n,r=t.node(o)}))};e["default"]={run:i,undo:s}},8319:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){var r,i={};null===n||void 0===n||n.forEach((function(n){var o,s,a=t.parent(n);while(a){if(o=t.parent(a),o?(s=i[o],i[o]=a):(s=r,r=a),s&&s!==a)return void e.setEdge(s,a);a=o}}))};e["default"]=n},9843:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return e.map((function(e){var n=t.inEdges(e);if(!(null===n||void 0===n?void 0:n.length))return{v:e};var r={sum:0,weight:0};return null===n||void 0===n||n.forEach((function(e){var n=t.edge(e),i=t.node(e.v);r.sum+=n.weight*i.order,r.weight+=n.weight})),{v:e,barycenter:r.sum/r.weight,weight:r.weight}}))};e["default"]=n},3517:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8326),i=function(t,e,n){var i=o(t),s=new r.Graph({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return t.nodes().forEach((function(r){var o,a=t.node(r),c=t.parent(r);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(s.setNode(r),s.setParent(r,c||i),null===(o=t[n](r))||void 0===o||o.forEach((function(e){var n=e.v===r?e.w:e.v,i=s.edgeFromArgs(n,r),o=void 0!==i?i.weight:0;s.setEdge(n,r,{weight:t.edge(e).weight+o})})),a.hasOwnProperty("minRank")&&s.setNode(r,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))})),s},o=function(t){var e;while(t.hasNode(e="_root".concat(Math.random())));return e};e["default"]=i},1294:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1519),i=function(t,e,n){var i=(0,r.zipObject)(n,n.map((function(t,e){return e}))),o=e.map((function(e){var n,r=null===(n=t.outEdges(e))||void 0===n?void 0:n.map((function(e){return{pos:i[e.w]||0,weight:t.edge(e).weight}}));return null===r||void 0===r?void 0:r.sort((function(t,e){return t.pos-e.pos}))})),s=o.flat().filter((function(t){return void 0!==t})),a=1;while(a<n.length)a<<=1;var c=2*a-1;a-=1;var l=Array(c).fill(0,0,c),u=0;return null===s||void 0===s||s.forEach((function(t){if(t){var e=t.pos+a;l[e]+=t.weight;var n=0;while(e>0)e%2&&(n+=l[e+1]),e=e-1>>1,l[e]+=t.weight;u+=t.weight*n}})),u},o=function(t,e){for(var n=0,r=1;r<(null===e||void 0===e?void 0:e.length);r+=1)n+=i(t,e[r-1],e[r]);return n};e["default"]=o},6524:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(497)),o=r(n(1294)),s=r(n(3517)),a=r(n(8319)),c=r(n(7749)),l=n(1422),u=n(8326),d=n(1519),h=function(t,e){for(var n=(0,d.maxRank)(t),r=[],s=[],a=1;a<n+1;a++)r.push(a);for(a=n-1;a>-1;a--)s.push(a);var c=f(t,r,"inEdges"),u=f(t,s,"outEdges"),h=(0,i.default)(t);g(t,h);for(var m,v=Number.POSITIVE_INFINITY,b=(a=0,0);b<4;++a,++b){p(a%2?c:u,a%4>=2,!1,e),h=(0,d.buildLayerMatrix)(t);var y=(0,o.default)(t,h);y<v&&(b=0,m=(0,l.clone)(h),v=y)}h=(0,i.default)(t),g(t,h);for(a=0,b=0;b<4;++a,++b){p(a%2?c:u,a%4>=2,!0,e),h=(0,d.buildLayerMatrix)(t);y=(0,o.default)(t,h);y<v&&(b=0,m=(0,l.clone)(h),v=y)}g(t,m)},f=function(t,e,n){return e.map((function(e){return(0,s.default)(t,e,n)}))},p=function(t,e,n,r){var i=new u.Graph;null===t||void 0===t||t.forEach((function(t){for(var o,s=t.graph().root,l=(0,c.default)(t,s,i,e,n,r),u=0;u<(null===(o=l.vs)||void 0===o?void 0:o.length);u++){var d=t.node(l.vs[u]);d&&(d.order=u)}(0,a.default)(t,i,l.vs)}))},g=function(t,e){null===e||void 0===e||e.forEach((function(e){null===e||void 0===e||e.forEach((function(e,n){t.node(e).order=n}))}))};e["default"]=h},1696:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){for(var n=t.nodes().filter((function(e){var n;return!(null===(n=t.children(e))||void 0===n?void 0:n.length)})),r=n.map((function(e){return t.node(e).rank})),i=Math.max.apply(Math,r),o=[],s=0;s<i+1;s++)o[s]=[];null===e||void 0===e||e.forEach((function(e){var n=t.node(e);n&&!(null===n||void 0===n?void 0:n.dummy)&&(isNaN(n.rank)||(n.fixorder=o[n.rank].length,o[n.rank].push(e)))}))};e["default"]=n},497:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3485),i=function(t){for(var e={},n=t.nodes().filter((function(e){var n;return!(null===(n=t.children(e))||void 0===n?void 0:n.length)})),i=n.map((function(e){return t.node(e).rank})),o=(0,r.max)(i),s=[],a=0;a<o+1;a++)s.push([]);var c=function(n){var r;if(!e.hasOwnProperty(n)){e[n]=!0;var i=t.node(n);isNaN(i.rank)||s[i.rank].push(n),null===(r=t.successors(n))||void 0===r||r.forEach((function(t){return c(t)}))}},l=n.sort((function(e,n){return t.node(e).rank-t.node(n).rank})),u=l.filter((function(e){return void 0!==t.node(e).fixorder})),d=u.sort((function(e,n){return t.node(e).fixorder-t.node(n).fixorder}));return null===d||void 0===d||d.forEach((function(n){isNaN(t.node(n).rank)||s[t.node(n).rank].push(n),e[n]=!0})),null===l||void 0===l||l.forEach(c),s};e["default"]=i},8406:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){var n,i,o,s={};null===t||void 0===t||t.forEach((function(t,e){s[t.v]={i:e,indegree:0,in:[],out:[],vs:[t.v]};var n=s[t.v];void 0!==t.barycenter&&(n.barycenter=t.barycenter,n.weight=t.weight)})),null===(n=e.edges())||void 0===n||n.forEach((function(t){var e=s[t.v],n=s[t.w];void 0!==e&&void 0!==n&&(n.indegree++,e.out.push(s[t.w]))}));var a=null===(o=(i=Object.values(s)).filter)||void 0===o?void 0:o.call(i,(function(t){return!t.indegree}));return r(a)},r=function(t){var e,n,r=[],o=function(t){return function(e){e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&i(t,e)}},s=function(e){return function(n){n["in"].push(e),0===--n.indegree&&t.push(n)}},a=function(){var i=t.pop();r.push(i),null===(e=i["in"].reverse())||void 0===e||e.forEach((function(t){return o(i)(t)})),null===(n=i.out)||void 0===n||n.forEach((function(t){return s(i)(t)}))};while(null===t||void 0===t?void 0:t.length)a();var c=r.filter((function(t){return!t.merged})),l=["vs","i","barycenter","weight"];return c.map((function(t){var e={};return null===l||void 0===l||l.forEach((function(n){void 0!==t[n]&&(e[n]=t[n])})),e}))},i=function(t,e){var n,r=0,i=0;t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.vs=null===(n=e.vs)||void 0===n?void 0:n.concat(t.vs),t.barycenter=r/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0};e["default"]=n},7749:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(9843)),o=r(n(8406)),s=r(n(3462)),a=function(t,e,n,r,u,d){var h,f,p,g,m=t.children(e),v=t.node(e),b=v?v.borderLeft:void 0,y=v?v.borderRight:void 0,k={};b&&(m=null===m||void 0===m?void 0:m.filter((function(t){return t!==b&&t!==y})));var w=(0,i.default)(t,m||[]);null===w||void 0===w||w.forEach((function(e){var i;if(null===(i=t.children(e.v))||void 0===i?void 0:i.length){var o=a(t,e.v,n,r,d);k[e.v]=o,o.hasOwnProperty("barycenter")&&l(e,o)}}));var _=(0,o.default)(w,n);c(_,k),null===(h=_.filter((function(t){return t.vs.length>0})))||void 0===h||h.forEach((function(e){var n=t.node(e.vs[0]);n&&(e.fixorder=n.fixorder,e.order=n.order)}));var A=(0,s.default)(_,r,u,d);if(b&&(A.vs=[b,A.vs,y].flat(),null===(f=t.predecessors(b))||void 0===f?void 0:f.length)){var C=t.node((null===(p=t.predecessors(b))||void 0===p?void 0:p[0])||""),x=t.node((null===(g=t.predecessors(y))||void 0===g?void 0:g[0])||"");A.hasOwnProperty("barycenter")||(A.barycenter=0,A.weight=0),A.barycenter=(A.barycenter*A.weight+C.order+x.order)/(A.weight+2),A.weight+=2}return A},c=function(t,e){null===t||void 0===t||t.forEach((function(t){var n,r=null===(n=t.vs)||void 0===n?void 0:n.map((function(t){return e[t]?e[t].vs:t}));t.vs=r.flat()}))},l=function(t,e){void 0!==t.barycenter?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)};e["default"]=a},3462:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1519),i=function(t,e,n,i){var a=(0,r.partition)(t,(function(t){var e=t.hasOwnProperty("fixorder")&&!isNaN(t.fixorder);return i?!e&&t.hasOwnProperty("barycenter"):e||t.hasOwnProperty("barycenter")})),c=a.lhs,l=a.rhs.sort((function(t,e){return-t.i- -e.i})),u=[],d=0,h=0,f=0;null===c||void 0===c||c.sort(s(!!e,!!n)),f=o(u,l,f),null===c||void 0===c||c.forEach((function(t){var e;f+=null===(e=t.vs)||void 0===e?void 0:e.length,u.push(t.vs),d+=t.barycenter*t.weight,h+=t.weight,f=o(u,l,f)}));var p={vs:u.flat()};return h&&(p.barycenter=d/h,p.weight=h),p},o=function(t,e,n){var r,i=n;while(e.length&&(r=e[e.length-1]).i<=i)e.pop(),null===t||void 0===t||t.push(r.vs),i++;return i},s=function(t,e){return function(n,r){if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(e&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return t?r.i-n.i:n.i-r.i}};e["default"]=i},6873:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){var e,n={},r=0,i=function(e){var o,s=r;null===(o=t.children(e))||void 0===o||o.forEach(i),n[e]={low:s,lim:r++}};return null===(e=t.children())||void 0===e||e.forEach(i),n},r=function(t,e,n,r){var i,o,s=[],a=[],c=Math.min(e[n].low,e[r].low),l=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),s.push(i)}while(i&&(e[i].low>c||l>e[i].lim));o=i,i=r;while(i&&i!==o)a.push(i),i=t.parent(i);return{lca:o,path:s.concat(a.reverse())}},i=function(t){var e,i=n(t);null===(e=t.graph().dummyChains)||void 0===e||e.forEach((function(e){var n,o,s=e,a=t.node(s),c=a.edgeObj;if(c){var l=r(t,i,c.v,c.w),u=l.path,d=l.lca,h=0,f=u[h],p=!0;while(s!==c.w){if(a=t.node(s),p){while(f!==d&&(null===(n=t.node(f))||void 0===n?void 0:n.maxRank)<a.rank)h++,f=u[h];f===d&&(p=!1)}if(!p){while(h<u.length-1&&(null===(o=t.node(u[h+1]))||void 0===o?void 0:o.minRank)<=a.rank)h++;f=u[h]}t.setParent(s,f),s=t.successors(s)[0]}}}))};e["default"]=i},9436:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.width=e.sep=e.positionX=e.balance=e.alignCoordinates=e.findSmallestWidthAlignment=e.buildBlockGraph=e.horizontalCompaction=e.verticalAlignment=e.hasConflict=e.addConflict=e.findOtherInnerSegmentNode=e.findType2Conflicts=e.findType1Conflicts=void 0;var i=n(6449),o=n(3485),s=n(1519),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i.Graph),c=function(t,n){var r={},i=function(n,i){var o=0,s=0,a=n.length,c=null===i||void 0===i?void 0:i[(null===i||void 0===i?void 0:i.length)-1];return null===i||void 0===i||i.forEach((function(n,l){var u,d=(0,e.findOtherInnerSegmentNode)(t,n),h=d?t.node(d).order:a;(d||n===c)&&(null===(u=i.slice(s,l+1))||void 0===u||u.forEach((function(n){var i;null===(i=t.predecessors(n))||void 0===i||i.forEach((function(i){var s,a=t.node(i),c=a.order;!(c<o||h<c)||a.dummy&&(null===(s=t.node(n))||void 0===s?void 0:s.dummy)||(0,e.addConflict)(r,i,n)}))})),s=l+1,o=h)})),i};return(null===n||void 0===n?void 0:n.length)&&n.reduce(i),r};e.findType1Conflicts=c;var l=function(t,n){var r={};function i(n,i,o,s,a){for(var c,l,u,d=i;d<o;d++)u=n[d],(null===(c=t.node(u))||void 0===c?void 0:c.dummy)&&(null===(l=t.predecessors(u))||void 0===l||l.forEach((function(n){var i=t.node(n);i.dummy&&(i.order<s||i.order>a)&&(0,e.addConflict)(r,n,u)})))}function o(t){return JSON.stringify(t.slice(1))}function s(t,e){var n=o(t);e.get(n)||(i.apply(void 0,t),e.set(n,!0))}var a=function(e,n){var r,i=-1,o=0,a=new Map;return null===n||void 0===n||n.forEach((function(c,l){var u;if("border"===(null===(u=t.node(c))||void 0===u?void 0:u.dummy)){var d=t.predecessors(c)||[];d.length&&(r=t.node(d[0]).order,s([n,o,l,i,r],a),o=l,i=r)}s([n,o,n.length,r,e.length],a)})),n};return(null===n||void 0===n?void 0:n.length)&&n.reduce(a),r};e.findType2Conflicts=l;var u=function(t,e){var n,r;if(null===(n=t.node(e))||void 0===n?void 0:n.dummy)return null===(r=t.predecessors(e))||void 0===r?void 0:r.find((function(e){return t.node(e).dummy}))};e.findOtherInnerSegmentNode=u;var d=function(t,e,n){var r=e,i=n;if(r>i){var o=r;r=i,i=o}var s=t[r];s||(t[r]=s={}),s[i]=!0};e.addConflict=d;var h=function(t,e,n){var r=e,i=n;if(r>i){var o=e;r=i,i=o}return!!t[r]};e.hasConflict=h;var f=function(t,n,r,i){var o={},s={},a={};return null===n||void 0===n||n.forEach((function(t){null===t||void 0===t||t.forEach((function(t,e){o[t]=t,s[t]=t,a[t]=e}))})),null===n||void 0===n||n.forEach((function(t){var n=-1;null===t||void 0===t||t.forEach((function(t){var c=i(t);if(c.length){c=c.sort((function(t,e){return a[t]-a[e]}));for(var l=(c.length-1)/2,u=Math.floor(l),d=Math.ceil(l);u<=d;++u){var h=c[u];s[t]===t&&n<a[h]&&!(0,e.hasConflict)(r,t,h)&&(s[h]=t,s[t]=o[t]=o[h],n=a[h])}}}))})),{root:o,align:s}};e.verticalAlignment=f;var p=function(t,n,r,i,o){var s,a={},c=(0,e.buildBlockGraph)(t,n,r,o),l=o?"borderLeft":"borderRight",u=function(t,e){var n=c.nodes(),r=n.pop(),i={};while(r)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()},d=function(t){a[t]=(c.inEdges(t)||[]).reduce((function(t,e){return Math.max(t,(a[e.v]||0)+c.edge(e))}),0)},h=function(e){var n=(c.outEdges(e)||[]).reduce((function(t,e){return Math.min(t,(a[e.w]||0)-c.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==l&&(a[e]=Math.max(a[e],n))};return u(d,c.predecessors.bind(c)),u(h,c.successors.bind(c)),null===(s=Object.values(i))||void 0===s||s.forEach((function(t){a[t]=a[r[t]]})),a};e.horizontalCompaction=p;var g=function(t,n,r,i){var o=new a,s=t.graph(),c=(0,e.sep)(s.nodesep,s.edgesep,i);return null===n||void 0===n||n.forEach((function(e){var n;null===e||void 0===e||e.forEach((function(e){var i=r[e];if(o.setNode(i),n){var s=r[n],a=o.edgeFromArgs(s,i);o.setEdge(s,i,Math.max(c(t,e,n),a||0))}n=e}))})),o};e.buildBlockGraph=g;var m=function(t,n){return(0,s.minBy)(Object.values(n),(function(n){var r,i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return null===(r=Object.keys(n))||void 0===r||r.forEach((function(r){var s=n[r],a=(0,e.width)(t,r)/2;i=Math.max(s+a,i),o=Math.min(s-a,o)})),i-o}))};function v(t,e){var n=Object.values(e),r=(0,o.min)(n),i=(0,o.max)(n);["u","d"].forEach((function(n){["l","r"].forEach((function(s){var a,c=n+s,l=t[c];if(l!==e){var u=Object.values(l);a="l"===s?r-(0,o.min)(u):i-(0,o.max)(u),a&&(t[c]={},Object.keys(l).forEach((function(e){t[c][e]=l[e]+a})))}}))}))}e.findSmallestWidthAlignment=m,e.alignCoordinates=v;var b=function(t,e){var n={};return Object.keys(t.ul).forEach((function(r){if(e)n[r]=t[e.toLowerCase()][r];else{var i=Object.values(t).map((function(t){return t[r]}));n[r]=(i[0]+i[1])/2}})),n};e.balance=b;var y=function(t){var n,r=(0,s.buildLayerMatrix)(t),i=Object.assign((0,e.findType1Conflicts)(t,r),(0,e.findType2Conflicts)(t,r)),o={};["u","d"].forEach((function(s){n="u"===s?r:Object.values(r).reverse(),["l","r"].forEach((function(r){"r"===r&&(n=n.map((function(t){return Object.values(t).reverse()})));var a=("u"===s?t.predecessors:t.successors).bind(t),c=(0,e.verticalAlignment)(t,n,i,a),l=(0,e.horizontalCompaction)(t,n,c.root,c.align,"r"===r);"r"===r&&Object.keys(l).forEach((function(t){l[t]=-l[t]})),o[s+r]=l}))}));var a=(0,e.findSmallestWidthAlignment)(t,o);return v(o,a),(0,e.balance)(o,t.graph().align)};e.positionX=y;var k=function(t,e,n){return function(r,i,o){var s,a=r.node(i),c=r.node(o),l=0;if(l+=a.width/2,a.hasOwnProperty("labelpos"))switch((a.labelpos||"").toLowerCase()){case"l":s=-a.width/2;break;case"r":s=a.width/2;break}if(s&&(l+=n?s:-s),s=0,l+=(a.dummy?e:t)/2,l+=(c.dummy?e:t)/2,l+=c.width/2,c.labelpos)switch((c.labelpos||"").toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2;break}return s&&(l+=n?s:-s),s=0,l}};e.sep=k;var w=function(t,e){return t.node(e).width||0};e.width=w},3099:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1519),o=n(9436),s=function(t){var e=(0,i.buildLayerMatrix)(t),n=t.graph().ranksep,o=0;null===e||void 0===e||e.forEach((function(e){var i=e.map((function(e){return t.node(e).height})),s=Math.max.apply(Math,r(r([],i,!1),[0],!1));null===e||void 0===e||e.forEach((function(e){t.node(e).y=o+s/2})),o+=s+n}))},a=function(t){var e=(0,i.buildLayerMatrix)(t),n=Object.assign((0,o.findType1Conflicts)(t,e),(0,o.findType2Conflicts)(t,e)),r={},s=[];["u","d"].forEach((function(i){s="u"===i?e:Object.values(e).reverse(),["l","r"].forEach((function(e){"r"===e&&(s=s.map((function(t){return Object.values(t).reverse()})));var a=("u"===i?t.predecessors:t.successors).bind(t),c=(0,o.verticalAlignment)(t,s,n,a),l=(0,o.horizontalCompaction)(t,s,c.root,c.align,"r"===e);"r"===e&&Object.keys(l).forEach((function(t){return l[t]=-l[t]})),r[i+e]=l}))}));var a=(0,o.findSmallestWidthAlignment)(t,r);return a&&(0,o.alignCoordinates)(r,a),(0,o.balance)(r,t.graph().align)},c=function(t){var e,n=(0,i.asNonCompoundGraph)(t);s(n);var r=a(n);null===(e=Object.keys(r))||void 0===e||e.forEach((function(t){n.node(t).x=r[t]}))};e["default"]=c},5022:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.feasibleTreeWithLayer=e.feasibleTree=void 0;var r=n(3472),i=n(1519),o=n(8326),s=function(t){var e,n,i=new o.Graph({directed:!1}),s=t.nodes()[0],c=t.nodeCount();i.setNode(s,{});while(a(i,t)<c)e=u(i,t),n=i.hasNode(e.v)?(0,r.slack)(t,e):-(0,r.slack)(t,e),d(i,t,n);return i};e.feasibleTree=s;var a=function(t,e){var n=function(i){e.nodeEdges(i).forEach((function(o){var s=o.v,a=i===s?o.w:s;t.hasNode(a)||(0,r.slack)(e,o)||(t.setNode(a,{}),t.setEdge(i,a,{}),n(a))}))};return t.nodes().forEach(n),t.nodeCount()},c=function(t){var e,n,i=new o.Graph({directed:!1}),s=t.nodes()[0],a=t.nodes().filter((function(e){return!!t.node(e)})).length;i.setNode(s,{});while(l(i,t)<a)e=u(i,t),n=i.hasNode(e.v)?(0,r.slack)(t,e):-(0,r.slack)(t,e),d(i,t,n);return i};e.feasibleTreeWithLayer=c;var l=function(t,e){var n=function(i){var o;null===(o=e.nodeEdges(i))||void 0===o||o.forEach((function(o){var s=o.v,a=i===s?o.w:s;t.hasNode(a)||void 0===e.node(a).layer&&(0,r.slack)(e,o)||(t.setNode(a,{}),t.setEdge(i,a,{}),n(a))}))};return t.nodes().forEach(n),t.nodeCount()},u=function(t,e){return(0,i.minBy)(e.edges(),(function(n){return t.hasNode(n.v)!==t.hasNode(n.w)?(0,r.slack)(e,n):1/0}))},d=function(t,e,n){t.nodes().forEach((function(t){e.node(t).rank||(e.node(t).rank=0),e.node(t).rank+=n}))};e["default"]={feasibleTree:s,feasibleTreeWithLayer:c}},6686:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(3472),o=n(5022),s=r(n(4883)),a=function(t){switch(t.graph().ranker){case"network-simplex":u(t);break;case"tight-tree":l(t);break;case"longest-path":c(t);break;default:l(t)}},c=i.longestPath,l=function(t){(0,i.longestPathWithLayer)(t),(0,o.feasibleTreeWithLayer)(t)},u=function(t){(0,s.default)(t)};e["default"]=a},4883:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exchangeEdges=e.enterEdge=e.leaveEdge=e.initLowLimValues=e.calcCutValue=e.initCutValues=void 0;var r=n(5022),i=n(3472),o=n(1519),s=n(6449),a=s.algorithm.preorder,c=s.algorithm.postorder,l=function(t){var n=(0,o.simplify)(t);(0,i.longestPath)(n);var s,a,c=(0,r.feasibleTree)(n);(0,e.initLowLimValues)(c),(0,e.initCutValues)(c,n);while(s=(0,e.leaveEdge)(c))a=(0,e.enterEdge)(c,n,s),(0,e.exchangeEdges)(c,n,s,a)},u=function(t,e){var n=c(t,t.nodes());n=null===n||void 0===n?void 0:n.slice(0,(null===n||void 0===n?void 0:n.length)-1),null===n||void 0===n||n.forEach((function(n){d(t,e,n)}))};e.initCutValues=u;var d=function(t,n,r){var i=t.node(r),o=i.parent;t.edgeFromArgs(r,o).cutvalue=(0,e.calcCutValue)(t,n,r)},h=function(t,e,n){var r,i=t.node(n),o=i.parent,s=!0,a=e.edgeFromArgs(n,o),c=0;return a||(s=!1,a=e.edgeFromArgs(o,n)),c=a.weight,null===(r=e.nodeEdges(n))||void 0===r||r.forEach((function(r){var i=r.v===n,a=i?r.w:r.v;if(a!==o){var l=i===s,u=e.edge(r).weight;if(c+=l?u:-u,y(t,n,a)){var d=t.edgeFromArgs(n,a).cutvalue;c+=l?-d:d}}})),c};e.calcCutValue=h;var f=function(t,e){void 0===e&&(e=t.nodes()[0]),p(t,{},1,e)};e.initLowLimValues=f;var p=function(t,e,n,r,i){var o,s=n,a=n,c=t.node(r);return e[r]=!0,null===(o=t.neighbors(r))||void 0===o||o.forEach((function(n){e[n]||(a=p(t,e,a,n,r))})),c.low=s,c.lim=a++,i?c.parent=i:delete c.parent,a},g=function(t){return t.edges().find((function(e){return t.edge(e).cutvalue<0}))};e.leaveEdge=g;var m=function(t,e,n){var r=n.v,s=n.w;e.hasEdge(r,s)||(r=n.w,s=n.v);var a=t.node(r),c=t.node(s),l=a,u=!1;a.lim>c.lim&&(l=c,u=!0);var d=e.edges().filter((function(e){return u===k(t,t.node(e.v),l)&&u!==k(t,t.node(e.w),l)}));return(0,o.minBy)(d,(function(t){return(0,i.slack)(e,t)}))};e.enterEdge=m;var v=function(t,n,r,i){var o=r.v,s=r.w;t.removeEdge(o,s),t.setEdge(i.v,i.w,{}),(0,e.initLowLimValues)(t),(0,e.initCutValues)(t,n),b(t,n)};e.exchangeEdges=v;var b=function(t,e){var n=t.nodes().find((function(t){var n;return!(null===(n=e.node(t))||void 0===n?void 0:n.parent)})),r=a(t,n);r=null===r||void 0===r?void 0:r.slice(1),null===r||void 0===r||r.forEach((function(n){var r=t.node(n).parent,i=e.edgeFromArgs(n,r),o=!1;i||(i=e.edgeFromArgs(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)}))},y=function(t,e,n){return t.hasEdge(e,n)},k=function(t,e,n){return n.low<=e.lim&&e.lim<=n.lim};e["default"]=l},3472:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.slack=e.longestPathWithLayer=e.longestPath=void 0;var n=function(t){var e,n={},r=function(e){var i,o,s=t.node(e);return s?n[e]?s.rank:(n[e]=!0,null===(i=t.outEdges(e))||void 0===i||i.forEach((function(e){var n=r(e.w),i=t.edge(e).minlen,s=n-i;s&&(void 0===o||s<o)&&(o=s)})),o||(o=0),s.rank=o,o):0};null===(e=t.sources())||void 0===e||e.forEach((function(t){return r(t)}))};e.longestPath=n;var r=function(t){var e,n,r={},i=function(e){var o,s,a=t.node(e);return a?r[e]?a.rank:(r[e]=!0,null===(o=t.outEdges(e))||void 0===o||o.forEach((function(e){var n=i(e.w),r=t.edge(e).minlen,o=n-r;o&&(void 0===s||o<s)&&(s=o)})),s||(s=0),(void 0===n||s<n)&&(n=s),a.rank=s,s):0};null===(e=t.sources())||void 0===e||e.forEach((function(e){t.node(e)&&i(e)})),void 0===n&&(n=0);var o={},s=function(e,n){var r,i=t.node(e),a=isNaN(i.layer)?n:i.layer;(void 0===i.rank||i.rank<a)&&(i.rank=a),o[e]||(o[e]=!0,null===(r=t.outEdges(e))||void 0===r||r.map((function(e){s(e.w,a+t.edge(e).minlen)})))};t.nodes().forEach((function(e){var r=t.node(e);r&&(isNaN(r.layer)?r.rank-=n:s(e,r.layer))}))};e.longestPathWithLayer=r;var i=function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen};e.slack=i,e["default"]={longestPath:n,longestPathWithLayer:r,slack:i}},1519:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minBy=e.notime=e.time=e.partition=e.maxRank=e.addBorderNode=e.removeEmptyRanks=e.normalizeRanks=e.buildLayerMatrix=e.intersectRect=e.predecessorWeights=e.successorWeights=e.zipObject=e.asNonCompoundGraph=e.simplify=e.addDummyNode=void 0;var r=n(1422),i=n(8326),o=function(t,e){return Number(t)-Number(e)},s=function(t,e,n,r){var i;do{i="".concat(r).concat(Math.random())}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i};e.addDummyNode=s;var a=function(t){var e=(new i.Graph).setGraph(t.graph());return t.nodes().forEach((function(n){e.setNode(n,t.node(n))})),t.edges().forEach((function(n){var r=e.edgeFromArgs(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),e};e.simplify=a;var c=function(t){var e=new i.Graph({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach((function(n){var r;(null===(r=t.children(n))||void 0===r?void 0:r.length)||e.setNode(n,t.node(n))})),t.edges().forEach((function(n){e.setEdgeObj(n,t.edge(n))})),e};e.asNonCompoundGraph=c;var l=function(t,e){return null===t||void 0===t?void 0:t.reduce((function(t,n,r){return t[n]=e[r],t}),{})};e.zipObject=l;var u=function(t){var e={};return t.nodes().forEach((function(n){var r,i={};null===(r=t.outEdges(n))||void 0===r||r.forEach((function(e){var n;i[e.w]=(i[e.w]||0)+((null===(n=t.edge(e))||void 0===n?void 0:n.weight)||0)})),e[n]=i})),e};e.successorWeights=u;var d=function(t){var n=t.nodes(),r=n.map((function(e){var n,r={};return null===(n=t.inEdges(e))||void 0===n||n.forEach((function(e){r[e.v]=(r[e.v]||0)+t.edge(e).weight})),r}));return(0,e.zipObject)(n,r)};e.predecessorWeights=d;var h=function(t,e){var n,r,i=Number(t.x),o=Number(t.y),s=Number(e.x)-i,a=Number(e.y)-o,c=Number(t.width)/2,l=Number(t.height)/2;return s||a?(Math.abs(a)*c>Math.abs(s)*l?(a<0&&(l=-l),n=l*s/a,r=l):(s<0&&(c=-c),n=c,r=c*a/s),{x:i+n,y:o+r}):{x:0,y:0}};e.intersectRect=h;var f=function(t){for(var n=[],r=(0,e.maxRank)(t)+1,i=0;i<r;i++)n.push([]);t.nodes().forEach((function(e){var r=t.node(e);if(r){var i=r.rank;void 0!==i&&n[i]&&n[i].push(e)}}));for(i=0;i<r;i++)n[i]=n[i].sort((function(e,n){var r,i;return o(null===(r=t.node(e))||void 0===r?void 0:r.order,null===(i=t.node(n))||void 0===i?void 0:i.order)}));return n};e.buildLayerMatrix=f;var p=function(t){var e=t.nodes().filter((function(e){var n;return void 0!==(null===(n=t.node(e))||void 0===n?void 0:n.rank)})).map((function(e){return t.node(e).rank})),n=Math.min.apply(Math,e);t.nodes().forEach((function(e){var r=t.node(e);r.hasOwnProperty("rank")&&n!==1/0&&(r.rank-=n)}))};e.normalizeRanks=p;var g=function(t){var e=t.nodes(),n=e.filter((function(e){var n;return void 0!==(null===(n=t.node(e))||void 0===n?void 0:n.rank)})).map((function(e){return t.node(e).rank})),r=Math.min.apply(Math,n),i=[];e.forEach((function(e){var n,o=((null===(n=t.node(e))||void 0===n?void 0:n.rank)||0)-r;i[o]||(i[o]=[]),i[o].push(e)}));for(var o=0,s=t.graph().nodeRankFactor||0,a=0;a<i.length;a++){var c=i[a];void 0===c?a%s!==0&&(o-=1):o&&(null===c||void 0===c||c.forEach((function(e){var n=t.node(e);n&&(n.rank=n.rank||0,n.rank+=o)})))}};e.removeEmptyRanks=g;var m=function(t,n,i,o){var s={width:0,height:0};return(0,r.isNumber)(i)&&(0,r.isNumber)(o)&&(s.rank=i,s.order=o),(0,e.addDummyNode)(t,"border",s,n)};e.addBorderNode=m;var v=function(t){var e;return t.nodes().forEach((function(n){var r,i=null===(r=t.node(n))||void 0===r?void 0:r.rank;void 0!==i&&(void 0===e||i>e)&&(e=i)})),e||(e=0),e};e.maxRank=v;var b=function(t,e){var n={lhs:[],rhs:[]};return null===t||void 0===t||t.forEach((function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n};e.partition=b;var y=function(t,e){var n=Date.now();try{return e()}finally{console.log("".concat(t," time: ").concat(Date.now()-n,"ms"))}};e.time=y;var k=function(t,e){return e()};e.notime=k;var w=function(t,e){return t.reduce((function(t,n){var r=e(t),i=e(n);return r>i?n:t}))};e.minBy=w},4551:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=s(n(8772)),l=a(n(6401)),u=a(n(2787)),d=n(9829);function h(t,e){var n=t.nodes,i=t.edges,o=e.width,s=e.height;if(!(null===n||void 0===n?void 0:n.length))return Promise.resolve();var a=[];n.forEach((function(t){var e=i.filter((function(e){return e.source===t.id||e.target===t.id}));if(e.length>1){var n=r({},t);delete n.size,a.push(n)}}));var h=[];i.forEach((function(t){var e=a.find((function(e){return e.id===t.source})),n=a.find((function(e){return e.id===t.target}));e&&n&&h.push(t)}));var f=new d.DagreLayout({type:"dagre",ranksep:e.nodeMinGap,nodesep:e.nodeMinGap}),p=f.layout({nodes:a,edges:h}).nodes;n.forEach((function(t){var e=(p||[]).find((function(e){return e.id===t.id}));t.x=(null===e||void 0===e?void 0:e.x)||o/2,t.y=(null===e||void 0===e?void 0:e.y)||s/2}));var g=JSON.parse(JSON.stringify(n)),m=JSON.parse(JSON.stringify(i)),v=c.forceSimulation().nodes(g).force("link",c.forceLink(m).id((function(t){return t.id})).distance((function(t){var e=h.find((function(e){return e.source===t.source&&e.target===t.target}));return e?30:20}))).force("charge",c.forceManyBody()).force("center",c.forceCenter(o/2,s/2)).force("x",c.forceX(o/2)).force("y",c.forceY(s/2)).alpha(.3).alphaDecay(.08).alphaMin(.001),b=new Promise((function(t){v.on("end",(function(){n.forEach((function(t){var e=g.find((function(e){return e.id===t.id}));e&&(t.x=e.x,t.y=e.y)}));var r=Math.min.apply(Math,n.map((function(t){return t.x}))),a=Math.max.apply(Math,n.map((function(t){return t.x}))),c=Math.min.apply(Math,n.map((function(t){return t.y}))),d=Math.max.apply(Math,n.map((function(t){return t.y}))),h=o/(a-r),f=s/(d-c);n.forEach((function(t){void 0!==t.x&&h<1&&(t.x=(t.x-r)*h),void 0!==t.y&&f<1&&(t.y=(t.y-c)*f)})),n.forEach((function(t){t.sizeTemp=t.size,t.size=[10,10]})),(0,u.default)(n,i),n.forEach((function(t){t.size=t.sizeTemp||[],delete t.sizeTemp})),(0,l.default)({nodes:n,edges:i},e),t()}))}));return b}e["default"]=h},6401:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(244));function o(t,e){if(!t.nodes||0===t.nodes.length)return t;var n=e.width,r=e.height,o=e.nodeMinGap,s=1e4,a=1e4;t.nodes.forEach((function(t){var e=t.size[0]||50,n=t.size[1]||50;s=Math.min(e,s),a=Math.min(n,a)}));var c=new i.default;c.init(n,r,{CELL_H:a,CELL_W:s}),t.nodes.forEach((function(t){var e=c.occupyNearest(t);e&&(e.node={id:t.id,size:t.size},t.x=e.x,t.y=e.y,t.dx=e.dx,t.dy=e.dy)}));for(var l=0;l<t.nodes.length;l++){var u=t.nodes[l],d=c.findGridByNodeId(u.id);if(!d)throw new Error("can not find node cell");var h=d.column,f=d.row;if(u.size[0]+o>s){for(var p=Math.ceil((u.size[0]+o)/s)-1,g=p,m=0;m<p;m++){var v=c.additionColumn.indexOf(h+m+1)>-1;if(!v||c.cells[h+m+1][f].node)break;g--}c.insertColumn(h,g)}if(u.size[1]+o>a){for(p=Math.ceil((u.size[1]+o)/a)-1,g=p,m=0;m<p;m++){v=c.additionRow.indexOf(f+m+1)>-1;if(!v||c.cells[h][f+m+1].node)break;g--}c.insertRow(f,g)}}for(l=0;l<c.columnNum;l++){var b=function(e){var n=c.cells[l][e];if(n.node){var r=t.nodes.find((function(t){var e;return t.id===(null===(e=null===n||void 0===n?void 0:n.node)||void 0===e?void 0:e.id)}));r&&(r.x=n.x+r.size[0]/2,r.y=n.y+r.size[1]/2)}};for(m=0;m<c.rowNum;m++)b(m)}}e["default"]=o},244:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return t.prototype.init=function(e,n,r){this.cells=[],this.CELL_W=r.CELL_W||t.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||t.DEFAULT_CELL_H,this.columnNum=Math.ceil(e/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),t.MIN_DIST=Math.pow(e,2)+Math.pow(n,2);for(var i=0;i<this.columnNum;i++){for(var o=[],s=0;s<this.rowNum;s++){var a={dx:i,dy:s,x:i*this.CELL_W,y:s*this.CELL_H,occupied:!1};o.push(a)}this.cells.push(o)}},t.prototype.findGridByNodeId=function(t){for(var e,n,r=0;r<this.columnNum;r++)for(var i=0;i<this.rowNum;i++)if(this.cells[r][i].node&&(null===(n=null===(e=this.cells[r][i])||void 0===e?void 0:e.node)||void 0===n?void 0:n.id)===t)return{column:r,row:i};return null},t.prototype.sqdist=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},t.prototype.occupyNearest=function(e){for(var n,r=t.MIN_DIST,i=null,o=0;o<this.columnNum;o++)for(var s=0;s<this.rowNum;s++)!this.cells[o][s].occupied&&(n=this.sqdist(e,this.cells[o][s]))<r&&(r=n,i=this.cells[o][s]);return i&&(i.occupied=!0),i},t.prototype.insertColumn=function(t,e){if(!(e<=0)){for(var r=0;r<e;r++){this.cells[r+this.columnNum]=[];for(var i=0;i<this.rowNum;i++)this.cells[r+this.columnNum][i]={dx:r,dy:i,x:r*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null}}for(r=this.columnNum-1;r>t;r--)for(i=0;i<this.rowNum;i++)this.cells[r+e][i]=n(n({},this.cells[r][i]),{x:(r+e)*this.CELL_W,y:i*this.CELL_H}),this.cells[r][i]={x:r*this.CELL_W,y:i*this.CELL_H,occupied:!0,node:null};for(i=0;i<this.additionColumn.length;i++)this.additionColumn[i]>=t&&(this.additionColumn[i]+=e);for(r=0;r<e;r++)this.additionColumn.push(t+r+1);this.columnNum+=e}},t.prototype.insertRow=function(t,e){if(!(e<=0)){for(var r=0;r<e;r++)for(var i=0;i<this.columnNum;i++)this.cells[i][r+this.rowNum]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(i=0;i<this.columnNum;i++)for(r=this.rowNum-1;r>t;r--)this.cells[i][r+e]=n(n({},this.cells[i][r]),{dx:i,dy:r+e,x:i*this.CELL_W,y:(r+e)*this.CELL_H}),this.cells[i][r]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(r=0;r<this.additionRow.length;r++)this.additionRow[r]>=t&&(this.additionRow[r]+=e);for(i=0;i<e;i++)this.additionRow.push(t+i+1);this.rowNum+=e}},t.prototype.getNodes=function(){for(var t=[],e=0;e<this.columnNum;e++)for(var n=0;n<this.rowNum;n++)this.cells[e][n].node&&t.push(this.cells[e][n]);return t},t.MIN_DIST=50,t.DEFAULT_CELL_W=80,t.DEFAULT_CELL_H=80,t}();e["default"]=r},9474:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ERLayout=void 0;var o=n(6271),s=i(n(4551)),a=function(t){function e(e){var n=t.call(this)||this;return n.width=300,n.height=300,n.nodeMinGap=50,n.onLayoutEnd=function(){},e&&n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges;return null===e||void 0===e||e.forEach((function(t){t.size||(t.size=[50,50])})),(0,s.default)({nodes:e,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then((function(){t.onLayoutEnd&&t.onLayoutEnd()}))},e.prototype.getType=function(){return"er"},e}(o.Base);e.ERLayout=a},2787:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=1200,r=800,i=1e7,o=10,s=3.141592653589793,a=1.5707963267948966,c=.375*s,l=.625*s,u=new Map,d=10,h=10,f=.8,p=.1,g=.5;function m(t,e,n){var r=t.x-t.size[0]/2,i=t.y-t.size[1]/2,o=t.x+t.size[0]/2,s=t.y+t.size[1]/2,u=e.x-e.size[0]/2,d=e.y-e.size[1]/2,h=e.x+e.size[0]/2,f=e.y+e.size[1]/2,p=t.x,g=t.y,m=e.x,v=e.y,b=m-p,y=Math.atan2(b,v-g),k=0,w=0,_=0,A=0;y>a?(w=i-f,k=u-o,_=parseFloat(w?(w/Math.cos(y)).toFixed(2):k.toFixed(2)),A=parseFloat(k?(k/Math.sin(y)).toFixed(2):w.toFixed(2))):0<y&&y<=a?(w=d-s,k=u-o,_=A=w>k?parseFloat(w?(w/Math.cos(y)).toFixed(2):k.toFixed(2)):parseFloat(k?(k/Math.sin(y)).toFixed(2):w.toFixed(2))):y<-a?(w=i-f,k=-(h-r),_=A=w>k?parseFloat(w?(w/Math.cos(y)).toFixed(2):k.toFixed(2)):parseFloat(k?(k/Math.sin(y)).toFixed(2):w.toFixed(2))):(w=d-s,k=Math.abs(b)>(o-r)/2?r-h:b,_=A=w>k?parseFloat(w?(w/Math.cos(y)).toFixed(2):k.toFixed(2)):parseFloat(k&&0!==y?(k/Math.sin(y)).toFixed(2):w.toFixed(2)));var C=parseFloat(y.toFixed(2)),x=n;return n&&(x=c<C&&C<l),{distance:Math.abs(_<A?_:A),isHoriz:x}}function v(t,e){var n=u.get(t.id)||[],r=n.find((function(t){return t.source===e.id||t.target===e.id})),s=t.size[0]*t.size[1],a=e.size[0]*e.size[1],c=s>a?e:t,l=s>a?t:e,d=c.x-c.size[0]/2,h=c.y-c.size[1]/2,f=c.x+c.size[0]/2,p=c.y+c.size[1]/2,g=l.x-l.size[0]/2,v=l.y-l.size[1]/2,b=l.x+l.size[0]/2,y=l.y+l.size[1]/2,k=c.x,w=c.y,_=l.x,A=l.y,C=f>=g&&b>=d&&p>=v&&y>=h,x=0,E=0;if(C){E=Math.sqrt(Math.pow(_-k,2)+Math.pow(A-w,2));var S=d>g?d:g,M=h>v?h:v,I=f<b?f:b,D=p<y?p:y,T=I-S,O=D-M,N=T*O;0===E&&(E=1e-7),x=1*o/E*100+N,x*=i}else{var P=!1,L=m(c,l,P);E=L.distance,P=L.isHoriz,E<=o?x+=0!==E?r?o+1*i/E:o+i*o/E:i:(x+=E,r&&(x+=E*E))}return x}function b(t){for(var e=0,i=0;i<t.length;i++){var o=t[i];(o.x<0||o.y<0||o.x>n||o.y>r)&&(e+=1e12);for(var s=i+1;s<t.length;s++)e+=v(o,t[s])}return e}function y(t,e,n,r){var i=new Map;n.forEach((function(t,e){i.set(t.id,t)}));var o=r.filter((function(e){return e.source===t.id||e.target===t.id}))||[],s=[];o.forEach((function(e){var n=e.source===t.id?e.target:e.source,r=i.get(n);r&&s.push(r)}));for(var a=!0,c=0;c<s.length;c++){var l=s[c],u=180*Math.atan((t.y-l.y)/(l.x-t.y)),d=180*Math.atan((e.y-l.y)/(l.x-e.y)),h=u<30||u>150,f=d<30||d>150,p=u>70&&u<110,g=d>70&&d<110;if(h&&!f||u*d<0){a=!1;break}if(p&&!g||u*d<0){a=!1;break}if((l.x-t.x)*(l.x-e.x)<0){a=!1;break}if((l.y-t.y)*(l.y-e.y)<0){a=!1;break}}return a}function k(t,e){for(var n=!1,r=1,i=d*r,o=h*r,s=[i,-i,0,0],a=[0,0,o,-o],c=0;c<t.length;++c)for(var l=t[c],u=w(l,t),m=0;m<s.length;m++){var v=y(l,{x:l.x+s[m],y:l.y+a[m]},t,e);if(v){l.x+=s[m],l.y+=a[m];var k=w(l,t),_=Math.random();k<u||_<f&&_>p?(u=k,n=!0):(l.x-=s[m],l.y-=a[m])}}return f>p&&(f*=g),n?b(t):0}function w(t,e){var i=0;(t.x<0||t.y<0||t.x+t.size[0]+20>n||t.y+t.size[1]+20>r)&&(i+=1e12);for(var o=0;o<e.length;++o)t.id!==e[o].id&&(i+=v(t,e[o]));return i}function _(t,e){if(0===t.length)return{nodes:t,edges:e};t.forEach((function(t){var n=e.filter((function(e){return e.source===t.id||e.target===t.id}));u.set(t,n)})),t.sort((function(t,e){var n,r;return(null===(n=u.get(t.id))||void 0===n?void 0:n.length)-(null===(r=u.get(e.id))||void 0===r?void 0:r.length)}));var n=b(t),r=20,i=1,o=0,s=50,a=0;while(r>0){if(a++,a>=s)break;var c=k(t,e);0!==c&&(o=c),i=o-n,n=o,0===i?--r:r=20}return t.forEach((function(t){t.x=t.x-t.size[0]/2,t.y=t.y-t.size[1]/2})),{nodes:t,edges:e}}e["default"]=_},2727:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forceNBody=void 0;var r=n(1393),i=.81,o=.1;function s(t,e,n,i,o){var s=n/i,c=t.map((function(t,n){var r=e[t.id],i=r.data,o=r.x,a=r.y,c=r.size,l=i.layout.force.nodeStrength;return{x:o,y:a,size:c,index:n,vx:0,vy:0,weight:s*l}})),u=(0,r.quadtree)(c,(function(t){return t.x}),(function(t){return t.y})).visitAfter(a);return c.forEach((function(t){l(t,u)})),c.map((function(n,r){var i=e[t[r].id],s=i.data.layout.force.mass,a=void 0===s?1:s;o[2*r]=n.vx/a,o[2*r+1]=n.vy/a})),o}function a(t){var e=0,n=0,r=0;if(t.length){for(var i=0;i<4;i++){var o=t[i];o&&o.weight&&(e+=o.weight,n+=o.x*o.weight,r+=o.y*o.weight)}t.x=n/e,t.y=r/e,t.weight=e}else{o=t;t.x=o.data.x,t.y=o.data.y,t.weight=o.data.weight}}e.forceNBody=s;var c=function(t,e,n,r,s,a){var c=a.x-t.x||o,l=a.y-t.y||o,u=r-e,d=c*c+l*l,h=Math.sqrt(d)*d;if(u*u*i<d){var f=t.weight/h;return a.vx+=c*f,a.vy+=l*f,!0}if(t.length)return!1;if(t.data!==a){f=t.data.weight/h;a.vx+=c*f,a.vy+=l*f}};function l(t,e){e.visit((function(e,n,r,i,o){return c(e,n,r,i,o,t)}))}},1782:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Force2Layout=void 0;var o=n(6271),s=n(1422),a=n(2727),c=function(t,e){var n;return n=t?(0,s.isNumber)(t)?function(e){return t}:t:function(t){return e||1},n},l=function(t){function e(e){var n=t.call(this)||this;n.maxIteration=1e3,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=500,n.minMovement=.4,n.interval=.02,n.factor=1,n.linkDistance=200,n.gravity=0,n.clusterNodeStrength=20,n.preventOverlap=!0,n.distanceThresholdMode="mean",n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.judgingDistance=0,n.centripetalOptions={leaf:2,single:2,others:1,center:function(t){return{x:n.width/2,y:n.height/2}}};var r=e.getMass;return n.propsGetMass=r,n.updateCfg(e),n}return r(e,t),e.prototype.getCentripetalOptions=function(){var t,e=this,n=e.leafCluster,r=e.clustering,o=e.nodeClusterBy,a=e.nodes,c=e.nodeMap,l=e.clusterNodeStrength,u=function(t){return"function"===typeof l?l(t):l},d={};if(n){t=this.getSameTypeLeafMap()||{};var h=Array.from(new Set(null===a||void 0===a?void 0:a.map((function(t){return t[o]}))))||[];d={single:100,leaf:function(e,n,r){var i=t[e.id]||{},o=i.relativeLeafNodes,s=i.sameTypeLeafNodes;return(null===s||void 0===s?void 0:s.length)===(null===o||void 0===o?void 0:o.length)||1===(null===h||void 0===h?void 0:h.length)?1:u(e)},others:1,center:function(e,n,r){var i,o,a=((null===(i=e.data)||void 0===i?void 0:i.layout)||{}).degree;if(!a)return{x:100,y:100};if(1===a){var c=(t[e.id]||{}).sameTypeLeafNodes,l=void 0===c?[]:c;1===l.length?o=void 0:l.length>1&&(o=(0,s.getAvgNodePosition)(l))}else o=void 0;return{x:null===o||void 0===o?void 0:o.x,y:null===o||void 0===o?void 0:o.y}}}}if(r){t||(t=this.getSameTypeLeafMap());var f=Array.from(new Set(a.map((function(t,e){return t[o]})))).filter((function(t){return void 0!==t})),p={};f.forEach((function(t){var e=a.filter((function(e){return e[o]===t})).map((function(t){return c[t.id]}));p[t]=(0,s.getAvgNodePosition)(e)})),d={single:function(t){return u(t)},leaf:function(t){return u(t)},others:function(t){return u(t)},center:function(t,e,n){var r=p[t[o]];return{x:null===r||void 0===r?void 0:r.x,y:null===r||void 0===r?void 0:r.y}}}}this.centripetalOptions=i(i({},this.centripetalOptions),d);var g=this.centripetalOptions,m=g.leaf,v=g.single,b=g.others;m&&"function"!==typeof m&&(this.centripetalOptions.leaf=function(){return m}),v&&"function"!==typeof v&&(this.centripetalOptions.single=function(){return v}),b&&"function"!==typeof b&&(this.centripetalOptions.others=function(){return b})},e.prototype.updateCfg=function(t){t&&Object.assign(this,t)},e.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},e.prototype.execute=function(){var t=this;t.stop();var e=t.nodes,n=t.edges,r=t.defSpringLen;if(t.judgingDistance=0,e&&0!==e.length){t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var o=t.center;if(1===e.length)return e[0].x=o[0],e[0].y=o[1],void t.onLayoutEnd([i({},e[0])]);t.degreesMap=(0,s.getDegreeMap)(e,n),t.propsGetMass?t.getMass=t.propsGetMass:t.getMass=function(e){var n=1;(0,s.isNumber)(e.mass)&&(n=e.mass);var r=t.degreesMap[e.id].all;return!r||r<5?n:5*r*n};var a,l=t.nodeSize;if(t.preventOverlap){var u,d=t.nodeSpacing;u=(0,s.isNumber)(d)?function(){return d}:(0,s.isFunction)(d)?d:function(){return 0},a=l?(0,s.isArray)(l)?function(t){return Math.max(l[0],l[1])+u(t)}:function(t){return l+u(t)}:function(t){return t.size?(0,s.isArray)(t.size)?Math.max(t.size[0],t.size[1])+u(t):(0,s.isObject)(t.size)?Math.max(t.size.width,t.size.height)+u(t):t.size+u(t):10+u(t)}}t.nodeSize=a,t.linkDistance=c(t.linkDistance,1),t.nodeStrength=c(t.nodeStrength,1),t.edgeStrength=c(t.edgeStrength,1);var h={},f={};e.forEach((function(e,r){(0,s.isNumber)(e.x)||(e.x=Math.random()*t.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*t.height);var o=t.degreesMap[e.id];h[e.id]=i(i({},e),{data:i(i({},e.data),{size:t.nodeSize(e)||30,layout:{inDegree:o.in,outDegree:o.out,degree:o.all,tDegree:o.in,sDegree:o.out,force:{mass:t.getMass(e),nodeStrength:t.nodeStrength(e,n)}}})}),f[e.id]=r})),t.nodeMap=h,t.nodeIdxMap=f,t.edgeInfos=[],null===n||void 0===n||n.forEach((function(e){var n=h[e.source],o=h[e.target];n&&o?t.edgeInfos.push({edgeStrength:t.edgeStrength(e),linkDistance:r?r(i(i({},e),{source:n,target:o}),n,o):t.linkDistance(e,n,o)||1+(l(n)+l(n)||0)/2}):elf.edgeInfos.push({})})),this.getCentripetalOptions(),t.onLayoutEnd=t.onLayoutEnd||function(){},t.run()}else t.onLayoutEnd([])},e.prototype.run=function(){var t=this,e=t.maxIteration,n=t.nodes,r=t.edges,i=t.workerEnabled,o=t.minMovement,s=t.animate,a=t.nodeMap,c=t.height;if(t.currentMinY=0,t.currentMaxY=c,n){var l=[];if(n.forEach((function(t,e){l[2*e]=0,l[2*e+1]=0})),this.defSideCoe&&"function"===typeof this.defSideCoe){var u={};r.forEach((function(t){var e=t.source,n=t.target;u[e]=u[e]||[],u[e].push(t),u[n]=u[n]||[],u[n].push(t)})),this.relatedEdges=u}var d=e,h=!s;if(i||h){for(var f=0;(t.judgingDistance>o||f<1)&&f<d;f++)f,t.runOneStep(f,l);t.onLayoutEnd(Object.values(a))}else{if("undefined"===typeof window)return;var p=0;this.timeInterval=window.setInterval((function(){n&&(t.runOneStep(p,l),p++,(p>=d||t.judgingDistance<o)&&(t.onLayoutEnd(Object.values(a)),window.clearInterval(t.timeInterval)))}),0)}}},e.prototype.runOneStep=function(t,e){var n,r=this,i=r.nodes,o=r.edges,s=(r.nodeMap,r.monitor),a=[];if(null===i||void 0===i?void 0:i.length){r.calRepulsive(a),o&&r.calAttractive(a),r.calGravity(a),r.attractToSide(a);var c=r.interval;if(r.updateVelocity(a,e,c),r.updatePosition(e,c),null===(n=r.tick)||void 0===n||n.call(r),s){var l=this.calTotalEnergy(a);s({energy:l,nodes:i,edges:o,iterations:t})}}},e.prototype.calTotalEnergy=function(t){var e=this,n=e.nodes,r=e.nodeMap;if(!(null===n||void 0===n?void 0:n.length))return 0;var i=0;return n.forEach((function(e,n){var o=t[2*n],s=t[2*n+1],a=o*o+s*s,c=r[e.id].data.layout.force.mass,l=void 0===c?1:c;i+=l*a*.5})),i},e.prototype.calRepulsive=function(t){var e=this,n=e.nodes,r=e.nodeMap,i=e.factor,o=e.coulombDisScale;e.nodeSize;(0,a.forceNBody)(n,r,i,o*o,t)},e.prototype.calAttractive=function(t){var e=this,n=e.edges,r=e.nodeMap,i=e.nodeIdxMap,o=e.edgeInfos;e.nodeSize;n.forEach((function(e,n){var a=(0,s.getEdgeTerminal)(e,"source"),c=(0,s.getEdgeTerminal)(e,"target"),l=r[a],u=r[c];if(l&&u){var d=u.x-l.x,h=u.y-l.y;d||h||(d=.01*Math.random(),h=.01*Math.random());var f=Math.sqrt(d*d+h*h),p=d/f,g=h/f,m=o[n]||{},v=m.linkDistance,b=void 0===v?200:v,y=m.edgeStrength,k=void 0===y?200:y,w=b-f,_=w*k,A=l.data.layout.force.mass||1,C=u.data.layout.force.mass||1,x=1/A,E=1/C,S=p*_,M=g*_,I=2*i[a],D=2*i[c];t[I]-=S*x,t[I+1]-=M*x,t[D]+=S*E,t[D+1]+=M*E}}))},e.prototype.calGravity=function(t){var e,n=this,r=n.nodes,i=n.edges,o=void 0===i?[]:i,a=n.nodeMap,c=n.width,l=n.height,u=n.center,d=n.gravity,h=n.degreesMap,f=n.centripetalOptions;if(r)for(var p=r.length,g=0;g<p;g++){var m=2*g,v=a[r[g].id],b=v.data.layout.force.mass,y=void 0===b?1:b,k=0,w=0,_=d,A=h[v.id],C=A.in,x=A.out,E=A.all,S=null===(e=n.getCenter)||void 0===e?void 0:e.call(n,v,E);if(S){var M=S[0],I=S[1],D=S[2];k=v.x-M,w=v.y-I,_=D}else k=v.x-u[0],w=v.y-u[1];if(_&&(t[m]-=_*k/y,t[m+1]-=_*w/y),f){var T=f.leaf,O=f.single,N=f.others,P=f.center,L=(null===P||void 0===P?void 0:P(v,r,o,c,l))||{x:0,y:0,centerStrength:0},B=L.x,R=L.y,j=L.centerStrength;if(!(0,s.isNumber)(B)||!(0,s.isNumber)(R))continue;var z=(v.x-B)/y,F=(v.y-R)/y;if(j&&(t[m]-=j*z,t[m+1]-=j*F),0===E){var V=O(v);if(!V)continue;t[m]-=V*z,t[m+1]-=V*F;continue}if(0===C||0===x){var U=T(v,r,o);if(!U)continue;t[m]-=U*z,t[m+1]-=U*F;continue}var G=N(v);if(!G)continue;t[m]-=G*z,t[m+1]-=G*F}}},e.prototype.attractToSide=function(t){var e=this,n=e.defSideCoe,r=(e.height,e.nodes),i=e.relatedEdges,o=e.currentMinY,s=void 0===o?0:o,a=e.currentMaxY,c=void 0===a?this.height:a;n&&"function"===typeof n&&(null===r||void 0===r?void 0:r.length)&&r.forEach((function(e,r){var o=n(e,i[e.id]||[]);if(0!==o){var a=o<0?s:c,l=Math.abs(o);t[2*r+1]-=l*(e.y-a)}}))},e.prototype.updateVelocity=function(t,e,n){var r=this,i=r.nodes,o=r.damping,s=r.maxSpeed;(null===i||void 0===i?void 0:i.length)&&i.forEach((function(r,i){var a=(e[2*i]+t[2*i]*n)*o||.01,c=(e[2*i+1]+t[2*i+1]*n)*o||.01,l=Math.sqrt(a*a+c*c);if(l>s){var u=s/l;a*=u,c*=u}e[2*i]=a,e[2*i+1]=c}))},e.prototype.updatePosition=function(t,e){var n=this,r=n.nodes,i=n.distanceThresholdMode,o=n.nodeMap;if(null===r||void 0===r?void 0:r.length){var a=0;"max"===i?n.judgingDistance=-1/0:"min"===i&&(n.judgingDistance=1/0);var c=1/0,l=-1/0;r.forEach((function(r,u){var d=o[r.id];if((0,s.isNumber)(r.fx)&&(0,s.isNumber)(r.fy))return r.x=r.fx,r.y=r.fy,d.x=r.x,void(d.y=r.y);var h=t[2*u]*e,f=t[2*u+1]*e;r.x+=h,r.y+=f,d.x=r.x,d.y=r.y,r.y<c&&(c=r.y),r.y>l&&(l=r.y);var p=Math.sqrt(h*h+f*f);switch(i){case"max":n.judgingDistance<p&&(n.judgingDistance=p);break;case"min":n.judgingDistance>p&&(n.judgingDistance=p);break;default:a+=p;break}})),this.currentMinY=c,this.currentMaxY=l,i&&"mean"!==i||(n.judgingDistance=a/r.length)}else this.judgingDistance=0},e.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){var t=this;t.stop(),t.tick=null,t.nodes=null,t.edges=null,t.destroyed=!0},e.prototype.getType=function(){return"force2"},e.prototype.getSameTypeLeafMap=function(){var t=this,e=t.nodeClusterBy,n=t.nodes,r=t.edges,i=t.nodeMap,o=t.degreesMap;if(null===n||void 0===n?void 0:n.length){var a={};return n.forEach((function(t,n){var c=o[t.id].all;1===c&&(a[t.id]=(0,s.getCoreNodeAndRelativeLeafNodes)("leaf",t,r,e,o,i))})),a}},e}(o.Base);e.Force2Layout=l},3151:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}return t.prototype.distanceTo=function(t){var e=this.rx-t.rx,n=this.ry-t.ry;return Math.hypot(e,n)},t.prototype.setPos=function(t,e){this.rx=t,this.ry=e},t.prototype.resetForce=function(){this.fx=0,this.fy=0},t.prototype.addForce=function(t){var e=t.rx-this.rx,n=t.ry-this.ry,r=Math.hypot(e,n);r=r<1e-4?1e-4:r;var i=this.g*(this.degree+1)*(t.degree+1)/r;this.fx+=i*e/r,this.fy+=i*n/r},t.prototype.in=function(t){return t.contains(this.rx,this.ry)},t.prototype.add=function(e){var n=this.mass+e.mass,r=(this.rx*this.mass+e.rx*e.mass)/n,i=(this.ry*this.mass+e.ry*e.mass)/n,o=this.degree+e.degree,s={rx:r,ry:i,mass:n,degree:o};return new t(s)},t}();e["default"]=n},8991:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ForceAtlas2Layout=void 0;var o=n(6271),s=n(1422),a=i(n(3151)),c=i(n(2784)),l=i(n(5980)),u=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.kr=5,n.kg=1,n.mode="normal",n.preventOverlap=!1,n.dissuadeHubs=!1,n.barnesHut=void 0,n.maxIteration=0,n.ks=.1,n.ksmax=10,n.tao=.1,n.onLayoutEnd=function(){},n.prune=void 0,n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.onLayoutEnd,r=t.prune,i=t.maxIteration;t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight);for(var o=[],a=e.length,c=0;c<a;c+=1){var l=e[c],u=10,d=10;(0,s.isNumber)(l.size)&&(u=l.size,d=l.size),(0,s.isArray)(l.size)?(isNaN(l.size[0])||(u=l.size[0]),isNaN(l.size[1])||(d=l.size[1])):(0,s.isObject)(l.size)&&(u=l.size.width,d=l.size.height),t.getWidth&&!isNaN(t.getWidth(l))&&(d=t.getWidth(l)),t.getHeight&&!isNaN(t.getHeight(l))&&(u=t.getHeight(l));var h=Math.max(u,d);o.push(h)}void 0===t.barnesHut&&a>250&&(t.barnesHut=!0),void 0===t.prune&&a>100&&(t.prune=!0),0!==this.maxIteration||t.prune?0===this.maxIteration&&r&&(i=100,a<=200&&a>100?i=500:a>200&&(i=950),this.maxIteration=i):(i=250,a<=200&&a>100?i=1e3:a>200&&(i=1200),this.maxIteration=i),t.kr||(t.kr=50,a>100&&a<=500?t.kr=20:a>500&&(t.kr=1)),t.kg||(t.kg=20,a>100&&a<=500?t.kg=10:a>500&&(t.kg=1)),this.nodes=t.updateNodesByForces(o),n()},e.prototype.updateNodesByForces=function(t){for(var e=this,n=e.edges,r=e.maxIteration,i=e.nodes,o=n.filter((function(t){var e=(0,s.getEdgeTerminal)(t,"source"),n=(0,s.getEdgeTerminal)(t,"target");return e!==n})),a=i.length,c=o.length,l=[],u={},d={},h=[],f=0;f<a;f+=1)u[i[f].id]=f,l[f]=0,(void 0===i[f].x||isNaN(i[f].x))&&(i[f].x=1e3*Math.random()),(void 0===i[f].y||isNaN(i[f].y))&&(i[f].y=1e3*Math.random()),h.push({x:i[f].x,y:i[f].y});for(f=0;f<c;f+=1){for(var p=void 0,g=void 0,m=0,v=0,b=0;b<a;b+=1){var y=(0,s.getEdgeTerminal)(o[f],"source"),k=(0,s.getEdgeTerminal)(o[f],"target");i[b].id===y?(p=i[b],m=b):i[b].id===k&&(g=i[b],v=b),d[f]={sourceIdx:m,targetIdx:v}}p&&(l[u[p.id]]+=1),g&&(l[u[g.id]]+=1)}var w=r;if(i=this.iterate(w,u,d,c,l,t),e.prune){for(b=0;b<c;b+=1)l[d[b].sourceIdx]<=1?(i[d[b].sourceIdx].x=i[d[b].targetIdx].x,i[d[b].sourceIdx].y=i[d[b].targetIdx].y):l[d[b].targetIdx]<=1&&(i[d[b].targetIdx].x=i[d[b].sourceIdx].x,i[d[b].targetIdx].y=i[d[b].sourceIdx].y);e.prune=!1,e.barnesHut=!1,w=100,i=this.iterate(w,u,d,c,l,t)}return i},e.prototype.iterate=function(t,e,n,r,i,o){for(var s=this,c=s.nodes,l=s.kr,u=s.preventOverlap,d=s.barnesHut,h=c.length,f=0,p=100,g=t,m=50,v=[],b=[],y=[],k=0;k<h;k+=1)if(v[2*k]=0,v[2*k+1]=0,d){var w={id:k,rx:c[k].x,ry:c[k].y,mass:1,g:l,degree:i[k]};y[k]=new a.default(w)}while(g>0){for(k=0;k<h;k+=1)b[2*k]=v[2*k],b[2*k+1]=v[2*k+1],v[2*k]=0,v[2*k+1]=0;v=this.getAttrForces(g,m,r,e,n,i,o,v),v=d&&(u&&g>m||!u)?this.getOptRepGraForces(v,y,i):this.getRepGraForces(g,m,v,p,o,i);var _=this.updatePos(v,b,f,i);c=_.nodes,f=_.sg,g--,s.tick&&s.tick()}return c},e.prototype.getAttrForces=function(t,e,n,r,i,o,s,a){for(var c=this,l=c.nodes,u=c.preventOverlap,d=c.dissuadeHubs,h=c.mode,f=c.prune,p=0;p<n;p+=1){var g=l[i[p].sourceIdx],m=i[p].sourceIdx,v=l[i[p].targetIdx],b=i[p].targetIdx;if(!f||!(o[m]<=1||o[b]<=1)){var y=[v.x-g.x,v.y-g.y],k=Math.hypot(y[0],y[1]);k=k<1e-4?1e-4:k,y[0]=y[0]/k,y[1]=y[1]/k,u&&t<e&&(k=k-s[m]-s[b]);var w=k,_=w;"linlog"===h&&(w=Math.log(1+k),_=w),d&&(w=k/o[m],_=k/o[b]),u&&t<e&&k<=0?(w=0,_=0):u&&t<e&&k>0&&(w=k,_=k),a[2*r[g.id]]+=w*y[0],a[2*r[v.id]]-=_*y[0],a[2*r[g.id]+1]+=w*y[1],a[2*r[v.id]+1]-=_*y[1]}}return a},e.prototype.getRepGraForces=function(t,e,n,r,i,o){for(var s=this,a=s.nodes,c=s.preventOverlap,l=s.kr,u=s.kg,d=s.center,h=s.prune,f=a.length,p=0;p<f;p+=1){for(var g=p+1;g<f;g+=1)if(!h||!(o[p]<=1||o[g]<=1)){var m=[a[g].x-a[p].x,a[g].y-a[p].y],v=Math.hypot(m[0],m[1]);v=v<1e-4?1e-4:v,m[0]=m[0]/v,m[1]=m[1]/v,c&&t<e&&(v=v-i[p]-i[g]);var b=l*(o[p]+1)*(o[g]+1)/v;c&&t<e&&v<0?b=r*(o[p]+1)*(o[g]+1):c&&t<e&&0===v?b=0:c&&t<e&&v>0&&(b=l*(o[p]+1)*(o[g]+1)/v),n[2*p]-=b*m[0],n[2*g]+=b*m[0],n[2*p+1]-=b*m[1],n[2*g+1]+=b*m[1]}var y=[a[p].x-d[0],a[p].y-d[1]],k=Math.hypot(y[0],y[1]);y[0]=y[0]/k,y[1]=y[1]/k;var w=u*(o[p]+1);n[2*p]-=w*y[0],n[2*p+1]-=w*y[1]}return n},e.prototype.getOptRepGraForces=function(t,e,n){for(var r=this,i=r.nodes,o=r.kg,s=r.center,a=r.prune,u=i.length,d=9e10,h=-9e10,f=9e10,p=-9e10,g=0;g<u;g+=1)a&&n[g]<=1||(e[g].setPos(i[g].x,i[g].y),i[g].x>=h&&(h=i[g].x),i[g].x<=d&&(d=i[g].x),i[g].y>=p&&(p=i[g].y),i[g].y<=f&&(f=i[g].y));var m=Math.max(h-d,p-f),v={xmid:(h+d)/2,ymid:(p+f)/2,length:m,massCenter:s,mass:u},b=new c.default(v),y=new l.default(b);for(g=0;g<u;g+=1)a&&n[g]<=1||e[g].in(b)&&y.insert(e[g]);for(g=0;g<u;g+=1)if(!(a&&n[g]<=1)){e[g].resetForce(),y.updateForce(e[g]),t[2*g]-=e[g].fx,t[2*g+1]-=e[g].fy;var k=[i[g].x-s[0],i[g].y-s[1]],w=Math.hypot(k[0],k[1]);w=w<1e-4?1e-4:w,k[0]=k[0]/w,k[1]=k[1]/w;var _=o*(n[g]+1);t[2*g]-=_*k[0],t[2*g+1]-=_*k[1]}return t},e.prototype.updatePos=function(t,e,n,r){for(var i=this,o=i.nodes,a=i.ks,c=i.tao,l=i.prune,u=i.ksmax,d=o.length,h=[],f=[],p=0,g=0,m=0;m<d;m+=1)if(!(l&&r[m]<=1)){var v=[t[2*m]-e[2*m],t[2*m+1]-e[2*m+1]],b=Math.hypot(v[0],v[1]),y=[t[2*m]+e[2*m],t[2*m+1]+e[2*m+1]],k=Math.hypot(y[0],y[1]);h[m]=b,f[m]=k/2,p+=(r[m]+1)*h[m],g+=(r[m]+1)*f[m]}var w=n;n=c*g/p,0!==w&&(n=n>1.5*w?1.5*w:n);for(m=0;m<d;m+=1)if(!(l&&r[m]<=1)&&(!(0,s.isNumber)(o[m].fx)||!(0,s.isNumber)(o[m].fy))){var _=a*n/(1+n*Math.sqrt(h[m])),A=Math.hypot(t[2*m],t[2*m+1]);A=A<1e-4?1e-4:A;var C=u/A;_=_>C?C:_;var x=_*t[2*m],E=_*t[2*m+1];o[m].x+=x,o[m].y+=E}return{nodes:o,sg:n}},e}(o.Base);e.ForceAtlas2Layout=u},2784:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}return t.prototype.getLength=function(){return this.length},t.prototype.contains=function(t,e){var n=this.length/2;return t<=this.xmid+n&&t>=this.xmid-n&&e<=this.ymid+n&&e>=this.ymid-n},t.prototype.NW=function(){var e=this.xmid-this.length/4,n=this.ymid+this.length/4,r=this.length/2,i={xmid:e,ymid:n,length:r},o=new t(i);return o},t.prototype.NE=function(){var e=this.xmid+this.length/4,n=this.ymid+this.length/4,r=this.length/2,i={xmid:e,ymid:n,length:r},o=new t(i);return o},t.prototype.SW=function(){var e=this.xmid-this.length/4,n=this.ymid-this.length/4,r=this.length/2,i={xmid:e,ymid:n,length:r},o=new t(i);return o},t.prototype.SE=function(){var e=this.xmid+this.length/4,n=this.ymid-this.length/4,r=this.length/2,i={xmid:e,ymid:n,length:r},o=new t(i);return o},t}();e["default"]=n},5980:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=t&&(this.quad=t)}return t.prototype.insert=function(e){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new t(this.quad.NW()),this.NE=new t(this.quad.NE()),this.SW=new t(this.quad.SW()),this.SE=new t(this.quad.SE())),this._putBody(this.body),this._putBody(e),this.body=this.body.add(e)):(this.body=this.body.add(e),this._putBody(e)):this.body=e},t.prototype._putBody=function(t){this.quad&&(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))},t.prototype._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},t.prototype.updateForce=function(t){if(null!=this.body&&t!==this.body)if(this._isExternal())t.addForce(this.body);else{var e=this.quad?this.quad.getLength():0,n=this.body.distanceTo(t);e/n<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}},t}();e["default"]=n},7657:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(8772)),a=n(1422);function c(){function t(t){return function(){return t}}var e,n=function(t){return t.cluster},r=t(1),i=t(-1),o=t(100),c=t(.1),l=[0,0],u=[],d={},h=[],f=100,p=100,g={none:{x:0,y:0}},m=[],v="force",b=!0,y=.1;function k(t){if(!b)return k;e.tick(),E();for(var r=0,i=u.length,o=void 0,s=t*y;r<i;++r)o=u[r],o.vx+=(g[n(o)].x-o.x)*s,o.vy+=(g[n(o)].y-o.y)*s}function w(){u&&_()}function _(){if(u&&u.length){if(void 0===n(u[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var t=A();e=s.forceSimulation(t.nodes).force("x",s.forceX(f).strength(.1)).force("y",s.forceY(p).strength(.1)).force("collide",s.forceCollide((function(t){return t.r})).iterations(4)).force("charge",s.forceManyBody().strength(i)).force("links",s.forceLink(t.nodes.length?t.links:[]).distance(o).strength(c)),m=e.nodes(),E()}}function A(){var t=[],e=[],n={},r=[],i={},o=[];return i=C(u),o=x(h),r=Object.keys(i),r.forEach((function(e,r){var o=i[e];t.push({id:e,size:o.count,r:Math.sqrt(o.sumforceNodeSize/Math.PI)}),n[e]=r})),o.forEach((function(t){var r=(0,a.getEdgeTerminal)(t,"source"),i=(0,a.getEdgeTerminal)(t,"target"),o=n[r],s=n[i];void 0!==o&&void 0!==s&&e.push({source:o,target:s,count:t.count})})),{nodes:t,links:e}}function C(t){var e={};return t.forEach((function(t){var r=n(t);e[r]||(e[r]={count:0,sumforceNodeSize:0})})),t.forEach((function(t){var i=n(t),o=r(t),s=e[i];s.count=s.count+1,s.sumforceNodeSize=s.sumforceNodeSize+Math.PI*(o*o)*1.3,e[i]=s})),e}function x(t){var e={},n=[];t.forEach((function(t){var n=S(t),r=0;void 0!==e[n]&&(r=e[n]),r+=1,e[n]=r}));var r=Object.entries(e);return r.forEach((function(t){var e=t[0],r=t[1],i=e.split("~")[0],o=e.split("~")[1];void 0!==i&&void 0!==o&&n.push({source:i,target:o,count:r})})),n}function E(){return g={none:{x:0,y:0}},m.forEach((function(t){g[t.id]={x:t.x-l[0],y:t.y-l[1]}})),g}function S(t){var e=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target"),i=n(d[e]),o=n(d[r]);return i<=o?"".concat(i,"~").concat(o):"".concat(o,"~").concat(i)}function M(t){d={},t.forEach((function(t){d[t.id]=t}))}function I(t){return arguments.length?(v=t,w(),k):v}function D(t){return arguments.length?"string"===typeof t?(n=function(e){return e[t]},k):(n=t,k):n}function T(t){return arguments.length?(b=t,k):b}function O(t){return arguments.length?(y=t,k):y}function N(t){return arguments.length?(f=t,k):f}function P(t){return arguments.length?(p=t,k):p}function L(t){return arguments.length?(M(t||[]),u=t||[],k):u}function B(t){return arguments.length?(h=t||[],w(),k):h}function R(e){return arguments.length?(r="function"===typeof e?e:t(+e),w(),k):r}function j(e){return arguments.length?(i="function"===typeof e?e:t(+e),w(),k):i}function z(e){return arguments.length?(o="function"===typeof e?e:t(+e),w(),k):o}function F(e){return arguments.length?(c="function"===typeof e?e:t(+e),w(),k):c}function V(t){return arguments.length?(l=t,k):l}return k.initialize=function(t){u=t,w()},k.template=I,k.groupBy=D,k.enableGrouping=T,k.strength=O,k.centerX=N,k.centerY=P,k.nodes=L,k.links=B,k.forceNodeSize=R,k.nodeSize=k.forceNodeSize,k.forceCharge=j,k.forceLinkDistance=z,k.forceLinkStrength=F,k.offset=V,k.getFocis=E,k}e["default"]=c},2127:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ForceLayout=void 0;var c=s(n(8772)),l=a(n(7657)),u=n(1422),d=n(6271),h=n(5573),f=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.nodeStrength=null,n.edgeStrength=null,n.preventOverlap=!1,n.clusterNodeStrength=null,n.clusterEdgeStrength=null,n.clusterEdgeDistance=null,n.clusterNodeSize=null,n.clusterFociStrength=null,n.linkDistance=50,n.alphaDecay=.028,n.alphaMin=.001,n.alpha=.3,n.collideStrength=1,n.workerEnabled=!1,n.tick=function(){},n.onLayoutEnd=function(){},n.ticking=void 0,e&&n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},e.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map((function(t){var e={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(t).forEach((function(r){n.indexOf(r)>-1||(e[r]=t[r])})),e})),e.ticking=!1},e.prototype.execute=function(t){var e=this,n=e.nodes,r=e.edges;if(!e.ticking){var i=e.forceSimulation,o=e.alphaMin,s=e.alphaDecay,a=e.alpha;if(i){if(t)if(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(r)),i.nodes(n),r&&e.edgeForce)e.edgeForce.links(r);else if(r&&!e.edgeForce){f=c.forceLink().id((function(t){return t.id})).links(r);e.edgeStrength&&f.strength(e.edgeStrength),e.linkDistance&&f.distance(e.linkDistance),e.edgeForce=f,i.force("link",f)}e.preventOverlap&&e.overlapProcess(i),i.alpha(a).restart(),this.ticking=!0}else try{var u=c.forceManyBody();if(e.nodeStrength&&u.strength(e.nodeStrength),i=c.forceSimulation().nodes(n),e.clustering){var d=(0,l.default)();d.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),r&&d.links(r),n&&d.nodes(n),d.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=d,i.force("group",d)}if(i.force("center",c.forceCenter(e.center[0],e.center[1])).force("charge",u).alpha(a).alphaDecay(s).alphaMin(o),e.preventOverlap&&e.overlapProcess(i),r){var f=c.forceLink().id((function(t){return t.id})).links(r);e.edgeStrength&&f.strength(e.edgeStrength),e.linkDistance&&f.distance(e.linkDistance),e.edgeForce=f,i.force("link",f)}if(e.workerEnabled&&!g()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),e.workerEnabled){i.stop();for(var m=p(i),v=1;v<=m;v++)i.tick(),postMessage({nodes:n,currentTick:v,totalTicks:m,type:h.LAYOUT_MESSAGE.TICK},void 0);e.ticking=!1}else i.on("tick",(function(){e.tick()})).on("end",(function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()})),e.ticking=!0;e.forceSimulation=i,e.ticking=!0}catch(b){e.ticking=!1,console.warn(b)}}},e.prototype.overlapProcess=function(t){var e,n,r=this,i=r.nodeSize,o=r.nodeSpacing,s=r.collideStrength;if(n=(0,u.isNumber)(o)?function(){return o}:(0,u.isFunction)(o)?o:function(){return 0},i)if((0,u.isFunction)(i))e=function(t){var e=i(t);return e+n(t)};else if((0,u.isArray)(i)){var a=i[0]>i[1]?i[0]:i[1],l=a/2;e=function(t){return l+n(t)}}else if((0,u.isNumber)(i)){var d=i/2;e=function(t){return d+n(t)}}else e=function(){return 10};else e=function(t){if(t.size){if((0,u.isArray)(t.size)){var e=t.size[0]>t.size[1]?t.size[0]:t.size[1];return e/2+n(t)}if((0,u.isObject)(t.size)){e=t.size.width>t.size.height?t.size.width:t.size.height;return e/2+n(t)}return t.size/2+n(t)}return 10+n(t)};t.force("collisionForce",c.forceCollide(e).strength(s))},e.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,Object.assign(e,t)},e.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},e}(d.Base);function p(t){var e=t.alphaMin(),n=t.alphaTarget(),r=t.alpha(),i=Math.log((e-n)/(r-n))/Math.log(1-t.alphaDecay()),o=Math.ceil(i);return o}function g(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}e.ForceLayout=f},4964:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(2127),e)},361:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.FruchtermanLayout=void 0;var i=n(6271),o=n(1422),s=800,a=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.workerEnabled=!1,n.gravity=10,n.speed=5,n.clustering=!1,n.clusterGravity=10,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.onLayoutEnd=function(){},n.tick=function(){},n.animate=!0,n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},e.prototype.execute=function(){var t,e,n=this,r=this,i=r.nodes;if(void 0!==r.timeInterval&&"undefined"!==typeof window&&window.clearInterval(r.timeInterval),i&&0!==i.length){r.width||"undefined"===typeof window||(r.width=window.innerWidth),r.height||"undefined"===typeof window||(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var s=r.center;if(1===i.length)return i[0].x=s[0],i[0].y=s[1],void(null===(e=r.onLayoutEnd)||void 0===e||e.call(r));var a={},c={};return i.forEach((function(t,e){(0,o.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,o.isNumber)(t.y)||(t.y=Math.random()*n.height),a[t.id]=t,c[t.id]=e})),r.nodeMap=a,r.nodeIdxMap=c,r.run()}null===(t=r.onLayoutEnd)||void 0===t||t.call(r)},e.prototype.run=function(){var t,e=this,n=e.nodes;if(n){var r=e.edges,i=e.maxIteration,o=e.workerEnabled,s=e.clustering,a=e.animate,c={};if(s&&n.forEach((function(t){void 0===c[t.cluster]&&(c[t.cluster]={name:t.cluster,cx:0,cy:0,count:0})})),o||!a){for(var l=0;l<i;l++)e.runOneStep(c);null===(t=e.onLayoutEnd)||void 0===t||t.call(e)}else{if("undefined"===typeof window)return;var u=0;this.timeInterval=window.setInterval((function(){var t;e.runOneStep(c),u++,u>=i&&(null===(t=e.onLayoutEnd)||void 0===t||t.call(e),window.clearInterval(e.timeInterval))}),0)}return{nodes:n,edges:r}}},e.prototype.runOneStep=function(t){var e,n=this,r=n.nodes;if(r){var i=n.edges,a=n.center,c=n.gravity,l=n.speed,u=n.clustering,d=n.height*n.width,h=Math.sqrt(d)/10,f=d/(r.length+1),p=Math.sqrt(f),g=[];if(r.forEach((function(t,e){g[e]={x:0,y:0}})),n.applyCalculate(r,i,g,p,f),u){for(var m in t)t[m].cx=0,t[m].cy=0,t[m].count=0;for(var m in r.forEach((function(e){var n=t[e.cluster];(0,o.isNumber)(e.x)&&(n.cx+=e.x),(0,o.isNumber)(e.y)&&(n.cy+=e.y),n.count++})),t)t[m].cx/=t[m].count,t[m].cy/=t[m].count;var v=n.clusterGravity||c;r.forEach((function(e,n){if((0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)){var r=t[e.cluster],i=Math.sqrt((e.x-r.cx)*(e.x-r.cx)+(e.y-r.cy)*(e.y-r.cy)),s=p*v;g[n].x-=s*(e.x-r.cx)/i,g[n].y-=s*(e.y-r.cy)/i}}))}r.forEach((function(t,e){if((0,o.isNumber)(t.x)&&(0,o.isNumber)(t.y)){var n=.01*p*c;g[e].x-=n*(t.x-a[0]),g[e].y-=n*(t.y-a[1])}})),r.forEach((function(t,e){if((0,o.isNumber)(t.fx)&&(0,o.isNumber)(t.fy))return t.x=t.fx,void(t.y=t.fy);if((0,o.isNumber)(t.x)&&(0,o.isNumber)(t.y)){var n=Math.sqrt(g[e].x*g[e].x+g[e].y*g[e].y);if(n>0){var r=Math.min(h*(l/s),n);t.x+=g[e].x/n*r,t.y+=g[e].y/n*r}}})),null===(e=n.tick)||void 0===e||e.call(n)}},e.prototype.applyCalculate=function(t,e,n,r,i){var o=this;o.calRepulsive(t,n,i),e&&o.calAttractive(e,n,r)},e.prototype.calRepulsive=function(t,e,n){t.forEach((function(r,i){e[i]={x:0,y:0},t.forEach((function(t,s){if(i!==s&&(0,o.isNumber)(r.x)&&(0,o.isNumber)(t.x)&&(0,o.isNumber)(r.y)&&(0,o.isNumber)(t.y)){var a=r.x-t.x,c=r.y-t.y,l=a*a+c*c;if(0===l){l=1;var u=i>s?1:-1;a=.01*u,c=.01*u}var d=n/l;e[i].x+=a*d,e[i].y+=c*d}}))}))},e.prototype.calAttractive=function(t,e,n){var r=this;t.forEach((function(t){var i=(0,o.getEdgeTerminal)(t,"source"),s=(0,o.getEdgeTerminal)(t,"target");if(i&&s){var a=r.nodeIdxMap[i],c=r.nodeIdxMap[s];if(a!==c){var l=r.nodeMap[i],u=r.nodeMap[s];if((0,o.isNumber)(u.x)&&(0,o.isNumber)(l.x)&&(0,o.isNumber)(u.y)&&(0,o.isNumber)(l.y)){var d=u.x-l.x,h=u.y-l.y,f=Math.sqrt(d*d+h*h),p=f*f/n;e[c].x-=d/f*p,e[c].y-=h/f*p,e[a].x+=d/f*p,e[a].y+=h/f*p}}}}))},e.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){var t=this;t.stop(),t.tick=null,t.nodes=null,t.edges=null,t.destroyed=!0},e.prototype.getType=function(){return"fruchterman"},e}(i.Base);e.FruchtermanLayout=a},238:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.GForceLayout=void 0;var i=n(6271),o=n(1422),s=function(t,e){var n;return n=t?(0,o.isNumber)(t)?function(e){return t}:t:function(t){return e||1},n},a=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=500,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.preventOverlap=!0,n.collideStrength=1,n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.animate=!0,n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},e.prototype.execute=function(){var t,e,n=this,r=n.nodes;if(void 0!==n.timeInterval&&"undefined"!==typeof window&&window.clearInterval(n.timeInterval),r&&0!==r.length){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var i=n.center;if(1===r.length)return r[0].x=i[0],r[0].y=i[1],void(null===(e=n.onLayoutEnd)||void 0===e||e.call(n));var a={},c={};r.forEach((function(t,e){(0,o.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,o.isNumber)(t.y)||(t.y=Math.random()*n.height),a[t.id]=t,c[t.id]=e})),n.nodeMap=a,n.nodeIdxMap=c,n.linkDistance=s(n.linkDistance,1),n.nodeStrength=s(n.nodeStrength,1),n.edgeStrength=s(n.edgeStrength,1);var l,u=n.nodeSize;if(n.preventOverlap){var d,h=n.nodeSpacing;d=(0,o.isNumber)(h)?function(){return h}:(0,o.isFunction)(h)?h:function(){return 0},l=u?(0,o.isArray)(u)?function(t){return Math.max(u[0],u[1])+d(t)}:function(t){return u+d(t)}:function(t){return t.size?(0,o.isArray)(t.size)?Math.max(t.size[0],t.size[1])+d(t):(0,o.isObject)(t.size)?Math.max(t.size.width,t.size.height)+d(t):t.size+d(t):10+d(t)}}n.nodeSize=l;var f=n.edges;n.degrees=(0,o.getDegree)(r.length,n.nodeIdxMap,f),n.getMass||(n.getMass=function(t){var e=t.mass||n.degrees[n.nodeIdxMap[t.id]].all||1;return e}),n.run()}else null===(t=n.onLayoutEnd)||void 0===t||t.call(n)},e.prototype.run=function(){var t,e=this,n=e.maxIteration,r=e.nodes,i=e.workerEnabled,o=e.minMovement,s=e.animate;if(r)if(i||!s){for(var a=0;a<n;a++){var c=e.runOneStep(a);if(e.reachMoveThreshold(r,c,o))break}null===(t=e.onLayoutEnd)||void 0===t||t.call(e)}else{if("undefined"===typeof window)return;var l=0;this.timeInterval=window.setInterval((function(){var t,i;if(r){var s=e.runOneStep(l)||[];e.reachMoveThreshold(r,s,o)&&(null===(t=e.onLayoutEnd)||void 0===t||t.call(e),window.clearInterval(e.timeInterval)),l++,l>=n&&(null===(i=e.onLayoutEnd)||void 0===i||i.call(e),window.clearInterval(e.timeInterval))}}),0)}},e.prototype.reachMoveThreshold=function(t,e,n){var r=0;return t.forEach((function(t,n){var i=t.x-e[n].x,o=t.y-e[n].y;r+=Math.sqrt(i*i+o*o)})),r/=t.length,r<n},e.prototype.runOneStep=function(t){var e,n=this,r=n.nodes,i=n.edges,o=[],s=[];if(r){r.forEach((function(t,e){o[2*e]=0,o[2*e+1]=0,s[2*e]=0,s[2*e+1]=0})),n.calRepulsive(o,r),i&&n.calAttractive(o,i),n.calGravity(o,r);var a=Math.max(.02,n.interval-.002*t);n.updateVelocity(o,s,a,r);var c=[];return r.forEach((function(t){c.push({x:t.x,y:t.y})})),n.updatePosition(s,a,r),null===(e=n.tick)||void 0===e||e.call(n),c}},e.prototype.calRepulsive=function(t,e){var n=this,r=n.getMass,i=n.factor,o=n.coulombDisScale,s=n.preventOverlap,a=n.collideStrength,c=void 0===a?1:a,l=n.nodeStrength,u=n.nodeSize;e.forEach((function(n,a){var d=r?r(n):1;e.forEach((function(e,h){if(!(a>=h)){var f=n.x-e.x,p=n.y-e.y;0===f&&0===p&&(f=.01*Math.random(),p=.01*Math.random());var g=f*f+p*p,m=Math.sqrt(g),v=(m+.1)*o,b=f/m,y=p/m,k=.5*(l(n)+l(e))*i/(v*v),w=r?r(e):1;if(t[2*a]+=b*k,t[2*a+1]+=y*k,t[2*h]-=b*k,t[2*h+1]-=y*k,s&&(u(n)+u(e))/2>m){var _=c*(l(n)+l(e))*.5/g;t[2*a]+=b*_/d,t[2*a+1]+=y*_/d,t[2*h]-=b*_/w,t[2*h+1]-=y*_/w}}}))}))},e.prototype.calAttractive=function(t,e){var n=this,r=n.nodeMap,i=n.nodeIdxMap,s=n.linkDistance,a=n.edgeStrength,c=n.nodeSize,l=n.getMass;e.forEach((function(e,n){var u=(0,o.getEdgeTerminal)(e,"source"),d=(0,o.getEdgeTerminal)(e,"target"),h=r[u],f=r[d],p=f.x-h.x,g=f.y-h.y;0===p&&0===g&&(p=.01*Math.random(),g=.01*Math.random());var m=Math.sqrt(p*p+g*g),v=p/m,b=g/m,y=s(e,h,f)||1+(c(h)+c(f)||0)/2,k=y-m,w=k*a(e),_=i[u],A=i[d],C=l?l(h):1,x=l?l(f):1;t[2*_]-=v*w/C,t[2*_+1]-=b*w/C,t[2*A]+=v*w/x,t[2*A+1]+=b*w/x}))},e.prototype.calGravity=function(t,e){for(var n=this,r=n.center,i=n.gravity,s=n.degrees,a=e.length,c=0;c<a;c++){var l=e[c],u=l.x-r[0],d=l.y-r[1],h=i;if(n.getCenter){var f=n.getCenter(l,s[c].all);f&&(0,o.isNumber)(f[0])&&(0,o.isNumber)(f[1])&&(0,o.isNumber)(f[2])&&(u=l.x-f[0],d=l.y-f[1],h=f[2])}h&&(t[2*c]-=h*u,t[2*c+1]-=h*d)}},e.prototype.updateVelocity=function(t,e,n,r){var i=this,o=n*i.damping;r.forEach((function(n,r){var s=t[2*r]*o||.01,a=t[2*r+1]*o||.01,c=Math.sqrt(s*s+a*a);if(c>i.maxSpeed){var l=i.maxSpeed/c;s*=l,a*=l}e[2*r]=s,e[2*r+1]=a}))},e.prototype.updatePosition=function(t,e,n){n.forEach((function(n,r){if((0,o.isNumber)(n.fx)&&(0,o.isNumber)(n.fy))return n.x=n.fx,void(n.y=n.fy);var i=t[2*r]*e,s=t[2*r+1]*e;n.x+=i,n.y+=s}))},e.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){var t=this;t.stop(),t.tick=null,t.nodes=null,t.edges=null,t.destroyed=!0},e.prototype.getType=function(){return"gForce"},e}(i.Base);e.GForceLayout=a},5444:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,a[0]&&(s=0)),s)try{if(n=1,r&&(i=2&a[0]?r["return"]:a[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(c){a=[6,c],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.FruchtermanGPULayout=void 0;var s=n(6271),a=n(1422),c=n(2262),l=n(8196),u=n(4341),d=n(5573),h=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.gravity=10,n.speed=1,n.clustering=!1,n.clusterField="cluster",n.clusterGravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){return i(this,void 0,void 0,(function(){var t,e,n,r,i,s=this;return o(this,(function(o){switch(o.label){case 0:return t=this,e=t.nodes,e&&0!==e.length?(t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]),n=t.center,1===e.length?(e[0].x=n[0],e[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd(),[2]):(r={},i={},e.forEach((function(t,e){(0,a.isNumber)(t.x)||(t.x=Math.random()*s.width),(0,a.isNumber)(t.y)||(t.y=Math.random()*s.height),r[t.id]=t,i[t.id]=e})),t.nodeMap=r,t.nodeIdxMap=i,[4,t.run()])):(t.onLayoutEnd&&t.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}}))}))},e.prototype.executeWithWorker=function(t,e){return i(this,void 0,void 0,(function(){var n,r,i,s,c,l=this;return o(this,(function(o){switch(o.label){case 0:return n=this,r=n.nodes,i=n.center,r&&0!==r.length?1===r.length?(r[0].x=i[0],r[0].y=i[1],[2]):(s={},c={},r.forEach((function(t,e){(0,a.isNumber)(t.x)||(t.x=Math.random()*l.width),(0,a.isNumber)(t.y)||(t.y=Math.random()*l.height),s[t.id]=t,c[t.id]=e})),n.nodeMap=s,n.nodeIdxMap=c,[4,n.run(t,e)]):[2];case 1:return o.sent(),[2]}}))}))},e.prototype.run=function(t,e){return i(this,void 0,void 0,(function(){var n,r,s,h,f,p,g,m,v,b,y,k,w,_,A,C,x,E,S,M,I,D,T,O,N,P,L=this;return o(this,(function(B){switch(B.label){case 0:for(n=this,r=n.nodes,s=n.edges,h=n.maxIteration,f=n.center,p=n.height*n.width,g=Math.sqrt(p)/10,m=p/(r.length+1),v=Math.sqrt(m),b=n.speed,y=n.clustering,k=(0,l.attributesToTextureData)([n.clusterField],r),w=k.array,_=k.count,r.forEach((function(t,e){var n=0,r=0;(0,a.isNumber)(t.fx)&&(0,a.isNumber)(t.fy)&&(n=t.fx||.001,r=t.fy||.001),w[4*e+1]=n,w[4*e+2]=r})),A=r.length,C=(0,l.buildTextureData)(r,s),x=C.maxEdgePerVetex,E=C.array,S=n.workerEnabled,M=S?c.World.create({canvas:t,engineOptions:{supportCompute:!0}}):c.World.create({engineOptions:{supportCompute:!0}}),I=n.onLayoutEnd,D=[],T=0;T<_;T++)D.push(0,0,0,0);return O=M.createKernel(u.fruchtermanBundle).setDispatch([A,1,1]).setBinding({u_Data:E,u_K:v,u_K2:m,u_Gravity:n.gravity,u_ClusterGravity:n.clusterGravity||n.gravity||1,u_Speed:b,u_MaxDisplace:g,u_Clustering:y?1:0,u_Center:f,u_AttributeArray:w,u_ClusterCenters:D,MAX_EDGE_PER_VERTEX:x,VERTEX_COUNT:A}),y&&(N=M.createKernel(u.clusterBundle).setDispatch([_,1,1]).setBinding({u_Data:E,u_NodeAttributes:w,u_ClusterCenters:D,VERTEX_COUNT:A,CLUSTER_COUNT:_})),P=function(){return i(L,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<h?[4,O.execute()]:[3,6];case 2:return o.sent(),y?(N.setBinding({u_Data:O}),[4,N.execute()]):[3,4];case 3:o.sent(),O.setBinding({u_ClusterCenters:N}),o.label=4;case 4:O.setBinding({u_MaxDisplace:g*=.99}),o.label=5;case 5:return n++,[3,1];case 6:return[4,O.getOutput()];case 7:return i=o.sent(),t?e.postMessage({type:d.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:i}):r.forEach((function(t,e){var n=i[4*e],r=i[4*e+1];t.x=n,t.y=r})),I&&I(),[2]}}))}))},[4,P()];case 1:return B.sent(),[2]}}))}))},e.prototype.getType=function(){return"fruchterman-gpu"},e}(s.Base);e.FruchtermanGPULayout=h},4341:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clusterBundle=e.clusterCode=e.fruchtermanBundle=e.fruchtermanCode=void 0,e.fruchtermanCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n",e.fruchtermanBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',e.clusterCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n",e.clusterBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},2121:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,a[0]&&(s=0)),s)try{if(n=1,r&&(i=2&a[0]?r["return"]:a[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(c){a=[6,c],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.GForceGPULayout=void 0;var s=n(6271),a=n(1422),c=n(2262),l=n(8196),u=n(1922),d=n(2564),h=n(5573),f=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){return i(this,void 0,void 0,(function(){var t,e,n,r,i;return o(this,(function(o){switch(o.label){case 0:return t=this,e=t.nodes,e&&0!==e.length?(t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]),n=t.center,1===e.length?(e[0].x=n[0],e[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd(),[2]):(r={},i={},e.forEach((function(e,n){(0,a.isNumber)(e.x)||(e.x=Math.random()*t.width),(0,a.isNumber)(e.y)||(e.y=Math.random()*t.height),r[e.id]=e,i[e.id]=n})),t.nodeMap=r,t.nodeIdxMap=i,t.nodeStrength=(0,l.proccessToFunc)(t.nodeStrength,1),t.edgeStrength=(0,l.proccessToFunc)(t.edgeStrength,1),[4,t.run()])):(t.onLayoutEnd&&t.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}}))}))},e.prototype.executeWithWorker=function(t,e){var n=this,r=n.nodes,i=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=i[0],void(r[0].y=i[1]);var o={},s={};r.forEach((function(t,e){(0,a.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,a.isNumber)(t.y)||(t.y=Math.random()*n.height),o[t.id]=t,s[t.id]=e})),n.nodeMap=o,n.nodeIdxMap=s,n.nodeStrength=(0,l.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,l.proccessToFunc)(n.edgeStrength,1),n.run(t,e)}},e.prototype.run=function(t,e){return i(this,void 0,void 0,(function(){var n,r,s,f,p,g,m,v,b,y,k,w,_,A,C,x,E,S,M,I,D,T,O,N,P,L,B,R=this;return o(this,(function(j){switch(j.label){case 0:for(n=this,r=n.nodes,s=n.edges,f=n.maxIteration,n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),p=r.length,n.linkDistance=(0,l.proccessToFunc)(n.linkDistance),n.edgeStrength=(0,l.proccessToFunc)(n.edgeStrength),g=(0,l.buildTextureDataWithTwoEdgeAttr)(r,s,n.linkDistance,n.edgeStrength),m=g.maxEdgePerVetex,v=g.array,n.degrees=(0,u.getDegree)(r.length,n.nodeIdxMap,s).map((function(t){return t.all})),b=[],y=[],k=[],w=[],_=[],A=[],C=[],n.getMass||(n.getMass=function(t){return n.degrees[n.nodeIdxMap[t.id]]||1}),x=n.gravity,E=n.center,r.forEach((function(t,e){b.push(n.getMass(t)),y.push(n.nodeStrength(t)),n.degrees[e]||(n.degrees[e]=0);var r=[E[0],E[1],x];if(n.getCenter){var i=n.getCenter(t,n.degrees[e]);i&&(0,a.isNumber)(i[0])&&(0,a.isNumber)(i[1])&&(0,a.isNumber)(i[2])&&(r=i)}k.push(r[0]),w.push(r[1]),_.push(r[2]),(0,a.isNumber)(t.fx)&&(0,a.isNumber)(t.fy)?(A.push(t.fx||.001),C.push(t.fy||.001)):(A.push(0),C.push(0))})),S=(0,l.arrayToTextureData)([b,n.degrees,y,A]),M=(0,l.arrayToTextureData)([k,w,_,C]),I=n.workerEnabled,D=I?c.World.create({canvas:t,engineOptions:{supportCompute:!0}}):c.World.create({engineOptions:{supportCompute:!0}}),T=n.onLayoutEnd,O=[],v.forEach((function(t){O.push(t)})),N=0;N<4;N++)O.push(0);return P=D.createKernel(d.gForceBundle).setDispatch([p,1,1]).setBinding({u_Data:v,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:S,u_NodeAttributeArray2:M,MAX_EDGE_PER_VERTEX:m,VERTEX_COUNT:p,u_AveMovement:O,u_interval:n.interval}),L=D.createKernel(d.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:v,VERTEX_COUNT:p,u_AveMovement:[0,0,0,0]}),B=function(){return i(R,void 0,void 0,(function(){var i,s,a;return o(this,(function(o){switch(o.label){case 0:i=0,o.label=1;case 1:return i<f?[4,P.execute()]:[3,5];case 2:return o.sent(),L.setBinding({u_Data:P}),[4,L.execute()];case 3:o.sent(),s=Math.max(.02,n.interval-.002*i),P.setBinding({u_interval:s,u_AveMovement:L}),o.label=4;case 4:return i++,[3,1];case 5:return[4,P.getOutput()];case 6:return a=o.sent(),t?e.postMessage({type:h.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:a}):r.forEach((function(t,e){var n=a[4*e],r=a[4*e+1];t.x=n,t.y=r})),T&&T(),[2]}}))}))},[4,B()];case 1:return j.sent(),[2]}}))}))},e.prototype.getType=function(){return"gForce-gpu"},e}(s.Base);e.GForceGPULayout=f},2564:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.aveMovementBundle=e.aveMovementCode=e.gForceBundle=e.gForceCode=void 0,e.gForceCode="\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i 节点的第 p 条边开始的小格子位置\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // 大格子，大格子位置=小个子位置 / 4，\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // 每个节点属性占两个数组中各一格\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n",e.gForceBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {float distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',e.aveMovementCode="\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n",e.aveMovementBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},6010:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.GridLayout=void 0;var i=n(1422),o=n(6271),s=function(t){function e(e){var n=t.call(this)||this;return n.begin=[0,0],n.preventOverlap=!0,n.preventOverlapPadding=10,n.condense=!1,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.row=0,n.col=0,n.cellWidth=0,n.cellHeight=0,n.cellUsed={},n.id2manPos={},n.onLayoutEnd=function(){},n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,r=t.begin,o=e.length;if(0===o)return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n};if(1===o)return e[0].x=r[0],e[0].y=r[1],t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n};var s=t.sortBy,a=t.width,c=t.height,l=t.condense,u=t.preventOverlapPadding,d=t.preventOverlap,h=t.nodeSpacing,f=t.nodeSize,p=[];e.forEach((function(t){p.push(t)}));var g={};if(p.forEach((function(t,e){g[t.id]=e})),("degree"===s||!(0,i.isString)(s)||void 0===p[0][s])&&(s="degree",(0,i.isNaN)(e[0].degree))){var m=(0,i.getDegree)(p.length,g,n);p.forEach((function(t,e){t.degree=m[e].all}))}p.sort((function(t,e){return e[s]-t[s]})),a||"undefined"===typeof window||(a=window.innerWidth),c||"undefined"===typeof window||(c=window.innerHeight);var v=t.rows,b=null!=t.cols?t.cols:t.columns;if(t.cells=o,null!=v&&null!=b?(t.rows=v,t.cols=b):null!=v&&null==b?(t.rows=v,t.cols=Math.ceil(t.cells/t.rows)):null==v&&null!=b?(t.cols=b,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.rows=Math.max(t.rows,1),t.cols=Math.max(t.cols,1),t.cols*t.rows>t.cells){var y=t.small(),k=t.large();(y-1)*k>=t.cells?t.small(y-1):(k-1)*y>=t.cells&&t.large(k-1)}else while(t.cols*t.rows<t.cells){y=t.small(),k=t.large();(k+1)*y>=t.cells?t.large(k+1):t.small(y+1)}if(t.cellWidth=a/t.cols,t.cellHeight=c/t.rows,l&&(t.cellWidth=0,t.cellHeight=0),d||h){var w=(0,i.getFuncByUnknownType)(10,h),_=(0,i.getFuncByUnknownType)(30,f,!1);p.forEach((function(e){e.x&&e.y||(e.x=0,e.y=0);var n,r,o=_(e)||30;(0,i.isArray)(o)?(n=o[0],r=o[1]):(n=o,r=o);var s=void 0!==w?w(e):u,a=n+s,c=r+s;t.cellWidth=Math.max(t.cellWidth,a),t.cellHeight=Math.max(t.cellHeight,c)}))}t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var A=0;A<p.length;A++){var C=p[A],x=void 0;if(t.position&&(x=t.position(C)),x&&(void 0!==x.row||void 0!==x.col)){var E={row:x.row,col:x.col};if(void 0===E.col){E.col=0;while(t.used(E.row,E.col))E.col++}else if(void 0===E.row){E.row=0;while(t.used(E.row,E.col))E.row++}t.id2manPos[C.id]=E,t.use(E.row,E.col)}t.getPos(C)}return t.onLayoutEnd&&t.onLayoutEnd(),{edges:n,nodes:p}},e.prototype.small=function(t){var e,n=this,r=n.rows||5,i=n.cols||5;if(null==t)e=Math.min(r,i);else{var o=Math.min(r,i);o===n.rows?n.rows=t:n.cols=t}return e},e.prototype.large=function(t){var e,n=this,r=n.rows||5,i=n.cols||5;if(null==t)e=Math.max(r,i);else{var o=Math.max(r,i);o===n.rows?n.rows=t:n.cols=t}return e},e.prototype.used=function(t,e){var n=this;return n.cellUsed["c-".concat(t,"-").concat(e)]||!1},e.prototype.use=function(t,e){var n=this;n.cellUsed["c-".concat(t,"-").concat(e)]=!0},e.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},e.prototype.getPos=function(t){var e,n,r=this,i=r.begin,o=r.cellWidth,s=r.cellHeight,a=r.id2manPos[t.id];if(a)e=a.col*o+o/2+i[0],n=a.row*s+s/2+i[1];else{while(r.used(r.row,r.col))r.moveToNextCell();e=r.col*o+o/2+i[0],n=r.row*s+s/2+i[1],r.use(r.row,r.col),r.moveToNextCell()}t.x=e,t.y=n},e.prototype.getType=function(){return"grid"},e}(o.Base);e.GridLayout=s},8352:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ERLayout=e.ForceAtlas2Layout=e.ComboCombinedLayout=e.ComboForceLayout=e.GForceGPULayout=e.FruchtermanGPULayout=e.FruchtermanLayout=e.MDSLayout=e.ConcentricLayout=e.RadialLayout=e.DagreCompoundLayout=e.DagreLayout=e.CircularLayout=e.ForceLayout=e.Force2Layout=e.GForceLayout=e.RandomLayout=e.GridLayout=e.Layouts=e.Layout=void 0;var o=n(6010);Object.defineProperty(e,"GridLayout",{enumerable:!0,get:function(){return o.GridLayout}});var s=n(8501);Object.defineProperty(e,"RandomLayout",{enumerable:!0,get:function(){return s.RandomLayout}});var a=n(238);Object.defineProperty(e,"GForceLayout",{enumerable:!0,get:function(){return a.GForceLayout}});var c=n(1782);Object.defineProperty(e,"Force2Layout",{enumerable:!0,get:function(){return c.Force2Layout}});var l=n(4964);Object.defineProperty(e,"ForceLayout",{enumerable:!0,get:function(){return l.ForceLayout}});var u=n(3455);Object.defineProperty(e,"CircularLayout",{enumerable:!0,get:function(){return u.CircularLayout}});var d=n(9829);Object.defineProperty(e,"DagreLayout",{enumerable:!0,get:function(){return d.DagreLayout}});var h=n(9524);Object.defineProperty(e,"DagreCompoundLayout",{enumerable:!0,get:function(){return h.DagreCompoundLayout}});var f=n(3570);Object.defineProperty(e,"RadialLayout",{enumerable:!0,get:function(){return f.RadialLayout}});var p=n(8006);Object.defineProperty(e,"ConcentricLayout",{enumerable:!0,get:function(){return p.ConcentricLayout}});var g=n(7982);Object.defineProperty(e,"MDSLayout",{enumerable:!0,get:function(){return g.MDSLayout}});var m=n(361);Object.defineProperty(e,"FruchtermanLayout",{enumerable:!0,get:function(){return m.FruchtermanLayout}});var v=n(5444);Object.defineProperty(e,"FruchtermanGPULayout",{enumerable:!0,get:function(){return v.FruchtermanGPULayout}});var b=n(2121);Object.defineProperty(e,"GForceGPULayout",{enumerable:!0,get:function(){return b.GForceGPULayout}});var y=n(2335);Object.defineProperty(e,"ComboForceLayout",{enumerable:!0,get:function(){return y.ComboForceLayout}});var k=n(4193);Object.defineProperty(e,"ComboCombinedLayout",{enumerable:!0,get:function(){return k.ComboCombinedLayout}});var w=n(8991);Object.defineProperty(e,"ForceAtlas2Layout",{enumerable:!0,get:function(){return w.ForceAtlas2Layout}});var _=n(9474);Object.defineProperty(e,"ERLayout",{enumerable:!0,get:function(){return _.ERLayout}});var A=n(2316);Object.defineProperty(e,"Layout",{enumerable:!0,get:function(){return A.Layout}}),Object.defineProperty(e,"Layouts",{enumerable:!0,get:function(){return A.Layouts}}),i(n(2149),e)},2316:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layouts=e.Layout=void 0;var r=n(8119),i=n(6010),o=n(8501),s=n(1782),a=n(238),c=n(4964),l=n(3455),u=n(9829),d=n(3570),h=n(8006),f=n(7982),p=n(361),g=n(5444),m=n(2121),v=n(2335),b=n(4193),y=n(8991),k=n(9474),w=n(9524),_=n(1422),A=function(){function t(t){var e=(0,r.getLayoutByName)(t.type);this.layoutInstance=new e(t)}return t.prototype.layout=function(t){return this.layoutInstance.layout(t)},t.prototype.updateCfg=function(t){this.layoutInstance.updateCfg(t)},t.prototype.init=function(t){this.correctLayers(t.nodes),this.layoutInstance.init(t)},t.prototype.correctLayers=function(t){if(null===t||void 0===t?void 0:t.length){var e=1/0,n=[];if(t.forEach((function(t){(0,_.isString)(t.layer)&&(t.layer=parseInt(t.layer,10)),void 0===t.layer||isNaN(t.layer)||(n.push(t),t.layer<e&&(e=t.layer))})),e<=0){var r=Math.abs(e)+1;n.forEach((function(t){return t.layer+=r}))}}},t.prototype.execute=function(){this.layoutInstance.execute()},t.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},t.prototype.destroy=function(){return this.layoutInstance.destroy()},t}();e.Layout=A,e.Layouts={force:c.ForceLayout,fruchterman:p.FruchtermanLayout,forceAtlas2:y.ForceAtlas2Layout,gForce:a.GForceLayout,force2:s.Force2Layout,dagre:u.DagreLayout,dagreCompound:w.DagreCompoundLayout,circular:l.CircularLayout,radial:d.RadialLayout,concentric:h.ConcentricLayout,grid:i.GridLayout,mds:f.MDSLayout,comboForce:v.ComboForceLayout,comboCombined:b.ComboCombinedLayout,random:o.RandomLayout,"gForce-gpu":m.GForceGPULayout,"fruchterman-gpu":g.FruchtermanGPULayout,er:k.ERLayout}},7982:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.MDSLayout=void 0;var i=n(9960),o=n(1422),s=n(6271),a=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.linkDistance=50,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,r=void 0===n?[]:n,i=t.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=i[0],e[0].y=i[1],void(t.onLayoutEnd&&t.onLayoutEnd());var s=t.linkDistance,a=(0,o.getAdjMatrix)({nodes:e,edges:r},!1),c=(0,o.floydWarshall)(a);t.handleInfinity(c);var l=(0,o.scaleMatrix)(c,s);t.scaledDistances=l;var u=t.runMDS();return t.positions=u,u.forEach((function(t,n){e[n].x=t[0]+i[0],e[n].y=t[1]+i[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:r}}t.onLayoutEnd&&t.onLayoutEnd()},e.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,r=i.Matrix.mul(i.Matrix.pow(n,2),-.5),o=r.mean("row"),s=r.mean("column"),a=r.mean();r.add(a).subRowVector(o).subColumnVector(s);var c=new i.SingularValueDecomposition(r),l=i.Matrix.sqrt(c.diagonalMatrix).diagonal();return c.leftSingularVectors.toJSON().map((function(t){return i.Matrix.mul([t],[l]).toJSON()[0].splice(0,e)}))},e.prototype.handleInfinity=function(t){var e=-999999;t.forEach((function(t){t.forEach((function(t){t!==1/0&&e<t&&(e=t)}))})),t.forEach((function(n,r){n.forEach((function(n,i){n===1/0&&(t[r][i]=e)}))}))},e.prototype.getType=function(){return"mds"},e}(s.Base);e.MDSLayout=a},3570:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(3303),e)},8936:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9960),i=function(){function t(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}return t.prototype.layout=function(){var t=this,e=t.dimension,n=t.distances,i=t.linkDistance;try{var o=r.Matrix.mul(r.Matrix.pow(n,2),-.5),s=o.mean("row"),a=o.mean("column"),c=o.mean();o.add(c).subRowVector(s).subColumnVector(a);var l=new r.SingularValueDecomposition(o),u=r.Matrix.sqrt(l.diagonalMatrix).diagonal();return l.leftSingularVectors.toJSON().map((function(t){return r.Matrix.mul([t],[u]).toJSON()[0].splice(0,e)}))}catch(g){for(var d=[],h=0;h<n.length;h++){var f=Math.random()*i,p=Math.random()*i;d.push([f,p])}return d}},t}();e["default"]=i},3303:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RadialLayout=void 0;var o=n(1422),s=n(6271),a=i(n(8936)),c=i(n(5470));function l(t){for(var e=t.length,n=t[0].length,r=[],i=0;i<e;i++){for(var o=[],s=0;s<n;s++)0!==t[i][s]?o.push(1/(t[i][s]*t[i][s])):o.push(0);r.push(o)}return r}function u(t,e){var n=-1;return t.forEach((function(t,r){t.id===e&&(n=r)})),n}function d(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var h=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.focusNode=null,n.unitRadius=null,n.linkDistance=50,n.preventOverlap=!1,n.strictRadial=!0,n.maxPreventOverlapIteration=200,n.sortStrength=10,n.nodes=[],n.edges=[],n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[];if(e&&0!==e.length){t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var r=t.center;if(1===e.length)return e[0].x=r[0],e[0].y=r[1],void(t.onLayoutEnd&&t.onLayoutEnd());var i=t.linkDistance,s=null;if((0,o.isString)(t.focusNode)){for(var d=!1,h=0;h<e.length;h++)e[h].id===t.focusNode&&(s=e[h],t.focusNode=s,d=!0,h=e.length);d||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var f=u(e,s.id);f<0&&(f=0),t.focusIndex=f;var p=(0,o.getAdjMatrix)({nodes:e,edges:n},!1),g=(0,o.floydWarshall)(p),m=t.maxToFocus(g,f);t.handleInfinity(g,f,m+1),t.distances=g;var v=g[f],b=t.width||500,y=t.height||500,k=b-r[0]>r[0]?r[0]:b-r[0],w=y-r[1]>r[1]?r[1]:y-r[1];0===k&&(k=b/2),0===w&&(w=y/2);var _=w>k?k:w,A=Math.max.apply(Math,v),C=[];v.forEach((function(e,n){t.unitRadius||(t.unitRadius=_/A),C[n]=e*t.unitRadius})),t.radii=C;var x=t.eIdealDisMatrix();t.eIdealDistances=x;var E=l(x);t.weights=E;var S=new a.default({linkDistance:i,distances:x}),M=S.layout();M.forEach((function(t){(0,o.isNaN)(t[0])&&(t[0]=Math.random()*i),(0,o.isNaN)(t[1])&&(t[1]=Math.random()*i)})),t.positions=M,M.forEach((function(t,n){e[n].x=t[0]+r[0],e[n].y=t[1]+r[1]})),M.forEach((function(t){t[0]-=M[f][0],t[1]-=M[f][1]})),t.run();var I,D=t.preventOverlap,T=t.nodeSize,O=t.strictRadial;if(D){var N,P=t.nodeSpacing;N=(0,o.isNumber)(P)?function(){return P}:(0,o.isFunction)(P)?P:function(){return 0},I=T?(0,o.isArray)(T)?function(t){var e=T[0]>T[1]?T[0]:T[1];return e+N(t)}:function(t){return T+N(t)}:function(t){if(t.size){if((0,o.isArray)(t.size)){var e=t.size[0]>t.size[1]?t.size[0]:t.size[1];return e+N(t)}if((0,o.isObject)(t.size)){e=t.size.width>t.size.height?t.size.width:t.size.height;return e+N(t)}return t.size+N(t)}return 10+N(t)};var L={nodes:e,nodeSizeFunc:I,adjMatrix:p,positions:M,radii:C,height:y,width:b,strictRadial:O,focusID:f,iterations:t.maxPreventOverlapIteration||200,k:M.length/4.5},B=new c.default(L);M=B.layout()}return M.forEach((function(t,n){e[n].x=t[0]+r[0],e[n].y=t[1]+r[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}t.onLayoutEnd&&t.onLayoutEnd()},e.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],r=t.weights||[],i=t.eIdealDistances||[],o=t.radii||[],s=0;s<=e;s++){var a=s/e;t.oneIteration(a,n,o,i,r)}},e.prototype.oneIteration=function(t,e,n,r,i){var o=this,s=1-t,a=o.focusIndex;e.forEach((function(o,c){var l=d(o,[0,0]),u=0===l?0:1/l;if(c!==a){var h=0,f=0,p=0;e.forEach((function(t,e){if(c!==e){var n=d(o,t),s=0===n?0:1/n,a=r[e][c];p+=i[c][e],h+=i[c][e]*(t[0]+a*(o[0]-t[0])*s),f+=i[c][e]*(t[1]+a*(o[1]-t[1])*s)}}));var g=0===n[c]?0:1/n[c];p*=s,p+=t*g*g,h*=s,h+=t*g*o[0]*u,o[0]=h/p,f*=s,f+=t*g*o[1]*u,o[1]=f/p}}))},e.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,r=t.linkDistance,i=t.radii||[],s=t.unitRadius||50,a=[];return n&&n.forEach((function(n,c){var l=[];n.forEach((function(n,a){if(c===a)l.push(0);else if(i[c]===i[a])if("data"===t.sortBy)l.push(n*(Math.abs(c-a)*t.sortStrength)/(i[c]/s));else if(t.sortBy){var u=e[c][t.sortBy]||0,d=e[a][t.sortBy]||0;(0,o.isString)(u)&&(u=u.charCodeAt(0)),(0,o.isString)(d)&&(d=d.charCodeAt(0)),l.push(n*(Math.abs(u-d)*t.sortStrength)/(i[c]/s))}else l.push(n*r/(i[c]/s));else{var h=(r+s)/2;l.push(n*h)}})),a.push(l)})),a},e.prototype.handleInfinity=function(t,e,n){for(var r=t.length,i=0;i<r;i++)if(t[e][i]===1/0){t[e][i]=n,t[i][e]=n;for(var o=0;o<r;o++)t[i][o]!==1/0&&t[e][o]===1/0&&(t[e][o]=n+t[i][o],t[o][e]=n+t[i][o])}for(i=0;i<r;i++)if(i!==e)for(o=0;o<r;o++)if(t[i][o]===1/0){var s=Math.abs(t[e][i]-t[e][o]);s=0===s?1:s,t[i][o]=s}},e.prototype.maxToFocus=function(t,e){for(var n=0,r=0;r<t[e].length;r++)t[e][r]!==1/0&&(n=t[e][r]>n?t[e][r]:n);return n},e.prototype.getType=function(){return"radial"},e}(s.Base);e.RadialLayout=h},5470:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=800,r=function(){function t(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}return t.prototype.layout=function(){var t=this,e=t.positions,n=[],r=t.iterations,i=t.width/10;t.maxDisplace=i,t.disp=n;for(var o=0;o<r;o++)e.forEach((function(t,e){n[e]={x:0,y:0}})),t.getRepulsion(),t.updatePositions();return e},t.prototype.getRepulsion=function(){var t=this,e=t.positions,n=t.nodes,r=t.disp,i=t.k,o=t.radii||[];e.forEach((function(s,a){r[a]={x:0,y:0},e.forEach((function(e,c){if(a!==c&&o[a]===o[c]){var l=s[0]-e[0],u=s[1]-e[1],d=Math.sqrt(l*l+u*u);if(0===d){d=1;var h=a>c?1:-1;l=.01*h,u=.01*h}if(d<t.nodeSizeFunc(n[a])/2+t.nodeSizeFunc(n[c])/2){var f=i*i/d;r[a].x+=l/d*f,r[a].y+=u/d*f}}}))}))},t.prototype.updatePositions=function(){var t=this,e=t.positions,r=t.disp,i=t.speed,o=t.strictRadial,s=t.focusID,a=t.maxDisplace||t.width/10;o&&r.forEach((function(t,n){var r=e[n][0]-e[s][0],i=e[n][1]-e[s][1],o=Math.sqrt(r*r+i*i),a=i/o,c=-r/o,l=Math.sqrt(t.x*t.x+t.y*t.y),u=Math.acos((a*t.x+c*t.y)/l);u>Math.PI/2&&(u-=Math.PI/2,a*=-1,c*=-1);var d=Math.cos(u)*l;t.x=a*d,t.y=c*d}));var c=t.radii;e.forEach((function(t,l){if(l!==s){var u=Math.sqrt(r[l].x*r[l].x+r[l].y*r[l].y);if(u>0&&l!==s){var d=Math.min(a*(i/n),u);if(t[0]+=r[l].x/u*d,t[1]+=r[l].y/u*d,o){var h=t[0]-e[s][0],f=t[1]-e[s][1],p=Math.sqrt(h*h+f*f);h=h/p*c[l],f=f/p*c[l],t[0]=e[s][0]+h,t[1]=e[s][1]+f}}}}))},t}();e["default"]=r},8501:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.RandomLayout=void 0;var i=n(6271),o=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return r(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,e=t.nodes,n=.9,r=t.center;return t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=(Math.random()-.5)*n*t.width+r[0],e.y=(Math.random()-.5)*n*t.height+r[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:this.edges}},e.prototype.getType=function(){return"random"},e}(i.Base);e.RandomLayout=o},2149:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},8119:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutByName=e.unRegisterLayout=e.registerLayout=void 0;var i=n(6271),o=n(1422),s=new Map,a=function(t,e){if(s.get(t)&&console.warn("The layout with the name ".concat(t," exists already, it will be overridden")),(0,o.isObject)(e)){var n=function(t){function n(n){var r,i=this;i=t.call(this)||this;var o=i,s={},a=Object.assign({},o.getDefaultCfg(),(null===(r=e.getDefaultCfg)||void 0===r?void 0:r.call(e))||{});return Object.assign(s,a,e,n),Object.keys(s).forEach((function(t){var e=s[t];o[t]=e})),i}return r(n,t),n}(i.Base);s.set(t,n)}else s.set(t,e);return s.get(t)};e.registerLayout=a;var c=function(t){s.has(t)&&s.delete(t)};e.unRegisterLayout=c;var l=function(t){return s.has(t)?s.get(t):null};e.getLayoutByName=l},6755:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=void 0,e.isArray=Array.isArray},3380:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFuncByUnknownType=e.getFunc=e.isFunction=void 0;var r=n(1422),i=n(9937),o=function(t){return"function"===typeof t};e.isFunction=o;var s=function(t,e,n){var r;return r=n||((0,i.isNumber)(t)?function(){return t}:function(){return e}),r};e.getFunc=s;var a=function(t,n,o){return void 0===o&&(o=!0),n||0===n?(0,e.isFunction)(n)?n:(0,i.isNumber)(n)?function(){return n}:(0,r.isArray)(n)?function(){if(o){var e=Math.max.apply(Math,n);return isNaN(e)?t:e}return n}:(0,r.isObject)(n)?function(){if(o){var e=Math.max(n.width,n.height);return isNaN(e)?t:e}return[n.width,n.height]}:function(){return t}:function(e){return e.size?(0,r.isArray)(e.size)?e.size[0]>e.size[1]?e.size[0]:e.size[1]:(0,r.isObject)(e.size)?e.size.width>e.size.height?e.size.width:e.size.height:e.size:t}};e.getFuncByUnknownType=a},8196:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayToTextureData=e.attributesToTextureData=e.buildTextureDataWithTwoEdgeAttr=e.buildTextureData=e.proccessToFunc=void 0;var r=n(1422),i=n(1922),o=function(t,e){var n;return n=t?(0,r.isNumber)(t)?function(){return t}:t:function(){return e||1},n};e.proccessToFunc=o;var s=function(t,e){var n=[],r=[],o={},s=0;for(s=0;s<t.length;s++){var a=t[s];o[a.id]=s,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(s=0;s<e.length;s++){var c=e[s],l=(0,i.getEdgeTerminal)(c,"source"),u=(0,i.getEdgeTerminal)(c,"target");isNaN(o[l])||isNaN(o[u])||(r[o[l]].push(o[u]),r[o[u]].push(o[l]))}var d=0;for(s=0;s<t.length;s++){var h=n.length,f=r[s],p=f.length;n[4*s+2]=h,n[4*s+3]=p,d=Math.max(d,p);for(var g=0;g<p;++g){var m=f[g];n.push(+m)}}while(n.length%4!==0)n.push(0);return{maxEdgePerVetex:d,array:new Float32Array(n)}};e.buildTextureData=s;var a=function(t,e,n,r){var o=[],s=[],a={},c=0;for(c=0;c<t.length;c++){var l=t[c];a[l.id]=c,o.push(l.x),o.push(l.y),o.push(0),o.push(0),s.push([])}for(c=0;c<e.length;c++){var u=e[c],d=(0,i.getEdgeTerminal)(u,"source"),h=(0,i.getEdgeTerminal)(u,"target");s[a[d]].push(a[h]),s[a[d]].push(n(u)),s[a[d]].push(r(u)),s[a[d]].push(0),s[a[h]].push(a[d]),s[a[h]].push(n(u)),s[a[h]].push(r(u)),s[a[h]].push(0)}var f=0;for(c=0;c<t.length;c++){var p=o.length,g=s[c],m=g.length;o[4*c+2]=p+1048576*m/4,o[4*c+3]=0,f=Math.max(f,m/4);for(var v=0;v<m;++v){var b=g[v];o.push(+b)}}while(o.length%4!==0)o.push(0);return{maxEdgePerVetex:f,array:new Float32Array(o)}};e.buildTextureDataWithTwoEdgeAttr=a;var c=function(t,e){var n=[],r=t.length,i={};return e.forEach((function(e){t.forEach((function(t,o){if(void 0===i[e[t]]&&(i[e[t]]=Object.keys(i).length),n.push(i[e[t]]),o===r-1)while(n.length%4!==0)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}};e.attributesToTextureData=c;var l=function(t){for(var e=[],n=t.length,r=t[0].length,i=function(r){t.forEach((function(t,i){if(e.push(t[r]),i===n-1)while(e.length%4!==0)e.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(e)};e.arrayToTextureData=l},1422:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(5757),e),i(n(6755),e),i(n(9937),e),i(n(1922),e),i(n(5747),e),i(n(3380),e)},1922:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCoreNodeAndRelativeLeafNodes=e.getAvgNodePosition=e.getLayoutBBox=e.traverseTreeUp=e.scaleMatrix=e.getAdjMatrix=e.floydWarshall=e.getDegreeMap=e.getDegree=e.getEdgeTerminal=void 0;var r=n(6755),i=n(9937),o=n(5747),s=function(t,e){var n=t[e];return(0,o.isObject)(n)?n.cell:n};e.getEdgeTerminal=s;var a=function(t,n,r){for(var i=[],o=0;o<t;o++)i[o]={in:0,out:0,all:0};return r?(r.forEach((function(t){var r=(0,e.getEdgeTerminal)(t,"source"),o=(0,e.getEdgeTerminal)(t,"target");r&&i[n[r]]&&(i[n[r]].out+=1,i[n[r]].all+=1),o&&i[n[o]]&&(i[n[o]].in+=1,i[n[o]].all+=1)})),i):i};e.getDegree=a;var c=function(t,n){var r={};return t.forEach((function(t){r[t.id]={in:0,out:0,all:0}})),n?(n.forEach((function(t){var n=(0,e.getEdgeTerminal)(t,"source"),i=(0,e.getEdgeTerminal)(t,"target");n&&(r[n].out+=1,r[n].all+=1),i&&(r[i].in+=1,r[i].all+=1)})),r):r};e.getDegreeMap=c;var l=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e};e.floydWarshall=l;var u=function(t,n){var r=t.nodes,i=t.edges,o=[],s={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(t,e){s[t.id]=e;var n=[];o.push(n)})),null===i||void 0===i||i.forEach((function(t){var r=(0,e.getEdgeTerminal)(t,"source"),i=(0,e.getEdgeTerminal)(t,"target"),a=s[r],c=s[i];void 0!==a&&void 0!==c&&(o[a][c]=1,n||(o[c][a]=1))})),o};e.getAdjMatrix=u;var d=function(t,e){var n=[];return t.forEach((function(t){var r=[];t.forEach((function(t){r.push(t*e)})),n.push(r)})),n};e.scaleMatrix=d;var h=function(t,e){if(t&&t.children)for(var n=t.children.length-1;n>=0;n--)if(!h(t.children[n],e))return;return!!e(t)},f=function(t,e){"function"===typeof e&&h(t,e)};e.traverseTreeUp=f;var p=function(t){var e=1/0,n=1/0,o=-1/0,s=-1/0;return t.forEach((function(t){var a=t.size;(0,r.isArray)(a)?1===a.length&&(a=[a[0],a[0]]):(0,i.isNumber)(a)?a=[a,a]:(void 0===a||isNaN(a))&&(a=[30,30]);var c=[a[0]/2,a[1]/2],l=t.x-c[0],u=t.x+c[0],d=t.y-c[1],h=t.y+c[1];e>l&&(e=l),n>d&&(n=d),o<u&&(o=u),s<h&&(s=h)})),{minX:e,minY:n,maxX:o,maxY:s}};e.getLayoutBBox=p;var g=function(t){var e={x:0,y:0};t.forEach((function(t){e.x+=t.x||0,e.y+=t.y||0}));var n=t.length||1;return{x:e.x/n,y:e.y/n}};e.getAvgNodePosition=g;var m=function(t,e,n){var r,i;return"source"===t?(null===(r=null===n||void 0===n?void 0:n.find((function(t){return t.target===e.id})))||void 0===r?void 0:r.source)||{}:(null===(i=null===n||void 0===n?void 0:n.find((function(t){return t.source===e.id})))||void 0===i?void 0:i.target)||{}},v=function(t,e,n){var r=[];switch(t){case"source":r=null===n||void 0===n?void 0:n.filter((function(t){return t.source===e.id})).map((function(t){return t.target}));break;case"target":r=null===n||void 0===n?void 0:n.filter((function(t){return t.target===e.id})).map((function(t){return t.source}));break;case"both":r=null===n||void 0===n?void 0:n.filter((function(t){return t.source===e.id})).map((function(t){return t.target})).concat(null===n||void 0===n?void 0:n.filter((function(t){return t.target===e.id})).map((function(t){return t.source})));break;default:break}var i=new Set(r);return Array.from(i)},b=function(t,e,n,r,i){var o=n[e]||"",s=(null===r||void 0===r?void 0:r.filter((function(t){return t[e]===o})))||[];return"leaf"===t&&(s=s.filter((function(t){var e,n;return 0===(null===(e=i[t.id])||void 0===e?void 0:e.in)||0===(null===(n=i[t.id])||void 0===n?void 0:n.out)}))),s},y=function(t,e,n,r,i,o){var s=i[e.id],a=s.in,c=s.out,l=e,u=[];0===a?(l=m("source",e,n),u=v("both",l,n).map((function(t){return o[t]}))):0===c&&(l=m("target",e,n),u=v("both",l,n).map((function(t){return o[t]}))),u=u.filter((function(t){return i[t.id]&&(0===i[t.id].in||0===i[t.id].out)}));var d=b(t,r,e,u,i);return{coreNode:l,relativeLeafNodes:u,sameTypeLeafNodes:d}};e.getCoreNodeAndRelativeLeafNodes=y},9937:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toNumber=e.isNaN=e.isNumber=void 0;var n=function(t){return"number"===typeof t};e.isNumber=n;var r=function(t){return Number.isNaN(Number(t))};e.isNaN=r;var i=function(t){var n=parseFloat(t);return(0,e.isNaN)(n)?t:n};e.toNumber=i},5747:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.isObject=void 0;var r=function(t){return null!==t&&"object"===typeof t};e.isObject=r;var i=function(t){if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){var r=[];return t.forEach((function(t){r.push(t)})),r.map((function(t){return(0,e.clone)(t)}))}if("object"===typeof t&&Object.keys(t).length){var i=n({},t);return Object.keys(i).forEach((function(t){i[t]=(0,e.clone)(i[t])})),i}return t};e.clone=i},5757:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.camelize=e.isString=void 0;var n=function(t){return"string"===typeof t};e.isString=n;var r=function(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}},i=/-(\w)/g;e.camelize=r((function(t){return t.replace(i,(function(t,e){return e?e.toUpperCase():""}))}))},3485:function(t,e,n){"use strict";function r(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}function i(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e}function o(t){return"#"+i(t[0])+i(t[1])+i(t[2])}n.r(e),n.d(e,{Cache:function(){return bi},angleTo:function(){return D},arcToCubic:function(){return it},assign:function(){return Nr},augment:function(){return Lr},clamp:function(){return pn},clearAnimationFrame:function(){return Tr},clone:function(){return Rr},clonePath:function(){return dt},contains:function(){return Vt},createDOM:function(){return Di},debounce:function(){return zr},deepMix:function(){return Hr},difference:function(){return $t},direction:function(){return I},distanceSquareRoot:function(){return ft},each:function(){return te},endsWith:function(){return Ye},equalizeSegments:function(){return Rt},every:function(){return Xe},extend:function(){return Wr},filter:function(){return Gt},find:function(){return ue},findIndex:function(){return he},firstValue:function(){return pe},fixedBase:function(){return mn},flatten:function(){return me},flattenDeep:function(){return be},forIn:function(){return Hn},get:function(){return oi},getDrawDirection:function(){return Dt},getPathArea:function(){return It},getPathBBox:function(){return At},getPathBBoxTotalLength:function(){return xt},getPointAtLength:function(){return Tt},getRange:function(){return _e},getRotatedCurve:function(){return St},getTotalLength:function(){return Ct},getType:function(){return lr},getWrapBehavior:function(){return on},gradient:function(){return m},group:function(){return nn},groupBy:function(){return tn},groupToMap:function(){return en},has:function(){return $n},hasKey:function(){return Wn},hasValue:function(){return Xn},head:function(){return Ue},identity:function(){return gi},includes:function(){return Vt},indexOf:function(){return qr},isArguments:function(){return dr},isArray:function(){return Zt},isArrayLike:function(){return zt},isBoolean:function(){return fr},isDate:function(){return gr},isDecimal:function(){return kn},isElement:function(){return Ir},isEmpty:function(){return Zr},isEqual:function(){return Jr},isEqualWith:function(){return ti},isError:function(){return vr},isEven:function(){return _n},isFinite:function(){return br},isFunction:function(){return s},isInteger:function(){return Cn},isMatch:function(){return ie},isNegative:function(){return En},isNil:function(){return Yt},isNull:function(){return kr},isNumber:function(){return bn},isNumberEqual:function(){return Mn},isObject:function(){return Qt},isObjectLike:function(){return se},isOdd:function(){return Dn},isPlainObject:function(){return ce},isPointInPolygon:function(){return _i},isPointInStroke:function(){return Pt},isPolygonsIntersect:function(){return Ii},isPositive:function(){return On},isPrototype:function(){return Ar},isRegExp:function(){return xr},isString:function(){return Le},isType:function(){return Kt},isUndefined:function(){return Sr},keys:function(){return ne},last:function(){return Ge},lowerCase:function(){return Qn},lowerFirst:function(){return tr},map:function(){return ni},mapValues:function(){return ii},max:function(){return ye},maxBy:function(){return Nn},memoize:function(){return l},min:function(){return ke},minBy:function(){return Pn},mix:function(){return Nr},mod:function(){return Bn},modifyCSS:function(){return Ti},noop:function(){return pi},normalizePath:function(){return et},number2color:function(){return un},omit:function(){return li},parseRadius:function(){return hn},path2Absolute:function(){return J},path2Array:function(){return ut},path2Curve:function(){return lt},path2String:function(){return N},pick:function(){return ci},pull:function(){return Se},pullAt:function(){return De},reduce:function(){return Oe},remove:function(){return Pe},requestAnimationFrame:function(){return Dr},reverseCurve:function(){return ht},rgb2arr:function(){return r},set:function(){return si},size:function(){return mi},some:function(){return Ze},sortBy:function(){return Re},startsWith:function(){return $e},substitute:function(){return nr},throttle:function(){return ui},toArray:function(){return di},toCSSGradient:function(){return w},toDegree:function(){return zn},toInteger:function(){return Fn},toRGB:function(){return f},toRadian:function(){return Gn},toString:function(){return Kn},transform:function(){return S},union:function(){return Fe},uniq:function(){return je},uniqueId:function(){return fi},upperCase:function(){return ir},upperFirst:function(){return sr},values:function(){return qn},valuesOfKey:function(){return Ve},vertical:function(){return T},wrapBehavior:function(){return an}});var s=function(t){return"function"===typeof t};function a(t){var e,n,r,i=t||1;function o(t,o){++e>i&&(r=n,s(1),++e),n[t]=o}function s(t){e=0,n=Object.create(null),t||(r=Object.create(null))}return s(),{clear:s,has:function(t){return void 0!==n[t]||void 0!==r[t]},get:function(t){var e=n[t];return void 0!==e?e:void 0!==(e=r[t])?(o(t,e),e):void 0},set:function(t,e){void 0!==n[t]?n[t]=e:o(t,e)}}}var c,l=function(t,e,n){if(void 0===n&&(n=128),!s(t))throw new TypeError("Expected a function");var r=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=e?e.apply(this,n):n[0],s=r.cache;if(s.has(o))return s.get(o);var a=t.apply(this,n);return s.set(o,a),a};return r.cache=a(n),r},u=/rgba?\(([\s.,0-9]+)\)/;function d(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}function h(t){if("#"===t[0]&&7===t.length)return t;c||(c=d()),c.style.color=t;var e=document.defaultView.getComputedStyle(c,"").getPropertyValue("color"),n=u.exec(e),r=n[1].split(/\s*,\s*/).map((function(t){return Number(t)}));return e=o(r),e}var f=l(h,(function(t){return t}),256);function p(t,e,n,r){return t[r]+(e[r]-t[r])*n}function g(t,e){var n=isNaN(Number(e))||e<0?0:e>1?1:Number(e),r=t.length-1,i=Math.floor(r*n),s=r*n-i,a=t[i],c=i===r?a:t[i+1];return o([p(a,c,s,0),p(a,c,s,1),p(a,c,s,2)])}function m(t){var e="string"===typeof t?t.split("-"):t,n=e.map((function(t){return r(-1===t.indexOf("#")?f(t):t)}));return function(t){return g(n,t)}}var v=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,b=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,y=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function k(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)}function w(t){if(k(t)){var e,n=void 0;if("l"===t[0]){var r=v.exec(t),i=+r[1]+90;n=r[2],e="linear-gradient("+i+"deg, "}else if("r"===t[0]){e="radial-gradient(";r=b.exec(t);n=r[4]}var o=n.match(y);return o.forEach((function(t,n){var r=t.split(":");e+=r[1]+" "+100*Number(r[0])+"%",n!==o.length-1&&(e+=", ")})),e+=")",e}return t}var _=n(1409);function A(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return _.fromTranslation(r,n),_.multiply(t,r,e)}function C(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return _.fromRotation(r,n),_.multiply(t,r,e)}function x(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return _.fromScaling(r,n),_.multiply(t,r,e)}function E(t,e,n){return _.multiply(t,n,e)}function S(t,e){for(var n=t?[].concat(t):[1,0,0,0,1,0,0,0,1],r=0,i=e.length;r<i;r++){var o=e[r];switch(o[0]){case"t":A(n,n,[o[1],o[2]]);break;case"s":x(n,n,[o[1],o[2]]);break;case"r":C(n,n,o[1]);break;case"m":E(n,n,o[1]);break;default:break}}return n}var M=n(842);function I(t,e){return t[0]*e[1]-e[0]*t[1]}function D(t,e,n){var r=M.angle(t,e),i=I(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r}function T(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}function O(t,e){if("off"===e)return[].concat(t);var n="number"===typeof e&&e>=1?Math.pow(10,e):1;return t.map((function(t){var r=t.slice(1).map(Number).map((function(t){return e?Math.round(t*n)/n:Math.round(t)}));return[t[0]].concat(r)}))}function N(t,e){return void 0===e&&(e="off"),O(t,e).map((function(t){return t[0]+t.slice(1).join(" ")})).join("")}var P=n(1635),L={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function B(t,e,n){if(t[n].length>7){t[n].shift();var r=t[n],i=n;while(r.length)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}var R={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function j(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return R[e]===t.length-1&&"achlmqstvz".includes(e)}))}function z(t){return j(t)&&t.every((function(t){var e=t[0];return e===e.toUpperCase()}))}function F(t){return z(t)&&t.every((function(t){var e=t[0];return"ACLMQZ".includes(e)}))}function V(t){var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;while(r.length>=R[n])if("m"===n&&r.length>2?(t.segments.push([e].concat(r.splice(0,2))),n="l",e="m"===e?"l":"L"):t.segments.push([e].concat(r.splice(0,R[n]))),!R[n])break}function U(t){var e=t.index,n=t.pathValue,r=n.charCodeAt(e);return 48===r?(t.param=0,void(t.index+=1)):49===r?(t.param=1,void(t.index+=1)):void(t.err='[path-util]: invalid Arc flag "'+n[e]+'", expecting 0 or 1 at index '+e)}function G(t){return t>=48&&t<=57||43===t||45===t||46===t}function H(t){return t>=48&&t<=57}function $(t){var e,n=t.max,r=t.pathValue,i=t.index,o=i,s=!1,a=!1,c=!1,l=!1;if(o>=n)t.err="[path-util]: Invalid path value at index "+o+', "pathValue" is missing param';else if(e=r.charCodeAt(o),43!==e&&45!==e||(o+=1,e=r.charCodeAt(o)),H(e)||46===e){if(46!==e){if(s=48===e,o+=1,e=r.charCodeAt(o),s&&o<n&&e&&H(e))return void(t.err="[path-util]: Invalid path value at index "+i+', "'+r[i]+'" illegal number');while(o<n&&H(r.charCodeAt(o)))o+=1,a=!0;e=r.charCodeAt(o)}if(46===e){l=!0,o+=1;while(H(r.charCodeAt(o)))o+=1,c=!0;e=r.charCodeAt(o)}if(101===e||69===e){if(l&&!a&&!c)return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid float exponent');if(o+=1,e=r.charCodeAt(o),43!==e&&45!==e||(o+=1),!(o<n&&H(r.charCodeAt(o))))return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid integer exponent');while(o<n&&H(r.charCodeAt(o)))o+=1}t.index=o,t.param=+t.pathValue.slice(i,o)}else t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" is not a number'}function W(t){var e=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return 10===t||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&e.includes(t)}function Y(t){var e=t.pathValue,n=t.max;while(t.index<n&&W(e.charCodeAt(t.index)))t.index+=1}function q(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function X(t){return 97===(32|t)}function K(t){var e=t.max,n=t.pathValue,r=t.index,i=n.charCodeAt(r),o=R[n[r].toLowerCase()];if(t.segmentStart=r,q(i))if(t.index+=1,Y(t),t.data=[],o){for(;;){for(var s=o;s>0;s-=1){if(!X(i)||3!==s&&4!==s?$(t):U(t),t.err.length)return;t.data.push(t.param),Y(t),t.index<e&&44===n.charCodeAt(t.index)&&(t.index+=1,Y(t))}if(t.index>=t.max)break;if(!G(n.charCodeAt(t.index)))break}V(t)}else V(t);else t.err='[path-util]: Invalid path value "'+n[r]+'" is not a path command'}var Z=function(){function t(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return t}();function Q(t){if(j(t))return[].concat(t);var e=new Z(t);Y(e);while(e.index<e.max&&!e.err.length)K(e);return e.err?e.err:e.segments}function J(t){if(z(t))return[].concat(t);var e=Q(t),n=0,r=0,i=0,o=0;return e.map((function(t){var e,s=t.slice(1).map(Number),a=t[0],c=a.toUpperCase();if("M"===a)return n=s[0],r=s[1],i=n,o=r,["M",n,r];if(a!==c)switch(c){case"A":e=[c,s[0],s[1],s[2],s[3],s[4],s[5]+n,s[6]+r];break;case"V":e=[c,s[0]+r];break;case"H":e=[c,s[0]+n];break;default:var l=s.map((function(t,e){return t+(e%2?r:n)}));e=[c].concat(l)}else e=[c].concat(s);var u=e.length;switch(c){case"Z":n=i,r=o;break;case"H":n=e[1];break;case"V":r=e[1];break;default:n=e[u-2],r=e[u-1],"M"===c&&(i=n,o=r)}return e}))}function tt(t,e){var n=t[0],r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=t.slice(1).map(Number),c=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),"H"===n)c=["L",t[1],i];else if("V"===n)c=["L",r,t[1]];else if("S"===n){var l=2*r-o,u=2*i-s;e.x1=l,e.y1=u,c=["C",l,u].concat(a)}else if("T"===n){var d=2*r-e.qx,h=2*i-e.qy;e.qx=d,e.qy=h,c=["Q",d,h].concat(a)}else if("Q"===n){var f=a[0],p=a[1];e.qx=f,e.qy=p}return c}function et(t){if(F(t))return[].concat(t);for(var e=J(t),n=(0,P.__assign)({},L),r=0;r<e.length;r+=1){e[r]=tt(e[r],n);var i=e[r],o=i.length;n.x1=+i[o-2],n.y1=+i[o-1],n.x2=+i[o-4]||n.x1,n.y2=+i[o-3]||n.y1}return e}function nt(t){return F(t)&&t.every((function(t){var e=t[0];return"MC".includes(e)}))}function rt(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}}function it(t,e,n,r,i,o,s,a,c,l){var u,d,h,f,p,g=t,m=e,v=n,b=r,y=a,k=c,w=120*Math.PI/180,_=Math.PI/180*(+i||0),A=[];if(l)d=l[0],h=l[1],f=l[2],p=l[3];else{u=rt(g,m,-_),g=u.x,m=u.y,u=rt(y,k,-_),y=u.x,k=u.y;var C=(g-y)/2,x=(m-k)/2,E=C*C/(v*v)+x*x/(b*b);E>1&&(E=Math.sqrt(E),v*=E,b*=E);var S=v*v,M=b*b,I=(o===s?-1:1)*Math.sqrt(Math.abs((S*M-S*x*x-M*C*C)/(S*x*x+M*C*C)));f=I*v*x/b+(g+y)/2,p=I*-b*C/v+(m+k)/2,d=Math.asin(((m-p)/b*Math.pow(10,9)|0)/Math.pow(10,9)),h=Math.asin(((k-p)/b*Math.pow(10,9)|0)/Math.pow(10,9)),d=g<f?Math.PI-d:d,h=y<f?Math.PI-h:h,d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),s&&d>h&&(d-=2*Math.PI),!s&&h>d&&(h-=2*Math.PI)}var D=h-d;if(Math.abs(D)>w){var T=h,O=y,N=k;h=d+w*(s&&h>d?1:-1),y=f+v*Math.cos(h),k=p+b*Math.sin(h),A=it(y,k,v,b,i,0,s,O,N,[h,T,f,p])}D=h-d;var P=Math.cos(d),L=Math.sin(d),B=Math.cos(h),R=Math.sin(h),j=Math.tan(D/4),z=4/3*v*j,F=4/3*b*j,V=[g,m],U=[g+z*L,m-F*P],G=[y+z*R,k-F*B],H=[y,k];if(U[0]=2*V[0]-U[0],U[1]=2*V[1]-U[1],l)return U.concat(G,H,A);A=U.concat(G,H,A);for(var $=[],W=0,Y=A.length;W<Y;W+=1)$[W]=W%2?rt(A[W-1],A[W],_).y:rt(A[W],A[W+1],_).x;return $}function ot(t,e,n,r,i,o){var s=1/3,a=2/3;return[s*t+a*n,s*e+a*r,s*i+a*n,s*o+a*r,i,o]}function st(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return[r+(o-r)*n,i+(s-i)*n]}var at=function(t,e,n,r){var i=.5,o=st([t,e],[n,r],i);return(0,P.__spreadArray)((0,P.__spreadArray)([],o,!0),[n,r,n,r],!1)};function ct(t,e){var n,r=t[0],i=t.slice(1).map(Number),o=i[0],s=i[1],a=e.x1,c=e.y1,l=e.x,u=e.y;switch("TQ".includes(r)||(e.qx=null,e.qy=null),r){case"M":return e.x=o,e.y=s,t;case"A":return n=[a,c].concat(i),["C"].concat(it(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]));case"Q":return e.qx=o,e.qy=s,n=[a,c].concat(i),["C"].concat(ot(n[0],n[1],n[2],n[3],n[4],n[5]));case"L":return["C"].concat(at(a,c,o,s));case"Z":return a===l&&c===u?["C",a,c,l,u,l,u]:["C"].concat(at(a,c,l,u));default:}return t}function lt(t,e){if(void 0===e&&(e=!1),nt(t)){var n=[].concat(t);return e?[n,[]]:n}for(var r,i,o=et(t),s=(0,P.__assign)({},L),a=[],c="",l=o.length,u=[],d=0;d<l;d+=1){o[d]&&(c=o[d][0]),a[d]=c;var h=ct(o[d],s);o[d]=h,B(o,a,d),l=o.length,"Z"===c&&u.push(d),r=o[d],i=r.length,s.x1=+r[i-2],s.y1=+r[i-1],s.x2=+r[i-4]||s.x1,s.y2=+r[i-3]||s.y1}return e?[o,u]:o}function ut(t){return Q(t)}function dt(t){return t.map((function(t){return Array.isArray(t)?[].concat(t):t}))}function ht(t){var e=t.slice(1).map((function(e,n,r){return n?r[n-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))})).map((function(t){return t.map((function(e,n){return t[t.length-n-2*(1-n%2)]}))})).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map((function(t){return["C"].concat(t.slice(2))})))}function ft(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function pt(t,e,n,r,i){var o=ft([t,e],[n,r]),s={x:0,y:0};if("number"===typeof i)if(i<=0)s={x:t,y:e};else if(i>=o)s={x:n,y:r};else{var a=st([t,e],[n,r],i/o),c=a[0],l=a[1];s={x:c,y:l}}return{length:o,point:s,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}}function gt(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,s=n*i+r*o,a=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(o,2))),c=n*o-r*i<0?-1:1,l=c*Math.acos(s/a);return l}function mt(t,e,n,r,i,o,s,a,c,l){var u=Math.abs,d=Math.sin,h=Math.cos,f=Math.sqrt,p=Math.PI,g=u(n),m=u(r),v=(i%360+360)%360,b=v*(p/180);if(t===a&&e===c)return{x:t,y:e};if(0===g||0===m)return pt(t,e,a,c,l).point;var y=(t-a)/2,k=(e-c)/2,w={x:h(b)*y+d(b)*k,y:-d(b)*y+h(b)*k},_=Math.pow(w.x,2)/Math.pow(g,2)+Math.pow(w.y,2)/Math.pow(m,2);_>1&&(g*=f(_),m*=f(_));var A=Math.pow(g,2)*Math.pow(m,2)-Math.pow(g,2)*Math.pow(w.y,2)-Math.pow(m,2)*Math.pow(w.x,2),C=Math.pow(g,2)*Math.pow(w.y,2)+Math.pow(m,2)*Math.pow(w.x,2),x=A/C;x=x<0?0:x;var E=(o!==s?1:-1)*f(x),S={x:E*(g*w.y/m),y:E*(-m*w.x/g)},M={x:h(b)*S.x-d(b)*S.y+(t+a)/2,y:d(b)*S.x+h(b)*S.y+(e+c)/2},I={x:(w.x-S.x)/g,y:(w.y-S.y)/m},D=gt({x:1,y:0},I),T={x:(-w.x-S.x)/g,y:(-w.y-S.y)/m},O=gt(I,T);!s&&O>0?O-=2*p:s&&O<0&&(O+=2*p),O%=2*p;var N=D+O*l,P=g*h(N),L=m*d(N),B={x:h(b)*P-d(b)*L+M.x,y:d(b)*P+h(b)*L+M.y};return B}function vt(t,e,n,r,i,o,s,a,c,l,u){var d,h=u.bbox,f=void 0===h||h,p=u.length,g=void 0===p||p,m=u.sampleSize,v=void 0===m?30:m,b="number"===typeof l,y=t,k=e,w=0,_=[y,k,w],A=[y,k],C=0,x={x:0,y:0},E=[{x:y,y:k}];b&&l<=0&&(x={x:y,y:k});for(var S=0;S<=v;S+=1){if(C=S/v,d=mt(t,e,n,r,i,o,s,a,c,C),y=d.x,k=d.y,f&&E.push({x:y,y:k}),g&&(w+=ft(A,[y,k])),A=[y,k],b&&w>=l&&l>_[2]){var M=(w-l)/(w-_[2]);x={x:A[0]*(1-M)+_[0]*M,y:A[1]*(1-M)+_[1]*M}}_=[y,k,w]}return b&&l>=w&&(x={x:a,y:c}),{length:w,point:x,min:{x:Math.min.apply(null,E.map((function(t){return t.x}))),y:Math.min.apply(null,E.map((function(t){return t.y})))},max:{x:Math.max.apply(null,E.map((function(t){return t.x}))),y:Math.max.apply(null,E.map((function(t){return t.y})))}}}function bt(t,e,n,r,i,o,s,a,c){var l=1-c;return{x:Math.pow(l,3)*t+3*Math.pow(l,2)*c*n+3*l*Math.pow(c,2)*i+Math.pow(c,3)*s,y:Math.pow(l,3)*e+3*Math.pow(l,2)*c*r+3*l*Math.pow(c,2)*o+Math.pow(c,3)*a}}function yt(t,e,n,r,i,o,s,a,c,l){var u,d=l.bbox,h=void 0===d||d,f=l.length,p=void 0===f||f,g=l.sampleSize,m=void 0===g?10:g,v="number"===typeof c,b=t,y=e,k=0,w=[b,y,k],_=[b,y],A=0,C={x:0,y:0},x=[{x:b,y:y}];v&&c<=0&&(C={x:b,y:y});for(var E=0;E<=m;E+=1){if(A=E/m,u=bt(t,e,n,r,i,o,s,a,A),b=u.x,y=u.y,h&&x.push({x:b,y:y}),p&&(k+=ft(_,[b,y])),_=[b,y],v&&k>=c&&c>w[2]){var S=(k-c)/(k-w[2]);C={x:_[0]*(1-S)+w[0]*S,y:_[1]*(1-S)+w[1]*S}}w=[b,y,k]}return v&&c>=k&&(C={x:s,y:a}),{length:k,point:C,min:{x:Math.min.apply(null,x.map((function(t){return t.x}))),y:Math.min.apply(null,x.map((function(t){return t.y})))},max:{x:Math.max.apply(null,x.map((function(t){return t.x}))),y:Math.max.apply(null,x.map((function(t){return t.y})))}}}function kt(t,e,n,r,i,o,s){var a=1-s;return{x:Math.pow(a,2)*t+2*a*s*n+Math.pow(s,2)*i,y:Math.pow(a,2)*e+2*a*s*r+Math.pow(s,2)*o}}function wt(t,e,n,r,i,o,s,a){var c,l=a.bbox,u=void 0===l||l,d=a.length,h=void 0===d||d,f=a.sampleSize,p=void 0===f?10:f,g="number"===typeof s,m=t,v=e,b=0,y=[m,v,b],k=[m,v],w=0,_={x:0,y:0},A=[{x:m,y:v}];g&&s<=0&&(_={x:m,y:v});for(var C=0;C<=p;C+=1){if(w=C/p,c=kt(t,e,n,r,i,o,w),m=c.x,v=c.y,u&&A.push({x:m,y:v}),h&&(b+=ft(k,[m,v])),k=[m,v],g&&b>=s&&s>y[2]){var x=(b-s)/(b-y[2]);_={x:k[0]*(1-x)+y[0]*x,y:k[1]*(1-x)+y[1]*x}}y=[m,v,b]}return g&&s>=b&&(_={x:i,y:o}),{length:b,point:_,min:{x:Math.min.apply(null,A.map((function(t){return t.x}))),y:Math.min.apply(null,A.map((function(t){return t.y})))},max:{x:Math.max.apply(null,A.map((function(t){return t.x}))),y:Math.max.apply(null,A.map((function(t){return t.y})))}}}function _t(t,e,n){for(var r,i,o,s,a,c,l,u,d,h=et(t),f="number"===typeof e,p=[],g=0,m=0,v=0,b=0,y=[],k=[],w=0,_={x:0,y:0},A=_,C=_,x=_,E=0,S=0,M=h.length;S<M;S+=1)d=h[S],u=d[0],l="M"===u,p=l?p:[g,m].concat(d.slice(1)),l?(v=d[1],b=d[2],_={x:v,y:b},A=_,w=0,f&&e<.001&&(x=_)):"L"===u?(r=pt(p[0],p[1],p[2],p[3],(e||0)-E),w=r.length,_=r.min,A=r.max,C=r.point):"A"===u?(i=vt(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],(e||0)-E,n||{}),w=i.length,_=i.min,A=i.max,C=i.point):"C"===u?(o=yt(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],(e||0)-E,n||{}),w=o.length,_=o.min,A=o.max,C=o.point):"Q"===u?(s=wt(p[0],p[1],p[2],p[3],p[4],p[5],(e||0)-E,n||{}),w=s.length,_=s.min,A=s.max,C=s.point):"Z"===u&&(p=[g,m,v,b],a=pt(p[0],p[1],p[2],p[3],(e||0)-E),w=a.length,_=a.min,A=a.max,C=a.point),f&&E<e&&E+w>=e&&(x=C),k.push(A),y.push(_),E+=w,c="Z"!==u?d.slice(-2):[v,b],g=c[0],m=c[1];return f&&e>=E&&(x={x:g,y:m}),{length:E,point:x,min:{x:Math.min.apply(null,y.map((function(t){return t.x}))),y:Math.min.apply(null,y.map((function(t){return t.y})))},max:{x:Math.max.apply(null,k.map((function(t){return t.x}))),y:Math.max.apply(null,k.map((function(t){return t.y})))}}}function At(t,e){if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var n=_t(t,void 0,(0,P.__assign)((0,P.__assign)({},e),{length:!1})),r=n.min,i=r.x,o=r.y,s=n.max,a=s.x,c=s.y,l=a-i,u=c-o;return{width:l,height:u,x:i,y:o,x2:a,y2:c,cx:i+l/2,cy:o+u/2,cz:Math.max(l,u)+Math.min(l,u)/2}}function Ct(t,e){return _t(t,void 0,(0,P.__assign)((0,P.__assign)({},e),{bbox:!1,length:!0})).length}function xt(t,e){if(!t)return{length:0,x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var n=_t(t,void 0,(0,P.__assign)((0,P.__assign)({},e),{bbox:!0,length:!0})),r=n.length,i=n.min,o=i.x,s=i.y,a=n.max,c=a.x,l=a.y,u=c-o,d=l-s;return{length:r,width:u,height:d,x:o,y:s,x2:c,y2:l,cx:o+u/2,cy:s+d/2,cz:Math.max(u,d)+Math.min(u,d)/2}}function Et(t){var e=t.length,n=e-1;return t.map((function(r,i){return t.map((function(r,o){var s,a=i+o;return 0===o||t[a]&&"M"===t[a][0]?(s=t[a],["M"].concat(s.slice(-2))):(a>=e&&(a-=n),t[a])}))}))}function St(t,e){var n=t.length-1,r=[],i=0,o=0,s=Et(t);return s.forEach((function(i,s){t.slice(1).forEach((function(r,i){o+=ft(t[(s+i)%n].slice(-2),e[i%n].slice(-2))})),r[s]=o,o=0})),i=r.indexOf(Math.min.apply(null,r)),s[i]}function Mt(t,e,n,r,i,o,s,a){return 3*((a-e)*(n+i)-(s-t)*(r+o)+r*(t-i)-n*(e-o)+a*(i+t/3)-s*(o+e/3))/20}function It(t){var e=0,n=0,r=0;return lt(t).map((function(t){var i;switch(t[0]){case"M":return e=t[1],n=t[2],0;default:var o=t.slice(1),s=o[0],a=o[1],c=o[2],l=o[3],u=o[4],d=o[5];return r=Mt(e,n,s,a,c,l,u,d),i=t.slice(-2),e=i[0],n=i[1],r}})).reduce((function(t,e){return t+e}),0)}function Dt(t){return It(t)>=0}function Tt(t,e,n){return _t(t,e,(0,P.__assign)((0,P.__assign)({},n),{bbox:!1,length:!0})).point}function Ot(t,e){var n=Q(t);if("string"===typeof n)throw TypeError(n);var r=n.slice(),i=Ct(r),o=r.length-1,s=0,a=0,c=n[0],l=c.slice(-2),u=l[0],d=l[1],h={x:u,y:d};if(o<=0||!e||!Number.isFinite(e))return{segment:c,index:0,length:a,point:h,lengthAtSegment:s};if(e>=i)return r=n.slice(0,-1),s=Ct(r),a=i-s,{segment:n[o],index:o,length:a,lengthAtSegment:s};var f=[];while(o>0)c=r[o],r=r.slice(0,-1),s=Ct(r),a=i-s,i=s,f.push({segment:c,index:o,length:a,lengthAtSegment:s}),o-=1;return f.find((function(t){var n=t.lengthAtSegment;return n<=e}))}function Nt(t,e){for(var n,r,i,o,s=Q(t),a=et(s),c=Ct(s),l=function(t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},u=8,d=0,h=0,f=1/0,p=0;p<=c;p+=u)n=Tt(a,p),d=l(n),d<f&&(r=n,h=p,f=d);u/=2;var g=0,m=0,v=0,b=0;while(u>.5)g=h-u,i=Tt(a,g),v=l(i),m=h+u,o=Tt(a,m),b=l(o),g>=0&&v<f?(r=i,h=g,f=v):m<=c&&b<f?(r=o,h=m,f=b):u/=2;var y=Ot(s,h),k=Math.sqrt(f);return{closest:r,distance:k,segment:y}}function Pt(t,e){var n=Nt(t,e).distance;return Math.abs(n)<.001}function Lt(t,e){void 0===e&&(e=.5);var n=t.slice(0,2),r=t.slice(2,4),i=t.slice(4,6),o=t.slice(6,8),s=st(n,r,e),a=st(r,i,e),c=st(i,o,e),l=st(s,a,e),u=st(a,c,e),d=st(l,u,e);return[["C"].concat(s,l,d),["C"].concat(u,c,o)]}function Bt(t){return t.map((function(t,e,n){var r,i=e&&n[e-1].slice(-2).concat(t.slice(1)),o=e?yt(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0;return r=e?o?Lt(i):[t,t]:[t],{s:t,ss:r,l:o}}))}function Rt(t,e,n){var r=Bt(t),i=Bt(e),o=r.length,s=i.length,a=r.filter((function(t){return t.l})).length,c=i.filter((function(t){return t.l})).length,l=r.filter((function(t){return t.l})).reduce((function(t,e){var n=e.l;return t+n}),0)/a||0,u=i.filter((function(t){return t.l})).reduce((function(t,e){var n=e.l;return t+n}),0)/c||0,d=n||Math.max(o,s),h=[l,u],f=[d-o,d-s],p=0,g=[r,i].map((function(t,e){return t.l===d?t.map((function(t){return t.s})):t.map((function(t,n){return p=n&&f[e]&&t.l>=h[e],f[e]-=p?1:0,p?t.ss:[t.s]})).flat()}));return g[0].length===g[1].length?g:Rt(g[0],g[1],d)}var jt=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},zt=jt,Ft=function(t,e){return!!zt(t)&&t.indexOf(e)>-1},Vt=Ft,Ut=function(t,e){if(!zt(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n},Gt=Ut,Ht=function(t,e){return void 0===e&&(e=[]),Gt(t,(function(t){return!Vt(e,t)}))},$t=Ht,Wt=function(t){return null===t||void 0===t},Yt=Wt,qt={}.toString,Xt=function(t,e){return qt.call(t)==="[object "+e+"]"},Kt=Xt,Zt=function(t){return Array.isArray?Array.isArray(t):Kt(t,"Array")},Qt=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function Jt(t,e){var n;if(t)if(Zt(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(Qt(t))for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),!1===n))break}var te=Jt,ee=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return te(t,(function(n,r){s(t)&&"prototype"===r||e.push(r)})),e},ne=ee;function re(t,e){var n=ne(e),r=n.length;if(Yt(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0}var ie=re,oe=function(t){return"object"===typeof t&&null!==t},se=oe,ae=function(t){if(!se(t)||!Kt(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;var e=t;while(null!==Object.getPrototypeOf(e))e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},ce=ae;function le(t,e){if(!Zt(t))return null;var n;if(s(e)&&(n=e),ce(e)&&(n=function(t){return ie(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null}var ue=le;function de(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1}var he=de,fe=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i[e];if(!Yt(o)){n=Zt(o)?o[0]:o;break}}return n},pe=fe,ge=function(t){if(!Zt(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},me=ge,ve=function(t,e){if(void 0===e&&(e=[]),Zt(t))for(var n=0;n<t.length;n+=1)ve(t[n],e);else e.push(t);return e},be=ve,ye=function(t){if(Zt(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},ke=function(t){if(Zt(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},we=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(Zt(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=ye(e),o=ke(e);return{min:o,max:i}},_e=we,Ae=Array.prototype,Ce=Ae.splice,xe=Ae.indexOf,Ee=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var i=e[r],o=-1;while((o=xe.call(t,i))>-1)Ce.call(t,o,1)}return t},Se=Ee,Me=Array.prototype.splice,Ie=function(t,e){if(!zt(t))return[];var n=t?e.length:0,r=n-1;while(n--){var i=void 0,o=e[n];n!==r&&o===i||(i=o,Me.call(t,o,1))}return t},De=Ie,Te=function(t,e,n){if(!Zt(t)&&!ce(t))return t;var r=n;return te(t,(function(t,n){r=e(r,t,n)})),r},Oe=Te,Ne=function(t,e){var n=[];if(!zt(t))return n;var r=-1,i=[],o=t.length;while(++r<o){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return De(t,i),n},Pe=Ne,Le=function(t){return Kt(t,"String")};function Be(t,e){var n;if(s(e))n=function(t,n){return e(t)-e(n)};else{var r=[];Le(e)?r.push(e):Zt(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t}var Re=Be;function je(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}var ze=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return je([].concat.apply([],t))},Fe=ze,Ve=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=o[e];if(!Yt(s)){Zt(s)||(s=[s]);for(var a=0;a<s.length;a++){var c=s[a];r[c]||(n.push(c),r[c]=!0)}}}return n};function Ue(t){if(zt(t))return t[0]}function Ge(t){if(zt(t)){var e=t;return e[e.length-1]}}function He(t,e){return!(!Zt(t)&&!Le(t))&&t[0]===e}var $e=He;function We(t,e){return!(!Zt(t)&&!Le(t))&&t[t.length-1]===e}var Ye=We,qe=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},Xe=qe,Ke=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},Ze=Ke,Qe=Object.prototype.hasOwnProperty;function Je(t,e){if(!e||!Zt(t))return{};for(var n,r={},i=s(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),Qe.call(r,n)?r[n].push(a):r[n]=[a]}return r}var tn=Je;function en(t,e){if(!e)return{0:t};if(!s(e)){var n=Zt(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return tn(t,e)}var nn=function(t,e){if(!e)return[t];var n=en(t,e),r=[];for(var i in n)r.push(n[i]);return r};function rn(t,e){return t["_wrap_"+e]}var on=rn;function sn(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n}var an=sn,cn={};function ln(t){var e=cn[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,cn[t]=e}return e}var un=ln;function dn(t){var e=0,n=0,r=0,i=0;return Zt(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}var hn=dn,fn=function(t,e,n){return t<e?e:t>n?n:t},pn=fn,gn=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},mn=gn,vn=function(t){return Kt(t,"Number")},bn=vn,yn=function(t){return bn(t)&&t%1!==0},kn=yn,wn=function(t){return bn(t)&&t%2===0},_n=wn,An=Number.isInteger?Number.isInteger:function(t){return bn(t)&&t%1===0},Cn=An,xn=function(t){return bn(t)&&t<0},En=xn,Sn=1e-5;function Mn(t,e,n){return void 0===n&&(n=Sn),Math.abs(t-e)<n}var In=function(t){return bn(t)&&t%2!==0},Dn=In,Tn=function(t){return bn(t)&&t>0},On=Tn,Nn=function(t,e){if(Zt(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=s(e)?e(o):o[e];a>r&&(n=o,r=a)}return n}},Pn=function(t,e){if(Zt(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=s(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},Ln=function(t,e){return(t%e+e)%e},Bn=Ln,Rn=180/Math.PI,jn=function(t){return Rn*t},zn=jn,Fn=parseInt,Vn=Math.PI/180,Un=function(t){return Vn*t},Gn=Un,Hn=te,$n=function(t,e){return t.hasOwnProperty(e)},Wn=$n,Yn=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return te(t,(function(n,r){s(t)&&"prototype"===r||e.push(n)})),e},qn=Yn,Xn=function(t,e){return Vt(qn(t),e)},Kn=function(t){return Yt(t)?"":t.toString()},Zn=function(t){return Kn(t).toLowerCase()},Qn=Zn,Jn=function(t){var e=Kn(t);return e.charAt(0).toLowerCase()+e.substring(1)},tr=Jn;function er(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t}var nr=er,rr=function(t){return Kn(t).toUpperCase()},ir=rr,or=function(t){var e=Kn(t);return e.charAt(0).toUpperCase()+e.substring(1)},sr=or,ar={}.toString,cr=function(t){return ar.call(t).replace(/^\[object /,"").replace(/]$/,"")},lr=cr,ur=function(t){return Kt(t,"Arguments")},dr=ur,hr=function(t){return Kt(t,"Boolean")},fr=hr,pr=function(t){return Kt(t,"Date")},gr=pr,mr=function(t){return Kt(t,"Error")},vr=mr;function br(t){return bn(t)&&isFinite(t)}var yr=function(t){return null===t},kr=yr,wr=Object.prototype,_r=function(t){var e=t&&t.constructor,n="function"===typeof e&&e.prototype||wr;return t===n},Ar=_r,Cr=function(t){return Kt(t,"RegExp")},xr=Cr,Er=function(t){return void 0===t},Sr=Er,Mr=function(t){return t instanceof Element||t instanceof Document},Ir=Mr;function Dr(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(t)}function Tr(t){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;e(t)}function Or(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Nr(t,e,n,r){return e&&Or(t,e),n&&Or(t,n),r&&Or(t,r),t}var Pr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];s(i)&&(i=i.prototype),Nr(n.prototype,i)}},Lr=Pr,Br=function(t){if("object"!==typeof t||null===t)return t;var e;if(Zt(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"===typeof t[n]&&null!=t[n]?e[n]=Br(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"===typeof t[i]&&null!=t[i]?e[i]=Br(t[i]):e[i]=t[i];return e},Rr=Br;function jr(t,e,n){var r;return function(){var i=this,o=arguments,s=function(){r=null,n||t.apply(i,o)},a=n&&!r;clearTimeout(r),r=setTimeout(s,e),a&&t.apply(i,o)}}var zr=jr,Fr=5;function Vr(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}function Ur(t,e,n,r){for(var i in n=n||0,r=r||Fr,e)if(Vr(e,i)){var o=e[i];null!==o&&ce(o)?(ce(t[i])||(t[i]={}),n<r?Ur(t[i],o,n+1,r):t[i]=e[i]):Zt(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var Gr=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Ur(t,e[r]);return t},Hr=Gr,$r=function(t,e,n,r){s(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=Nr(o,t.prototype),t.superclass=i(e.prototype,e),Nr(o,n),Nr(t,r),t},Wr=$r,Yr=function(t,e){if(!zt(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r},qr=Yr,Xr=Object.prototype.hasOwnProperty;function Kr(t){if(Yt(t))return!0;if(zt(t))return!t.length;var e=lr(t);if("Map"===e||"Set"===e)return!t.size;if(Ar(t))return!Object.keys(t).length;for(var n in t)if(Xr.call(t,n))return!1;return!0}var Zr=Kr,Qr=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Le(t)||Le(e))return!1;if(zt(t)||zt(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length;r++)if(n=Qr(t[r],e[r]),!n)break;return n}if(se(t)||se(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length;r++)if(n=Qr(t[i[r]],e[i[r]]),!n)break;return n}return!1},Jr=Qr,ti=function(t,e,n){return s(n)?!!n(t,e):Jr(t,e)},ei=function(t,e){if(!zt(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(e(i,r))}return n},ni=ei,ri=function(t){return t},ii=function(t,e){void 0===e&&(e=ri);var n={};return Qt(t)&&!Yt(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n},oi=function(t,e,n){var r=0,i=Le(e)?e.split("."):e;while(t&&r<i.length)t=t[i[r++]];return void 0===t||r<i.length?n:t},si=function(t,e,n){var r=t,i=Le(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(Qt(r[t])||(r[t]=bn(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t},ai=Object.prototype.hasOwnProperty,ci=function(t,e){if(null===t||!ce(t))return{};var n={};return te(e,(function(e){ai.call(t,e)&&(n[e]=t[e])})),n},li=function(t,e){return Oe(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})},ui=function(t,e,n){var r,i,o,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:Date.now(),r=null,s=t.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();a||!1!==n.leading||(a=l);var u=e-(l-a);return i=this,o=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),a=l,s=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,u)),s};return l.cancel=function(){clearTimeout(r),a=0,r=i=o=null},l},di=function(t){return zt(t)?Array.prototype.slice.call(t):[]},hi={},fi=function(t){return t=t||"g",hi[t]?hi[t]+=1:hi[t]=1,t+hi[t]},pi=function(){},gi=function(t){return t};function mi(t){return Yt(t)?0:zt(t)?t.length:Object.keys(t).length}var vi=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}(),bi=vi,yi=1e-6;function ki(t){return Math.abs(t)<yi?0:t<0?-1:1}function wi(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function _i(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var s=t[o],a=t[(o+1)%i];if(wi(s,a,[e,n]))return!0;ki(s[1]-n)>0!==ki(a[1]-n)>0&&ki(e-(n-s[1])*(s[0]-a[0])/(s[1]-a[1])-s[0])<0&&(r=!r)}return r}var Ai=function(t,e,n){return t>=e&&t<=n};function Ci(t,e,n,r){var i=.001,o={x:n.x-t.x,y:n.y-t.y},s={x:e.x-t.x,y:e.y-t.y},a={x:r.x-n.x,y:r.y-n.y},c=s.x*a.y-s.y*a.x,l=c*c,u=s.x*s.x+s.y*s.y,d=a.x*a.x+a.y*a.y,h=null;if(l>i*u*d){var f=(o.x*a.y-o.y*a.x)/c,p=(o.x*s.y-o.y*s.x)/c;Ai(f,0,1)&&Ai(p,0,1)&&(h={x:t.x+f*s.x,y:t.y+f*s.y})}return h}function xi(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var s=t[0],a=t[n-1];e.push({from:{x:a[0],y:a[1]},to:{x:s[0],y:s[1]}})}return e}function Ei(t,e){var n=!1;return t.forEach((function(t){if(Ci(t.from,t.to,e.from,e.to))return n=!0,!1})),n}function Si(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function Mi(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function Ii(t,e){if(t.length<2||e.length<2)return!1;var n=Si(t),r=Si(e);if(!Mi(n,r))return!1;var i=!1;if(e.forEach((function(e){if(_i(t,e[0],e[1]))return i=!0,!1})),i)return!0;if(t.forEach((function(t){if(_i(e,t[0],t[1]))return i=!0,!1})),i)return!0;var o=xi(t),s=xi(e),a=!1;return s.forEach((function(t){if(Ei(o,t))return a=!0,!1})),a}function Di(t){var e=document.createElement("div");e.innerHTML=t;var n=e.childNodes[0];return n&&e.contains(n)&&e.removeChild(n),n}function Ti(t,e){if(t)return Object.keys(e).forEach((function(n){t.style[n]=e[n]})),t}},8772:function(t,e,n){"use strict";function r(t,e){var n,r=1;function i(){var i,o,s=n.length,a=0,c=0;for(i=0;i<s;++i)o=n[i],a+=o.x,c+=o.y;for(a=(a/s-t)*r,c=(c/s-e)*r,i=0;i<s;++i)o=n[i],o.x-=a,o.y-=c}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}n.r(e),n.d(e,{forceCenter:function(){return r},forceCollide:function(){return l},forceLink:function(){return h},forceManyBody:function(){return X},forceRadial:function(){return K},forceSimulation:function(){return q},forceX:function(){return Z},forceY:function(){return Q}});var i=n(2349);function o(t){return function(){return t}}function s(t){return 1e-6*(t()-.5)}function a(t){return t.x+t.vx}function c(t){return t.y+t.vy}function l(t){var e,n,r,l=1,u=1;function d(){for(var t,o,d,f,p,g,m,v=e.length,b=0;b<u;++b)for(o=(0,i.A)(e,a,c).visitAfter(h),t=0;t<v;++t)d=e[t],g=n[d.index],m=g*g,f=d.x+d.vx,p=d.y+d.vy,o.visit(y);function y(t,e,n,i,o){var a=t.data,c=t.r,u=g+c;if(!a)return e>f+u||i<f-u||n>p+u||o<p-u;if(a.index>d.index){var h=f-a.x-a.vx,v=p-a.y-a.vy,b=h*h+v*v;b<u*u&&(0===h&&(h=s(r),b+=h*h),0===v&&(v=s(r),b+=v*v),b=(u-(b=Math.sqrt(b)))/b*l,d.vx+=(h*=b)*(u=(c*=c)/(m+c)),d.vy+=(v*=b)*u,a.vx-=h*(u=1-u),a.vy-=v*u)}}}function h(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function f(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!==typeof t&&(t=o(null==t?1:+t)),d.initialize=function(t,n){e=t,r=n,f()},d.iterations=function(t){return arguments.length?(u=+t,d):u},d.strength=function(t){return arguments.length?(l=+t,d):l},d.radius=function(e){return arguments.length?(t="function"===typeof e?e:o(+e),f(),d):t},d}function u(t){return t.index}function d(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function h(t){var e,n,r,i,a,c,l=u,h=g,f=o(30),p=1;function g(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function m(r){for(var i=0,o=t.length;i<p;++i)for(var l,u,d,h,f,g,m,v=0;v<o;++v)l=t[v],u=l.source,d=l.target,h=d.x+d.vx-u.x-u.vx||s(c),f=d.y+d.vy-u.y-u.vy||s(c),g=Math.sqrt(h*h+f*f),g=(g-n[v])/g*r*e[v],h*=g,f*=g,d.vx-=h*(m=a[v]),d.vy-=f*m,u.vx+=h*(m=1-m),u.vy+=f*m}function v(){if(r){var o,s,c=r.length,u=t.length,h=new Map(r.map(((t,e)=>[l(t,e,r),t])));for(o=0,i=new Array(c);o<u;++o)s=t[o],s.index=o,"object"!==typeof s.source&&(s.source=d(h,s.source)),"object"!==typeof s.target&&(s.target=d(h,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(o=0,a=new Array(u);o<u;++o)s=t[o],a[o]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);e=new Array(u),b(),n=new Array(u),y()}}function b(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+h(t[n],n,t)}function y(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+f(t[e],e,t)}return null==t&&(t=[]),m.initialize=function(t,e){r=t,c=e,v()},m.links=function(e){return arguments.length?(t=e,v(),m):t},m.id=function(t){return arguments.length?(l=t,m):l},m.iterations=function(t){return arguments.length?(p=+t,m):p},m.strength=function(t){return arguments.length?(h="function"===typeof t?t:o(+t),b(),m):h},m.distance=function(t){return arguments.length?(f="function"===typeof t?t:o(+t),y(),m):f},m}var f={value:()=>{}};function p(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new g(r)}function g(t){this._=t}function m(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function v(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function b(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=f,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}g.prototype=p.prototype={constructor:g,on:function(t,e){var n,r=this._,i=m(t+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++o<s)if(n=(t=i[o]).type)r[n]=b(r[n],t.name,e);else if(null==e)for(n in r)r[n]=b(r[n],t.name,null);return this}while(++o<s)if((n=(t=i[o]).type)&&(n=v(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new g(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var y,k,w=p,_=0,A=0,C=0,x=1e3,E=0,S=0,M=0,I="object"===typeof performance&&performance.now?performance:Date,D="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function T(){return S||(D(O),S=I.now()+M)}function O(){S=0}function N(){this._call=this._time=this._next=null}function P(t,e,n){var r=new N;return r.restart(t,e,n),r}function L(){T(),++_;var t,e=y;while(e)(t=S-e._time)>=0&&e._call.call(null,t),e=e._next;--_}function B(){S=(E=I.now())+M,_=A=0;try{L()}finally{_=0,j(),S=0}}function R(){var t=I.now(),e=t-E;e>x&&(M-=e,E=t)}function j(){var t,e,n=y,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:y=e);k=t,z(r)}function z(t){if(!_){A&&(A=clearTimeout(A));var e=t-S;e>24?(t<1/0&&(A=setTimeout(B,t-I.now()-M)),C&&(C=clearInterval(C))):(C||(E=I.now(),C=setInterval(R,x)),_=1,D(B))}}N.prototype=P.prototype={constructor:N,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?T():+n)+(null==e?0:+e),this._next||k===this||(k?k._next=this:y=this,k=this),this._call=t,this._time=n,z()},stop:function(){this._call&&(this._call=null,this._time=1/0,z())}};const F=1664525,V=1013904223,U=4294967296;function G(){let t=1;return()=>(t=(F*t+V)%U)/U}function H(t){return t.x}function $(t){return t.y}var W=10,Y=Math.PI*(3-Math.sqrt(5));function q(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,c=P(d),l=w("tick","end"),u=G();function d(){h(),l.call("tick",e),n<r&&(c.stop(),l.call("end",e))}function h(r){var c,l,u=t.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(o-n)*i,a.forEach((function(t){t(n)})),c=0;c<u;++c)l=t[c],null==l.fx?l.x+=l.vx*=s:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=s:(l.y=l.fy,l.vy=0);return e}function f(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=W*Math.sqrt(.5+n),o=n*Y;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),f(),e={tick:h,restart:function(){return c.restart(d),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),a.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(u=t,a.forEach(p),e):u},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,p(n)),e):a.get(t)},find:function(e,n,r){var i,o,s,a,c,l=0,u=t.length;for(null==r?r=1/0:r*=r,l=0;l<u;++l)a=t[l],i=e-a.x,o=n-a.y,s=i*i+o*o,s<r&&(c=a,r=s);return c},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}}function X(){var t,e,n,r,a,c=o(-30),l=1,u=1/0,d=.81;function h(n){var o,s=t.length,a=(0,i.A)(t,H,$).visitAfter(p);for(r=n,o=0;o<s;++o)e=t[o],a.visit(g)}function f(){if(t){var e,n,r=t.length;for(a=new Array(r),e=0;e<r;++e)n=t[e],a[n.index]=+c(n,e,t)}}function p(t){var e,n,r,i,o,s=0,c=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,c+=n,r+=n*e.x,i+=n*e.y);t.x=r/c,t.y=i/c}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=a[e.data.index]}while(e=e.next)}t.value=s}function g(t,i,o,c){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,p=c-i,g=h*h+f*f;if(p*p/d<g)return g<u&&(0===h&&(h=s(n),g+=h*h),0===f&&(f=s(n),g+=f*f),g<l&&(g=Math.sqrt(l*g)),e.vx+=h*t.value*r/g,e.vy+=f*t.value*r/g),!0;if(!(t.length||g>=u)){(t.data!==e||t.next)&&(0===h&&(h=s(n),g+=h*h),0===f&&(f=s(n),g+=f*f),g<l&&(g=Math.sqrt(l*g)));do{t.data!==e&&(p=a[t.data.index]*r/g,e.vx+=h*p,e.vy+=f*p)}while(t=t.next)}}return h.initialize=function(e,r){t=e,n=r,f()},h.strength=function(t){return arguments.length?(c="function"===typeof t?t:o(+t),f(),h):c},h.distanceMin=function(t){return arguments.length?(l=t*t,h):Math.sqrt(l)},h.distanceMax=function(t){return arguments.length?(u=t*t,h):Math.sqrt(u)},h.theta=function(t){return arguments.length?(d=t*t,h):Math.sqrt(d)},h}function K(t,e,n){var r,i,s,a=o(.1);function c(t){for(var o=0,a=r.length;o<a;++o){var c=r[o],l=c.x-e||1e-6,u=c.y-n||1e-6,d=Math.sqrt(l*l+u*u),h=(s[o]-d)*i[o]*t/d;c.vx+=l*h,c.vy+=u*h}}function l(){if(r){var e,n=r.length;for(i=new Array(n),s=new Array(n),e=0;e<n;++e)s[e]=+t(r[e],e,r),i[e]=isNaN(s[e])?0:+a(r[e],e,r)}}return"function"!==typeof t&&(t=o(+t)),null==e&&(e=0),null==n&&(n=0),c.initialize=function(t){r=t,l()},c.strength=function(t){return arguments.length?(a="function"===typeof t?t:o(+t),l(),c):a},c.radius=function(e){return arguments.length?(t="function"===typeof e?e:o(+e),l(),c):t},c.x=function(t){return arguments.length?(e=+t,c):e},c.y=function(t){return arguments.length?(n=+t,c):n},c}function Z(t){var e,n,r,i=o(.1);function s(t){for(var i,o=0,s=e.length;o<s;++o)i=e[o],i.vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,s=e.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=o(null==t?0:+t)),s.initialize=function(t){e=t,a()},s.strength=function(t){return arguments.length?(i="function"===typeof t?t:o(+t),a(),s):i},s.x=function(e){return arguments.length?(t="function"===typeof e?e:o(+e),a(),s):t},s}function Q(t){var e,n,r,i=o(.1);function s(t){for(var i,o=0,s=e.length;o<s;++o)i=e[o],i.vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,s=e.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=o(null==t?0:+t)),s.initialize=function(t){e=t,a()},s.strength=function(t){return arguments.length?(i="function"===typeof t?t:o(+t),a(),s):i},s.y=function(e){return arguments.length?(t="function"===typeof e?e:o(+e),a(),s):t},s}},1393:function(t,e,n){"use strict";n.r(e),n.d(e,{quadtree:function(){return r.A}});var r=n(2349)},2349:function(t,e,n){"use strict";function r(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return i(this.cover(e,n),e,n,t)}function i(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,s,a,c,l,u,d,h,f=t._root,p={data:r},g=t._x0,m=t._y0,v=t._x1,b=t._y1;if(!f)return t._root=p,t;while(f.length)if((l=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(s=(m+b)/2))?m=s:b=s,i=f,!(f=f[d=u<<1|l]))return i[d]=p,t;if(a=+t._x.call(null,f.data),c=+t._y.call(null,f.data),e===a&&n===c)return p.next=f,i?i[d]=p:t._root=p,t;do{i=i?i[d]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(s=(m+b)/2))?m=s:b=s}while((d=u<<1|l)===(h=(c>=s)<<1|a>=o));return i[h]=f,i[d]=p,t}function o(t){var e,n,r,o,s=t.length,a=new Array(s),c=new Array(s),l=1/0,u=1/0,d=-1/0,h=-1/0;for(n=0;n<s;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=r,c[n]=o,r<l&&(l=r),r>d&&(d=r),o<u&&(u=o),o>h&&(h=o));if(l>d||u>h)return this;for(this.cover(l,u).cover(d,h),n=0;n<s;++n)i(this,a[n],c[n],t[n]);return this}function s(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{var s,a,c=i-n||1,l=this._root;while(n>t||t>=i||r>e||e>=o)switch(a=(e<r)<<1|t<n,s=new Array(4),s[a]=l,l=s,c*=2,a){case 0:i=n+c,o=r+c;break;case 1:n=i-c,o=r+c;break;case 2:i=n+c,r=o-c;break;case 3:n=i-c,r=o-c;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function a(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function c(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function l(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function u(t,e,n){var r,i,o,s,a,c,u,d=this._x0,h=this._y0,f=this._x1,p=this._y1,g=[],m=this._root;m&&g.push(new l(m,d,h,f,p)),null==n?n=1/0:(d=t-n,h=e-n,f=t+n,p=e+n,n*=n);while(c=g.pop())if(!(!(m=c.node)||(i=c.x0)>f||(o=c.y0)>p||(s=c.x1)<d||(a=c.y1)<h))if(m.length){var v=(i+s)/2,b=(o+a)/2;g.push(new l(m[3],v,b,s,a),new l(m[2],i,b,v,a),new l(m[1],v,o,s,b),new l(m[0],i,o,v,b)),(u=(e>=b)<<1|t>=v)&&(c=g[g.length-1],g[g.length-1]=g[g.length-1-u],g[g.length-1-u]=c)}else{var y=t-+this._x.call(null,m.data),k=e-+this._y.call(null,m.data),w=y*y+k*k;if(w<n){var _=Math.sqrt(n=w);d=t-_,h=e-_,f=t+_,p=e+_,r=m.data}}return r}function d(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,r,i,o,s,a,c,l,u,d,h,f=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!f)return this;if(f.length)while(1){if((l=o>=(a=(p+m)/2))?p=a:m=a,(u=s>=(c=(g+v)/2))?g=c:v=c,e=f,!(f=f[d=u<<1|l]))return this;if(!f.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(n=e,h=d)}while(f.data!==t)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[d]=i:delete e[d],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=i,this)}function h(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function f(){return this._root}function p(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function g(t){var e,n,r,i,o,s,a=[],c=this._root;c&&a.push(new l(c,this._x0,this._y0,this._x1,this._y1));while(e=a.pop())if(!t(c=e.node,r=e.x0,i=e.y0,o=e.x1,s=e.y1)&&c.length){var u=(r+o)/2,d=(i+s)/2;(n=c[3])&&a.push(new l(n,u,d,o,s)),(n=c[2])&&a.push(new l(n,r,d,u,s)),(n=c[1])&&a.push(new l(n,u,i,o,d)),(n=c[0])&&a.push(new l(n,r,i,u,d))}return this}function m(t){var e,n=[],r=[];this._root&&n.push(new l(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var i=e.node;if(i.length){var o,s=e.x0,a=e.y0,c=e.x1,u=e.y1,d=(s+c)/2,h=(a+u)/2;(o=i[0])&&n.push(new l(o,s,a,d,h)),(o=i[1])&&n.push(new l(o,d,a,c,h)),(o=i[2])&&n.push(new l(o,s,h,d,u)),(o=i[3])&&n.push(new l(o,d,h,c,u))}r.push(e)}while(e=r.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function v(t){return t[0]}function b(t){return arguments.length?(this._x=t,this):this._x}function y(t){return t[1]}function k(t){return arguments.length?(this._y=t,this):this._y}function w(t,e,n){var r=new _(null==e?v:e,null==n?y:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function _(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function A(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}n.d(e,{A:function(){return w}});var C=w.prototype=_.prototype;C.copy=function(){var t,e,n=new _(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=A(r),n;t=[{source:r,target:n._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=A(e));return n},C.add=r,C.addAll=o,C.cover=s,C.data=a,C.extent=c,C.find=u,C.remove=d,C.removeAll=h,C.root=f,C.size=p,C.visit=g,C.visitAfter=m,C.x=b,C.y=k},9960:function(t,e,n){"use strict";n.r(e),n.d(e,{AbstractMatrix:function(){return G},CHO:function(){return Ct},CholeskyDecomposition:function(){return Ct},EVD:function(){return bt},EigenvalueDecomposition:function(){return bt},LU:function(){return ot},LuDecomposition:function(){return ot},Matrix:function(){return $},MatrixColumnSelectionView:function(){return q},MatrixColumnView:function(){return Y},MatrixFlipColumnView:function(){return X},MatrixFlipRowView:function(){return K},MatrixRowSelectionView:function(){return Q},MatrixRowView:function(){return Z},MatrixSelectionView:function(){return J},MatrixSubView:function(){return tt},MatrixTransposeView:function(){return et},NIPALS:function(){return xt},Nipals:function(){return xt},QR:function(){return at},QrDecomposition:function(){return at},SVD:function(){return ct},SingularValueDecomposition:function(){return ct},WrapperMatrix1D:function(){return nt},WrapperMatrix2D:function(){return rt},correlation:function(){return vt},covariance:function(){return mt},default:function(){return $},determinant:function(){return dt},inverse:function(){return lt},linearDependencies:function(){return pt},pseudoInverse:function(){return gt},solve:function(){return ut},wrap:function(){return it}});const r=Object.prototype.toString;function i(t){const e=r.call(t);return e.endsWith("Array]")&&!e.includes("Big")}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,o=e.toIndex,s=void 0===o?t.length:o;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=r||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[r],c=r+1;c<s;c++)t[c]>a&&(a=t[c]);return a}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,o=e.toIndex,s=void 0===o?t.length:o;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=r||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[r],c=r+1;c<s;c++)t[c]<a&&(a=t[c]);return a}function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!i(n.output))throw new TypeError("output option must be an array if specified");e=n.output}else e=new Array(t.length);var r=s(t),a=o(t);if(r===a)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var c=n.min,l=void 0===c?n.autoMinMax?r:0:c,u=n.max,d=void 0===u?n.autoMinMax?a:1:u;if(l>=d)throw new RangeError("min option must be smaller than max option");for(var h=(d-l)/(a-r),f=0;f<t.length;f++)e[f]=(t[f]-r)*h+l;return e}const c=" ".repeat(2),l=" ".repeat(4);function u(){return d(this)}function d(t,e={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8}=e;return`${t.constructor.name} {\n${c}[\n${l}${h(t,n,r,i)}\n${c}]\n${c}rows: ${t.rows}\n${c}columns: ${t.columns}\n}`}function h(t,e,n,r){const{rows:i,columns:o}=t,s=Math.min(i,e),a=Math.min(o,n),c=[];for(let l=0;l<s;l++){let e=[];for(let n=0;n<a;n++)e.push(f(t.get(l,n),r));c.push(`${e.join(" ")}`)}return a!==o&&(c[c.length-1]+=` ... ${o-n} more columns`),s!==i&&c.push(`... ${i-e} more rows`),c.join(`\n${l}`)}function f(t,e){const n=String(t);if(n.length<=e)return n.padEnd(e," ");const r=t.toPrecision(e-2);if(r.length<=e)return r;const i=t.toExponential(e-2),o=i.indexOf("e"),s=i.slice(o);return i.slice(0,e-s.length)+s}function p(t,e){t.prototype.add=function(t){return"number"===typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},t.add=function(t,n){const r=new e(t);return r.add(n)},t.prototype.sub=function(t){return"number"===typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},t.sub=function(t,n){const r=new e(t);return r.sub(n)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"===typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},t.mul=function(t,n){const r=new e(t);return r.mul(n)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"===typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},t.div=function(t,n){const r=new e(t);return r.div(n)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"===typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},t.mod=function(t,n){const r=new e(t);return r.mod(n)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"===typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},t.and=function(t,n){const r=new e(t);return r.and(n)},t.prototype.or=function(t){return"number"===typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},t.or=function(t,n){const r=new e(t);return r.or(n)},t.prototype.xor=function(t){return"number"===typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},t.xor=function(t,n){const r=new e(t);return r.xor(n)},t.prototype.leftShift=function(t){return"number"===typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},t.leftShift=function(t,n){const r=new e(t);return r.leftShift(n)},t.prototype.signPropagatingRightShift=function(t){return"number"===typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},t.signPropagatingRightShift=function(t,n){const r=new e(t);return r.signPropagatingRightShift(n)},t.prototype.rightShift=function(t){return"number"===typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},t.rightShift=function(t,n){const r=new e(t);return r.rightShift(n)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){const n=new e(t);return n.not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){const n=new e(t);return n.abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){const n=new e(t);return n.acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){const n=new e(t);return n.acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){const n=new e(t);return n.asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){const n=new e(t);return n.asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){const n=new e(t);return n.atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){const n=new e(t);return n.atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){const n=new e(t);return n.cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){const n=new e(t);return n.ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){const n=new e(t);return n.clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){const n=new e(t);return n.cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){const n=new e(t);return n.cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){const n=new e(t);return n.exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){const n=new e(t);return n.expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){const n=new e(t);return n.floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){const n=new e(t);return n.fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){const n=new e(t);return n.log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){const n=new e(t);return n.log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){const n=new e(t);return n.log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){const n=new e(t);return n.log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){const n=new e(t);return n.round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){const n=new e(t);return n.sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){const n=new e(t);return n.sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){const n=new e(t);return n.sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){const n=new e(t);return n.sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){const n=new e(t);return n.tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){const n=new e(t);return n.tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){const n=new e(t);return n.trunc()},t.pow=function(t,n){const r=new e(t);return r.pow(n)},t.prototype.pow=function(t){return"number"===typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t));return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t.get(e,n)));return this}}function g(t,e,n){let r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function m(t,e,n){let r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function v(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function b(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function y(t,e,n){return{row:k(t,e),column:w(t,n)}}function k(t,e){if("object"!==typeof e)throw new TypeError("unexpected type for row indices");let n=e.some((e=>e<0||e>=t.rows));if(n)throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function w(t,e){if("object"!==typeof e)throw new TypeError("unexpected type for column indices");let n=e.some((e=>e<0||e>=t.columns));if(n)throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function _(t,e,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(C("startRow",e),C("endRow",n),C("startColumn",r),C("endColumn",i),e>n||r>i||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function A(t,e=0){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function C(t,e){if("number"!==typeof e)throw new TypeError(`${t} must be a number`)}function x(t){let e=A(t.rows);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}function E(t){let e=A(t.columns);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}function S(t){let e=0;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e+=t.get(n,r);return e}function M(t){let e=A(t.rows,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}function I(t){let e=A(t.columns,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}function D(t){let e=1;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e*=t.get(n,r);return e}function T(t,e,n){const r=t.rows,i=t.columns,o=[];for(let s=0;s<r;s++){let r=0,a=0,c=0;for(let e=0;e<i;e++)c=t.get(s,e)-n[s],r+=c,a+=c*c;e?o.push((a-r*r/i)/(i-1)):o.push((a-r*r/i)/i)}return o}function O(t,e,n){const r=t.rows,i=t.columns,o=[];for(let s=0;s<i;s++){let i=0,a=0,c=0;for(let e=0;e<r;e++)c=t.get(e,s)-n[s],i+=c,a+=c*c;e?o.push((a-i*i/r)/(r-1)):o.push((a-i*i/r)/r)}return o}function N(t,e,n){const r=t.rows,i=t.columns,o=r*i;let s=0,a=0,c=0;for(let l=0;l<r;l++)for(let e=0;e<i;e++)c=t.get(l,e)-n,s+=c,a+=c*c;return e?(a-s*s/o)/(o-1):(a-s*s/o)/o}function P(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}function L(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}function B(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}function R(t){const e=[];for(let n=0;n<t.rows;n++){let r=0;for(let e=0;e<t.columns;e++)r+=Math.pow(t.get(n,e),2)/(t.columns-1);e.push(Math.sqrt(r))}return e}function j(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}function z(t){const e=[];for(let n=0;n<t.columns;n++){let r=0;for(let e=0;e<t.rows;e++)r+=Math.pow(t.get(e,n),2)/(t.rows-1);e.push(Math.sqrt(r))}return e}function F(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}function V(t){const e=t.size-1;let n=0;for(let r=0;r<t.columns;r++)for(let i=0;i<t.rows;i++)n+=Math.pow(t.get(i,r),2)/e;return Math.sqrt(n)}function U(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}class G{static from1DArray(t,e,n){let r=t*e;if(r!==n.length)throw new RangeError("data length does not match given dimensions");let i=new $(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)i.set(o,t,n[o*e+t]);return i}static rowVector(t){let e=new $(1,t.length);for(let n=0;n<t.length;n++)e.set(0,n,t[n]);return e}static columnVector(t){let e=new $(t.length,1);for(let n=0;n<t.length;n++)e.set(n,0,t[n]);return e}static zeros(t,e){return new $(t,e)}static ones(t,e){return new $(t,e).fill(1)}static rand(t,e,n={}){if("object"!==typeof n)throw new TypeError("options must be an object");const{random:r=Math.random}=n;let i=new $(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)i.set(o,t,r());return i}static randInt(t,e,n={}){if("object"!==typeof n)throw new TypeError("options must be an object");const{min:r=0,max:i=1e3,random:o=Math.random}=n;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(r>=i)throw new RangeError("min must be smaller than max");let s=i-r,a=new $(t,e);for(let c=0;c<t;c++)for(let t=0;t<e;t++){let e=r+Math.round(o()*s);a.set(c,t,e)}return a}static eye(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);let r=Math.min(t,e),i=this.zeros(t,e);for(let o=0;o<r;o++)i.set(o,o,n);return i}static diag(t,e,n){let r=t.length;void 0===e&&(e=r),void 0===n&&(n=e);let i=Math.min(r,e,n),o=this.zeros(e,n);for(let s=0;s<i;s++)o.set(s,s,t[s]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new $(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.min(t.get(o,n),e.get(o,n)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new this(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.max(t.get(o,n),e.get(o,n)));return i}static checkMatrix(t){return G.isMatrix(t)?t:new $(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!==typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.call(this,e,n);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;while(t<this.rows&&r){e=0,i=!1;while(e<this.columns&&!1===i)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);t++}return r}isReducedEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;while(t<this.rows&&r){e=0,i=!1;while(e<this.columns&&!1===i)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);for(let n=e+1;n<this.rows;n++)0!==this.get(t,n)&&(r=!1);t++}return r}echelonForm(){let t=this.clone(),e=0,n=0;while(e<t.rows&&n<t.columns){let r=e;for(let i=e;i<t.rows;i++)t.get(i,n)>t.get(r,n)&&(r=i);if(0===t.get(r,n))n++;else{t.swapRows(e,r);let i=t.get(e,n);for(let r=n;r<t.columns;r++)t.set(e,r,t.get(e,r)/i);for(let r=e+1;r<t.rows;r++){let i=t.get(r,n)/t.get(e,n);t.set(r,n,0);for(let o=n+1;o<t.columns;o++)t.set(r,o,t.get(r,o)-t.get(e,o)*i)}e++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,n=t.rows,r=n-1;while(r>=0)if(0===t.maxRow(r))r--;else{let i=0,o=!1;while(i<n&&!1===o)1===t.get(r,i)?o=!0:i++;for(let n=0;n<r;n++){let o=t.get(n,i);for(let s=i;s<e;s++){let e=t.get(n,s)-o*t.get(r,s);t.set(n,s,e)}}r--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:n=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let r=new $(this.rows*e,this.columns*n);for(let i=0;i<e;i++)for(let t=0;t<n;t++)r.setSubMatrix(this,this.rows*i,this.columns*t);return r}fill(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,t);return this}neg(){return this.mulS(-1)}getRow(t){g(this,t);let e=[];for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}getRowVector(t){return $.rowVector(this.getRow(t))}setRow(t,e){g(this,t),e=v(this,e);for(let n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}swapRows(t,e){g(this,t),g(this,e);for(let n=0;n<this.columns;n++){let r=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,r)}return this}getColumn(t){m(this,t);let e=[];for(let n=0;n<this.rows;n++)e.push(this.get(n,t));return e}getColumnVector(t){return $.columnVector(this.getColumn(t))}setColumn(t,e){m(this,t),e=b(this,e);for(let n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}swapColumns(t,e){m(this,t),m(this,e);for(let n=0;n<this.rows;n++){let r=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,r)}return this}addRowVector(t){t=v(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}subRowVector(t){t=v(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}mulRowVector(t){t=v(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}divRowVector(t){t=v(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}addColumnVector(t){t=b(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}subColumnVector(t){t=b(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}mulColumnVector(t){t=b(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}divColumnVector(t){t=b(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}mulRow(t,e){g(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}mulColumn(t,e){m(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}max(){let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxIndex(){let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)>t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}min(){let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minIndex(){let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)<t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}maxRow(t){g(this,t);let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}maxRowIndex(t){g(this,t);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r),n[1]=r);return n}minRow(t){g(this,t);let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}minRowIndex(t){g(this,t);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r),n[1]=r);return n}maxColumn(t){m(this,t);let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}maxColumnIndex(t){m(this,t);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t),n[0]=r);return n}minColumn(t){m(this,t);let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}minColumnIndex(t){m(this,t);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t),n[0]=r);return n}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let n=0;n<t;n++)e.push(this.get(n,n));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e+=this.get(t,n)*this.get(t,n);return Math.sqrt(e)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}dot(t){G.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let r=0;r<e.length;r++)n+=e[r]*t[r];return n}mmul(t){t=$.checkMatrix(t);let e=this.rows,n=this.columns,r=t.columns,i=new $(e,r),o=new Float64Array(n);for(let s=0;s<r;s++){for(let e=0;e<n;e++)o[e]=t.get(e,s);for(let t=0;t<e;t++){let e=0;for(let r=0;r<n;r++)e+=this.get(t,r)*o[r];i.set(t,s,e)}}return i}strassen2x2(t){t=$.checkMatrix(t);let e=new $(2,2);const n=this.get(0,0),r=t.get(0,0),i=this.get(0,1),o=t.get(0,1),s=this.get(1,0),a=t.get(1,0),c=this.get(1,1),l=t.get(1,1),u=(n+c)*(r+l),d=(s+c)*r,h=n*(o-l),f=c*(a-r),p=(n+i)*l,g=(s-n)*(r+o),m=(i-c)*(a+l),v=u+f-p+m,b=h+p,y=d+f,k=u-d+h+g;return e.set(0,0,v),e.set(0,1,b),e.set(1,0,y),e.set(1,1,k),e}strassen3x3(t){t=$.checkMatrix(t);let e=new $(3,3);const n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),s=this.get(1,1),a=this.get(1,2),c=this.get(2,0),l=this.get(2,1),u=this.get(2,2),d=t.get(0,0),h=t.get(0,1),f=t.get(0,2),p=t.get(1,0),g=t.get(1,1),m=t.get(1,2),v=t.get(2,0),b=t.get(2,1),y=t.get(2,2),k=(n+r+i-o-s-l-u)*g,w=(n-o)*(-h+g),_=s*(-d+h+p-g-m-v+y),A=(-n+o+s)*(d-h+g),C=(o+s)*(-d+h),x=n*d,E=(-n+c+l)*(d-f+m),S=(-n+c)*(f-m),M=(c+l)*(-d+f),I=(n+r+i-s-a-c-l)*m,D=l*(-d+f+p-g-m-v+b),T=(-i+l+u)*(g+v-b),O=(i-u)*(g-b),N=i*v,P=(l+u)*(-v+b),L=(-i+s+a)*(m+v-y),B=(i-a)*(m-y),R=(s+a)*(-v+y),j=r*p,z=a*b,F=o*f,V=c*h,U=u*y,G=x+N+j,H=k+A+C+x+T+N+P,W=x+E+M+I+N+L+R,Y=w+_+A+x+N+L+B,q=w+A+C+x+z,X=N+L+B+R+F,K=x+E+S+D+T+O+N,Z=T+O+N+P+V,Q=x+E+S+M+U;return e.set(0,0,G),e.set(0,1,H),e.set(0,2,W),e.set(1,0,Y),e.set(1,1,q),e.set(1,2,X),e.set(2,0,K),e.set(2,1,Z),e.set(2,2,Q),e}mmulStrassen(t){t=$.checkMatrix(t);let e=this.clone(),n=e.rows,r=e.columns,i=t.rows,o=t.columns;function s(t,e,n){let r=t.rows,i=t.columns;if(r===e&&i===n)return t;{let r=G.zeros(e,n);return r=r.setSubMatrix(t,0,0),r}}r!==i&&console.warn(`Multiplying ${n} x ${r} and ${i} x ${o} matrix: dimensions do not match.`);let a=Math.max(n,i),c=Math.max(r,o);function l(t,e,n,r){if(n<=512||r<=512)return t.mmul(e);n%2===1&&r%2===1?(t=s(t,n+1,r+1),e=s(e,n+1,r+1)):n%2===1?(t=s(t,n+1,r),e=s(e,n+1,r)):r%2===1&&(t=s(t,n,r+1),e=s(e,n,r+1));let i=parseInt(t.rows/2,10),o=parseInt(t.columns/2,10),a=t.subMatrix(0,i-1,0,o-1),c=e.subMatrix(0,i-1,0,o-1),u=t.subMatrix(0,i-1,o,t.columns-1),d=e.subMatrix(0,i-1,o,e.columns-1),h=t.subMatrix(i,t.rows-1,0,o-1),f=e.subMatrix(i,e.rows-1,0,o-1),p=t.subMatrix(i,t.rows-1,o,t.columns-1),g=e.subMatrix(i,e.rows-1,o,e.columns-1),m=l(G.add(a,p),G.add(c,g),i,o),v=l(G.add(h,p),c,i,o),b=l(a,G.sub(d,g),i,o),y=l(p,G.sub(f,c),i,o),k=l(G.add(a,u),g,i,o),w=l(G.sub(h,a),G.add(c,d),i,o),_=l(G.sub(u,p),G.add(f,g),i,o),A=G.add(m,y);A.sub(k),A.add(_);let C=G.add(b,k),x=G.add(v,y),E=G.sub(m,v);E.add(b),E.add(w);let S=G.zeros(2*A.rows,2*A.columns);return S=S.setSubMatrix(A,0,0),S=S.setSubMatrix(C,A.rows,0),S=S.setSubMatrix(x,0,A.columns),S=S.setSubMatrix(E,A.rows,A.columns),S.subMatrix(0,n-1,0,r-1)}return e=s(e,a,c),t=s(t,a,c),l(e,t,a,c)}scaleRows(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new $(this.rows,this.columns);for(let i=0;i<this.rows;i++){const t=this.getRow(i);a(t,{min:e,max:n,output:t}),r.setRow(i,t)}return r}scaleColumns(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new $(this.rows,this.columns);for(let i=0;i<this.columns;i++){const t=this.getColumn(i);a(t,{min:e,max:n,output:t}),r.setColumn(i,t)}return r}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let n=0;n<t;n++){let t=this.get(e,n),r=this.get(e,this.columns-1-n);this.set(e,n,r),this.set(e,this.columns-1-n,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let n=0;n<t;n++){let t=this.get(n,e),r=this.get(this.rows-1-n,e);this.set(n,e,r),this.set(this.rows-1-n,e,t)}return this}kroneckerProduct(t){t=$.checkMatrix(t);let e=this.rows,n=this.columns,r=t.rows,i=t.columns,o=new $(e*r,n*i);for(let s=0;s<e;s++)for(let e=0;e<n;e++)for(let n=0;n<r;n++)for(let a=0;a<i;a++)o.set(r*s+n,i*e+a,this.get(s,e)*t.get(n,a));return o}transpose(){let t=new $(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}sortRows(t=H){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=H){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,n,r){_(this,t,e,n,r);let i=new $(e-t+1,r-n+1);for(let o=t;o<=e;o++)for(let e=n;e<=r;e++)i.set(o-t,e-n,this.get(o,e));return i}subMatrixRow(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let r=new $(t.length,n-e+1);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);r.set(i,o-e,this.get(t[i],o))}return r}subMatrixColumn(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let r=new $(n-e+1,t.length);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);r.set(o-e,i,this.get(o,t[i]))}return r}setSubMatrix(t,e,n){t=$.checkMatrix(t);let r=e+t.rows-1,i=n+t.columns-1;_(this,e,r,n,i);for(let o=0;o<t.rows;o++)for(let r=0;r<t.columns;r++)this.set(e+o,n+r,t.get(o,r));return this}selection(t,e){let n=y(this,t,e),r=new $(t.length,e.length);for(let i=0;i<n.row.length;i++){let t=n.row[i];for(let e=0;e<n.column.length;e++){let o=n.column[e];r.set(i,e,this.get(t,o))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let n=0;n<t;n++)e+=this.get(n,n);return e}clone(){let t=new $(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}sum(t){switch(t){case"row":return x(this);case"column":return E(this);case void 0:return S(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return M(this);case"column":return I(this);case void 0:return D(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{unbiased:n=!0,mean:r=this.mean(t)}=e;if("boolean"!==typeof n)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(r))throw new TypeError("mean must be an array");return T(this,n,r);case"column":if(!Array.isArray(r))throw new TypeError("mean must be an array");return O(this,n,r);case void 0:if("number"!==typeof r)throw new TypeError("mean must be a number");return N(this,n,r);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"===typeof t&&(e=t,t=void 0);const n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(let r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}center(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{center:n=this.mean(t)}=e;switch(t){case"row":if(!Array.isArray(n))throw new TypeError("center must be an array");return P(this,n),this;case"column":if(!Array.isArray(n))throw new TypeError("center must be an array");return L(this,n),this;case void 0:if("number"!==typeof n)throw new TypeError("center must be a number");return B(this,n),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");let n=e.scale;switch(t){case"row":if(void 0===n)n=R(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return j(this,n),this;case"column":if(void 0===n)n=z(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return F(this,n),this;case void 0:if(void 0===n)n=V(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return U(this,n),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return d(this,t)}}function H(t,e){return t-e}G.prototype.klass="Matrix","undefined"!==typeof Symbol&&(G.prototype[Symbol.for("nodejs.util.inspect.custom")]=u),G.random=G.rand,G.randomInt=G.randInt,G.diagonal=G.diag,G.prototype.diagonal=G.prototype.diag,G.identity=G.eye,G.prototype.negate=G.prototype.neg,G.prototype.tensorProduct=G.prototype.kroneckerProduct;class $ extends G{constructor(t,e){if(super(),$.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0){if(this.data=[],!(Number.isInteger(e)&&e>0))throw new TypeError("nColumns must be a positive integer");for(let n=0;n<t;n++)this.data.push(new Float64Array(e))}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");{const n=t;if(t=n.length,e=n[0].length,"number"!==typeof e||0===e)throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let r=0;r<t;r++){if(n[r].length!==e)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(n[r]))}}}return this.rows=t,this.columns=e,this}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}removeRow(t){if(g(this,t),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),g(this,t,!0),e=Float64Array.from(v(this,e,!0)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){if(m(this,t),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(let e=0;e<this.rows;e++){const n=new Float64Array(this.columns-1);for(let r=0;r<t;r++)n[r]=this.data[e][r];for(let r=t+1;r<this.columns;r++)n[r-1]=this.data[e][r];this.data[e]=n}return this.columns-=1,this}addColumn(t,e){"undefined"===typeof e&&(e=t,t=this.columns),m(this,t,!0),e=b(this,e);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns+1);let i=0;for(;i<t;i++)r[i]=this.data[n][i];for(r[i++]=e[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}p(G,$);class W extends G{constructor(t,e,n){super(),this.matrix=t,this.rows=e,this.columns=n}}class Y extends W{constructor(t,e){m(t,e),super(t,t.rows,1),this.column=e}set(t,e,n){return this.matrix.set(t,this.column,n),this}get(t){return this.matrix.get(t,this.column)}}class q extends W{constructor(t,e){e=w(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,n){return this.matrix.set(t,this.columnIndices[e],n),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class X extends W{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(t,this.columns-e-1,n),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}class K extends W{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(this.rows-t-1,e,n),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class Z extends W{constructor(t,e){g(t,e),super(t,1,t.columns),this.row=e}set(t,e,n){return this.matrix.set(this.row,e,n),this}get(t,e){return this.matrix.get(this.row,e)}}class Q extends W{constructor(t,e){e=k(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,n){return this.matrix.set(this.rowIndices[t],e,n),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class J extends W{constructor(t,e,n){let r=y(t,e,n);super(t,r.row.length,r.column.length),this.rowIndices=r.row,this.columnIndices=r.column}set(t,e,n){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],n),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class tt extends W{constructor(t,e,n,r,i){_(t,e,n,r,i),super(t,n-e+1,i-r+1),this.startRow=e,this.startColumn=r}set(t,e,n){return this.matrix.set(this.startRow+t,this.startColumn+e,n),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}class et extends W{constructor(t){super(t,t.columns,t.rows)}set(t,e,n){return this.matrix.set(e,t,n),this}get(t,e){return this.matrix.get(e,t)}}class nt extends G{constructor(t,e={}){const{rows:n=1}=e;if(t.length%n!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=n,this.columns=t.length/n,this.data=t}set(t,e,n){let r=this._calculateIndex(t,e);return this.data[r]=n,this}get(t,e){let n=this._calculateIndex(t,e);return this.data[n]}_calculateIndex(t,e){return t*this.columns+e}}class rt extends G{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}}function it(t,e){if(Array.isArray(t))return t[0]&&Array.isArray(t[0])?new rt(t):new nt(t,e);throw new Error("the argument is not an array")}class ot{constructor(t){t=rt.checkMatrix(t);let e,n,r,i,o,s,a,c,l,u=t.clone(),d=u.rows,h=u.columns,f=new Float64Array(d),p=1;for(e=0;e<d;e++)f[e]=e;for(c=new Float64Array(d),n=0;n<h;n++){for(e=0;e<d;e++)c[e]=u.get(e,n);for(e=0;e<d;e++){for(l=Math.min(e,n),o=0,r=0;r<l;r++)o+=u.get(e,r)*c[r];c[e]-=o,u.set(e,n,c[e])}for(i=n,e=n+1;e<d;e++)Math.abs(c[e])>Math.abs(c[i])&&(i=e);if(i!==n){for(r=0;r<h;r++)s=u.get(i,r),u.set(i,r,u.get(n,r)),u.set(n,r,s);a=f[i],f[i]=f[n],f[n]=a,p=-p}if(n<d&&0!==u.get(n,n))for(e=n+1;e<d;e++)u.set(e,n,u.get(e,n)/u.get(n,n))}this.LU=u,this.pivotVector=f,this.pivotSign=p}isSingular(){let t=this.LU,e=t.columns;for(let n=0;n<e;n++)if(0===t.get(n,n))return!0;return!1}solve(t){t=$.checkMatrix(t);let e=this.LU,n=e.rows;if(n!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r,i,o,s=t.columns,a=t.subMatrixRow(this.pivotVector,0,s-1),c=e.columns;for(o=0;o<c;o++)for(r=o+1;r<c;r++)for(i=0;i<s;i++)a.set(r,i,a.get(r,i)-a.get(o,i)*e.get(r,o));for(o=c-1;o>=0;o--){for(i=0;i<s;i++)a.set(o,i,a.get(o,i)/e.get(o,o));for(r=0;r<o;r++)for(i=0;i<s;i++)a.set(r,i,a.get(r,i)-a.get(o,i)*e.get(r,o))}return a}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,n=t.columns;for(let r=0;r<n;r++)e*=t.get(r,r);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new $(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i>e?r.set(i,e,t.get(i,e)):i===e?r.set(i,e,1):r.set(i,e,0);return r}get upperTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new $(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i<=e?r.set(i,e,t.get(i,e)):r.set(i,e,0);return r}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function st(t,e){let n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==e?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}class at{constructor(t){t=rt.checkMatrix(t);let e,n,r,i,o=t.clone(),s=t.rows,a=t.columns,c=new Float64Array(a);for(r=0;r<a;r++){let t=0;for(e=r;e<s;e++)t=st(t,o.get(e,r));if(0!==t){for(o.get(r,r)<0&&(t=-t),e=r;e<s;e++)o.set(e,r,o.get(e,r)/t);for(o.set(r,r,o.get(r,r)+1),n=r+1;n<a;n++){for(i=0,e=r;e<s;e++)i+=o.get(e,r)*o.get(e,n);for(i=-i/o.get(r,r),e=r;e<s;e++)o.set(e,n,o.get(e,n)+i*o.get(e,r))}}c[r]=-t}this.QR=o,this.Rdiag=c}solve(t){t=$.checkMatrix(t);let e=this.QR,n=e.rows;if(t.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let r,i,o,s,a=t.columns,c=t.clone(),l=e.columns;for(o=0;o<l;o++)for(i=0;i<a;i++){for(s=0,r=o;r<n;r++)s+=e.get(r,o)*c.get(r,i);for(s=-s/e.get(o,o),r=o;r<n;r++)c.set(r,i,c.get(r,i)+s*e.get(r,o))}for(o=l-1;o>=0;o--){for(i=0;i<a;i++)c.set(o,i,c.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<a;i++)c.set(r,i,c.get(r,i)-c.get(o,i)*e.get(r,o))}return c.subMatrix(0,l-1,0,a-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,n=this.QR,r=n.columns,i=new $(r,r);for(t=0;t<r;t++)for(e=0;e<r;e++)t<e?i.set(t,e,n.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}get orthogonalMatrix(){let t,e,n,r,i=this.QR,o=i.rows,s=i.columns,a=new $(o,s);for(n=s-1;n>=0;n--){for(t=0;t<o;t++)a.set(t,n,0);for(a.set(n,n,1),e=n;e<s;e++)if(0!==i.get(n,n)){for(r=0,t=n;t<o;t++)r+=i.get(t,n)*a.get(t,e);for(r=-r/i.get(n,n),t=n;t<o;t++)a.set(t,e,a.get(t,e)+r*i.get(t,n))}}return a}}class ct{constructor(t,e={}){t=rt.checkMatrix(t);let n=t.rows,r=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:s=!1}=e;let a,c=Boolean(i),l=Boolean(o),u=!1;if(n<r)if(s){a=t.transpose(),n=a.rows,r=a.columns,u=!0;let e=c;c=l,l=e}else a=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else a=t.clone();let d=Math.min(n,r),h=Math.min(n+1,r),f=new Float64Array(h),p=new $(n,d),g=new $(r,r),m=new Float64Array(r),v=new Float64Array(n),b=new Float64Array(h);for(let E=0;E<h;E++)b[E]=E;let y=Math.min(n-1,r),k=Math.max(0,Math.min(r-2,n)),w=Math.max(y,k);for(let E=0;E<w;E++){if(E<y){f[E]=0;for(let t=E;t<n;t++)f[E]=st(f[E],a.get(t,E));if(0!==f[E]){a.get(E,E)<0&&(f[E]=-f[E]);for(let t=E;t<n;t++)a.set(t,E,a.get(t,E)/f[E]);a.set(E,E,a.get(E,E)+1)}f[E]=-f[E]}for(let t=E+1;t<r;t++){if(E<y&&0!==f[E]){let e=0;for(let r=E;r<n;r++)e+=a.get(r,E)*a.get(r,t);e=-e/a.get(E,E);for(let r=E;r<n;r++)a.set(r,t,a.get(r,t)+e*a.get(r,E))}m[t]=a.get(E,t)}if(c&&E<y)for(let t=E;t<n;t++)p.set(t,E,a.get(t,E));if(E<k){m[E]=0;for(let t=E+1;t<r;t++)m[E]=st(m[E],m[t]);if(0!==m[E]){m[E+1]<0&&(m[E]=0-m[E]);for(let t=E+1;t<r;t++)m[t]/=m[E];m[E+1]+=1}if(m[E]=-m[E],E+1<n&&0!==m[E]){for(let t=E+1;t<n;t++)v[t]=0;for(let t=E+1;t<n;t++)for(let e=E+1;e<r;e++)v[t]+=m[e]*a.get(t,e);for(let t=E+1;t<r;t++){let e=-m[t]/m[E+1];for(let r=E+1;r<n;r++)a.set(r,t,a.get(r,t)+e*v[r])}}if(l)for(let t=E+1;t<r;t++)g.set(t,E,m[t])}}let _=Math.min(r,n+1);if(y<r&&(f[y]=a.get(y,y)),n<_&&(f[_-1]=0),k+1<_&&(m[k]=a.get(k,_-1)),m[_-1]=0,c){for(let t=y;t<d;t++){for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}for(let t=y-1;t>=0;t--)if(0!==f[t]){for(let e=t+1;e<d;e++){let r=0;for(let i=t;i<n;i++)r+=p.get(i,t)*p.get(i,e);r=-r/p.get(t,t);for(let i=t;i<n;i++)p.set(i,e,p.get(i,e)+r*p.get(i,t))}for(let e=t;e<n;e++)p.set(e,t,-p.get(e,t));p.set(t,t,1+p.get(t,t));for(let e=0;e<t-1;e++)p.set(e,t,0)}else{for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}}if(l)for(let E=r-1;E>=0;E--){if(E<k&&0!==m[E])for(let t=E+1;t<r;t++){let e=0;for(let n=E+1;n<r;n++)e+=g.get(n,E)*g.get(n,t);e=-e/g.get(E+1,E);for(let n=E+1;n<r;n++)g.set(n,t,g.get(n,t)+e*g.get(n,E))}for(let t=0;t<r;t++)g.set(t,E,0);g.set(E,E,1)}let A=_-1,C=0,x=Number.EPSILON;while(_>0){let t,e;for(t=_-2;t>=-1;t--){if(-1===t)break;const e=Number.MIN_VALUE+x*Math.abs(f[t]+Math.abs(f[t+1]));if(Math.abs(m[t])<=e||Number.isNaN(m[t])){m[t]=0;break}}if(t===_-2)e=4;else{let n;for(n=_-1;n>=t;n--){if(n===t)break;let e=(n!==_?Math.abs(m[n]):0)+(n!==t+1?Math.abs(m[n-1]):0);if(Math.abs(f[n])<=x*e){f[n]=0;break}}n===t?e=3:n===_-1?e=1:(e=2,t=n)}switch(t++,e){case 1:{let e=m[_-2];m[_-2]=0;for(let n=_-2;n>=t;n--){let i=st(f[n],e),o=f[n]/i,s=e/i;if(f[n]=i,n!==t&&(e=-s*m[n-1],m[n-1]=o*m[n-1]),l)for(let t=0;t<r;t++)i=o*g.get(t,n)+s*g.get(t,_-1),g.set(t,_-1,-s*g.get(t,n)+o*g.get(t,_-1)),g.set(t,n,i)}break}case 2:{let e=m[t-1];m[t-1]=0;for(let r=t;r<_;r++){let i=st(f[r],e),o=f[r]/i,s=e/i;if(f[r]=i,e=-s*m[r],m[r]=o*m[r],c)for(let e=0;e<n;e++)i=o*p.get(e,r)+s*p.get(e,t-1),p.set(e,t-1,-s*p.get(e,r)+o*p.get(e,t-1)),p.set(e,r,i)}break}case 3:{const e=Math.max(Math.abs(f[_-1]),Math.abs(f[_-2]),Math.abs(m[_-2]),Math.abs(f[t]),Math.abs(m[t])),i=f[_-1]/e,o=f[_-2]/e,s=m[_-2]/e,a=f[t]/e,u=m[t]/e,d=((o+i)*(o-i)+s*s)/2,h=i*s*(i*s);let v=0;0===d&&0===h||(v=d<0?0-Math.sqrt(d*d+h):Math.sqrt(d*d+h),v=h/(d+v));let b=(a+i)*(a-i)+v,y=a*u;for(let k=t;k<_-1;k++){let e=st(b,y);0===e&&(e=Number.MIN_VALUE);let i=b/e,o=y/e;if(k!==t&&(m[k-1]=e),b=i*f[k]+o*m[k],m[k]=i*m[k]-o*f[k],y=o*f[k+1],f[k+1]=i*f[k+1],l)for(let t=0;t<r;t++)e=i*g.get(t,k)+o*g.get(t,k+1),g.set(t,k+1,-o*g.get(t,k)+i*g.get(t,k+1)),g.set(t,k,e);if(e=st(b,y),0===e&&(e=Number.MIN_VALUE),i=b/e,o=y/e,f[k]=e,b=i*m[k]+o*f[k+1],f[k+1]=-o*m[k]+i*f[k+1],y=o*m[k+1],m[k+1]=i*m[k+1],c&&k<n-1)for(let t=0;t<n;t++)e=i*p.get(t,k)+o*p.get(t,k+1),p.set(t,k+1,-o*p.get(t,k)+i*p.get(t,k+1)),p.set(t,k,e)}m[_-2]=b,C+=1;break}case 4:if(f[t]<=0&&(f[t]=f[t]<0?-f[t]:0,l))for(let e=0;e<=A;e++)g.set(e,t,-g.get(e,t));while(t<A){if(f[t]>=f[t+1])break;let e=f[t];if(f[t]=f[t+1],f[t+1]=e,l&&t<r-1)for(let n=0;n<r;n++)e=g.get(n,t+1),g.set(n,t+1,g.get(n,t)),g.set(n,t,e);if(c&&t<n-1)for(let r=0;r<n;r++)e=p.get(r,t+1),p.set(r,t+1,p.get(r,t)),p.set(r,t,e);t++}C=0,_--;break}}if(u){let t=g;g=p,p=t}this.m=n,this.n=r,this.s=f,this.U=p,this.V=g}solve(t){let e=t,n=this.threshold,r=this.s.length,i=$.zeros(r,r);for(let d=0;d<r;d++)Math.abs(this.s[d])<=n?i.set(d,d,0):i.set(d,d,1/this.s[d]);let o=this.U,s=this.rightSingularVectors,a=s.mmul(i),c=s.rows,l=o.rows,u=$.zeros(c,l);for(let d=0;d<c;d++)for(let t=0;t<l;t++){let e=0;for(let n=0;n<r;n++)e+=a.get(d,n)*o.get(t,n);u.set(d,t,e)}return u.mmul(e)}solveForDiagonal(t){return this.solve($.diag(t))}inverse(){let t=this.V,e=this.threshold,n=t.rows,r=t.columns,i=new $(n,this.s.length);for(let l=0;l<n;l++)for(let n=0;n<r;n++)Math.abs(this.s[n])>e&&i.set(l,n,t.get(l,n)/this.s[n]);let o=this.U,s=o.rows,a=o.columns,c=new $(n,s);for(let l=0;l<n;l++)for(let t=0;t<s;t++){let e=0;for(let n=0;n<a;n++)e+=i.get(l,n)*o.get(t,n);c.set(l,t,e)}return c}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s;for(let r=0,i=n.length;r<i;r++)n[r]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return $.diag(this.s)}}function lt(t,e=!1){return t=rt.checkMatrix(t),e?new ct(t).inverse():ut(t,$.eye(t.rows))}function ut(t,e,n=!1){return t=rt.checkMatrix(t),e=rt.checkMatrix(e),n?new ct(t).solve(e):t.isSquare()?new ot(t).solve(e):new at(t).solve(e)}function dt(t){if(t=$.checkMatrix(t),t.isSquare()){let e,n,r,i;if(2===t.columns)return e=t.get(0,0),n=t.get(0,1),r=t.get(1,0),i=t.get(1,1),e*i-n*r;if(3===t.columns){let i,o,s;return i=new J(t,[1,2],[1,2]),o=new J(t,[1,2],[0,2]),s=new J(t,[1,2],[0,1]),e=t.get(0,0),n=t.get(0,1),r=t.get(0,2),e*dt(i)-n*dt(o)+r*dt(s)}return new ot(t).determinant}throw Error("determinant can only be calculated for a square matrix")}function ht(t,e){let n=[];for(let r=0;r<t;r++)r!==e&&n.push(r);return n}function ft(t,e,n,r=1e-9,i=1e-9){if(t>i)return new Array(e.rows+1).fill(0);{let t=e.addRow(n,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<r&&t.set(e,0,0);return t.to1DArray()}}function pt(t,e={}){const{thresholdValue:n=1e-9,thresholdError:r=1e-9}=e;t=$.checkMatrix(t);let i=t.rows,o=new $(i,i);for(let s=0;s<i;s++){let e=$.columnVector(t.getRow(s)),a=t.subMatrixRow(ht(i,s)).transpose(),c=new ct(a),l=c.solve(e),u=$.sub(e,a.mmul(l)).abs().max();o.setRow(s,ft(u,l,s,n,r))}return o}function gt(t,e=Number.EPSILON){t=$.checkMatrix(t);let n=new ct(t,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal;for(let s=0;s<o.length;s++)Math.abs(o[s])>e?o[s]=1/o[s]:o[s]=0;return i.mmul($.diag(o).mmul(r.transpose()))}function mt(t,e=t,n={}){t=new $(t);let r=!1;if("object"!==typeof e||$.isMatrix(e)||Array.isArray(e)?e=new $(e):(n=e,e=t,r=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0}=n;i&&(t=t.center("column"),r||(e=e.center("column")));const o=t.transpose().mmul(e);for(let s=0;s<o.rows;s++)for(let e=0;e<o.columns;e++)o.set(s,e,o.get(s,e)*(1/(t.rows-1)));return o}function vt(t,e=t,n={}){t=new $(t);let r=!1;if("object"!==typeof e||$.isMatrix(e)||Array.isArray(e)?e=new $(e):(n=e,e=t,r=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0,scale:o=!0}=n;i&&(t.center("column"),r||e.center("column")),o&&(t.scale("column"),r||e.scale("column"));const s=t.standardDeviation("column",{unbiased:!0}),a=r?s:e.standardDeviation("column",{unbiased:!0}),c=t.transpose().mmul(e);for(let l=0;l<c.rows;l++)for(let e=0;e<c.columns;e++)c.set(l,e,c.get(l,e)*(1/(s[l]*a[e]))*(1/(t.rows-1)));return c}class bt{constructor(t,e={}){const{assumeSymmetric:n=!1}=e;if(t=rt.checkMatrix(t),!t.isSquare())throw new Error("Matrix is not a square matrix");let r,i,o=t.columns,s=new $(o,o),a=new Float64Array(o),c=new Float64Array(o),l=t,u=!1;if(u=!!n||t.isSymmetric(),u){for(r=0;r<o;r++)for(i=0;i<o;i++)s.set(r,i,l.get(r,i));yt(o,c,a,s),kt(o,c,a,s)}else{let t=new $(o,o),e=new Float64Array(o);for(i=0;i<o;i++)for(r=0;r<o;r++)t.set(r,i,l.get(r,i));wt(o,t,e,s),_t(o,c,a,s,t)}this.n=o,this.e=c,this.d=a,this.V=s}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,n=this.n,r=this.e,i=this.d,o=new $(n,n);for(t=0;t<n;t++){for(e=0;e<n;e++)o.set(t,e,0);o.set(t,t,i[t]),r[t]>0?o.set(t,t+1,r[t]):r[t]<0&&o.set(t,t-1,r[t])}return o}}function yt(t,e,n,r){let i,o,s,a,c,l,u,d;for(c=0;c<t;c++)n[c]=r.get(t-1,c);for(a=t-1;a>0;a--){for(d=0,s=0,l=0;l<a;l++)d+=Math.abs(n[l]);if(0===d)for(e[a]=n[a-1],c=0;c<a;c++)n[c]=r.get(a-1,c),r.set(a,c,0),r.set(c,a,0);else{for(l=0;l<a;l++)n[l]/=d,s+=n[l]*n[l];for(i=n[a-1],o=Math.sqrt(s),i>0&&(o=-o),e[a]=d*o,s-=i*o,n[a-1]=i-o,c=0;c<a;c++)e[c]=0;for(c=0;c<a;c++){for(i=n[c],r.set(c,a,i),o=e[c]+r.get(c,c)*i,l=c+1;l<=a-1;l++)o+=r.get(l,c)*n[l],e[l]+=r.get(l,c)*i;e[c]=o}for(i=0,c=0;c<a;c++)e[c]/=s,i+=e[c]*n[c];for(u=i/(s+s),c=0;c<a;c++)e[c]-=u*n[c];for(c=0;c<a;c++){for(i=n[c],o=e[c],l=c;l<=a-1;l++)r.set(l,c,r.get(l,c)-(i*e[l]+o*n[l]));n[c]=r.get(a-1,c),r.set(a,c,0)}}n[a]=s}for(a=0;a<t-1;a++){if(r.set(t-1,a,r.get(a,a)),r.set(a,a,1),s=n[a+1],0!==s){for(l=0;l<=a;l++)n[l]=r.get(l,a+1)/s;for(c=0;c<=a;c++){for(o=0,l=0;l<=a;l++)o+=r.get(l,a+1)*r.get(l,c);for(l=0;l<=a;l++)r.set(l,c,r.get(l,c)-o*n[l])}}for(l=0;l<=a;l++)r.set(l,a+1,0)}for(c=0;c<t;c++)n[c]=r.get(t-1,c),r.set(t-1,c,0);r.set(t-1,t-1,1),e[0]=0}function kt(t,e,n,r){let i,o,s,a,c,l,u,d,h,f,p,g,m,v,b,y,k;for(s=1;s<t;s++)e[s-1]=e[s];e[t-1]=0;let w=0,_=0,A=Number.EPSILON;for(l=0;l<t;l++){_=Math.max(_,Math.abs(n[l])+Math.abs(e[l])),u=l;while(u<t){if(Math.abs(e[u])<=A*_)break;u++}if(u>l){k=0;do{for(k+=1,i=n[l],d=(n[l+1]-i)/(2*e[l]),h=st(d,1),d<0&&(h=-h),n[l]=e[l]/(d+h),n[l+1]=e[l]*(d+h),f=n[l+1],o=i-n[l],s=l+2;s<t;s++)n[s]-=o;for(w+=o,d=n[u],p=1,g=p,m=p,v=e[l+1],b=0,y=0,s=u-1;s>=l;s--)for(m=g,g=p,y=b,i=p*e[s],o=p*d,h=st(d,e[s]),e[s+1]=b*h,b=e[s]/h,p=d/h,d=p*n[s]-b*i,n[s+1]=o+b*(p*i+b*n[s]),c=0;c<t;c++)o=r.get(c,s+1),r.set(c,s+1,b*r.get(c,s)+p*o),r.set(c,s,p*r.get(c,s)-b*o);d=-b*y*m*v*e[l]/f,e[l]=b*d,n[l]=p*d}while(Math.abs(e[l])>A*_)}n[l]=n[l]+w,e[l]=0}for(s=0;s<t-1;s++){for(c=s,d=n[s],a=s+1;a<t;a++)n[a]<d&&(c=a,d=n[a]);if(c!==s)for(n[c]=n[s],n[s]=d,a=0;a<t;a++)d=r.get(a,s),r.set(a,s,r.get(a,c)),r.set(a,c,d)}}function wt(t,e,n,r){let i,o,s,a,c,l,u,d=0,h=t-1;for(l=d+1;l<=h-1;l++){for(u=0,a=l;a<=h;a++)u+=Math.abs(e.get(a,l-1));if(0!==u){for(s=0,a=h;a>=l;a--)n[a]=e.get(a,l-1)/u,s+=n[a]*n[a];for(o=Math.sqrt(s),n[l]>0&&(o=-o),s-=n[l]*o,n[l]=n[l]-o,c=l;c<t;c++){for(i=0,a=h;a>=l;a--)i+=n[a]*e.get(a,c);for(i/=s,a=l;a<=h;a++)e.set(a,c,e.get(a,c)-i*n[a])}for(a=0;a<=h;a++){for(i=0,c=h;c>=l;c--)i+=n[c]*e.get(a,c);for(i/=s,c=l;c<=h;c++)e.set(a,c,e.get(a,c)-i*n[c])}n[l]=u*n[l],e.set(l,l-1,u*o)}}for(a=0;a<t;a++)for(c=0;c<t;c++)r.set(a,c,a===c?1:0);for(l=h-1;l>=d+1;l--)if(0!==e.get(l,l-1)){for(a=l+1;a<=h;a++)n[a]=e.get(a,l-1);for(c=l;c<=h;c++){for(o=0,a=l;a<=h;a++)o+=n[a]*r.get(a,c);for(o=o/n[l]/e.get(l,l-1),a=l;a<=h;a++)r.set(a,c,r.get(a,c)+o*n[a])}}}function _t(t,e,n,r,i){let o,s,a,c,l,u,d,h,f,p,g,m,v,b,y,k=t-1,w=0,_=t-1,A=Number.EPSILON,C=0,x=0,E=0,S=0,M=0,I=0,D=0,T=0;for(o=0;o<t;o++)for((o<w||o>_)&&(n[o]=i.get(o,o),e[o]=0),s=Math.max(o-1,0);s<t;s++)x+=Math.abs(i.get(o,s));while(k>=w){c=k;while(c>w){if(I=Math.abs(i.get(c-1,c-1))+Math.abs(i.get(c,c)),0===I&&(I=x),Math.abs(i.get(c,c-1))<A*I)break;c--}if(c===k)i.set(k,k,i.get(k,k)+C),n[k]=i.get(k,k),e[k]=0,k--,T=0;else if(c===k-1){if(d=i.get(k,k-1)*i.get(k-1,k),E=(i.get(k-1,k-1)-i.get(k,k))/2,S=E*E+d,D=Math.sqrt(Math.abs(S)),i.set(k,k,i.get(k,k)+C),i.set(k-1,k-1,i.get(k-1,k-1)+C),h=i.get(k,k),S>=0){for(D=E>=0?E+D:E-D,n[k-1]=h+D,n[k]=n[k-1],0!==D&&(n[k]=h-d/D),e[k-1]=0,e[k]=0,h=i.get(k,k-1),I=Math.abs(h)+Math.abs(D),E=h/I,S=D/I,M=Math.sqrt(E*E+S*S),E/=M,S/=M,s=k-1;s<t;s++)D=i.get(k-1,s),i.set(k-1,s,S*D+E*i.get(k,s)),i.set(k,s,S*i.get(k,s)-E*D);for(o=0;o<=k;o++)D=i.get(o,k-1),i.set(o,k-1,S*D+E*i.get(o,k)),i.set(o,k,S*i.get(o,k)-E*D);for(o=w;o<=_;o++)D=r.get(o,k-1),r.set(o,k-1,S*D+E*r.get(o,k)),r.set(o,k,S*r.get(o,k)-E*D)}else n[k-1]=h+E,n[k]=h+E,e[k-1]=D,e[k]=-D;k-=2,T=0}else{if(h=i.get(k,k),f=0,d=0,c<k&&(f=i.get(k-1,k-1),d=i.get(k,k-1)*i.get(k-1,k)),10===T){for(C+=h,o=w;o<=k;o++)i.set(o,o,i.get(o,o)-h);I=Math.abs(i.get(k,k-1))+Math.abs(i.get(k-1,k-2)),h=f=.75*I,d=-.4375*I*I}if(30===T&&(I=(f-h)/2,I=I*I+d,I>0)){for(I=Math.sqrt(I),f<h&&(I=-I),I=h-d/((f-h)/2+I),o=w;o<=k;o++)i.set(o,o,i.get(o,o)-I);C+=I,h=f=d=.964}T+=1,l=k-2;while(l>=c){if(D=i.get(l,l),M=h-D,I=f-D,E=(M*I-d)/i.get(l+1,l)+i.get(l,l+1),S=i.get(l+1,l+1)-D-M-I,M=i.get(l+2,l+1),I=Math.abs(E)+Math.abs(S)+Math.abs(M),E/=I,S/=I,M/=I,l===c)break;if(Math.abs(i.get(l,l-1))*(Math.abs(S)+Math.abs(M))<A*(Math.abs(E)*(Math.abs(i.get(l-1,l-1))+Math.abs(D)+Math.abs(i.get(l+1,l+1)))))break;l--}for(o=l+2;o<=k;o++)i.set(o,o-2,0),o>l+2&&i.set(o,o-3,0);for(a=l;a<=k-1;a++){if(b=a!==k-1,a!==l&&(E=i.get(a,a-1),S=i.get(a+1,a-1),M=b?i.get(a+2,a-1):0,h=Math.abs(E)+Math.abs(S)+Math.abs(M),0!==h&&(E/=h,S/=h,M/=h)),0===h)break;if(I=Math.sqrt(E*E+S*S+M*M),E<0&&(I=-I),0!==I){for(a!==l?i.set(a,a-1,-I*h):c!==l&&i.set(a,a-1,-i.get(a,a-1)),E+=I,h=E/I,f=S/I,D=M/I,S/=E,M/=E,s=a;s<t;s++)E=i.get(a,s)+S*i.get(a+1,s),b&&(E+=M*i.get(a+2,s),i.set(a+2,s,i.get(a+2,s)-E*D)),i.set(a,s,i.get(a,s)-E*h),i.set(a+1,s,i.get(a+1,s)-E*f);for(o=0;o<=Math.min(k,a+3);o++)E=h*i.get(o,a)+f*i.get(o,a+1),b&&(E+=D*i.get(o,a+2),i.set(o,a+2,i.get(o,a+2)-E*M)),i.set(o,a,i.get(o,a)-E),i.set(o,a+1,i.get(o,a+1)-E*S);for(o=w;o<=_;o++)E=h*r.get(o,a)+f*r.get(o,a+1),b&&(E+=D*r.get(o,a+2),r.set(o,a+2,r.get(o,a+2)-E*M)),r.set(o,a,r.get(o,a)-E),r.set(o,a+1,r.get(o,a+1)-E*S)}}}}if(0!==x){for(k=t-1;k>=0;k--)if(E=n[k],S=e[k],0===S)for(c=k,i.set(k,k,1),o=k-1;o>=0;o--){for(d=i.get(o,o)-E,M=0,s=c;s<=k;s++)M+=i.get(o,s)*i.get(s,k);if(e[o]<0)D=d,I=M;else if(c=o,0===e[o]?i.set(o,k,0!==d?-M/d:-M/(A*x)):(h=i.get(o,o+1),f=i.get(o+1,o),S=(n[o]-E)*(n[o]-E)+e[o]*e[o],u=(h*I-D*M)/S,i.set(o,k,u),i.set(o+1,k,Math.abs(h)>Math.abs(D)?(-M-d*u)/h:(-I-f*u)/D)),u=Math.abs(i.get(o,k)),A*u*u>1)for(s=o;s<=k;s++)i.set(s,k,i.get(s,k)/u)}else if(S<0)for(c=k-1,Math.abs(i.get(k,k-1))>Math.abs(i.get(k-1,k))?(i.set(k-1,k-1,S/i.get(k,k-1)),i.set(k-1,k,-(i.get(k,k)-E)/i.get(k,k-1))):(y=At(0,-i.get(k-1,k),i.get(k-1,k-1)-E,S),i.set(k-1,k-1,y[0]),i.set(k-1,k,y[1])),i.set(k,k-1,0),i.set(k,k,1),o=k-2;o>=0;o--){for(p=0,g=0,s=c;s<=k;s++)p+=i.get(o,s)*i.get(s,k-1),g+=i.get(o,s)*i.get(s,k);if(d=i.get(o,o)-E,e[o]<0)D=d,M=p,I=g;else if(c=o,0===e[o]?(y=At(-p,-g,d,S),i.set(o,k-1,y[0]),i.set(o,k,y[1])):(h=i.get(o,o+1),f=i.get(o+1,o),m=(n[o]-E)*(n[o]-E)+e[o]*e[o]-S*S,v=2*(n[o]-E)*S,0===m&&0===v&&(m=A*x*(Math.abs(d)+Math.abs(S)+Math.abs(h)+Math.abs(f)+Math.abs(D))),y=At(h*M-D*p+S*g,h*I-D*g-S*p,m,v),i.set(o,k-1,y[0]),i.set(o,k,y[1]),Math.abs(h)>Math.abs(D)+Math.abs(S)?(i.set(o+1,k-1,(-p-d*i.get(o,k-1)+S*i.get(o,k))/h),i.set(o+1,k,(-g-d*i.get(o,k)-S*i.get(o,k-1))/h)):(y=At(-M-f*i.get(o,k-1),-I-f*i.get(o,k),D,S),i.set(o+1,k-1,y[0]),i.set(o+1,k,y[1]))),u=Math.max(Math.abs(i.get(o,k-1)),Math.abs(i.get(o,k))),A*u*u>1)for(s=o;s<=k;s++)i.set(s,k-1,i.get(s,k-1)/u),i.set(s,k,i.get(s,k)/u)}for(o=0;o<t;o++)if(o<w||o>_)for(s=o;s<t;s++)r.set(o,s,i.get(o,s));for(s=t-1;s>=w;s--)for(o=w;o<=_;o++){for(D=0,a=w;a<=Math.min(s,_);a++)D+=r.get(o,a)*i.get(a,s);r.set(o,s,D)}}}function At(t,e,n,r){let i,o;return Math.abs(n)>Math.abs(r)?(i=r/n,o=n+i*r,[(t+i*e)/o,(e-i*t)/o]):(i=n/r,o=r+i*n,[(i*t+e)/o,(i*e-t)/o])}class Ct{constructor(t){if(t=rt.checkMatrix(t),!t.isSymmetric())throw new Error("Matrix is not symmetric");let e,n,r,i=t,o=i.rows,s=new $(o,o),a=!0;for(n=0;n<o;n++){let t=0;for(r=0;r<n;r++){let o=0;for(e=0;e<r;e++)o+=s.get(r,e)*s.get(n,e);o=(i.get(n,r)-o)/s.get(r,r),s.set(n,r,o),t+=o*o}for(t=i.get(n,n)-t,a&=t>0,s.set(n,n,Math.sqrt(Math.max(t,0))),r=n+1;r<o;r++)s.set(n,r,0)}this.L=s,this.positiveDefinite=Boolean(a)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=rt.checkMatrix(t);let e=this.L,n=e.rows;if(t.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let r,i,o,s=t.columns,a=t.clone();for(o=0;o<n;o++)for(i=0;i<s;i++){for(r=0;r<o;r++)a.set(o,i,a.get(o,i)-a.get(r,i)*e.get(o,r));a.set(o,i,a.get(o,i)/e.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<s;i++){for(r=o+1;r<n;r++)a.set(o,i,a.get(o,i)-a.get(r,i)*e.get(r,o));a.set(o,i,a.get(o,i)/e.get(o,o))}return a}get lowerTriangularMatrix(){return this.L}}class xt{constructor(t,e={}){t=rt.checkMatrix(t);let{Y:n}=e;const{scaleScores:r=!1,maxIterations:i=1e3,terminationCriteria:o=1e-10}=e;let s;if(n){if(n=Array.isArray(n)&&"number"===typeof n[0]?$.columnVector(n):rt.checkMatrix(n),!n.isColumnVector()||n.rows!==t.rows)throw new Error("Y must be a column vector of length X.rows");s=n}else s=t.getColumnVector(0);let a,c,l,u,d=1;for(let h=0;h<i&&d>o;h++)l=t.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),l=l.div(l.norm()),a=t.mmul(l).div(l.transpose().mmul(l).get(0,0)),h>0&&(d=a.clone().sub(u).pow(2).sum()),u=a.clone(),n?(c=n.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),c=c.div(c.norm()),s=n.mmul(c).div(c.transpose().mmul(c).get(0,0))):s=a;if(n){let e=t.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0));e=e.div(e.norm());let r=t.clone().sub(a.clone().mmul(e.transpose())),i=s.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),o=n.clone().sub(a.clone().mulS(i.get(0,0)).mmul(c.transpose()));this.t=a,this.p=e.transpose(),this.w=l.transpose(),this.q=c,this.u=s,this.s=a.transpose().mmul(a),this.xResidual=r,this.yResidual=o,this.betas=i}else this.w=l.transpose(),this.s=a.transpose().mmul(a).sqrt(),this.t=r?a.clone().div(this.s.get(0,0)):a,this.xResidual=t.sub(a.mmul(l.transpose()))}}},7114:function(t,e,n){"use strict";var r=n(3298);function i(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromTranslation(i,n),r.mat3.multiply(t,i,e)}function o(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromRotation(i,n),r.mat3.multiply(t,i,e)}function s(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromScaling(i,n),r.mat3.multiply(t,i,e)}function a(t,e,n){return r.mat3.multiply(t,n,e)}function c(t,e){for(var n=t?[].concat(t):[1,0,0,0,1,0,0,0,1],r=0,c=e.length;r<c;r++){var l=e[r];switch(l[0]){case"t":i(n,n,[l[1],l[2]]);break;case"s":s(n,n,[l[1],l[2]]);break;case"r":o(n,n,l[1]);break;case"m":a(n,n,l[1]);break;default:break}}return n}function l(t,e){return t[0]*e[1]-e[0]*t[1]}function u(t,e,n){var i=r.vec2.angle(t,e),o=l(t,e)>=0;return n?o?2*Math.PI-i:i:o?i:2*Math.PI-i}function d(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}e.pd=c},5883:function(t,e,n){"use strict";n.r(e),n.d(e,{Cache:function(){return Un},assign:function(){return Qe},augment:function(){return tn},clamp:function(){return Nt},clearAnimationFrame:function(){return Ke},clone:function(){return nn},contains:function(){return s},debounce:function(){return on},deepMix:function(){return un},difference:function(){return u},each:function(){return k},endsWith:function(){return ft},every:function(){return gt},extend:function(){return hn},filter:function(){return c},find:function(){return D},findIndex:function(){return O},firstValue:function(){return P},fixedBase:function(){return Lt},flatten:function(){return B},flattenDeep:function(){return j},forIn:function(){return le},get:function(){return xn},getEllipsisText:function(){return Fn},getRange:function(){return U},getType:function(){return Me},getWrapBehavior:function(){return Ct},group:function(){return _t},groupBy:function(){return kt},groupToMap:function(){return wt},has:function(){return ue},hasKey:function(){return de},hasValue:function(){return pe},head:function(){return ct},identity:function(){return Ln},includes:function(){return s},indexOf:function(){return pn},isArguments:function(){return De},isArray:function(){return v},isArrayLike:function(){return i},isBoolean:function(){return Oe},isDate:function(){return Pe},isDecimal:function(){return zt},isElement:function(){return qe},isEmpty:function(){return vn},isEqual:function(){return yn},isEqualWith:function(){return kn},isError:function(){return Be},isEven:function(){return Vt},isFinite:function(){return Re},isFunction:function(){return p},isInteger:function(){return Gt},isMatch:function(){return C},isNegative:function(){return $t},isNil:function(){return m},isNull:function(){return ze},isNumber:function(){return Rt},isNumberEqual:function(){return Yt},isObject:function(){return b},isObjectLike:function(){return E},isOdd:function(){return Xt},isPlainObject:function(){return M},isPositive:function(){return Zt},isPrototype:function(){return Ue},isRegExp:function(){return He},isString:function(){return et},isType:function(){return f},isUndefined:function(){return We},keys:function(){return _},last:function(){return lt},lowerCase:function(){return ve},lowerFirst:function(){return ye},map:function(){return _n},mapValues:function(){return Cn},max:function(){return z},maxBy:function(){return Qt},measureTextWidth:function(){return zn},memoize:function(){return sn},min:function(){return F},minBy:function(){return Jt},mix:function(){return Qe},mod:function(){return ee},noop:function(){return Pn},number2color:function(){return It},omit:function(){return In},parseRadius:function(){return Tt},pick:function(){return Mn},pull:function(){return Y},pullAt:function(){return K},reduce:function(){return Q},remove:function(){return tt},requestAnimationFrame:function(){return Xe},set:function(){return En},size:function(){return Bn},some:function(){return vt},sortBy:function(){return rt},startsWith:function(){return dt},substitute:function(){return we},throttle:function(){return Dn},toArray:function(){return Tn},toDegree:function(){return ie},toInteger:function(){return oe},toRadian:function(){return ce},toString:function(){return ge},union:function(){return st},uniq:function(){return it},uniqueId:function(){return Nn},upperCase:function(){return Ae},upperFirst:function(){return xe},values:function(){return fe},valuesOfKey:function(){return at},wrapBehavior:function(){return Et}});var r=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},i=r,o=function(t,e){return!!i(t)&&t.indexOf(e)>-1},s=o,a=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];e(o,r)&&n.push(o)}return n},c=a,l=function(t,e){return void 0===e&&(e=[]),c(t,(function(t){return!s(e,t)}))},u=l,d={}.toString,h=function(t,e){return d.call(t)==="[object "+e+"]"},f=h,p=function(t){return f(t,"Function")},g=function(t){return null===t||void 0===t},m=g,v=function(t){return Array.isArray?Array.isArray(t):f(t,"Array")},b=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function y(t,e){var n;if(t)if(v(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(b(t))for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),!1===n))break}var k=y,w=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return k(t,(function(n,r){p(t)&&"prototype"===r||e.push(r)})),e},_=w;function A(t,e){var n=_(e),r=n.length;if(m(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0}var C=A,x=function(t){return"object"===typeof t&&null!==t},E=x,S=function(t){if(!E(t)||!f(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;var e=t;while(null!==Object.getPrototypeOf(e))e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},M=S;function I(t,e){if(!v(t))return null;var n;if(p(e)&&(n=e),M(e)&&(n=function(t){return C(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null}var D=I;function T(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1}var O=T,N=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i[e];if(!m(o)){n=v(o)?o[0]:o;break}}return n},P=N,L=function(t){if(!v(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},B=L,R=function(t,e){if(void 0===e&&(e=[]),v(t))for(var n=0;n<t.length;n+=1)R(t[n],e);else e.push(t);return e},j=R,z=function(t){if(v(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},F=function(t){if(v(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},V=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(v(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=z(e),o=F(e);return{min:o,max:i}},U=V,G=Array.prototype,H=G.splice,$=G.indexOf,W=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var i=e[r],o=-1;while((o=$.call(t,i))>-1)H.call(t,o,1)}return t},Y=W,q=Array.prototype.splice,X=function(t,e){if(!i(t))return[];var n=t?e.length:0,r=n-1;while(n--){var o=void 0,s=e[n];n!==r&&s===o||(o=s,q.call(t,s,1))}return t},K=X,Z=function(t,e,n){if(!v(t)&&!M(t))return t;var r=n;return k(t,(function(t,n){r=e(r,t,n)})),r},Q=Z,J=function(t,e){var n=[];if(!i(t))return n;var r=-1,o=[],s=t.length;while(++r<s){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return K(t,o),n},tt=J,et=function(t){return f(t,"String")};function nt(t,e){var n;if(p(e))n=function(t,n){return e(t)-e(n)};else{var r=[];et(e)?r.push(e):v(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t}var rt=nt;function it(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}var ot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return it([].concat.apply([],t))},st=ot,at=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=o[e];if(!m(s)){v(s)||(s=[s]);for(var a=0;a<s.length;a++){var c=s[a];r[c]||(n.push(c),r[c]=!0)}}}return n};function ct(t){if(i(t))return t[0]}function lt(t){if(i(t)){var e=t;return e[e.length-1]}}function ut(t,e){return!(!v(t)&&!et(t))&&t[0]===e}var dt=ut;function ht(t,e){return!(!v(t)&&!et(t))&&t[t.length-1]===e}var ft=ht,pt=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},gt=pt,mt=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},vt=mt,bt=Object.prototype.hasOwnProperty;function yt(t,e){if(!e||!v(t))return{};for(var n,r={},i=p(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var s=t[o];n=i(s),bt.call(r,n)?r[n].push(s):r[n]=[s]}return r}var kt=yt;function wt(t,e){if(!e)return{0:t};if(!p(e)){var n=v(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return kt(t,e)}var _t=function(t,e){if(!e)return[t];var n=wt(t,e),r=[];for(var i in n)r.push(n[i]);return r};function At(t,e){return t["_wrap_"+e]}var Ct=At;function xt(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n}var Et=xt,St={};function Mt(t){var e=St[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,St[t]=e}return e}var It=Mt;function Dt(t){var e=0,n=0,r=0,i=0;return v(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}var Tt=Dt,Ot=function(t,e,n){return t<e?e:t>n?n:t},Nt=Ot,Pt=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},Lt=Pt,Bt=function(t){return f(t,"Number")},Rt=Bt,jt=function(t){return Rt(t)&&t%1!==0},zt=jt,Ft=function(t){return Rt(t)&&t%2===0},Vt=Ft,Ut=Number.isInteger?Number.isInteger:function(t){return Rt(t)&&t%1===0},Gt=Ut,Ht=function(t){return Rt(t)&&t<0},$t=Ht,Wt=1e-5;function Yt(t,e,n){return void 0===n&&(n=Wt),Math.abs(t-e)<n}var qt=function(t){return Rt(t)&&t%2!==0},Xt=qt,Kt=function(t){return Rt(t)&&t>0},Zt=Kt,Qt=function(t,e){if(v(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],s=p(e)?e(o):o[e];s>r&&(n=o,r=s)}return n}},Jt=function(t,e){if(v(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],s=p(e)?e(o):o[e];s<r&&(n=o,r=s)}return n}},te=function(t,e){return(t%e+e)%e},ee=te,ne=180/Math.PI,re=function(t){return ne*t},ie=re,oe=parseInt,se=Math.PI/180,ae=function(t){return se*t},ce=ae,le=k,ue=function(t,e){return t.hasOwnProperty(e)},de=ue,he=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return k(t,(function(n,r){p(t)&&"prototype"===r||e.push(n)})),e},fe=he,pe=function(t,e){return s(fe(t),e)},ge=function(t){return m(t)?"":t.toString()},me=function(t){return ge(t).toLowerCase()},ve=me,be=function(t){var e=ge(t);return e.charAt(0).toLowerCase()+e.substring(1)},ye=be;function ke(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t}var we=ke,_e=function(t){return ge(t).toUpperCase()},Ae=_e,Ce=function(t){var e=ge(t);return e.charAt(0).toUpperCase()+e.substring(1)},xe=Ce,Ee={}.toString,Se=function(t){return Ee.call(t).replace(/^\[object /,"").replace(/]$/,"")},Me=Se,Ie=function(t){return f(t,"Arguments")},De=Ie,Te=function(t){return f(t,"Boolean")},Oe=Te,Ne=function(t){return f(t,"Date")},Pe=Ne,Le=function(t){return f(t,"Error")},Be=Le;function Re(t){return Rt(t)&&isFinite(t)}var je=function(t){return null===t},ze=je,Fe=Object.prototype,Ve=function(t){var e=t&&t.constructor,n="function"===typeof e&&e.prototype||Fe;return t===n},Ue=Ve,Ge=function(t){return f(t,"RegExp")},He=Ge,$e=function(t){return void 0===t},We=$e,Ye=function(t){return t instanceof Element||t instanceof HTMLDocument},qe=Ye;function Xe(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(t)}function Ke(t){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;e(t)}function Ze(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Qe(t,e,n,r){return e&&Ze(t,e),n&&Ze(t,n),r&&Ze(t,r),t}var Je=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];p(i)&&(i=i.prototype),Qe(n.prototype,i)}},tn=Je,en=function(t){if("object"!==typeof t||null===t)return t;var e;if(v(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"===typeof t[n]&&null!=t[n]?e[n]=en(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"===typeof t[i]&&null!=t[i]?e[i]=en(t[i]):e[i]=t[i];return e},nn=en;function rn(t,e,n){var r;return function(){var i=this,o=arguments,s=function(){r=null,n||t.apply(i,o)},a=n&&!r;clearTimeout(r),r=setTimeout(s,e),a&&t.apply(i,o)}}var on=rn,sn=function(t,e){if(!p(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var a=t.apply(this,r);return s.set(o,a),a};return n.cache=new Map,n},an=5;function cn(t,e,n,r){for(var i in n=n||0,r=r||an,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&M(o)?(M(t[i])||(t[i]={}),n<r?cn(t[i],o,n+1,r):t[i]=e[i]):v(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var ln=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)cn(t,e[r]);return t},un=ln,dn=function(t,e,n,r){p(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=Qe(o,t.prototype),t.superclass=i(e.prototype,e),Qe(o,n),Qe(t,r),t},hn=dn,fn=function(t,e){if(!i(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,o=0;o<t.length;o++)if(t[o]===e){r=o;break}return r},pn=fn,gn=Object.prototype.hasOwnProperty;function mn(t){if(m(t))return!0;if(i(t))return!t.length;var e=Me(t);if("Map"===e||"Set"===e)return!t.size;if(Ue(t))return!Object.keys(t).length;for(var n in t)if(gn.call(t,n))return!1;return!0}var vn=mn,bn=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(et(t)||et(e))return!1;if(i(t)||i(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length;r++)if(n=bn(t[r],e[r]),!n)break;return n}if(E(t)||E(e)){var o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;for(n=!0,r=0;r<o.length;r++)if(n=bn(t[o[r]],e[o[r]]),!n)break;return n}return!1},yn=bn,kn=function(t,e,n){return p(n)?!!n(t,e):yn(t,e)},wn=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(e(o,r))}return n},_n=wn,An=function(t){return t},Cn=function(t,e){void 0===e&&(e=An);var n={};return b(t)&&!m(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n},xn=function(t,e,n){var r=0,i=et(e)?e.split("."):e;while(t&&r<i.length)t=t[i[r++]];return void 0===t||r<i.length?n:t},En=function(t,e,n){var r=t,i=et(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(b(r[t])||(r[t]=Rt(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t},Sn=Object.prototype.hasOwnProperty,Mn=function(t,e){if(null===t||!M(t))return{};var n={};return k(e,(function(e){Sn.call(t,e)&&(n[e]=t[e])})),n},In=function(t,e){return Q(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})},Dn=function(t,e,n){var r,i,o,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:Date.now(),r=null,s=t.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();a||!1!==n.leading||(a=l);var u=e-(l-a);return i=this,o=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),a=l,s=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,u)),s};return l.cancel=function(){clearTimeout(r),a=0,r=i=o=null},l},Tn=function(t){return i(t)?Array.prototype.slice.call(t):[]},On={},Nn=function(t){return t=t||"g",On[t]?On[t]+=1:On[t]=1,t+On[t]},Pn=function(){},Ln=function(t){return t};function Bn(t){return m(t)?0:i(t)?t.length:Object.keys(t).length}var Rn,jn=n(1635),zn=sn((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,s=e.fontVariant;return Rn||(Rn=document.createElement("canvas").getContext("2d")),Rn.font=[o,s,i,n+"px",r].join(" "),Rn.measureText(et(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),(0,jn.__spreadArrays)([t],fe(e)).join("")})),Fn=function(t,e,n,r){void 0===r&&(r="...");var i,o,s=16,a=zn(r,n),c=et(t)?t:ge(t),l=e,u=[];if(zn(t,n)<=e)return t;while(1){if(i=c.substr(0,s),o=zn(i,n),o+a>l&&o>l)break;if(u.push(i),l-=o,c=c.substr(s),!c)return u.join("")}while(1){if(i=c.substr(0,1),o=zn(i,n),o+a>l)break;if(u.push(i),l-=o,c=c.substr(1),!c)return u.join("")}return""+u.join("")+r},Vn=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}(),Un=Vn},2819:function(t,e,n){t=n.nmd(t),function(t){const e=t.en=t.en||{};e.dictionary=Object.assign(e.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),
/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function(e,n){t.exports=n()}(self,(()=>(()=>{var r={9246:(t,e,n)=>{const r=n(6931),i={};for(const s of Object.keys(r))i[r[s]]=s;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=o;for(const s of Object.keys(o)){if(!("channels"in o[s]))throw new Error("missing channels property: "+s);if(!("labels"in o[s]))throw new Error("missing channel labels property: "+s);if(o[s].labels.length!==o[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:t,labels:e}=o[s];delete o[s].channels,delete o[s].labels,Object.defineProperty(o[s],"channels",{value:t}),Object.defineProperty(o[s],"labels",{value:e})}o.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=o-i;let a,c;o===i?a=0:e===o?a=(n-r)/s:n===o?a=2+(r-e)/s:r===o&&(a=4+(e-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const l=(i+o)/2;return c=o===i?0:l<=.5?s/(o+i):s/(2-o-i),[a,100*c,100*l]},o.rgb.hsv=function(t){let e,n,r,i,o;const s=t[0]/255,a=t[1]/255,c=t[2]/255,l=Math.max(s,a,c),u=l-Math.min(s,a,c),d=function(t){return(l-t)/6/u+.5};return 0===u?(i=0,o=0):(o=u/l,e=d(s),n=d(a),r=d(c),s===l?i=r-n:a===l?i=1/3+e-r:c===l&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},o.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const i=o.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,100*s,100*r]},o.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r);return[100*((1-e-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},o.rgb.keyword=function(t){const e=i[t];if(e)return e;let n,o=1/0;for(const i of Object.keys(r)){const e=r[i],c=(a=e,((s=t)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);c<o&&(o=c,n=i)}var s,a;return n},o.keyword.rgb=function(t){return r[t]},o.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;return e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,[100*(.4124*e+.3576*n+.1805*r),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},o.rgb.lab=function(t){const e=o.rgb.xyz(t);let n=e[0],r=e[1],i=e[2];return n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,[116*r-16,500*(n-r),200*(r-i)]},o.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let i,o,s;if(0===n)return s=255*r,[s,s,s];i=r<.5?r*(1+n):r+n-r*n;const a=2*r-i,c=[0,0,0];for(let l=0;l<3;l++)o=e+1/3*-(l-1),o<0&&o++,o>1&&o--,s=6*o<1?a+6*(i-a)*o:2*o<1?i:3*o<2?a+(i-a)*(2/3-o)*6:a,c[l]=255*s;return c},o.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,i=n;const o=Math.max(r,.01);return r*=2,n*=r<=1?r:2-r,i*=o<=1?o:2-o,[e,100*(0===r?2*i/(o+i):2*n/(r+n)),(r+n)/2*100]},o.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const i=Math.floor(e)%6,o=e-Math.floor(e),s=255*r*(1-n),a=255*r*(1-n*o),c=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,c,s];case 1:return[a,r,s];case 2:return[s,r,c];case 3:return[s,a,r];case 4:return[c,s,r];case 5:return[r,s,a]}},o.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01);let o,s;s=(2-n)*r;const a=(2-n)*i;return o=n*i,o/=a<=1?a:2-a,o=o||0,s/=2,[e,100*o,100*s]},o.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const i=n+r;let o;i>1&&(n/=i,r/=i);const s=Math.floor(6*e),a=1-r;o=6*e-s,1&s&&(o=1-o);const c=n+o*(a-n);let l,u,d;switch(s){default:case 6:case 0:l=a,u=c,d=n;break;case 1:l=c,u=a,d=n;break;case 2:l=n,u=a,d=c;break;case 3:l=n,u=c,d=a;break;case 4:l=c,u=n,d=a;break;case 5:l=a,u=n,d=c}return[255*l,255*u,255*d]},o.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},o.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let i,o,s;return i=3.2406*e+-1.5372*n+-.4986*r,o=-.9689*e+1.8758*n+.0415*r,s=.0557*e+-.204*n+1.057*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[255*i,255*o,255*s]},o.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];return e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*n-16,500*(e-n),200*(n-r)]},o.lab.xyz=function(t){let e,n,r;n=(t[0]+16)/116,e=t[1]/500+n,r=n-t[2]/200;const i=n**3,o=e**3,s=r**3;return n=i>.008856?i:(n-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,e*=95.047,n*=100,r*=108.883,[e,n,r]},o.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let i;return i=360*Math.atan2(r,n)/2/Math.PI,i<0&&(i+=360),[e,Math.sqrt(n*n+r*r),i]},o.lch.lab=function(t){const e=t[0],n=t[1],r=t[2]/360*2*Math.PI;return[e,n*Math.cos(r),n*Math.sin(r)]},o.rgb.ansi16=function(t,e=null){const[n,r,i]=t;let s=null===e?o.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},o.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;return t-=16,[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},o.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map((t=>t+t)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),o=Math.min(Math.min(e,n),r),s=i-o;let a,c;return a=s<1?o/(1-s):0,c=s<=0?0:i===e?(n-r)/s%6:i===n?2+(r-e)/s:4+(e-n)/s,c/=6,c%=1,[360*c,100*s,100*a]},o.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],100*r,100*i]},o.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},o.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];const i=[0,0,0],o=e%1*6,s=o%1,a=1-s;let c=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-n)*r,[255*(n*i[0]+c),255*(n*i[1]+c),255*(n*i[2]+c)]},o.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},o.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},o.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},o.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,r=n-e;let i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=function(t){return[0,0,t[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},9047:(t,e,n)=>{const r=n(9246),i=n(802),o={};Object.keys(r).forEach((t=>{o[t]={},Object.defineProperty(o[t],"channels",{value:r[t].channels}),Object.defineProperty(o[t],"labels",{value:r[t].labels});const e=i(t);Object.keys(e).forEach((n=>{const r=e[n];o[t][n]=function(t){const e=function(...e){const n=e[0];if(null==n)return n;n.length>1&&(e=n);const r=t(e);if("object"==typeof r)for(let t=r.length,i=0;i<t;i++)r[i]=Math.round(r[i]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(r),o[t][n].raw=function(t){const e=function(...e){const n=e[0];return null==n?n:(n.length>1&&(e=n),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)}))})),t.exports=o},802:(t,e,n)=>{const r=n(9246);function i(t){const e=function(){const t={},e=Object.keys(r);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;){const t=n.pop(),i=Object.keys(r[t]);for(let r=i.length,o=0;o<r;o++){const r=i[o],s=e[r];-1===s.distance&&(s.distance=e[t].distance+1,s.parent=t,n.unshift(r))}}return e}function o(t,e){return function(n){return e(t(n))}}function s(t,e){const n=[e[t].parent,t];let i=r[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)n.unshift(e[s].parent),i=o(r[e[s].parent][s],i),s=e[s].parent;return i.conversion=n,i}t.exports=function(t){const e=i(t),n={},r=Object.keys(e);for(let i=r.length,o=0;o<i;o++){const t=r[o];null!==e[t].parent&&(n[t]=s(t,e))}return n}},6931:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content code {\n\tbackground-color: hsla(0, 0%, 78%, 0.3);\n\tpadding: .15em;\n\tborder-radius: 2px;\n}\n\n.ck.ck-editor__editable .ck-code_selected  {\n\tbackground-color: hsla(0, 0%, 78%, 0.5);\n}\n"],sourceRoot:""}]);const a=s},8708:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const a=s},1866:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Based on default CKBox theme colors */\n\t--ck-image-processing-highlight-color: hsl(220, 10%, 98%);\n\t--ck-image-processing-background-color: hsl(220, 10%, 90%);\n}\n\n.ck.ck-editor__editable {\n\t& .image {\n\t\t&.image-processing {\n\t\t\tposition: relative;\n\n\t\t\t&:before {\n\t\t\t\tcontent: '';\n\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tz-index: 1;\n\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\n\t\t\t\tbackground: linear-gradient(\n\t\t\t\t\t90deg,\n\t\t\t\t\tvar(--ck-image-processing-background-color),\n\t\t\t\t\tvar(--ck-image-processing-highlight-color),\n\t\t\t\t\tvar(--ck-image-processing-background-color)\n\t\t\t\t);\n\t\t\t\tbackground-size: 200% 100%;\n\n\t\t\t\tanimation: ck-image-processing-animation 2s linear infinite;\n\t\t\t}\n\n\t\t\t& img {\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\t}\n}\n\n@keyframes ck-image-processing-animation {\n\t0% {\n\t\tbackground-position: 200% 0;\n\t}\n\t100% {\n\t\tbackground-position: -200% 0;\n\t}\n}\n"],sourceRoot:""}]);const a=s},7793:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\tposition: absolute;\n\tpointer-events: none;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import \"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\";\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: '';\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\theight: 0;\n\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\tbackground: var(--ck-clipboard-drop-target-color);\n\tmargin-top: -1px;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder-style: solid;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tleft: -1px;\n\n\t\t\tborder-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);\n\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tright: -1px;\n\n\t\t\tborder-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;\n\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},7388:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-panel);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-sticky-panel__content {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder: 1px solid var(--ck-color-base-border);\n\t\t\tborder-bottom-width: 0;\n\n\t\t\t&.ck-sticky-panel__content_sticky {\n\t\t\t\tborder-bottom-width: 1px;\n\t\t\t}\n\n\t\t\t& .ck-menu-bar,\n\t\t\t& .ck-toolbar {\n\t\t\t\tborder: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},4098:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-forced-colors {\n\t@media (forced-colors: active) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n\n@define-mixin ck-media-default-colors {\n\t@media (forced-colors: none) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t@mixin ck-media-forced-colors {\n\t\t/*\n\t\t * This is needed for Edge on Windows to use the right color for the placeholder content (::before).\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/14907.\n\t\t */\n\t\tforced-color-adjust: preserve-parent-color;\n\t}\n\n\t&::before {\n\t\tcursor: text;\n\n\t\t@mixin ck-media-default-colors {\n\t\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t\t}\n\n\t\t@mixin ck-media-forced-colors {\n\t\t\t/*\n\t\t\t * In the high contrast mode there is no telling between regular and placeholder text. Using\n\t\t\t * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.\n\t\t\t */\n\t\t\tfont-style: italic;\n\n\t\t\t/*\n\t\t\t * Without this margin, the caret will not show up and blink when the user puts the selection\n\t\t\t * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.\n\t\t\t */\n\t\t\tmargin-left: 1px;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},8264:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const a=s},6269:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const a=s},265:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%;\n\n\t\t\t/* Keep proportions of the block image if the height is set and the image is wider than the editor width.\n\t\t\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\n\t\t\theight: auto;\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t/*\n\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\n\t */\n\t& .image {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the selected image always stays on top of its siblings.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t\t */\n\t\t&.ck-widget_selected {\n\t\t\tz-index: 2;\n\t\t}\n\t}\n\n\t/*\n\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\n\t */\n\t& .image-inline {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the selected inline image always stays on top of its siblings.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t\t */\n\t\t&.ck-widget_selected {\n\t\t\tz-index: 2;\n\n\t\t\t/*\n\t\t\t * Make sure the native browser selection style is not displayed.\n\t\t\t * Inline image widgets have their own styles for the selected state and\n\t\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t\t */\n\t\t\t& ::selection {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.\n\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\n\t& .image-inline img {\n\t\theight: auto;\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},5247:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n\n\t/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */\n\t@media (forced-colors: active) {\n\t\tbackground-color: unset;\n\t\tcolor: unset;\n\t}\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\t@mixin ck-media-default-colors {\n\t\tanimation: ck-image-caption-highlight .6s ease-out;\n\t}\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\tanimation: none;\n\t}\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highlighted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-forced-colors {\n\t@media (forced-colors: active) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n\n@define-mixin ck-media-default-colors {\n\t@media (forced-colors: none) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},4642:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-image-custom-resize-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: flex-start;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},3350:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-image-insert-url {\n\t& .ck-image-insert-url__action-row {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-image-insert-insert-by-url-width: 250px;\n}\n\n.ck.ck-image-insert-url {\n\t--ck-input-width: 100%;\n\n\t& .ck-image-insert-url__action-row {\n\t\tgrid-column-gap: var(--ck-spacing-large);\n\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t& .ck-button-save,\n\t\t& .ck-button-cancel {\n\t\t\tjustify-content: center;\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& .ck-button .ck-button__label {\n\t\t\tcolor: var(--ck-color-text);\n\t\t}\n\t}\n}\n\n.ck.ck-image-insert-form {\n\t& > .ck.ck-button {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\tpadding: var(--ck-list-button-padding);\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& > .ck.ck-collapsible {\n\t\t&:not(:first-child) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t&:not(:last-child) {\n\t\t\tborder-bottom: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\tmin-width: var(--ck-image-insert-insert-by-url-width);\n\t}\n\n\t/* This is the case when there are no other integrations configured than insert by URL */\n\t& > .ck.ck-image-insert-url {\n\t\tmin-width: var(--ck-image-insert-insert-by-url-width);\n\t\tpadding: var(--ck-spacing-large);\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n}\n'],sourceRoot:""}]);const a=s},7378:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& img.image_placeholder {\n\t\tbackground-size: 100% 100%;\n\t}\n}\n"],sourceRoot:""}]);const a=s},3469:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Preserve aspect ratio of the resized image after introducing image height attribute. */\n.ck-content img.image_resized {\n\theight: auto;\n}\n\n.ck-content .image.image_resized {\n\tmax-width: 100%;\n\t/*\n\tThe `<figure>` element for resized images must not use `display:table` as browsers do not support `max-width` for it well.\n\tSee https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.\n\tFortunately, since we control the width, there is no risk that the image will look bad.\n\t*/\n\tdisplay: block;\n\tbox-sizing: border-box;\n\n\t& img {\n\t\t/* For resized images it is the `<figure>` element that determines the image width. */\n\t\twidth: 100%;\n\t}\n\n\t& > figcaption {\n\t\t/* The `<figure>` element uses `display:block`, so `<figcaption>` also has to. */\n\t\tdisplay: block;\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/* The resized inline image nested in the table should respect its parent size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline.image_resized img {\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-right: var(--ck-spacing-standard);\n}\n\n[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-left: var(--ck-spacing-standard);\n}\n\n.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {\n\twidth: 4em;\n}\n'],sourceRoot:""}]);const a=s},6386:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},7693:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\tanimation-duration: 0ms;\n\n\t\t&::after {\n\t\t\tanimation: none;\n\t\t\topacity: 1;\n\t\t\twidth: 0.3em;\n\t\t\theight: 0.45em;\n\t\t}\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const a=s},1559:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const a=s},2267:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\topacity: 1;\n\t\t\t\tanimation: none;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const a=s},4062:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},7719:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const a=s},8762:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},3817:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},4808:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Match the icon size with the upload indicator brought by the image upload feature. */\n\t--ck-link-image-indicator-icon-size: 20;\n\t--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tcontent: "";\n\n\t\t\t/*\n\t\t\t * Smaller images should have the icon closer to the border.\n\t\t\t * Match the icon position with the upload indicator brought by the image upload feature.\n\t\t\t */\n\t\t\ttop: min(var(--ck-spacing-medium), 6%);\n\t\t\tright: min(var(--ck-spacing-medium), 6%);\n\n\t\t\tbackground-color: hsla(0, 0%, 0%, .4);\n\t\t\tbackground-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");\n\t\t\tbackground-size: 14px;\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-position: center;\n\t\t\tborder-radius: 100%;\n\n\t\t\t/*\n\t\t\t* Use CSS math to simulate container queries.\n\t\t\t* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t\t\t*/\n\t\t\toverflow: hidden;\n\t\t\twidth: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t\theight: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const a=s},1232:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-editor__editable .ck-list-bogus-paragraph {\n\tdisplay: block;\n}\n"],sourceRoot:""}]);const a=s},6903:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content ol {\n\tlist-style-type: decimal;\n\n\t& ol {\n\t\tlist-style-type: lower-latin;\n\n\t\t& ol {\n\t\t\tlist-style-type: lower-roman;\n\n\t\t\t& ol {\n\t\t\t\tlist-style-type: upper-latin;\n\n\t\t\t\t& ol {\n\t\t\t\t\tlist-style-type: upper-roman;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-content ul {\n\tlist-style-type: disc;\n\n\t& ul {\n\t\tlist-style-type: circle;\n\n\t\t& ul {\n\t\t\tlist-style-type: square;\n\n\t\t\t& ul {\n\t\t\t\tlist-style-type: square;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},9968:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-list-properties {\n\t/* When there are no list styles and there is no collapsible. */\n\t&.ck-list-properties_without-styles {\n\t\tpadding: var(--ck-spacing-large);\n\n\t\t& > * {\n\t\t\tmin-width: 14em;\n\n\t\t\t& + * {\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * When the numbered list property fields (start at, reversed) should be displayed,\n\t * more horizontal space is needed. Reconfigure the style grid to create that space.\n\t */\n\t&.ck-list-properties_with-numbered-properties {\n\t\t& > .ck-list-styles-list {\n\t\t\tgrid-template-columns: repeat( 4, auto );\n\t\t}\n\n\t\t/* When list styles are rendered and property fields are in a collapsible. */\n\t\t& > .ck-collapsible {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\n\t\t\t& > .ck-collapsible__children {\n\t\t\t\t& > * {\n\t\t\t\t\twidth: 100%;\n\n\t\t\t\t\t& + * {\n\t\t\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-numbered-list-properties__start-index .ck-input {\n\t\tmin-width: auto;\n\t\twidth: 100%;\n\t}\n\n\t& .ck.ck-numbered-list-properties__reversed-order {\n\t\tbackground: transparent;\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\t\tmargin-bottom: calc(-1 * var(--ck-spacing-tiny));\n\n\t\t&:active, &:hover {\n\t\t\tbox-shadow: none;\n\t\t\tborder-color: transparent;\n\t\t\tbackground: none;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},7141:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-list-styles-list {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-list-style-button-size: 44px;\n}\n\n.ck.ck-list-styles-list {\n\tgrid-template-columns: repeat( 3, auto );\n\trow-gap: var(--ck-spacing-medium);\n\tcolumn-gap: var(--ck-spacing-medium);\n\tpadding: var(--ck-spacing-large);\n\n\t& .ck-button {\n\t\t/* Make the button look like a thumbnail (the icon "takes it all"). */\n\t\twidth: var(--ck-list-style-button-size);\n\t\theight: var(--ck-list-style-button-size);\n\t\tpadding: 0;\n\n\t\t/*\n\t\t * Buttons are aligned by the grid so disable default button margins to not collide with the\n\t\t * gaps in the grid.\n\t\t */\n\t\tmargin: 0;\n\n\t\t/*\n\t\t * Make sure the button border (which is displayed on focus, BTW) does not steal pixels\n\t\t * from the button dimensions and, as a result, decrease the size of the icon\n\t\t * (which becomes blurry as it scales down).\n\t\t */\n\t\tbox-sizing: content-box;\n\n\t\t& .ck-icon {\n\t\t\twidth: var(--ck-list-style-button-size);\n\t\t\theight: var(--ck-list-style-button-size);\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},8991:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-todo-list-checkmark-size: 16px;\n}\n\n@define-mixin todo-list-checkbox {\n\t-webkit-appearance: none;\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: var(--ck-todo-list-checkmark-size);\n\theight: var(--ck-todo-list-checkmark-size);\n\tvertical-align: middle;\n\n\t/* Needed on iOS */\n\tborder: 0;\n\n\t/* LTR styles */\n\tleft: -25px;\n\tmargin-right: -15px;\n\tright: 0;\n\tmargin-left: 0;\n\n\t/* RTL styles */\n\t@nest [dir=rtl]& {\n\t\tleft: 0;\n\t\tmargin-right: 0;\n\t\tright: -25px;\n\t\tmargin-left: -15px;\n\t}\n\n\t&::before {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbox-sizing: border-box;\n\t\tcontent: '';\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder: 1px solid hsl(0, 0%, 20%);\n\t\tborder-radius: 2px;\n\t\ttransition: 250ms ease-in-out box-shadow;\n\n\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\ttransition: none;\n\t\t}\n\t}\n\n\t&::after {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbox-sizing: content-box;\n\t\tpointer-events: none;\n\t\tcontent: '';\n\n\t\t/* Calculate tick position, size and border-width proportional to the checkmark size. */\n\t\tleft: calc( var(--ck-todo-list-checkmark-size) / 3 );\n\t\ttop: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\n\t\twidth: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\n\t\theight: calc( var(--ck-todo-list-checkmark-size) / 2.6 );\n\t\tborder-style: solid;\n\t\tborder-color: transparent;\n\t\tborder-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;\n\t\ttransform: rotate(45deg);\n\t}\n\n\t&[checked] {\n\t\t&::before {\n\t\t\tbackground: hsl(126, 64%, 41%);\n\t\t\tborder-color: hsl(126, 64%, 41%);\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: hsl(0, 0%, 100%);\n\t\t}\n\t}\n}\n\n/*\n * To-do list content styles.\n */\n.ck-content .todo-list {\n\tlist-style: none;\n\n\t& li {\n\t\tposition: relative;\n\t\tmargin-bottom: 5px;\n\n\t\t& .todo-list {\n\t\t\tmargin-top: 5px;\n\t\t}\n\t}\n\n\t& .todo-list__label {\n\t\t& > input {\n\t\t\t@mixin todo-list-checkbox;\n\t\t}\n\n\t\t& .todo-list__label__description {\n\t\t\tvertical-align: middle;\n\t\t}\n\n\t\t&.todo-list__label_without-description input[type=checkbox] {\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n\n/*\n * To-do list editing view styles.\n */\n.ck-editor__editable.ck-content .todo-list .todo-list__label {\n\t/*\n\t * To-do list should be interactive only during the editing\n\t * (https://github.com/ckeditor/ckeditor5/issues/2090).\n\t */\n\t& > input,\n\t& > span[contenteditable=false] > input {\n\t\tcursor: pointer;\n\n\t\t&:hover::before {\n\t\t\tbox-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);\n\t\t}\n\t}\n\n\t/*\n\t * Document Lists - editing view has an additional span around checkbox.\n\t */\n\t& > span[contenteditable=false] > input {\n\t\t@mixin todo-list-checkbox;\n\t}\n\n\t&.todo-list__label_without-description {\n\t\t& input[type=checkbox] {\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},70:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const a=s},7048:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read–only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},5651:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},5506:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-input-color {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\n\t& > input.ck.ck-input-text {\n\t\tmin-width: auto;\n\t\tflex-grow: 1;\n\t}\n\n\t& > div.ck.ck-dropdown {\n\t\tmin-width: auto;\n\n\t\t/* This dropdown has no arrow but a color preview instead. */\n\t\t& > .ck-input-color__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__button {\n\t\t/* Resolving issue with misaligned buttons on Safari (see #10589) */\n\t\tdisplay: flex;\n\n\t\t& .ck.ck-input-color__button__preview {\n\t\t\tposition: relative;\n\t\t\toverflow: hidden;\n\n\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_rounded.css";\n\n.ck.ck-input-color {\n\t& > .ck.ck-input-text {\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* Make sure the focused input is always on top of the dropdown button so its\n\t\t   outline and border are never cropped (also when the input is read-only). */\n\t\t&:focus {\n\t\t\tz-index: 0;\n\t\t}\n\t}\n\n\t& > .ck.ck-dropdown {\n\t\t& > .ck.ck-button.ck-input-color__button {\n\t\t\tpadding: 0;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\n\t\t\t\t&:not(:focus) {\n\t\t\t\t\tborder-left: 1px solid transparent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t\t&:not(:focus) {\n\t\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.ck-disabled {\n\t\t\t\tbackground: var(--ck-color-input-disabled-background);\n\t\t\t}\n\n\t\t\t& > .ck.ck-input-color__button__preview {\n\t\t\t\t@mixin ck-rounded-corners;\n\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\tborder: 1px solid var(--ck-color-input-border);\n\n\t\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\t\ttop: -30%;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\theight: 150%;\n\t\t\t\t\twidth: 8%;\n\t\t\t\t\tbackground: hsl(0, 100%, 50%);\n\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\ttransform: rotate(45deg);\n\t\t\t\t\ttransform-origin: 50%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__remove-color {\n\t\twidth: 100%;\n\t\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\n\n\t\tborder-bottom-left-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-bottom: 1px solid var(--ck-color-input-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t}\n\n\t\t& .ck.ck-icon {\n\t\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: 0;\n\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},4043:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form {\n\tpadding: 0 0 var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t& .ck.ck-input-text {\n\t\tmin-width: 100%;\n\t\twidth: 0;\n\t}\n\n\t& .ck.ck-dropdown {\n\t\tmin-width: 100%;\n\n\t\t& .ck-dropdown__button {\n\t\t\t&:not(:focus) {\n\t\t\t\tborder: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t& .ck-button__label {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},2655:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\tflex-grow: 1;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\t& .ck-button-save,\n\t\t& .ck-button-cancel {\n\t\t\tjustify-content: center;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-form__row {\n\tpadding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\t& + * {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck-label {\n\t\twidth: 100%;\n\t\tmin-width: 100%;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t& .ck-button .ck-button__label {\n\t\t\tcolor: var(--ck-color-text);\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},5032:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\ttransition: none;\n\t}\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const a=s},2329:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const a=s},4143:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";\n\n:root {\n\t--ck-color-selector-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-selector-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .table > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: top;\n\tword-break: break-word;\n\ttext-align: center;\n\tcolor: var(--ck-color-selector-caption-text);\n\tbackground-color: var(--ck-color-selector-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n\n\t/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */\n\t@mixin ck-media-forced-colors {\n\t\tbackground-color: unset;\n\t\tcolor: unset;\n\t}\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .table > figcaption {\n\t@mixin ck-media-default-colors {\n\t\t&.table__caption_highlighted {\n\t\t\tanimation: ck-table-caption-highlight .6s ease-out;\n\t\t}\n\t}\n\n\t&.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the table caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@keyframes ck-table-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-selector-caption-highlighted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-selector-caption-background);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-forced-colors {\n\t@media (forced-colors: active) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n\n@define-mixin ck-media-default-colors {\n\t@media (forced-colors: none) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},8986:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\t&:first-of-type {\n\t\t\t\t\t/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */\n\t\t\t\t\tflex-grow: 0.57;\n\t\t\t\t}\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\t/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */\n\t\t\t\t\tflex-grow: 0.43;\n\t\t\t\t}\n\n\t\t\t\t& .ck-button {\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__padding-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\t\t\twidth: 25%;\n\t\t}\n\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},8795:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);\n\t--ck-table-column-resizer-width: 7px;\n\n\t/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.\n\t   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */\n\t--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);\n}\n\n.ck-content .table .ck-table-resized {\n\ttable-layout: fixed;\n}\n\n.ck-content .table table {\n\toverflow: hidden;\n}\n\n.ck-content .table td,\n.ck-content .table th {\n\t/* To prevent text overflowing beyond its cell when columns are resized by resize handler\n\t(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */\n\toverflow-wrap: break-word;\n\tposition: relative;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tright: var(--ck-table-column-resizer-position-offset);\n\twidth: var(--ck-table-column-resizer-width);\n\tcursor: col-resize;\n\tuser-select: none;\n\tz-index: var(--ck-z-default);\n}\n\n.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,\n   all resizers must be hidden while the table is dragged. */\n.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer:hover,\n.ck.ck-editor__editable .table .ck-table-column-resizer__active {\n\tbackground-color: var(--ck-color-selector-column-resizer-hover);\n\topacity: 0.25;\n\t/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,\n\t   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as\n\t   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally\n\t   unrealistic height for a single table. */\n\ttop: -999999px;\n\tbottom: -999999px;\n}\n\n.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {\n\tleft: var(--ck-table-column-resizer-position-offset);\n\tright: unset;\n}\n"],sourceRoot:""}]);const a=s},8137:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-selector-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},1623:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__background-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tflex-wrap: wrap;\n\t\t\talign-items: center;\n\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column-reverse;\n\t\t\t\talign-items: center;\n\n\t\t\t\t& .ck.ck-dropdown {\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\tflex-grow: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\t/* Allow absolute positioning of the status (error) balloons. */\n\t\tposition: relative;\n\n\t\t& .ck.ck-labeled-field-view__status {\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\tbottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\ttransform: translate(-50%,100%);\n\n\t\t\t/* Make sure the balloon status stays on top of other form elements. */\n\t\t\tz-index: 1;\n\n\t\t\t/* The arrow pointing towards the field. */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\t\tleft: 50%;\n\t\t\t\ttransform: translateX( -50% );\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n:root {\n\t--ck-table-properties-error-arrow-size: 6px;\n\t--ck-table-properties-min-error-width: 150px;\n}\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\t& > .ck-label {\n\t\t\t\t\tfont-size: var(--ck-font-size-tiny);\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-table-form__border-style,\n\t\t\t& .ck-table-form__border-width {\n\t\t\t\twidth: 80px;\n\t\t\t\tmin-width: 80px;\n\t\t\t\tmax-width: 80px;\n\t\t\t}\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tpadding: 0;\n\n\t\t\t& .ck-table-form__dimensions-row__width,\n\t\t\t& .ck-table-form__dimensions-row__height {\n\t\t\t\tmargin: 0\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\talign-self: flex-end;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\theight: var(--ck-ui-component-min-height);\n\t\t\t\tline-height: var(--ck-ui-component-min-height);\n\t\t\t\tmargin: 0 var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\tpadding-top: var(--ck-spacing-standard);\n\n\t\t& .ck.ck-labeled-field-view__status {\n\t\t\t@mixin ck-rounded-corners;\n\n\t\t\tbackground: var(--ck-color-base-error);\n\t\t\tcolor: var(--ck-color-base-background);\n\t\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\t\tmin-width: var(--ck-table-properties-min-error-width);\n\t\t\ttext-align: center;\n\n\t\t\t/* The arrow pointing towards the field. */\n\t\t\t&::after {\n\t\t\t\tborder-color: transparent transparent var(--ck-color-base-error) transparent;\n\t\t\t\tborder-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\tanimation: ck-table-form-labeled-view-status-appear .15s ease both;\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\tanimation: none;\n\t\t\t}\n\t\t}\n\n\t\t/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */\n\t\t& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n@keyframes ck-table-form-labeled-view-status-appear {\n\t0% {\n\t\topacity: 0;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},5562:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\t\t\tflex-basis: 0;\n\t\t\talign-content: baseline;\n\n\t\t\t& .ck.ck-toolbar .ck-toolbar__items {\n\t\t\t\tflex-wrap: nowrap;\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\n\t\t\t\t& .ck-toolbar__items > * {\n\t\t\t\t\twidth: 40px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},8423:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},1801:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-aria-live-announcer {\n\tposition: absolute;\n\tleft: -10000px;\n\ttop: -10000px;\n}\n\n.ck.ck-aria-live-region-list {\n\tlist-style-type: none;\n}\n"],sourceRoot:""}]);const a=s},5727:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-autocomplete {\n\tposition: relative;\n\n\t& > .ck-search__results {\n\t\tposition: absolute;\n\t\tz-index: var(--ck-z-panel);\n\n\t\t&.ck-search__results_n {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-search__results_s {\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";\n\n.ck.ck-autocomplete {\n\t& > .ck-search__results {\n\t\t@mixin ck-rounded-corners;\n\t\t@mixin ck-drop-shadow;\n\n\t\tmax-height: 200px;\n\t\toverflow-y: auto;\n\t\tbackground: var(--ck-color-base-background);\n\t\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\t\tmin-width: auto;\n\n\t\t&.ck-search__results_n {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t/* Prevent duplicated borders between the input and the results pane. */\n\t\t\tmargin-bottom: -1px;\n\t\t}\n\n\t\t&.ck-search__results_s {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-top-right-radius: 0;\n\n\t\t\t/* Prevent duplicated borders between the input and the results pane. */\n\t\t\tmargin-top: -1px;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},9715:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n@import "../../mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\n\t@mixin ck-dir ltr {\n\t\tjustify-content: left;\n\t}\n\n\t@mixin ck-dir rtl {\n\t\tjustify-content: right;\n\t}\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\ttransition: none;\n\t}\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\topacity: .5;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const a=s},4391:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating–point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\ttransition: none;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const a=s},25:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-collapsible.ck-collapsible_collapsed {\n\t& > .ck-collapsible__children {\n\t\tdisplay: none;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-collapsible {\n\t& > .ck.ck-button {\n\t\twidth: 100%;\n\t\tfont-weight: bold;\n\t\tpadding: var(--ck-list-button-padding);\n\t\tborder-radius: 0;\n\t\tcolor: inherit;\n\n\t\t&:focus {\n\t\t\tbackground: transparent;\n\t\t}\n\n\t\t&:active, &:not(:focus), &:hover:not(:focus) {\n\t\t\tbackground: transparent;\n\t\t\tborder-color: transparent;\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t& > .ck-icon {\n\t\t\tmargin-right: var(--ck-spacing-medium);\n\t\t\twidth: var(--ck-collapsible-arrow-size);\n\t\t}\n\t}\n\n\t& > .ck-collapsible__children {\n\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);\n\t}\n\n\t&.ck-collapsible_collapsed {\n\t\t& > .ck.ck-button .ck-icon {\n\t\t\ttransform: rotate(-90deg);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},7317:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\ttransition: .2s ease box-shadow;\n\n\t@mixin ck-media-default-colors {\n\t\twidth: var(--ck-color-grid-tile-size);\n\t\theight: var(--ck-color-grid-tile-size);\n\t\tmin-width: var(--ck-color-grid-tile-size);\n\t\tmin-height: var(--ck-color-grid-tile-size);\n\t\tpadding: 0;\n\t\tborder: 0;\n\n\t\t&.ck-on,\n\t\t&:focus:not( .ck-disabled ),\n\t\t&:hover:not( .ck-disabled ) {\n\t\t\t/* Disable the default .ck-button\'s border ring. */\n\t\t\tborder: 0;\n\t\t}\n\n\t\t&.ck-color-selector__color-tile_bordered {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\t\t}\n\n\t\t&:focus:not( .ck-disabled ),\n\t\t&:hover:not( .ck-disabled ) {\n\t\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t\t}\n\t}\n\n\t/*\n\t * In high contrast mode, the colors are replaced with text labels.\n\t * See https://github.com/ckeditor/ckeditor5/issues/14907.\n\t */\n\t@mixin ck-media-forced-colors {\n\t\twidth: unset;\n\t\theight: unset;\n\t\tmin-width: unset;\n\t\tmin-height: unset;\n\t\tpadding: 0 var(--ck-spacing-small);\n\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\ttransition: none;\n\t}\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-forced-colors {\n\t@media (forced-colors: active) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n\n@define-mixin ck-media-default-colors {\n\t@media (forced-colors: none) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},1905:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.color-picker-hex-input {\n\twidth: max-content;\n\n\t& .ck.ck-input {\n\t\tmin-width: unset;\n\t}\n}\n\n.ck.ck-color-picker__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\tmargin: var(--ck-spacing-large) 0 0;\n\twidth: unset;\n\n\t& .ck.ck-labeled-field-view {\n\t\tpadding-top: unset;\n\t}\n\n\t& .ck.ck-input-text {\n\t\twidth: unset;\n\t}\n\n\t& .ck-color-picker__hash-view {\n\t\tpadding-top: var(--ck-spacing-tiny);\n\t\tpadding-right: var(--ck-spacing-medium);\n\t}\n}\n"],sourceRoot:""}]);const a=s},6309:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-color-selector {\n\t/* View fragment with color grids. */\n\t& .ck-color-grids-fragment {\n\t\t& .ck-button.ck-color-selector__remove-color,\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tjustify-content: flex-start;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* View fragment with a color picker. */\n\t& .ck-color-picker-fragment {\n\t\t& .ck.ck-color-selector_action-bar {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-around;\n\n\t\t\t& .ck-button-save,\n\t\t\t& .ck-button-cancel {\n\t\t\t\tflex: 1\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-color-selector {\n\t/* View fragment with color grids. */\n\t& .ck-color-grids-fragment {\n\t\t& .ck-button.ck-color-selector__remove-color,\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t& .ck.ck-icon {\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tmargin-right: var(--ck-spacing-standard);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& label.ck.ck-color-grid__label {\n\t\t\tfont-weight: unset;\n\t\t}\n\t}\n\n\t/* View fragment with a color picker. */\n\t& .ck-color-picker-fragment {\n\t\t& .ck.ck-color-picker {\n\t\t\tpadding: 8px;\n\n\t\t\t& .hex-color-picker {\n\t\t\t\theight: 100px;\n\t\t\t\tmin-width: 180px;\n\n\t\t\t\t&::part(saturation) {\n\t\t\t\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\t\t\t\t}\n\n\t\t\t\t&::part(hue) {\n\t\t\t\t\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\n\t\t\t\t}\n\n\t\t\t\t&::part(saturation-pointer),\n\t\t\t\t&::part(hue-pointer) {\n\t\t\t\t\twidth: 15px;\n\t\t\t\t\theight: 15px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& .ck.ck-color-selector_action-bar {\n\t\t\tpadding: 0 8px 8px;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},9819:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-dialog-overlay {\n\tuser-select: none;\n\toverscroll-behavior: none;\n\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\ttop: 0;\n\n\t&.ck-dialog-overlay__transparent {\n\t\tpointer-events: none;\n\t\tanimation: none;\n\t\tbackground: none;\n\t}\n}\n\n.ck.ck-dialog {\n\toverscroll-behavior: none;\n\twidth: fit-content;\n\tposition: absolute;\n\n\t& .ck.ck-form__header  {\n\t\tflex-shrink: 0;\n\n\t\t& .ck-form__header__label {\n\t\t\tcursor: grab;\n\t\t}\n\t}\n\n\t@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {\n\t\tpointer-events: all;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n:root {\n\t--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );\n\t--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);\n\t--ck-dialog-max-width: 100vw;\n\t--ck-dialog-max-height: 90vh;\n\t--ck-color-dialog-background: var(--ck-color-base-background);\n\t--ck-color-dialog-form-header-border: var(--ck-color-base-border);\n}\n\n.ck.ck-dialog-overlay {\n\tanimation: ck-dialog-fade-in .3s;\n\tbackground: var(--ck-dialog-overlay-background-color);\n\tz-index: var(--ck-z-dialog);\n}\n\n.ck.ck-dialog {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\t--ck-drop-shadow: var(--ck-dialog-drop-shadow);\n\n\tbackground: var(--ck-color-dialog-background);\n\tmax-height: var(--ck-dialog-max-height);\n\tmax-width: var(--ck-dialog-max-width);\n\tborder: 1px solid var(--ck-color-base-border);\n\n\t& .ck.ck-form__header {\n\t\tborder-bottom: 1px solid var(--ck-color-dialog-form-header-border);\n\t}\n}\n\n@keyframes ck-dialog-fade-in {\n\t0% {\n\t\tbackground: hsla( 0, 0%, 0%, 0 );\n\t}\n\n\t100% {\n\t\tbackground: var(--ck-dialog-overlay-background-color);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},9822:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-dialog {\n\t& .ck.ck-dialog__actions {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-dialog {\n\t& .ck.ck-dialog__actions {\n\t\tpadding: var(--ck-spacing-large);\n\n\t\t& > * + * {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},8149:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-panel);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-panel) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},3629:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child > .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child > .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},1792:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},1666:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const a=s},8527:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-accessibility-help-dialog-max-width: 600px;\n\t--ck-accessibility-help-dialog-max-height: 400px;\n\t--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);\n\t--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);\n\t--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);\n}\n\n.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {\n\tpadding: var(--ck-spacing-large);\n\tmax-width: var(--ck-accessibility-help-dialog-max-width);\n\tmax-height: var(--ck-accessibility-help-dialog-max-height);\n\toverflow: auto;\n\tuser-select: text;\n\n\tborder: 1px solid transparent;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t* {\n\t\twhite-space: normal;\n\t}\n\n\t/* Hide the main label of the content container. */\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t& h3 {\n\t\tfont-weight: bold;\n\t\tfont-size: 1.2em;\n\t}\n\n\t& h4 {\n\t\tfont-weight: bold;\n\t\tfont-size: 1em;\n\t}\n\n\t& p,\n\t& h3,\n\t& h4,\n\t& table {\n\t\tmargin: 1em 0;\n\t}\n\n\t& dl {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 2fr 1fr;\n\t\tborder-top: 1px solid var(--ck-accessibility-help-dialog-border-color);\n\t\tborder-bottom: none;\n\n\t\t& dt, & dd {\n\t\t\tborder-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);\n\t\t\tpadding: .4em 0;\n\t\t}\n\n\t\t& dt {\n\t\t\tgrid-column-start: 1;\n\t\t}\n\n\t\t& dd {\n\t\t\tgrid-column-start: 2;\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& kbd, & code {\n\t\tdisplay: inline-block;\n\t\tbackground: var(--ck-accessibility-help-dialog-code-background-color);\n\t\tpadding: .4em;\n\t\tvertical-align: middle;\n\t\tline-height: 1;\n\t\tborder-radius: 2px;\n\t\ttext-align: center;\n\t\tfont-size: .9em;\n\t}\n\n\t& code {\n\t\tfont-family: monospace;\n\t}\n\n\t& kbd {\n\t\tmin-width: 1.8em;\n\t\tbox-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);\n\t\tmargin: 0 1px;\n\n\t\t& + kbd {\n\t\t\tmargin-left: 2px;\n\t\t}\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},1185:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-panel-background);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-panel-background);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},7913:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n\n\t& h2.ck-form__header__label {\n\t\tflex-grow: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-form-header-height: 44px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& > .ck-icon {\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-right: var(--ck-spacing-medium);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: var(--ck-spacing-medium);\n\t\t}\n\t}\n\n\t& .ck-form__header__label {\n\t\t--ck-font-size-base: 15px;\n\t\tfont-weight: bold;\n\t}\n}\n'],sourceRoot:""}]);const a=s},9529:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-highlighted-text mark {\n\tbackground: var(--ck-color-highlight-background);\n\tvertical-align: initial;\n\tfont-weight: inherit;\n\tline-height: inherit;\n\tfont-size: inherit;\n}\n"],sourceRoot:""}]);const a=s},7621:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},253:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\ttransition: none;\n\t}\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\tanimation: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},7801:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const a=s},4962:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t\ttransform-origin: 0 0;\n\t\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t\ttransform-origin: 100% 0;\n\t\t\t\ttransform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\ttransition: none;\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},5199:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-list-button-padding:\n\t\tcalc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n}\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& > .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\tborder-radius: 0;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding: var(--ck-list-button-padding);\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& > .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-list .ck-list__group {\n\tpadding-top: var(--ck-spacing-medium);\n\n\t/* The group should have a border when it\'s not the first item. */\n\t*:not(.ck-hidden) ~ & {\n\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t}\n\n\t& > .ck-label {\n\t\tfont-size: 11px;\n\t\tfont-weight: bold;\n\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},497:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: flex-start;\n\tbackground: var(--ck-color-base-background);\n\tpadding: var(--ck-spacing-small);\n\tgap: var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\twidth: 100%;\n}\n"],sourceRoot:""}]);const a=s},4:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu {\n\tdisplay: block;\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t&.ck-menu-bar__menu_top-level {\n\t\tmax-width: 100%;\n\t}\n}\n"],sourceRoot:""}]);const a=s},3344:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu  {\n\t& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-menu-bar__menu {\n\t/*\n\t * All menu buttons.\n\t */\n\t& > .ck-menu-bar__menu__button {\n\t\tpadding: var(--ck-list-button-padding);\n\t\twidth: 100%;\n\n\t\t& > .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t&.ck-disabled > .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Top-level menu buttons only.\n\t */\n\t&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {\n\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\tmin-height: unset;\n\n\t\t& .ck-button__label {\n\t\t\twidth: unset;\n\t\t\tline-height: unset;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/*\n\t * Sub-menu buttons.\n\t */\n\t&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {\n\t\tborder-radius: 0;\n\n\t\t&:focus {\n\t\t\tborder-color: transparent;\n\t\t\tbox-shadow: none;\n\n\t\t\t&:not(.ck-on) {\n\t\t\t\tbackground: var(--ck-color-button-default-hover-background);\n\t\t\t}\n\t\t}\n\n\t\t/* Spacing in buttons that miss the icon. */\n\t\t&:not(:has(.ck-button__icon)) > .ck-button__label {\n\t\t\tmargin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));\n\t\t}\n\n\t\t& > .ck-menu-bar__menu__button__arrow {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\ttransform: rotate(-90deg);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\ttransform: rotate(90deg);\n\t\t\t}\n\t\t}\n\n\t\t&.ck-disabled > .ck-menu-bar__menu__button__arrow {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\t& > .ck-menu-bar__menu__button__arrow {\n\t\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t\t/* A space to accommodate the triangle. */\n\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t& > .ck-menu-bar__menu__button__arrow {\n\t\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t\t/* A space to accommodate the triangle. */\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const a=s},9481:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-menu-bar-menu-item-min-width: 18em;\n}\n\n.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {\n\tmin-width: var(--ck-menu-bar-menu-item-min-width);\n}\n"],sourceRoot:""}]);const a=s},977:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu {\n\t/*\n\t * List item buttons.\n\t */\n\t& .ck-button.ck-menu-bar__menu__item__button {\n\t\tborder-radius: 0;\n\n\t\t& > .ck-spinner-container,\n\t\t& > .ck-spinner-container .ck-spinner {\n\t\t\t/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */\n\t\t\t--ck-toolbar-spinner-size: 20px;\n\t\t}\n\n\t\t& > .ck-spinner-container {\n\t\t\t/* These margins are the same as for .ck-icon. */\n\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/*\n\t\t * Hovered items automatically get focused. Default focus styles look odd\n\t\t * while moving across a huge list of items so let's get rid of them\n\t\t */\n\t\t&:focus {\n\t\t\tborder-color: transparent;\n\t\t\tbox-shadow: none;\n\n\t\t\t&:not(.ck-on) {\n\t\t\t\tbackground: var(--ck-color-button-default-hover-background);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * First-level sub-menu item buttons.\n\t */\n\t&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {\n\t\t/* Spacing in buttons that miss the icon. */\n\t\t&:not(:has(.ck-button__icon)) > .ck-button__label {\n\t\t\tmargin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));\n\t\t}\n\t}\n}\n\n\n"],sourceRoot:""}]);const a=s},9108:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-menu-bar-menu-max-width: 75vw;\n\t--ck-menu-bar-nested-menu-horizontal-offset: 5px;\n}\n\n.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {\n\tz-index: var(--ck-z-panel);\n\tmax-width: var(--ck-menu-bar-menu-max-width);\n\tposition: absolute;\n\n\t&.ck-menu-bar__menu__panel_position_ne,\n\t&.ck-menu-bar__menu__panel_position_nw {\n\t\tbottom: 100%;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_se,\n\t&.ck-menu-bar__menu__panel_position_sw {\n\t\ttop: 100%;\n\t\tbottom: auto;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ne,\n\t&.ck-menu-bar__menu__panel_position_se {\n\t\tleft: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_nw,\n\t&.ck-menu-bar__menu__panel_position_sw {\n\t\tright: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_es,\n\t&.ck-menu-bar__menu__panel_position_en {\n\t\tleft: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_es {\n\t\ttop: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_en {\n\t\tbottom: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ws,\n\t&.ck-menu-bar__menu__panel_position_wn {\n\t\tright: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ws {\n\t\ttop: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_wn {\n\t\tbottom: 0px;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-menu-bar-menu-panel-max-width: 75vw;\n}\n\n.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\theight: fit-content;\n\tmax-width: var(--ck-menu-bar-menu-panel-max-width);\n\n\t/* Corner border radius consistent with the button. */\n\t&.ck-menu-bar__menu__panel_position_es,\n\t&.ck-menu-bar__menu__panel_position_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ws,\n\t&.ck-menu-bar__menu__panel_position_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_en,\n\t&.ck-menu-bar__menu__panel_position_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_wn,\n\t&.ck-menu-bar__menu__panel_position_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},3710:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-panel);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},991:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const a=s},5380:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-panel) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},8298:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-panel); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},2722:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text,\n\t\t\t& .ck-input-number {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},8107:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-search {\n\t& > .ck-labeled-field-view {\n\t\t& > .ck-labeled-field-view__input-wrapper > .ck-icon {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: var(--ck-spacing-medium);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: var(--ck-spacing-medium);\n\t\t\t}\n\t\t}\n\n\t\t& .ck-search__reset {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\t}\n\n\t& > .ck-search__results {\n\t\t& > .ck-search__info {\n\t\t\t& > span:first-child {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t/* Hide the filtered view when nothing was found */\n\t\t\t&:not(.ck-hidden) ~ * {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));\n}\n\n.ck.ck-search {\n\t& > .ck-labeled-field-view {\n\t\t& .ck-input {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t&.ck-search__query_with-icon {\n\t\t\t--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);\n\n\t\t\t& > .ck-labeled-field-view__input-wrapper > .ck-icon {\n\t\t\t\topacity: .5;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\n\t\t\t& .ck-input {\n\t\t\t\twidth: 100%;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tpadding-left: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\t&:not(.ck-input-text_empty) {\n\t\t\t\t\t\tpadding-left: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-search__query_with-reset {\n\t\t\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);\n\n\t\t\t&.ck-labeled-field-view_empty {\n\t\t\t\t--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);\n\t\t\t}\n\n\t\t\t& .ck-search__reset {\n\t\t\t\tmin-width: auto;\n\t\t\t\tmin-height: auto;\n\n\t\t\t\tbackground: none;\n\t\t\t\topacity: .5;\n\t\t\t\tpadding: 0;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tright: var(--ck-spacing-medium);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tleft: var(--ck-spacing-medium);\n\t\t\t\t}\n\n\t\t\t\t&:hover {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-input {\n\t\t\t\twidth: 100%;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\t&:not(.ck-input-text_empty) {\n\t\t\t\t\t\tpadding-right: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tpadding-right: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck-search__results {\n\t\tmin-width: 100%;\n\n\t\t& > .ck-search__info {\n\t\t\twidth: 100%;\n\t\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-large);\n\n\t\t\t& * {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\n\t\t\t& > span:first-child {\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\n\t\t\t& > span:last-child {\n\t\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t\t}\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const a=s},109:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-spinner-size: 18px;\n}\n\n.ck.ck-spinner-container {\n\tdisplay: block;\n\tposition: relative;\n}\n\n.ck.ck-spinner {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 0;\n\tright: 0;\n\tmargin: 0 auto;\n\ttransform: translateY(-50%);\n\tz-index: 1;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-spinner-size: 18px;\n}\n\n.ck.ck-spinner-container {\n\twidth: var(--ck-toolbar-spinner-size);\n\theight: var(--ck-toolbar-spinner-size);\n\tanimation: 1.5s infinite rotate linear;\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\tanimation-duration: 3s;\n\t}\n}\n\n.ck.ck-spinner {\n\twidth: var(--ck-toolbar-spinner-size);\n\theight: var(--ck-toolbar-spinner-size);\n\tborder-radius: 50%;\n\tborder: 2px solid var(--ck-color-text);\n\tborder-top-color: transparent;\n}\n\n@keyframes rotate {\n\tto {\n\t\ttransform: rotate(360deg)\n\t}\n}\n"],sourceRoot:""}]);const a=s},1671:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.\n * This bug is especially visible when rows=1.\n */\n.ck-textarea {\n\toverflow-x: hidden\n}\n"],sourceRoot:""}]);const a=s},2710:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const a=s},9677:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},9205:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t@mixin ck-unselectable;\n\n\tz-index: calc( var(--ck-z-dialog) + 100 );\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-tooltip-text-padding: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t&.ck-tooltip_multi-line .ck-tooltip__text {\n\t\twhite-space: break-spaces;\n\t\tdisplay: inline-block;\n\t\tpadding: var(--ck-tooltip-text-padding) 0;\n\t\tmax-width: 200px;\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const a=s},7676:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-panel: calc( var(--ck-z-default) + 999 );\n\t--ck-z-dialog: 9999;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-powered-by-line-height: 10px;\n\t--ck-powered-by-padding-vertical: 2px;\n\t--ck-powered-by-padding-horizontal: 4px;\n\t--ck-powered-by-text-color: hsl(0, 0%, 31%);\n\t--ck-powered-by-border-radius: var(--ck-border-radius);\n\t--ck-powered-by-background: hsl(0, 0%, 100%);\n\t--ck-powered-by-border-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-balloon-panel.ck-powered-by-balloon {\n\t--ck-border-radius: var(--ck-powered-by-border-radius);\n\n\tbox-shadow: none;\n\tbackground: var(--ck-powered-by-background);\n\tmin-height: unset;\n\tz-index: calc( var(--ck-z-panel) - 1 );\n\n\t& .ck.ck-powered-by {\n\t\tline-height: var(--ck-powered-by-line-height);\n\n\t\t& a {\n\t\t\tcursor: pointer;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\topacity: .66;\n\t\t\tfilter: grayscale(80%);\n\t\t\tline-height: var(--ck-powered-by-line-height);\n\t\t\tpadding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);\n\t\t}\n\n\t\t& .ck-powered-by__label {\n\t\t\tfont-size: 7.5px;\n\t\t\tletter-spacing: -.2px;\n\t\t\tpadding-left: 2px;\n\t\t\ttext-transform: uppercase;\n\t\t\tfont-weight: bold;\n\t\t\tmargin-right: 4px;\n\t\t\tcursor: pointer;\n\t\t\tline-height: normal;\n\t\t\tcolor: var(--ck-powered-by-text-color);\n\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\tdisplay: block;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&:hover {\n\t\t\t& a {\n\t\t\t\tfilter: grayscale(0%);\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[class*="position_inside"] {\n\t\tborder-color: transparent;\n\t}\n\n\t&[class*="position_border"] {\n\t\tborder: var(--ck-focus-ring);\n\t\tborder-color: var(--ck-powered-by-border-color);\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Dialog -------------------------------------------------------------------------------- */\n\n\t--ck-color-dialog-background: \t\t\t\t\t\t\t\tvar(--ck-custom-background);\n\t--ck-color-dialog-form-header-border: \t\t\t\t\t\tvar(--ck-custom-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------- */\n\n\t--ck-color-light-red:\t\t\t\t\t\t\t\t\t\thsl(0, 100%, 90%);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const a=s},695:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\ttransition: none;\n\t}\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t\t@mixin ck-media-default-colors {\n\t\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t\t}\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\ttransition: none;\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\n\t\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\t\ttransition: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-forced-colors {\n\t@media (forced-colors: active) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n\n@define-mixin ck-media-default-colors {\n\t@media (forced-colors: none) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},4095:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const a=s},8508:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9372),i=n.n(r),o=n(935),s=n.n(o)()(i());s.push([t.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\ttransition: none;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\ttransition: none;\n\t\t\t}\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\tanimation: none;\n\n\t\t\t\t& svg {\n\t\t\t\t\t& polyline {\n\t\t\t\t\t\tanimation: none;\n\t\t\t\t\t}\n\n\t\t\t\t\t& line {\n\t\t\t\t\t\tanimation: none;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const a=s},935:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},9372:t=>{"use strict";function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n=e(t,4),r=n[1],i=n[3];if(!i)return r;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),a="/*# ".concat(s," */"),c=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[r].concat(c).concat([a]).join("\n")}return[r].join("\n")}},2591:(t,e,n)=>{"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],c=e.base?o[0]+e.base:o[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=a(u),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(s[d].references++,s[d].updater(h)):s.push({identifier:u,updater:m(h,e),references:1}),r.push(u)}return r}function l(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,g=0;function m(t,e){var n,r,i;if(e.singleton){var o=g++;n=p||(p=l(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=l(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);s[i].references--}for(var o=c(t,e),l=0;l<n.length;l++){var u=a(n[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=o}}}}},i={};function o(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={id:t,exports:{}};return r[t](n,n.exports,o),n.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.nc=void 0;var s={};return(()=>{"use strict";let r;o.d(s,{default:()=>BD});try{r={window:window,document:document}}catch(i){r={window:{},document:{}}}const i=r,a=function(){try{return navigator.userAgent.toLowerCase()}catch(r){return""}}();var c;const l={isMac:u(a),isWindows:(c=a,c.indexOf("windows")>-1),isGecko:function(t){return!!t.match(/gecko\/\d+/)}(a),isSafari:function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(a),isiOS:function(t){return!!t.match(/iphone|ipad/i)||u(t)&&navigator.maxTouchPoints>0}(a),isAndroid:function(t){return t.indexOf("android")>-1}(a),isBlink:function(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}(a),get isMediaForcedColors(){return!!i.window.matchMedia&&i.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!i.window.matchMedia&&i.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:function(){let t=!1;try{t=0==="ć".search(new RegExp("[\\p{L}]","u"))}catch(t){}return t}()}};function u(t){return t.indexOf("macintosh")>-1}function d(t,e,n,r){n=n||function(t,e){return t===e};const i=Array.isArray(t)?t:Array.prototype.slice.call(t),o=Array.isArray(e)?e:Array.prototype.slice.call(e),s=function(t,e,n){const r=h(t,e,n);if(-1===r)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const i=f(t,r),o=f(e,r),s=h(i,o,n),a=t.length-s,c=e.length-s;return{firstIndex:r,lastIndexOld:a,lastIndexNew:c}}(i,o,n),a=r?function(t,e){const{firstIndex:n,lastIndexOld:r,lastIndexNew:i}=t;if(-1===n)return Array(e).fill("equal");let o=[];return n>0&&(o=o.concat(Array(n).fill("equal"))),i-n>0&&(o=o.concat(Array(i-n).fill("insert"))),r-n>0&&(o=o.concat(Array(r-n).fill("delete"))),i<e&&(o=o.concat(Array(e-i).fill("equal"))),o}(s,o.length):function(t,e){const n=[],{firstIndex:r,lastIndexOld:i,lastIndexNew:o}=e;return o-r>0&&n.push({index:r,type:"insert",values:t.slice(r,o)}),i-r>0&&n.push({index:r+(o-r),type:"delete",howMany:i-r}),n}(o,s);return a}function h(t,e,n){for(let r=0;r<Math.max(t.length,e.length);r++)if(void 0===t[r]||void 0===e[r]||!n(t[r],e[r]))return r;return-1}function f(t,e){return t.slice(e).reverse()}function p(t,e,n){n=n||function(t,e){return t===e};const r=t.length,i=e.length;if(r>200||i>200||r+i>300)return p.fastDiff(t,e,n,!0);let o,s;if(i<r){const n=t;t=e,e=n,o="delete",s="insert"}else o="insert",s="delete";const a=t.length,c=e.length,l=c-a,u={},d={};function h(r){const i=(void 0!==d[r-1]?d[r-1]:-1)+1,l=void 0!==d[r+1]?d[r+1]:-1,h=i>l?-1:1;u[r+h]&&(u[r]=u[r+h].slice(0)),u[r]||(u[r]=[]),u[r].push(i>l?o:s);let f=Math.max(i,l),p=f-r;for(;p<a&&f<c&&n(t[p],e[f]);)p++,f++,u[r].push("equal");return f}let f,g=0;do{for(f=-g;f<l;f++)d[f]=h(f);for(f=l+g;f>l;f--)d[f]=h(f);d[l]=h(l),g++}while(d[l]!==c);return u[l].slice(1)}p.fastDiff=d;const g=function(){return function t(){t.called=!0}};class m{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=g(),this.off=g()}}const v=new Array(256).fill("").map(((t,e)=>("0"+e.toString(16)).slice(-2)));function b(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+v[255&t]+v[t>>8&255]+v[t>>16&255]+v[t>>24&255]+v[255&e]+v[e>>8&255]+v[e>>16&255]+v[e>>24&255]+v[255&n]+v[n>>8&255]+v[n>>16&255]+v[n>>24&255]+v[255&r]+v[r>>8&255]+v[r>>16&255]+v[r>>24&255]}const y={get(t="normal"){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function k(t,e){const n=y.get(e.priority);for(let r=0;r<t.length;r++)if(y.get(t[r].priority)<n)return void t.splice(r,0,e);t.push(e)}const w="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class _ extends Error{constructor(t,e,n){super(function(t,e){const n=new WeakSet,r=(t,e)=>{if("object"==typeof e&&null!==e){if(n.has(e))return`[object ${e.constructor.name}]`;n.add(e)}return e},i=e?` ${JSON.stringify(e,r)}`:"",o=x(t);return t+i+o}(t,n)),this.name="CKEditorError",this.context=e,this.data=n}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new _(t.message,e);throw n.stack=t.stack,n}}function A(t,e){console.warn(...E(t,e))}function C(t,e){console.error(...E(t,e))}function x(t){return`\nRead more: ${w}#error-${t}`}function E(t,e){const n=x(t);return e?[t,e,n]:[t,n]}const S="41.4.2",M=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new _("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=S;const I=Symbol("listeningTo"),D=Symbol("emitterId"),T=Symbol("delegations"),O=N(Object);function N(t){return t?class extends t{on(t,e,n){this.listenTo(this,t,e,n)}once(t,e,n){let r=!1;this.listenTo(this,t,((t,...n)=>{r||(r=!0,t.off(),e.call(this,t,...n))}),n)}off(t,e){this.stopListening(this,t,e)}listenTo(t,e,n,r={}){let i,o;this[I]||(this[I]={});const s=this[I];L(t)||P(t);const a=L(t);(i=s[a])||(i=s[a]={emitter:t,callbacks:{}}),(o=i.callbacks[e])||(o=i.callbacks[e]=[]),o.push(n),function(t,e,n,r,i){e._addEventListener?e._addEventListener(n,r,i):t._addEventListener.call(e,n,r,i)}(this,t,e,n,r)}stopListening(t,e,n){const r=this[I];let i=t&&L(t);const o=r&&i?r[i]:void 0,s=o&&e?o.callbacks[e]:void 0;if(!(!r||t&&!o||e&&!s))if(n)F(this,t,e,n),-1!==s.indexOf(n)&&(1===s.length?delete o.callbacks[e]:F(this,t,e,n));else if(s){for(;n=s.pop();)F(this,t,e,n);delete o.callbacks[e]}else if(o){for(e in o.callbacks)this.stopListening(t,e);delete r[i]}else{for(i in r)this.stopListening(r[i].emitter);delete this[I]}}fire(t,...e){try{const n=t instanceof m?t:new m(this,t),r=n.name;let i=j(this,r);if(n.path.push(this),i){const t=[n,...e];i=Array.from(i);for(let e=0;e<i.length&&(i[e].callback.apply(this,t),n.off.called&&(delete n.off.called,this._removeEventListener(r,i[e].callback)),!n.stop.called);e++);}const o=this[T];if(o){const t=o.get(r),i=o.get("*");t&&z(t,n,e),i&&z(i,n,e)}return n.return}catch(t){_.rethrowUnexpectedError(t,this)}}delegate(...t){return{to:(e,n)=>{this[T]||(this[T]=new Map),t.forEach((t=>{const r=this[T].get(t);r?r.set(e,n):this[T].set(t,new Map([[e,n]]))}))}}}stopDelegating(t,e){if(this[T])if(t)if(e){const n=this[T].get(t);n&&n.delete(e)}else this[T].delete(t);else this[T].clear()}_addEventListener(t,e,n){!function(t,e){const n=B(t);if(n[e])return;let r=e,i=null;const o=[];for(;""!==r&&!n[r];)n[r]={callbacks:[],childEvents:[]},o.push(n[r]),i&&n[r].childEvents.push(i),i=r,r=r.substr(0,r.lastIndexOf(":"));if(""!==r){for(const t of o)t.callbacks=n[r].callbacks.slice();n[r].childEvents.push(i)}}(this,t);const r=R(this,t),i={callback:e,priority:y.get(n.priority)};for(const o of r)k(o,i)}_removeEventListener(t,e){const n=R(this,t);for(const r of n)for(let t=0;t<r.length;t++)r[t].callback==e&&(r.splice(t,1),t--)}}:O}function P(t,e){t[D]||(t[D]=e||b())}function L(t){return t[D]}function B(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function R(t,e){const n=B(t)[e];if(!n)return[];let r=[n.callbacks];for(let i=0;i<n.childEvents.length;i++){const e=R(t,n.childEvents[i]);r=r.concat(e)}return r}function j(t,e){let n;return t._events&&(n=t._events[e])&&n.callbacks.length?n.callbacks:e.indexOf(":")>-1?j(t,e.substr(0,e.lastIndexOf(":"))):null}function z(t,e,n){for(let[r,i]of t){i?"function"==typeof i&&(i=i(e.name)):i=e.name;const t=new m(e.source,i);t.path=[...e.path],r.fire(t,...n)}}function F(t,e,n,r){e._removeEventListener?e._removeEventListener(n,r):t._removeEventListener.call(e,n,r)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{N[t]=O.prototype[t]}));const V=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},U=Symbol("observableProperties"),G=Symbol("boundObservables"),H=Symbol("boundProperties"),$=Symbol("decoratedMethods"),W=Symbol("decoratedOriginal"),Y=q(N());function q(t){return t?class extends t{set(t,e){if(V(t))return void Object.keys(t).forEach((e=>{this.set(e,t[e])}),this);X(this);const n=this[U];if(t in this&&!n.has(t))throw new _("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const r=n.get(t);let i=this.fire(`set:${t}`,t,e,r);void 0===i&&(i=e),r===i&&n.has(t)||(n.set(t,i),this.fire(`change:${t}`,t,i,r))}}),this[t]=e}bind(...t){if(!t.length||!Q(t))throw new _("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new _("observable-bind-duplicate-properties",this);X(this);const e=this[H];t.forEach((t=>{if(e.has(t))throw new _("observable-bind-rebind",this)}));const n=new Map;return t.forEach((t=>{const r={property:t,to:[]};e.set(t,r),n.set(t,r)})),{to:K,toMany:Z,_observable:this,_bindProperties:t,_to:[],_bindings:n}}unbind(...t){if(!this[U])return;const e=this[H],n=this[G];if(t.length){if(!Q(t))throw new _("observable-unbind-wrong-properties",this);t.forEach((t=>{const r=e.get(t);r&&(r.to.forEach((([t,e])=>{const i=n.get(t),o=i[e];o.delete(r),o.size||delete i[e],Object.keys(i).length||(n.delete(t),this.stopListening(t,"change"))})),e.delete(t))}))}else n.forEach(((t,e)=>{this.stopListening(e,"change")})),n.clear(),e.clear()}decorate(t){X(this);const e=this[t];if(!e)throw new _("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,((t,n)=>{t.return=e.apply(this,n)})),this[t]=function(...e){return this.fire(t,e)},this[t][W]=e,this[$]||(this[$]=[]),this[$].push(t)}stopListening(t,e,n){if(!t&&this[$]){for(const t of this[$])this[t]=this[t][W];delete this[$]}super.stopListening(t,e,n)}}:Y}function X(t){t[U]||(Object.defineProperty(t,U,{value:new Map}),Object.defineProperty(t,G,{value:new Map}),Object.defineProperty(t,H,{value:new Map}))}function K(...t){const e=function(...t){if(!t.length)throw new _("observable-bind-to-parse-error",null);const e={to:[]};let n;return"function"==typeof t[t.length-1]&&(e.callback=t.pop()),t.forEach((t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new _("observable-bind-to-parse-error",null);n={observable:t,properties:[]},e.to.push(n)}})),e}(...t),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&e.to.length>1)throw new _("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new _("observable-bind-to-extra-callback",this);var i;e.to.forEach((t=>{if(t.properties.length&&t.properties.length!==r)throw new _("observable-bind-to-properties-length",this);t.properties.length||(t.properties=this._bindProperties)})),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),i=this._observable,this._to.forEach((t=>{const e=i[G];let n;e.get(t.observable)||i.listenTo(t.observable,"change",((r,o)=>{n=e.get(t.observable)[o],n&&n.forEach((t=>{J(i,t.property)}))}))})),function(t){let e;t._bindings.forEach(((n,r)=>{t._to.forEach((i=>{e=i.properties[n.callback?0:t._bindProperties.indexOf(r)],n.to.push([i.observable,e]),function(t,e,n,r){const i=t[G],o=i.get(n),s=o||{};s[r]||(s[r]=new Set),s[r].add(e),o||i.set(n,s)}(t._observable,n,i.observable,e)}))}))}(this),this._bindProperties.forEach((t=>{J(this._observable,t)}))}function Z(t,e,n){if(this._bindings.size>1)throw new _("observable-bind-to-many-not-one-binding",this);this.to(...function(t,e){const n=t.map((t=>[t,e]));return Array.prototype.concat.apply([],n)}(t,e),n)}function Q(t){return t.every((t=>"string"==typeof t))}function J(t,e){const n=t[H].get(e);let r;n.callback?r=n.callback.apply(t,n.to.map((t=>t[0][t[1]]))):(r=n.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=r:t.set(e,r)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{q[t]=Y.prototype[t]}));class tt{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach((({element:t,newElement:e})=>{t.style.display="",e&&e.remove()})),this._replacedElements=[]}}function et(t){let e=0;for(const n of t)e++;return e}function nt(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)if(t[r]!=e[r])return r;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}function rt(t){return!(!t||!t[Symbol.iterator])}const it="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;var ot="object"==typeof self&&self&&self.Object===Object&&self;const st=it||ot||Function("return this")(),at=st.Symbol;var ct=Object.prototype,lt=ct.hasOwnProperty,ut=ct.toString,dt=at?at.toStringTag:void 0;const ht=function(t){var e=lt.call(t,dt),n=t[dt];try{t[dt]=void 0;var r=!0}catch(t){}var i=ut.call(t);return r&&(e?t[dt]=n:delete t[dt]),i};var ft=Object.prototype.toString;const pt=function(t){return ft.call(t)};var gt=at?at.toStringTag:void 0;const mt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":gt&&gt in Object(t)?ht(t):pt(t)},vt=Array.isArray,bt=function(t){return null!=t&&"object"==typeof t},yt=function(t){return"string"==typeof t||!vt(t)&&bt(t)&&"[object String]"==mt(t)};function kt(t,e,n={},r=[]){const i=n&&n.xmlns,o=i?t.createElementNS(i,e):t.createElement(e);for(const s in n)o.setAttribute(s,n[s]);!yt(r)&&rt(r)||(r=[r]);for(let s of r)yt(s)&&(s=t.createTextNode(s)),o.appendChild(s);return o}const wt=function(t,e){return function(n){return t(e(n))}},_t=wt(Object.getPrototypeOf,Object);var At=Function.prototype,Ct=Object.prototype,xt=At.toString,Et=Ct.hasOwnProperty,St=xt.call(Object);const Mt=function(t){if(!bt(t)||"[object Object]"!=mt(t))return!1;var e=_t(t);if(null===e)return!0;var n=Et.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&xt.call(n)==St},It=function(){this.__data__=[],this.size=0},Dt=function(t,e){return t===e||t!=t&&e!=e},Tt=function(t,e){for(var n=t.length;n--;)if(Dt(t[n][0],e))return n;return-1};var Ot=Array.prototype.splice;const Nt=function(t){var e=this.__data__,n=Tt(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ot.call(e,n,1),--this.size,!0)},Pt=function(t){var e=this.__data__,n=Tt(e,t);return n<0?void 0:e[n][1]},Lt=function(t){return Tt(this.__data__,t)>-1},Bt=function(t,e){var n=this.__data__,r=Tt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Rt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rt.prototype.clear=It,Rt.prototype.delete=Nt,Rt.prototype.get=Pt,Rt.prototype.has=Lt,Rt.prototype.set=Bt;const jt=Rt,zt=function(){this.__data__=new jt,this.size=0},Ft=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Vt=function(t){return this.__data__.get(t)},Ut=function(t){return this.__data__.has(t)},Gt=function(t){if(!V(t))return!1;var e=mt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Ht=st["__core-js_shared__"];var $t=function(){var t=/[^.]+$/.exec(Ht&&Ht.keys&&Ht.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();const Wt=function(t){return!!$t&&$t in t};var Yt=Function.prototype.toString;const qt=function(t){if(null!=t){try{return Yt.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var Xt=/^\[object .+?Constructor\]$/,Kt=Function.prototype,Zt=Object.prototype,Qt=Kt.toString,Jt=Zt.hasOwnProperty,te=RegExp("^"+Qt.call(Jt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ee=function(t){return!(!V(t)||Wt(t))&&(Gt(t)?te:Xt).test(qt(t))},ne=function(t,e){return null==t?void 0:t[e]},re=function(t,e){var n=ne(t,e);return ee(n)?n:void 0},ie=re(st,"Map"),oe=re(Object,"create"),se=function(){this.__data__=oe?oe(null):{},this.size=0},ae=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var ce=Object.prototype.hasOwnProperty;const le=function(t){var e=this.__data__;if(oe){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ce.call(e,t)?e[t]:void 0};var ue=Object.prototype.hasOwnProperty;const de=function(t){var e=this.__data__;return oe?void 0!==e[t]:ue.call(e,t)},he=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=oe&&void 0===e?"__lodash_hash_undefined__":e,this};function fe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fe.prototype.clear=se,fe.prototype.delete=ae,fe.prototype.get=le,fe.prototype.has=de,fe.prototype.set=he;const pe=fe,ge=function(){this.size=0,this.__data__={hash:new pe,map:new(ie||jt),string:new pe}},me=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},ve=function(t,e){var n=t.__data__;return me(e)?n["string"==typeof e?"string":"hash"]:n.map},be=function(t){var e=ve(this,t).delete(t);return this.size-=e?1:0,e},ye=function(t){return ve(this,t).get(t)},ke=function(t){return ve(this,t).has(t)},we=function(t,e){var n=ve(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function _e(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_e.prototype.clear=ge,_e.prototype.delete=be,_e.prototype.get=ye,_e.prototype.has=ke,_e.prototype.set=we;const Ae=_e,Ce=function(t,e){var n=this.__data__;if(n instanceof jt){var r=n.__data__;if(!ie||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ae(r)}return n.set(t,e),this.size=n.size,this};function xe(t){var e=this.__data__=new jt(t);this.size=e.size}xe.prototype.clear=zt,xe.prototype.delete=Ft,xe.prototype.get=Vt,xe.prototype.has=Ut,xe.prototype.set=Ce;const Ee=xe,Se=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},Me=function(){try{var t=re(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ie=function(t,e,n){"__proto__"==e&&Me?Me(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var De=Object.prototype.hasOwnProperty;const Te=function(t,e,n){var r=t[e];De.call(t,e)&&Dt(r,n)&&(void 0!==n||e in t)||Ie(t,e,n)},Oe=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?Ie(n,a,c):Te(n,a,c)}return n},Ne=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Pe=function(t){return bt(t)&&"[object Arguments]"==mt(t)};var Le=Object.prototype,Be=Le.hasOwnProperty,Re=Le.propertyIsEnumerable;const je=Pe(function(){return arguments}())?Pe:function(t){return bt(t)&&Be.call(t,"callee")&&!Re.call(t,"callee")},ze=function(){return!1};var Fe=e&&!e.nodeType&&e,Ve=Fe&&t&&!t.nodeType&&t,Ue=Ve&&Ve.exports===Fe?st.Buffer:void 0;const Ge=(Ue?Ue.isBuffer:void 0)||ze;var He=/^(?:0|[1-9]\d*)$/;const $e=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&He.test(t))&&t>-1&&t%1==0&&t<e},We=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Arguments]"]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object Boolean]"]=Ye["[object DataView]"]=Ye["[object Date]"]=Ye["[object Error]"]=Ye["[object Function]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye["[object Object]"]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object WeakMap]"]=!1;const qe=function(t){return bt(t)&&We(t.length)&&!!Ye[mt(t)]},Xe=function(t){return function(e){return t(e)}};var Ke=e&&!e.nodeType&&e,Ze=Ke&&t&&!t.nodeType&&t,Qe=Ze&&Ze.exports===Ke&&it.process;const Je=function(){try{var t=Ze&&Ze.require&&Ze.require("util").types;return t||Qe&&Qe.binding&&Qe.binding("util")}catch(t){}}();var tn=Je&&Je.isTypedArray;const en=tn?Xe(tn):qe;var nn=Object.prototype.hasOwnProperty;const rn=function(t,e){var n=vt(t),r=!n&&je(t),i=!n&&!r&&Ge(t),o=!n&&!r&&!i&&en(t),s=n||r||i||o,a=s?Ne(t.length,String):[],c=a.length;for(var l in t)!e&&!nn.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||$e(l,c))||a.push(l);return a};var on=Object.prototype;const sn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||on)},an=wt(Object.keys,Object);var cn=Object.prototype.hasOwnProperty;const ln=function(t){if(!sn(t))return an(t);var e=[];for(var n in Object(t))cn.call(t,n)&&"constructor"!=n&&e.push(n);return e},un=function(t){return null!=t&&We(t.length)&&!Gt(t)},dn=function(t){return un(t)?rn(t):ln(t)},hn=function(t,e){return t&&Oe(e,dn(e),t)},fn=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e};var pn=Object.prototype.hasOwnProperty;const gn=function(t){if(!V(t))return fn(t);var e=sn(t),n=[];for(var r in t)("constructor"!=r||!e&&pn.call(t,r))&&n.push(r);return n},mn=function(t){return un(t)?rn(t,!0):gn(t)},vn=function(t,e){return t&&Oe(e,mn(e),t)};var bn=e&&!e.nodeType&&e,yn=bn&&t&&!t.nodeType&&t,kn=yn&&yn.exports===bn?st.Buffer:void 0,wn=kn?kn.allocUnsafe:void 0;const _n=function(t,e){if(e)return t.slice();var n=t.length,r=wn?wn(n):new t.constructor(n);return t.copy(r),r},An=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Cn=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o},xn=function(){return[]};var En=Object.prototype.propertyIsEnumerable,Sn=Object.getOwnPropertySymbols;const Mn=Sn?function(t){return null==t?[]:(t=Object(t),Cn(Sn(t),(function(e){return En.call(t,e)})))}:xn,In=function(t,e){return Oe(t,Mn(t),e)},Dn=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Tn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Dn(e,Mn(t)),t=_t(t);return e}:xn,On=function(t,e){return Oe(t,Tn(t),e)},Nn=function(t,e,n){var r=e(t);return vt(t)?r:Dn(r,n(t))},Pn=function(t){return Nn(t,dn,Mn)},Ln=function(t){return Nn(t,mn,Tn)},Bn=re(st,"DataView"),Rn=re(st,"Promise"),jn=re(st,"Set"),zn=re(st,"WeakMap");var Fn="[object Map]",Vn="[object Promise]",Un="[object Set]",Gn="[object WeakMap]",Hn="[object DataView]",$n=qt(Bn),Wn=qt(ie),Yn=qt(Rn),qn=qt(jn),Xn=qt(zn),Kn=mt;(Bn&&Kn(new Bn(new ArrayBuffer(1)))!=Hn||ie&&Kn(new ie)!=Fn||Rn&&Kn(Rn.resolve())!=Vn||jn&&Kn(new jn)!=Un||zn&&Kn(new zn)!=Gn)&&(Kn=function(t){var e=mt(t),n="[object Object]"==e?t.constructor:void 0,r=n?qt(n):"";if(r)switch(r){case $n:return Hn;case Wn:return Fn;case Yn:return Vn;case qn:return Un;case Xn:return Gn}return e});const Zn=Kn;var Qn=Object.prototype.hasOwnProperty;const Jn=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Qn.call(t,"index")&&(n.index=t.index,n.input=t.input),n},tr=st.Uint8Array,er=function(t){var e=new t.constructor(t.byteLength);return new tr(e).set(new tr(t)),e},nr=function(t,e){var n=e?er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)};var rr=/\w*$/;const ir=function(t){var e=new t.constructor(t.source,rr.exec(t));return e.lastIndex=t.lastIndex,e};var or=at?at.prototype:void 0,sr=or?or.valueOf:void 0;const ar=function(t){return sr?Object(sr.call(t)):{}},cr=function(t,e){var n=e?er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},lr=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return er(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return nr(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cr(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return ir(t);case"[object Symbol]":return ar(t)}};var ur=Object.create;const dr=function(){function t(){}return function(e){if(!V(e))return{};if(ur)return ur(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),hr=function(t){return"function"!=typeof t.constructor||sn(t)?{}:dr(_t(t))},fr=function(t){return bt(t)&&"[object Map]"==Zn(t)};var pr=Je&&Je.isMap;const gr=pr?Xe(pr):fr,mr=function(t){return bt(t)&&"[object Set]"==Zn(t)};var vr=Je&&Je.isSet;const br=vr?Xe(vr):mr;var yr="[object Arguments]",kr="[object Function]",wr="[object Object]",_r={};_r[yr]=_r["[object Array]"]=_r["[object ArrayBuffer]"]=_r["[object DataView]"]=_r["[object Boolean]"]=_r["[object Date]"]=_r["[object Float32Array]"]=_r["[object Float64Array]"]=_r["[object Int8Array]"]=_r["[object Int16Array]"]=_r["[object Int32Array]"]=_r["[object Map]"]=_r["[object Number]"]=_r[wr]=_r["[object RegExp]"]=_r["[object Set]"]=_r["[object String]"]=_r["[object Symbol]"]=_r["[object Uint8Array]"]=_r["[object Uint8ClampedArray]"]=_r["[object Uint16Array]"]=_r["[object Uint32Array]"]=!0,_r["[object Error]"]=_r[kr]=_r["[object WeakMap]"]=!1;const Ar=function t(e,n,r,i,o,s){var a,c=1&n,l=2&n,u=4&n;if(r&&(a=o?r(e,i,o,s):r(e)),void 0!==a)return a;if(!V(e))return e;var d=vt(e);if(d){if(a=Jn(e),!c)return An(e,a)}else{var h=Zn(e),f=h==kr||"[object GeneratorFunction]"==h;if(Ge(e))return _n(e,c);if(h==wr||h==yr||f&&!o){if(a=l||f?{}:hr(e),!c)return l?On(e,vn(a,e)):In(e,hn(a,e))}else{if(!_r[h])return o?e:{};a=lr(e,h,c)}}s||(s=new Ee);var p=s.get(e);if(p)return p;s.set(e,a),br(e)?e.forEach((function(i){a.add(t(i,n,r,i,e,s))})):gr(e)&&e.forEach((function(i,o){a.set(o,t(i,n,r,o,e,s))}));var g=d?void 0:(u?l?Ln:Pn:l?mn:dn)(e);return Se(g||e,(function(i,o){g&&(i=e[o=i]),Te(a,o,t(i,n,r,o,e,s))})),a},Cr=function(t,e){return Ar(t,5,e="function"==typeof e?e:void 0)},xr=function(t){return bt(t)&&1===t.nodeType&&!Mt(t)};class Er{constructor(t,e){this._config={},e&&this.define(Sr(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,r=!1){if(Mt(e))return void this._setObjectToTarget(t,e,r);const i=e.split(".");e=i.pop();for(const o of i)Mt(t[o])||(t[o]={}),t=t[o];if(Mt(n))return Mt(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,r);r&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const r of n){if(!Mt(t[r])){t=null;break}t=t[r]}return t?Sr(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach((r=>{this._setToTarget(t,r,e[r],n)}))}}function Sr(t){return Cr(t,Mr)}function Mr(t){return xr(t)||"function"==typeof t?t:void 0}function Ir(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}function Dr(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}const Tr=Or(N());function Or(t){return t?class extends t{listenTo(t,e,n,r={}){if(Ir(t)||Dr(t)){const i={capture:!!r.useCapture,passive:!!r.usePassive},o=this._getProxyEmitter(t,i)||new Nr(t,i);this.listenTo(o,e,n,r)}else super.listenTo(t,e,n,r)}stopListening(t,e,n){if(Ir(t)||Dr(t)){const r=this._getAllProxyEmitters(t);for(const t of r)this.stopListening(t,e,n)}else super.stopListening(t,e,n)}_getProxyEmitter(t,e){return function(t,e){const n=t[I];return n&&n[e]?n[e].emitter:null}(this,Pr(t,e))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((e=>this._getProxyEmitter(t,e))).filter((t=>!!t))}}:Tr}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{Or[t]=Tr.prototype[t]}));class Nr extends(N()){constructor(t,e){super(),P(this,Pr(t,e)),this._domNode=t,this._options=e}attach(t){if(this._domListeners&&this._domListeners[t])return;const e=this._createDomListener(t);this._domNode.addEventListener(t,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=e}detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,e,n){this.attach(t),N().prototype._addEventListener.call(this,t,e,n)}_removeEventListener(t,e){N().prototype._removeEventListener.call(this,t,e),this.detach(t)}_createDomListener(t){const e=e=>{this.fire(t,e)};return e.removeListener=()=>{this._domNode.removeEventListener(t,e,this._options),delete this._domListeners[t]},e}}function Pr(t,e){let n=function(t){return t["data-ck-expando"]||(t["data-ck-expando"]=b())}(t);for(const r of Object.keys(e).sort())e[r]&&(n+="-"+r);return n}function Lr(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function Br(t){return"[object Text]"==Object.prototype.toString.call(t)}function Rr(t){return"[object Range]"==Object.prototype.toString.apply(t)}function jr(t){return t&&t.parentNode?t.offsetParent===i.document.body?null:t.offsetParent:null}const zr=["top","right","bottom","left","width","height"];class Fr{constructor(t){const e=Rr(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Gr(t)||e)if(e){const e=Fr.getDomRangeRects(t);Vr(this,Fr.getBoundingRect(e))}else Vr(this,t.getBoundingClientRect());else if(Dr(t)){const{innerWidth:e,innerHeight:n}=t;Vr(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else Vr(this,t)}clone(){return new Fr(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0)return null;{const t=new Fr(e);return t._source=this._source,t}}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(Ur(t))return e;let n,r=t,i=t.parentNode||t.commonAncestorContainer;for(;i&&!Ur(i);){const t="visible"===((o=i)instanceof HTMLElement?o.ownerDocument.defaultView.getComputedStyle(o).overflow:"visible");r instanceof HTMLElement&&"absolute"===Hr(r)&&(n=r);const s=Hr(i);if(t||n&&("relative"===s&&t||"relative"!==s)){r=i,i=i.parentNode;continue}const a=new Fr(i),c=e.getIntersection(a);if(!c)return null;c.getArea()<e.getArea()&&(e=c),r=i,i=i.parentNode}var o;return e}isEqual(t){for(const e of zr)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:e}=i.window,n=this.clone().moveBy(t,e);if(Gr(n._source)){const t=jr(n._source);t&&function(t,e){const n=new Fr(e),r=Lr(e);let i=0,o=0;i-=n.left,o-=n.top,i+=e.scrollLeft,o+=e.scrollTop,i-=r.left,o-=r.top,t.moveBy(i,o)}(n,t)}return n}excludeScrollbarsAndBorders(){const t=this._source;let e,n,r;if(Dr(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,r=t.getComputedStyle(t.document.documentElement).direction;else{const i=Lr(t);e=t.offsetWidth-t.clientWidth-i.left-i.right,n=t.offsetHeight-t.clientHeight-i.top-i.bottom,r=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=i.left,this.top+=i.top,this.right-=i.right,this.bottom-=i.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===r?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const r of n)e.push(new Fr(r));else{let n=t.startContainer;Br(n)&&(n=n.parentNode);const r=new Fr(n.getBoundingClientRect());r.right=r.left,r.width=0,e.push(r)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const r of t)n++,e.left=Math.min(e.left,r.left),e.top=Math.min(e.top,r.top),e.right=Math.max(e.right,r.right),e.bottom=Math.max(e.bottom,r.bottom);return 0==n?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new Fr(e))}}function Vr(t,e){for(const n of zr)t[n]=e[n]}function Ur(t){return!!Gr(t)&&t===t.ownerDocument.body}function Gr(t){return null!==t&&"object"==typeof t&&1===t.nodeType&&"function"==typeof t.getBoundingClientRect}function Hr(t){return t instanceof HTMLElement?t.ownerDocument.defaultView.getComputedStyle(t).position:"static"}const $r=class{constructor(t,e){$r._observerInstance||$r._createObserver(),this._element=t,this._callback=e,$r._addElementCallback(t,e),$r._observerInstance.observe(t)}get element(){return this._element}destroy(){$r._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){$r._elementCallbacks||($r._elementCallbacks=new Map);let n=$r._elementCallbacks.get(t);n||(n=new Set,$r._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=$r._getElementCallbacks(t);n&&(n.delete(e),n.size||($r._elementCallbacks.delete(t),$r._observerInstance.unobserve(t))),$r._elementCallbacks&&!$r._elementCallbacks.size&&($r._observerInstance=null,$r._elementCallbacks=null)}static _getElementCallbacks(t){return $r._elementCallbacks?$r._elementCallbacks.get(t):null}static _createObserver(){$r._observerInstance=new i.window.ResizeObserver((t=>{for(const e of t){const t=$r._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}}))}};let Wr=$r;function Yr(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}function qr(t){return e=>e+t}function Xr(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function Kr(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function Zr(t){return t&&t.nodeType===Node.COMMENT_NODE}function Qr(t){return!!(t&&t.getClientRects&&t.getClientRects().length)}Wr._observerInstance=null,Wr._elementCallbacks=null;var Jr=Math.pow;function ti({element:t,target:e,positions:n,limiter:r,fitInViewport:o,viewportOffsetConfig:s}){Gt(e)&&(e=e()),Gt(r)&&(r=r());const a=jr(t),c=function(t){t=Object.assign({top:0,bottom:0,left:0,right:0},t);const e=new Fr(i.window);return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e}(s),l=new Fr(t),u=ei(e,c);let d;if(!u||!c.getIntersection(u))return null;const h={targetRect:u,elementRect:l,positionedElementAncestor:a,viewportRect:c};if(r||o){if(r){const t=ei(r,c);t&&(h.limiterRect=t)}d=function(t,e){const{elementRect:n}=e,r=n.getArea(),i=t.map((t=>new ni(t,e))).filter((t=>!!t.name));let o=0,s=null;for(const a of i){const{limiterIntersectionArea:t,viewportIntersectionArea:e}=a;if(t===r)return a;const n=Jr(e,2)+Jr(t,2);n>o&&(o=n,s=a)}return s}(n,h)}else d=new ni(n[0],h);return d}function ei(t,e){const n=new Fr(t).getVisible();return n?n.getIntersection(e):null}class ni{constructor(t,e){const n=t(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect);if(!n)return;const{left:r,top:i,name:o,config:s}=n;this.name=o,this.config=s,this._positioningFunctionCoordinates={left:r,top:i},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function ri(t){const e=t.parentNode;e&&e.removeChild(t)}function ii({window:t,rect:e,alignToTop:n,forceScroll:r,viewportOffset:i}){const o=e.clone().moveBy(0,i.bottom),s=e.clone().moveBy(0,-i.top),a=new Fr(t).excludeScrollbarsAndBorders(),c=n&&r,l=[s,o].every((t=>a.contains(t)));let{scrollX:u,scrollY:d}=t;const h=u,f=d;c?d-=a.top-e.top+i.top:l||(ai(s,a)?d-=a.top-e.top+i.top:si(o,a)&&(d+=n?e.top-a.top-i.top:e.bottom-a.bottom+i.bottom)),l||(ci(e,a)?u-=a.left-e.left+i.left:li(e,a)&&(u+=e.right-a.right+i.right)),u==h&&d===f||t.scrollTo(u,d)}function oi({parent:t,getRect:e,alignToTop:n,forceScroll:r,ancestorOffset:i=0,limiterElement:o}){const s=ui(t),a=n&&r;let c,l,u;const d=o||s.document.body;for(;t!=d;)l=e(),c=new Fr(t).excludeScrollbarsAndBorders(),u=c.contains(l),a?t.scrollTop-=c.top-l.top+i:u||(ai(l,c)?t.scrollTop-=c.top-l.top+i:si(l,c)&&(t.scrollTop+=n?l.top-c.top-i:l.bottom-c.bottom+i)),u||(ci(l,c)?t.scrollLeft-=c.left-l.left+i:li(l,c)&&(t.scrollLeft+=l.right-c.right+i)),t=t.parentNode}function si(t,e){return t.bottom>e.bottom}function ai(t,e){return t.top<e.top}function ci(t,e){return t.left<e.left}function li(t,e){return t.right>e.right}function ui(t){return Rr(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function di(t){if(Rr(t)){let e=t.commonAncestorContainer;return Br(e)&&(e=e.parentNode),e}return t.parentNode}function hi(t,e){const n=ui(t),r=new Fr(t);if(n===e)return r;{let t=n;for(;t!=e;){const e=t.frameElement,n=new Fr(e).excludeScrollbarsAndBorders();r.moveBy(n.left,n.top),t=t.parent}}return r}const fi={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},pi={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},gi={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},mi=function(){const t={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)t[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return Object.assign(t,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),t}(),vi=Object.fromEntries(Object.entries(mi).map((([t,e])=>{let n;return n=e in gi?gi[e]:t.charAt(0).toUpperCase()+t.slice(1),[e,n]})));function bi(t){let e;if("string"==typeof t){if(e=mi[t.toLowerCase()],!e)throw new _("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?mi.alt:0)+(t.ctrlKey?mi.ctrl:0)+(t.shiftKey?mi.shift:0)+(t.metaKey?mi.cmd:0);return e}function yi(t){return"string"==typeof t&&(t=function(t){return t.split("+").map((t=>t.trim()))}(t)),t.map((t=>"string"==typeof t?function(t){if(t.endsWith("!"))return bi(t.slice(0,-1));const e=bi(t);return(l.isMac||l.isiOS)&&e==mi.ctrl?mi.cmd:e}(t):t)).reduce(((t,e)=>e+t),0)}function ki(t){let e=yi(t);return Object.entries(l.isMac||l.isiOS?fi:pi).reduce(((t,[n,r])=>(e&mi[n]&&(e&=~mi[n],t+=r),t)),"")+(e?vi[e]:"")}function wi(t,e){const n="ltr"===e;switch(t){case mi.arrowleft:return n?"left":"right";case mi.arrowright:return n?"right":"left";case mi.arrowup:return"up";case mi.arrowdown:return"down"}}function _i(t){return Array.isArray(t)?t:[t]}const Ai=function(t,e,n){(void 0!==n&&!Dt(t[e],n)||void 0===n&&!(e in t))&&Ie(t,e,n)},Ci=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}(),xi=function(t){return bt(t)&&un(t)},Ei=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Si=function(t){return Oe(t,mn(t))},Mi=function(t,e,n,r,i,o,s){var a=Ei(t,n),c=Ei(e,n),l=s.get(c);if(l)Ai(t,n,l);else{var u=o?o(a,c,n+"",t,e,s):void 0,d=void 0===u;if(d){var h=vt(c),f=!h&&Ge(c),p=!h&&!f&&en(c);u=c,h||f||p?vt(a)?u=a:xi(a)?u=An(a):f?(d=!1,u=_n(c,!0)):p?(d=!1,u=cr(c,!0)):u=[]:Mt(c)||je(c)?(u=a,je(a)?u=Si(a):V(a)&&!Gt(a)||(u=hr(c))):d=!1}d&&(s.set(c,u),i(u,c,r,o,s),s.delete(c)),Ai(t,n,u)}},Ii=function t(e,n,r,i,o){e!==n&&Ci(n,(function(s,a){if(o||(o=new Ee),V(s))Mi(e,n,a,r,t,i,o);else{var c=i?i(Ei(e,a),s,a+"",e,n,o):void 0;void 0===c&&(c=s),Ai(e,a,c)}}),mn)},Di=function(t){return t},Ti=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var Oi=Math.max;const Ni=function(t,e,n){return e=Oi(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Oi(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Ti(t,this,a)}},Pi=function(t){return function(){return t}},Li=Me?function(t,e){return Me(t,"toString",{configurable:!0,enumerable:!1,value:Pi(e),writable:!0})}:Di;var Bi=Date.now;const Ri=function(t){var e=0,n=0;return function(){var r=Bi(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},ji=Ri(Li),zi=function(t,e){return ji(Ni(t,e,Di),t+"")},Fi=function(t,e,n){if(!V(n))return!1;var r=typeof e;return!!("number"==r?un(n)&&$e(e,n.length):"string"==r&&e in n)&&Dt(n[e],t)},Vi=function(t){return zi((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&Fi(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e}))},Ui=Vi((function(t,e,n){Ii(t,e,n)}));function Gi(t,e,n=1,r){if("number"!=typeof n)throw new _("translation-service-quantity-not-a-number",null,{quantity:n});const o=r||i.window.CKEDITOR_TRANSLATIONS,s=function(t){return Object.keys(t).length}(o);1===s&&(t=Object.keys(o)[0]);const a=e.id||e.string;if(0===s||!function(t,e,n){return!!n[t]&&!!n[t].dictionary[e]}(t,a,o))return 1!==n?e.plural:e.string;const c=o[t].dictionary,l=o[t].getPluralForm||(t=>1===t?0:1),u=c[a];return"string"==typeof u?u:u[Number(l(n))]}i.window.CKEDITOR_TRANSLATIONS||(i.window.CKEDITOR_TRANSLATIONS={});const Hi=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function $i(t){return Hi.includes(t)?"rtl":"ltr"}class Wi{constructor({uiLanguage:t="en",contentLanguage:e,translations:n}={}){this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=$i(this.uiLanguage),this.contentLanguageDirection=$i(this.contentLanguage),this.translations=function(t){return Array.isArray(t)?t.reduce(((t,e)=>Ui(t,e))):t}(n),this.t=(t,e)=>this._t(t,e)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=_i(e),"string"==typeof t&&(t={string:t});const n=t.plural?e[0]:1;return function(t,e){return t.replace(/%(\d+)/g,((t,n)=>n<e.length?e[n]:t))}(Gi(this.uiLanguage,t,n,this.translations),e)}}class Yi extends(N()){constructor(t={},e={}){super();const n=rt(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const r of t)this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new _("collection-add-item-invalid-index",this);let n=0;for(const r of t){const t=this._getItemIdBeforeAdding(r),i=e+n;this._items.splice(i,0,r),this._itemMap.set(t,r),this.fire("add",r,i),n++}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new _("collection-get-invalid-arg",this);e=this._items[t]}return e||null}has(t){if("string"==typeof t)return this._itemMap.has(t);{const e=t[this._idProperty];return e&&this._itemMap.has(e)}}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,e?this._items.indexOf(e):-1}remove(t){const[e,n]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:n}),e}map(t,e){return this._items.map(t,e)}forEach(t,e){this._items.forEach(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new _("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding((e=>new t(e)))},using:t=>{"function"==typeof t?this._setUpBindToBinding(t):this._setUpBindToBinding((e=>e[t]))}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,r,i)=>{const o=e._bindToCollection==this,s=e._bindToInternalToExternalMap.get(r);if(o&&s)this._bindToExternalToInternalMap.set(r,s),this._bindToInternalToExternalMap.set(s,r);else{const n=t(r);if(!n)return void this._skippedIndexesFromExternal.push(i);let o=i;for(const t of this._skippedIndexesFromExternal)i>t&&o--;for(const t of e._skippedIndexesFromExternal)o>=t&&o++;this._bindToExternalToInternalMap.set(r,n),this._bindToInternalToExternalMap.set(n,r),this.add(n,o);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)o<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const r of e)n(0,r,e.getIndex(r));this.listenTo(e,"add",n),this.listenTo(e,"remove",((t,e,n)=>{const r=this._bindToExternalToInternalMap.get(e);r&&this.remove(r),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t)),[])}))}_getItemIdBeforeAdding(t){const e=this._idProperty;let n;if(e in t){if(n=t[e],"string"!=typeof n)throw new _("collection-add-invalid-id",this);if(this.get(n))throw new _("collection-add-item-already-exists",this)}else t[e]=n=b();return n}_remove(t){let e,n,r,i=!1;const o=this._idProperty;if("string"==typeof t?(n=t,r=this._itemMap.get(n),i=!r,r&&(e=this._items.indexOf(r))):"number"==typeof t?(e=t,r=this._items[e],i=!r,r&&(n=r[o])):(r=t,n=r[o],e=this._items.indexOf(r),i=-1==e||!this._itemMap.get(n)),i)throw new _("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(s),this.fire("remove",r,e),[r,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function qi(t){const e=t.next();return e.done?null:e.value}class Xi extends(Or(q())){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new _("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",(()=>this._focus(t)),{useCapture:!0}),this.listenTo(t,"blur",(()=>this._blur()),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0)}}class Ki{constructor(){this._listener=new(Or())}listenTo(t){this._listener.listenTo(t,"keydown",((t,e)=>{this._listener.fire("_keydown:"+bi(e),e)}))}set(t,e,n={}){const r=yi(t),i=n.priority;this._listener.listenTo(this._listener,"_keydown:"+r,((t,n)=>{e(n,(()=>{n.preventDefault(),n.stopPropagation(),t.stop()})),t.return=!0}),{priority:i})}press(t){return!!this._listener.fire("_keydown:"+bi(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}function Zi(t){return rt(t)?new Map(t):function(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}(t)}function Qi(t,e){let n;function r(...i){r.cancel(),n=setTimeout((()=>t(...i)),e)}return r.cancel=()=>{clearTimeout(n)},r}function Ji(t,e){return!!(n=t.charAt(e-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var n}function to(t,e){return!!(n=t.charAt(e))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}Math.pow;const eo=function(){const t=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,n="(?:"+t.map((t=>t.source)).join("|")+")";return new RegExp(`${e}|${n}(?:‍${n})*`,"ug")}();function no(t,e){const n=String(t).matchAll(eo);return Array.from(n).some((t=>t.index<e&&e<t.index+t[0].length))}class ro extends Yi{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",((t,e,n)=>{this._renderViewIntoCollectionParent(e,n)})),this.on("remove",((t,e)=>{e.element&&this._parentElement&&e.element.remove()})),this._parentElement=null}destroy(){this.map((t=>t.destroy()))}setParent(t){this._parentElement=t;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...t){if(!t.length||!t.every((t=>"string"==typeof t)))throw new _("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const r of t)n.delegate(r).to(e);this.on("add",((n,r)=>{for(const i of t)r.delegate(i).to(e)})),this.on("remove",((n,r)=>{for(const i of t)r.stopDelegating(i,e)}))}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}remove(t){return super.remove(t)}}class io extends(N()){constructor(t){super(),Object.assign(this,go(po(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new _("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)wo(n)?yield n:_o(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,r)=>new so({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:r}),if:(n,r,i)=>new ao({observable:t,emitter:e,attribute:n,valueIfTrue:r,callback:i})}}static extend(t,e){if(t._isRendered)throw new _("template-extend-render",[this,t]);yo(t,go(po(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new _("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),co(this.text)?this._bindToObservable({schema:this.text,updater:uo(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){if(!this.attributes)return;const e=t.node,n=t.revertData;for(const r in this.attributes){const i=e.getAttribute(r),o=this.attributes[r];n&&(n.attributes[r]=i);const s=Co(o)?o[0].ns:null;if(co(o)){const a=Co(o)?o[0].value:o;n&&xo(r)&&a.unshift(i),this._bindToObservable({schema:a,updater:ho(e,r,s),data:t})}else if("style"==r&&"string"!=typeof o[0])this._renderStyleAttribute(o[0],t);else{n&&i&&xo(r)&&o.unshift(i);const t=o.map((t=>t&&t.value||t)).reduce(((t,e)=>t.concat(e)),[]).reduce(vo,"");ko(t)||e.setAttributeNS(s,r,t)}}}_renderStyleAttribute(t,e){const n=e.node;for(const r in t){const i=t[r];co(i)?this._bindToObservable({schema:[i],updater:fo(n,r),data:e}):n.style[r]=i}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,r=t.isApplying;let i=0;for(const o of this.children)if(Ao(o)){if(!r){o.setParent(e);for(const t of o)n.appendChild(t.element)}}else if(wo(o))r||(o.isRendered||o.render(),n.appendChild(o.element));else if(Ir(o))n.appendChild(o);else if(r){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),o._renderNode({intoFragment:!1,node:n.childNodes[i++],isApplying:!0,revertData:e})}else n.appendChild(o.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map((n=>{const[r,i]=e.split("@");return n.activateDomEventListener(r,i,t)}));t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const r=n.revertData;lo(t,e,n);const i=t.filter((t=>!ko(t))).filter((t=>t.observable)).map((r=>r.activateAttributeListener(t,e,n)));r&&r.bindings.push(i)}_revertTemplateFromNode(t,e){for(const r of e.bindings)for(const t of r)t();if(e.text)return void(t.textContent=e.text);const n=t;for(const r in e.attributes){const t=e.attributes[r];null===t?n.removeAttribute(r):n.setAttribute(r,t)}for(let r=0;r<e.children.length;++r)this._revertTemplateFromNode(n.childNodes[r],e.children[r])}}class oo{constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const r=()=>lo(t,e,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,r),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,r)}}}class so extends oo{constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,e,n){const r=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,r),()=>{this.emitter.stopListening(n.node,t,r)}}}class ao extends oo{constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){return!ko(super.getValue(t))&&(this.valueIfTrue||!0)}}function co(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(co):t instanceof oo)}function lo(t,e,{node:n}){const r=function(t,e){return t.map((t=>t instanceof oo?t.getValue(e):t))}(t,n);let i;i=1==t.length&&t[0]instanceof ao?r[0]:r.reduce(vo,""),ko(i)?e.remove():e.set(i)}function uo(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function ho(t,e,n){return{set(r){t.setAttributeNS(n,e,r)},remove(){t.removeAttributeNS(n,e)}}}function fo(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function po(t){return Cr(t,(t=>{if(t&&(t instanceof oo||_o(t)||wo(t)||Ao(t)))return t}))}function go(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){t.text=_i(t.text)}(t),t.on&&(t.eventListeners=function(t){for(const e in t)mo(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=_i(t[e].value)),mo(t,e)}(t.attributes);const e=[];if(t.children)if(Ao(t.children))e.push(t.children);else for(const n of t.children)_o(n)||wo(n)||Ir(n)?e.push(n):e.push(new io(n));t.children=e}return t}function mo(t,e){t[e]=_i(t[e])}function vo(t,e){return ko(e)?t:ko(t)?e:`${t} ${e}`}function bo(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function yo(t,e){if(e.attributes&&(t.attributes||(t.attributes={}),bo(t.attributes,e.attributes)),e.eventListeners&&(t.eventListeners||(t.eventListeners={}),bo(t.eventListeners,e.eventListeners)),e.text&&t.text.push(...e.text),e.children&&e.children.length){if(t.children.length!=e.children.length)throw new _("ui-template-extend-children-mismatch",t);let n=0;for(const r of e.children)yo(t.children[n++],r)}}function ko(t){return!t&&0!==t}function wo(t){return t instanceof Do}function _o(t){return t instanceof io}function Ao(t){return t instanceof ro}function Co(t){return V(t[0])&&t[0].ns}function xo(t){return"class"==t||"style"==t}var Eo=o(2591),So=o.n(Eo),Mo=o(7676),Io={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Mo.A,Io),Mo.A.locals;class Do extends(Or(q())){constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Yi,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((e,n)=>{n.locale=t,n.t=t&&t.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=io.bind(this,this)}createCollection(t){const e=new ro(t);return this._viewCollections.add(e),e}registerChild(t){rt(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){rt(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new io(t)}extendTemplate(t){io.extend(this.template,t)}render(){if(this.isRendered)throw new _("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((t=>t.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}function To({emitter:t,activator:e,callback:n,contextElements:r}){t.listenTo(document,"mousedown",((t,i)=>{if(!e())return;const o="function"==typeof i.composedPath?i.composedPath():[],s="function"==typeof r?r():r;for(const e of s)if(e.contains(i.target)||o.includes(e))return;n()}))}function Oo(t){return class extends t{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...t){super(...t),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function No({view:t}){t.listenTo(t.element,"submit",((e,n)=>{n.preventDefault(),t.fire("submit")}),{useCapture:!0})}function Po({keystrokeHandler:t,focusTracker:e,gridItems:n,numberOfColumns:r,uiLanguageDirection:i}){const o="number"==typeof r?()=>r:r;function s(t){return r=>{const i=n.find((t=>t.element===e.focusedElement)),o=n.getIndex(i),s=t(o,n);n.get(s).focus(),r.stopPropagation(),r.preventDefault()}}function a(t,e){return t===e-1?0:t+1}function c(t,e){return 0===t?e-1:t-1}t.set("arrowright",s(((t,e)=>"rtl"===i?c(t,e.length):a(t,e.length)))),t.set("arrowleft",s(((t,e)=>"rtl"===i?a(t,e.length):c(t,e.length)))),t.set("arrowup",s(((t,e)=>{let n=t-o();return n<0&&(n=t+o()*Math.floor(e.length/o()),n>e.length-1&&(n-=o())),n}))),t.set("arrowdown",s(((t,e)=>{let n=t+o();return n>e.length-1&&(n=t%o()),n})))}class Lo extends(q()){constructor(t){super(),this._disableStack=new Set,this.editor=t,this.set("isEnabled",!0)}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",Bo,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",Bo),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Bo(t){t.return=!1,t.stop()}class Ro extends(q()){constructor(t){super(),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()})),this.listenTo(t,"change:isReadOnly",(()=>{this.refresh()})),this.on("set:isEnabled",(e=>{if(!this.affectsData)return;const n=t.model.document.selection,r=!("$graveyard"==n.getFirstPosition().root.rootName)&&t.model.canEditAt(n);(t.isReadOnly||this._isEnabledBasedOnSelection&&!r)&&(e.return=!1,e.stop())}),{priority:"highest"}),this.on("execute",(t=>{this.isEnabled||t.stop()}),{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",jo,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",jo),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function jo(t){t.return=!1,t.stop()}class zo extends Ro{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...t){const e=this._getFirstEnabledCommand();return!!e&&e.execute(t)}registerChildCommand(t,e={}){k(this._childCommandsDefinitions,{command:t,priority:e.priority||"normal"}),t.on("change:isEnabled",(()=>this._checkEnabled())),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find((({command:t})=>t.isEnabled));return t&&t.command}}class Fo extends(N()){constructor(t,e=[],n=[]){super(),this._plugins=new Map,this._context=t,this._availablePlugins=new Map;for(const r of e)r.pluginName&&this._availablePlugins.set(r.pluginName,r);this._contextPlugins=new Map;for(const[r,i]of n)this._contextPlugins.set(r,i),this._contextPlugins.set(i,r),r.pluginName&&this._availablePlugins.set(r.pluginName,r)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let e=t;throw"function"==typeof t&&(e=t.pluginName||t.name),new _("plugincollection-plugin-not-loaded",this._context,{plugin:e})}return e}has(t){return this._plugins.has(t)}init(t,e=[],n=[]){const r=this,i=this._context;!function t(e,n=new Set){e.forEach((e=>{a(e)&&(n.has(e)||(n.add(e),e.pluginName&&!r._availablePlugins.has(e.pluginName)&&r._availablePlugins.set(e.pluginName,e),e.requires&&t(e.requires,n)))}))}(t),d(t);const o=[...function t(e,n=new Set){return e.map((t=>a(t)?t:r._availablePlugins.get(t))).reduce(((e,r)=>n.has(r)?e:(n.add(r),r.requires&&(d(r.requires,r),t(r.requires,n).forEach((t=>e.add(t)))),e.add(r))),new Set)}(t.filter((t=>!l(t,e))))];!function(t,e){for(const n of e){if("function"!=typeof n)throw new _("plugincollection-replace-plugin-invalid-type",null,{pluginItem:n});const e=n.pluginName;if(!e)throw new _("plugincollection-replace-plugin-missing-name",null,{pluginItem:n});if(n.requires&&n.requires.length)throw new _("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:e});const i=r._availablePlugins.get(e);if(!i)throw new _("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:e});const o=t.indexOf(i);if(-1===o){if(r._contextPlugins.has(i))return;throw new _("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:e})}if(i.requires&&i.requires.length)throw new _("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:e});t.splice(o,1,n),r._availablePlugins.set(e,n)}}(o,n);const s=o.map((t=>{let e=r._contextPlugins.get(t);return e=e||new t(i),r._add(t,e),e}));return h(s,"init").then((()=>h(s,"afterInit"))).then((()=>s));function a(t){return"function"==typeof t}function c(t){return a(t)&&!!t.isContextPlugin}function l(t,e){return e.some((e=>e===t||u(t)===e||u(e)===t))}function u(t){return a(t)?t.pluginName||t.name:t}function d(t,n=null){t.map((t=>a(t)?t:r._availablePlugins.get(t)||t)).forEach((t=>{!function(t,e){if(!a(t)){if(e)throw new _("plugincollection-soft-required",i,{missingPlugin:t,requiredBy:u(e)});throw new _("plugincollection-plugin-not-found",i,{plugin:t})}}(t,n),function(t,e){if(c(e)&&!c(t))throw new _("plugincollection-context-required",i,{plugin:u(t),requiredBy:u(e)})}(t,n),function(t,n){if(n&&l(t,e))throw new _("plugincollection-required",i,{plugin:u(t),requiredBy:u(n)})}(t,n)}))}function h(t,e){return t.reduce(((t,n)=>n[e]?r._contextPlugins.has(n)?t:t.then(n[e].bind(n)):t),Promise.resolve())}}destroy(){const t=[];for(const[,e]of this)"function"!=typeof e.destroy||this._contextPlugins.has(e)||t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;if(n){if(this._plugins.has(n))throw new _("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}var Vo=Object.getOwnPropertySymbols,Uo=Object.prototype.hasOwnProperty,Go=Object.prototype.propertyIsEnumerable;class Ho{constructor(t){this._contextOwner=null;const e=t||{},{translations:n}=e,r=((t,e)=>{var n={};for(var r in t)Uo.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&Vo)for(var r of Vo(t))e.indexOf(r)<0&&Go.call(t,r)&&(n[r]=t[r]);return n})(e,["translations"]);this.config=new Er(r,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new Fo(this,i);const o=this.config.get("language")||{};this.locale=new Wi({uiLanguage:"string"==typeof o?o:o.ui,contentLanguage:this.config.get("language.content"),translations:n}),this.t=this.locale.t,this.editors=new Yi}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const n of t.concat(e)){if("function"!=typeof n)throw new _("context-initplugins-constructor-only",null,{Plugin:n});if(!0!==n.isContextPlugin)throw new _("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,(t=>t.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(t,e){if(this._contextOwner)throw new _("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise((e=>{const n=new this(t);e(n.initPlugins().then((()=>n)))}))}}class $o extends(q()){constructor(t){super(),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class Wo extends Ki{constructor(t){super(),this.editor=t}set(t,e,n={}){if("string"==typeof e){const t=e;e=(e,n)=>{this.editor.execute(t),n()}}super.set(t,e,n)}}var Yo=o(4098),qo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Yo.A,qo),Yo.A.locals;const Xo=new WeakMap;let Ko=!1;function Zo({view:t,element:e,text:n,isDirectHost:r=!0,keepOnFocus:i=!1}){const o=t.document;function s(n){Xo.get(o).set(e,{text:n,isDirectHost:r,keepOnFocus:i,hostElement:r?e:null}),t.change((t=>es(o,t)))}Xo.has(o)||(Xo.set(o,new Map),o.registerPostFixer((t=>es(o,t))),o.on("change:isComposing",(()=>{t.change((t=>es(o,t)))}),{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",((t,e,n)=>{s(n)})),e.placeholder?s(e.placeholder):n&&s(n),n&&function(){Ko||A("enableplaceholder-deprecated-text-option"),Ko=!0}()}function Qo(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}function Jo(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}function ts(t,e){if(!t.isAttached())return!1;if(Array.from(t.getChildren()).some((t=>!t.is("uiElement"))))return!1;const n=t.document,r=n.selection.anchor;return(!n.isComposing||!r||r.parent!==t)&&(!!e||!n.isFocused||!!r&&r.parent!==t)}function es(t,e){const n=Xo.get(t),r=[];let i=!1;for(const[o,s]of n)s.isDirectHost&&(r.push(o),ns(e,o,s)&&(i=!0));for(const[o,s]of n){if(s.isDirectHost)continue;const t=rs(o);t&&(r.includes(t)||(s.hostElement=t,ns(e,o,s)&&(i=!0)))}return i}function ns(t,e,n){const{text:r,isDirectHost:i,hostElement:o}=n;let s=!1;return o.getAttribute("data-placeholder")!==r&&(t.setAttribute("data-placeholder",r,o),s=!0),(i||1==e.childCount)&&ts(o,n.keepOnFocus)?Qo(t,o)&&(s=!0):Jo(t,o)&&(s=!0),s}function rs(t){if(t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class is{is(){throw new Error("is() method is abstract")}}const os=function(t){return Ar(t,4)};class ss extends(N(is)){constructor(t){super(),this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new _("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),r=t.getAncestors(e);let i=0;for(;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),r=nt(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire(`change:${t}`,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=os(this);return delete t.parent,t}}ss.prototype.is=function(t){return"node"===t||"view:node"===t};class as extends ss{constructor(t,e){super(t),this._textData=e}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof as&&(this===t||this.data===t.data)}_clone(){return new as(this.document,this.data)}}as.prototype.is=function(t){return"$text"===t||"view:$text"===t||"text"===t||"view:text"===t||"node"===t||"view:node"===t};class cs extends is{constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.data.length)throw new _("view-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.data.length)throw new _("view-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(t={}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}cs.prototype.is=function(t){return"$textProxy"===t||"view:$textProxy"===t||"textProxy"===t||"view:textProxy"===t};class ls{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=us(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const r=us(n,t);r&&e.push({element:n,pattern:t,match:r})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function us(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){return t instanceof RegExp?!!e.match(t):t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){const n=new Set(e.getAttributeKeys());return Mt(t)?(void 0!==t.style&&A("matcher-pattern-deprecated-attributes-style-key",t),void 0!==t.class&&A("matcher-pattern-deprecated-attributes-class-key",t)):(n.delete("style"),n.delete("class")),ds(t,n,(t=>e.getAttribute(t)))}(e.attributes,t),!n.attributes)||e.classes&&(n.classes=function(t,e){return ds(t,e.getClassNames(),(()=>{}))}(e.classes,t),!n.classes)||e.styles&&(n.styles=function(t,e){return ds(t,e.getStyleNames(!0),(t=>e.getStyle(t)))}(e.styles,t),!n.styles)?null:n}function ds(t,e,n){const r=function(t){return Array.isArray(t)?t.map((t=>Mt(t)?(void 0!==t.key&&void 0!==t.value||A("matcher-pattern-missing-key-or-value",t),[t.key,t.value]):[t,!0])):Mt(t)?Object.entries(t):[[t,!0]]}(t),i=Array.from(e),o=[];if(r.forEach((([t,e])=>{i.forEach((r=>{(function(t,e){return!0===t||t===e||t instanceof RegExp&&e.match(t)})(t,r)&&function(t,e,n){if(!0===t)return!0;const r=n(e);return t===r||t instanceof RegExp&&!!String(r).match(t)}(e,r,n)&&o.push(r)}))})),r.length&&!(o.length<r.length))return o}const hs=function(t){return"symbol"==typeof t||bt(t)&&"[object Symbol]"==mt(t)};var fs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ps=/^\w*$/;const gs=function(t,e){if(vt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hs(t))||ps.test(t)||!fs.test(t)||null!=e&&t in Object(e)};function ms(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(ms.Cache||Ae),n}ms.Cache=Ae;const vs=ms,bs=function(t){var e=vs(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e};var ys=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ks=/\\(\\)?/g,ws=bs((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ys,(function(t,n,r,i){e.push(r?i.replace(ks,"$1"):n||t)})),e}));const _s=ws,As=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i};var Cs=at?at.prototype:void 0,xs=Cs?Cs.toString:void 0;const Es=function t(e){if("string"==typeof e)return e;if(vt(e))return As(e,t)+"";if(hs(e))return xs?xs.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},Ss=function(t){return null==t?"":Es(t)},Ms=function(t,e){return vt(t)?t:gs(t,e)?[t]:_s(Ss(t))},Is=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},Ds=function(t){if("string"==typeof t||hs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Ts=function(t,e){for(var n=0,r=(e=Ms(e,t)).length;null!=t&&n<r;)t=t[Ds(e[n++])];return n&&n==r?t:void 0},Os=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o},Ns=function(t,e){return e.length<2?t:Ts(t,Os(e,0,-1))},Ps=function(t,e){return e=Ms(e,t),null==(t=Ns(t,e))||delete t[Ds(Is(e))]},Ls=function(t,e){return null==t||Ps(t,e)},Bs=function(t,e,n){var r=null==t?void 0:Ts(t,e);return void 0===r?n:r},Rs=function(t,e,n,r){if(!V(t))return t;for(var i=-1,o=(e=Ms(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var c=Ds(e[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var u=a[c];void 0===(l=r?r(u,c,a):void 0)&&(l=V(u)?u:$e(e[i+1])?[]:{})}Te(a,c,l),a=a[c]}return t},js=function(t,e,n){return null==t?t:Rs(t,e,n)};class zs{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=function(t){let e=null,n=0,r=0,i=null;const o=new Map;if(""===t)return o;";"!=t.charAt(t.length-1)&&(t+=";");for(let s=0;s<t.length;s++){const a=t.charAt(s);if(null===e)switch(a){case":":i||(i=t.substr(n,s-n),r=s+1);break;case'"':case"'":e=a;break;case";":{const e=t.substr(r,s-r);i&&o.set(i.trim(),e.trim()),i=null,n=s+1;break}}else a===e&&(e=null)}return o}(t);for(const[n,r]of e)this._styleProcessor.toNormalizedForm(n,r,this._styles)}has(t){if(this.isEmpty)return!1;const e=this._styleProcessor.getReducedForm(t,this._styles).find((([e])=>e===t));return Array.isArray(e)}set(t,e){if(V(t))for(const[n,r]of Object.entries(t))this._styleProcessor.toNormalizedForm(n,r,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e=Vs(t);Ls(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map((t=>t.join(":"))).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!V(this._styles[t]))return this._styles[t];const e=this._styleProcessor.getReducedForm(t,this._styles).find((([e])=>e===t));return Array.isArray(e)?e[1]:void 0}getStyleNames(t=!1){return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map((([t])=>t))}clear(){this._styles={}}getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const n of e)t.push(...this._styleProcessor.getReducedForm(n,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const n=e.splice(0,e.length-1).join("."),r=Bs(this._styles,n);r&&!Object.keys(r).length&&this.remove(n)}}class Fs{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,n){if(V(e))Us(n,Vs(t),e);else if(this._normalizers.has(t)){const r=this._normalizers.get(t),{path:i,value:o}=r(e);Us(n,i,o)}else Us(n,t,e)}getNormalized(t,e){if(!t)return Ui({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){const n=this._extractors.get(t);if("string"==typeof n)return Bs(e,n);const r=n(t,e);if(r)return r}return Bs(e,Vs(t))}getReducedForm(t,e){const n=this.getNormalized(t,e);return void 0===n?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}getStyleNames(t){const e=Array.from(this._consumables.keys()).filter((e=>{const n=this.getNormalized(e,t);return n&&"object"==typeof n?Object.keys(n).length:n})),n=new Set([...e,...Object.keys(t)]);return Array.from(n)}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const n of e)this._mapStyleNames(n,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function Vs(t){return t.replace("-",".")}function Us(t,e,n){let r=n;V(n)&&(r=Ui({},Bs(t,e),n)),js(t,e,r)}class Gs extends ss{constructor(t,e,n,r){if(super(t),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=e,this._attrs=function(t){const e=Zi(t);for(const[n,r]of e)null===r?e.delete(n):"string"!=typeof r&&e.set(n,String(r));return e}(n),this._children=[],r&&this._insertChild(0,r),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");Hs(this._classes,t),this._attrs.delete("class")}this._styles=new zs(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==t){const t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(t)}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Gs))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t){return this._styles.getStyleNames(t)}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new ls(...t);let n=this.parent;for(;n&&!n.is("documentFragment");){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map((t=>`${t[0]}="${t[1]}"`)).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(e?` style="${e}"`:"")+(""==n?"":` ${n}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const e=[];if(t)for(const r of this.getChildren())e.push(r._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const r=function(t,e){return"string"==typeof e?[new as(t,e)]:(rt(e)||(e=[e]),Array.from(e).map((e=>"string"==typeof e?new as(t,e):e instanceof cs?new as(t,e.data):e)))}(this.document,e);for(const i of r)null!==i.parent&&i._remove(),i.parent=this,i.document=this.document,this._children.splice(t,0,i),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){const n=String(e);this._fireChange("attributes",this),"class"==t?Hs(this._classes,n):"style"==t?this._styles.setTo(n):this._attrs.set(t,n)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const e of _i(t))this._classes.add(e)}_removeClass(t){this._fireChange("attributes",this);for(const e of _i(t))this._classes.delete(e)}_setStyle(t,e){this._fireChange("attributes",this),"string"!=typeof t?this._styles.set(t):this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this);for(const e of _i(t))this._styles.remove(e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function Hs(t,e){const n=e.split(/\s+/);t.clear(),n.forEach((e=>t.add(e)))}Gs.prototype.is=function(t,e){return e?e===this.name&&("element"===t||"view:element"===t):"element"===t||"view:element"===t||"node"===t||"view:node"===t};class $s extends Gs{constructor(t,e,n,r){super(t,e,n,r),this.getFillerOffset=Ws}}function Ws(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of t)if(!n.is("uiElement"))return null;return this.childCount}$s.prototype.is=function(t,e){return e?e===this.name&&("containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class Ys extends(q($s)){constructor(t,e,n,r){super(t,e,n,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",(e=>e&&t.selection.editableElement==this)),this.listenTo(t.selection,"change",(()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this}))}destroy(){this.stopListening()}}Ys.prototype.is=function(t,e){return e?e===this.name&&("editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};const qs=Symbol("rootName");class Xs extends Ys{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(qs)}set rootName(t){this._setCustomProperty(qs,t)}set _name(t){this.name=t}}Xs.prototype.is=function(t,e){return e?e===this.name&&("rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class Ks{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new _("view-tree-walker-no-start-position",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new _("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=Zs._createAt(t.startPosition):this._position=Zs._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,n;do{n=this.position,e=this.next()}while(!e.done&&t(e.value));e.done||(this._position=n)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r;if(n instanceof as){if(t.isAtEnd)return this._position=Zs._createAfter(n),this._next();r=n.data[t.offset]}else r=n.getChild(t.offset);if(r instanceof Gs){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t=new Zs(r,0);return this._position=t,this._formatReturnValue("elementStart",r,e,t,1)}if(r instanceof as){if(this.singleCharacters)return t=new Zs(r,0),this._position=t,this._next();let n,i=r.data.length;return r==this._boundaryEndParent?(i=this.boundaries.end.offset,n=new cs(r,0,i),t=Zs._createAfter(n)):(n=new cs(r,0,r.data.length),t.offset++),this._position=t,this._formatReturnValue("text",n,e,t,i)}if("string"==typeof r){let r;r=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;const i=new cs(n,t.offset,r);return t.offset+=r,this._position=t,this._formatReturnValue("text",i,e,t,r)}return t=Zs._createAfter(n),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r;if(n instanceof as){if(t.isAtStart)return this._position=Zs._createBefore(n),this._previous();r=n.data[t.offset-1]}else r=n.getChild(t.offset-1);if(r instanceof Gs)return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",r,e,t,1)):(t=new Zs(r,r.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,e,t));if(r instanceof as){if(this.singleCharacters)return t=new Zs(r,r.data.length),this._position=t,this._previous();let n,i=r.data.length;if(r==this._boundaryStartParent){const e=this.boundaries.start.offset;n=new cs(r,e,r.data.length-e),i=n.data.length,t=Zs._createBefore(n)}else n=new cs(r,0,r.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",n,e,t,i)}if("string"==typeof r){let r;if(this.singleCharacters)r=1;else{const e=n===this._boundaryStartParent?this.boundaries.start.offset:0;r=t.offset-e}t.offset-=r;const i=new cs(n,t.offset,r);return this._position=t,this._formatReturnValue("text",i,e,t,r)}return t=Zs._createBefore(n),this._position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,r,i){return e instanceof cs&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Zs._createAfter(e.textNode):(r=Zs._createAfter(e.textNode),this._position=r)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Zs._createBefore(e.textNode):(r=Zs._createBefore(e.textNode),this._position=r))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:i}}}}class Zs extends is{constructor(t,e){super(),this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof Ys);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=Zs._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Ks(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let r=0;for(;e[r]==n[r]&&e[r];)r++;return 0===r?null:e[r-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const r=nt(e,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return e[r]<n[r]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new Ks(t)}clone(){return new Zs(this.parent,this.offset)}static _createAt(t,e){if(t instanceof Zs)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("$text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new _("view-createpositionat-offset-required",n)}return new Zs(n,e)}}static _createAfter(t){if(t.is("$textProxy"))return new Zs(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new _("view-position-after-root",t,{root:t});return new Zs(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new Zs(t.textNode,t.offsetInText);if(!t.parent)throw new _("view-position-before-root",t,{root:t});return new Zs(t.parent,t.index)}}Zs.prototype.is=function(t){return"position"===t||"view:position"===t};class Qs extends is{constructor(t,e=null){super(),this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new Ks({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Js,{direction:"backward"}),e=this.end.getLastMatchingPosition(Js);return t.parent.is("$text")&&t.isAtStart&&(t=Zs._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=Zs._createAfter(e.parent)),new Qs(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(Js);if(t.isAfter(this.end)||t.isEqual(this.end))return new Qs(t,t);let e=this.end.getLastMatchingPosition(Js,{direction:"backward"});const n=t.nodeAfter,r=e.nodeBefore;return n&&n.is("$text")&&(t=new Zs(n,0)),r&&r.is("$text")&&(e=new Zs(r,r.data.length)),new Qs(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Qs(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Qs(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Qs(e,n)}return null}getWalker(t={}){return t.boundaries=this,new Ks(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new Qs(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Ks(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new Ks(t);yield e.position;for(const n of e)yield n.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,r){return new this(new Zs(t,e),new Zs(n,r))}static _createFromPositionAndShift(t,e){const n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(Zs._createBefore(t),e)}}function Js(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}Qs.prototype.is=function(t){return"range"===t||"view:range"===t};class ta extends(N(is)){constructor(...t){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const r of t._ranges)if(e.isEqual(r)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=et(this.getRanges());if(e!=et(t.getRanges()))return!1;if(0==e)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let e=!1;for(let r of t.getRanges())if(r=r.getTrimmed(),n.start.isEqual(r.start)&&n.end.isEqual(r.end)){e=!0;break}if(!e)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...t){let[e,n,r]=t;if("object"==typeof n&&(r=n,n=void 0),null===e)this._setRanges([]),this._setFakeOptions(r);else if(e instanceof ta||e instanceof ea)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof Qs)this._setRanges([e],r&&r.backward),this._setFakeOptions(r);else if(e instanceof Zs)this._setRanges([new Qs(e)]),this._setFakeOptions(r);else if(e instanceof ss){const t=!!r&&!!r.backward;let i;if(void 0===n)throw new _("view-selection-setto-required-second-parameter",this);i="in"==n?Qs._createIn(e):"on"==n?Qs._createOn(e):new Qs(Zs._createAt(e,n)),this._setRanges([i],t),this._setFakeOptions(r)}else{if(!rt(e))throw new _("view-selection-setto-not-selectable",this);this._setRanges(e,r&&r.backward),this._setFakeOptions(r)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new _("view-selection-setfocus-no-ranges",this);const n=Zs._createAt(t,e);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.pop(),"before"==n.compareWith(r)?this._addRange(new Qs(n,r),!0):this._addRange(new Qs(r,n)),this.fire("change")}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const n of t)this._addRange(n);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof Qs))throw new _("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new _("view-selection-range-intersects",this,{addedRange:t,intersectingRange:e});this._ranges.push(new Qs(t.start,t.end))}}ta.prototype.is=function(t){return"selection"===t||"view:selection"===t};class ea extends(N(is)){constructor(...t){super(),this._selection=new ta,this._selection.delegate("change").to(this),t.length&&this._selection.setTo(...t)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(...t){this._selection.setTo(...t)}_setFocus(t,e){this._selection.setFocus(t,e)}}ea.prototype.is=function(t){return"selection"===t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t};class na extends m{constructor(t,e,n){super(t,e),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const ra=Symbol("bubbling contexts");function ia(t){return class extends t{fire(t,...e){try{const n=t instanceof m?t:new m(this,t),r=ca(this);if(!r.size)return;if(oa(n,"capturing",this),sa(r,"$capture",n,...e))return n.return;const i=n.startRange||this.selection.getFirstRange(),o=i?i.getContainedElement():null,s=!!o&&Boolean(aa(r,o));let a=o||function(t){if(!t)return null;const e=t.start.parent,n=t.end.parent,r=e.getPath(),i=n.getPath();return r.length>i.length?e:n}(i);if(oa(n,"atTarget",a),!s){if(sa(r,"$text",n,...e))return n.return;oa(n,"bubbling",a)}for(;a;){if(a.is("rootElement")){if(sa(r,"$root",n,...e))return n.return}else if(a.is("element")&&sa(r,a.name,n,...e))return n.return;if(sa(r,a,n,...e))return n.return;a=a.parent,oa(n,"bubbling",a)}return oa(n,"bubbling",this),sa(r,"$document",n,...e),n.return}catch(t){_.rethrowUnexpectedError(t,this)}}_addEventListener(t,e,n){const r=_i(n.context||"$document"),i=ca(this);for(const o of r){let r=i.get(o);r||(r=new(N()),i.set(o,r)),this.listenTo(r,t,e,n)}}_removeEventListener(t,e){const n=ca(this);for(const r of n.values())this.stopListening(r,t,e)}}}{const t=ia(Object);["fire","_addEventListener","_removeEventListener"].forEach((e=>{ia[e]=t.prototype[e]}))}function oa(t,e,n){t instanceof na&&(t._eventPhase=e,t._currentTarget=n)}function sa(t,e,n,...r){const i="string"==typeof e?t.get(e):aa(t,e);return!!i&&(i.fire(n,...r),n.stop.called)}function aa(t,e){for(const[n,r]of t)if("function"==typeof n&&n(e))return r;return null}function ca(t){return t[ra]||(t[ra]=new Map),t[ra]}class la extends(ia(q())){constructor(t){super(),this._postFixers=new Set,this.selection=new ea,this.roots=new Yi({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.forEach((t=>t.destroy())),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t),e)break}while(e)}}class ua extends Gs{constructor(t,e,n,r){super(t,e,n,r),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=da}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new _("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function da(){if(ha(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(ha(t)>1)return null;t=t.parent}return!t||ha(t)>1?null:this.childCount}function ha(t){return Array.from(t.getChildren()).filter((t=>!t.is("uiElement"))).length}ua.DEFAULT_PRIORITY=10,ua.prototype.is=function(t,e){return e?e===this.name&&("attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t):"attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class fa extends Gs{constructor(t,e,n,r){super(t,e,n,r),this.getFillerOffset=pa}_insertChild(t,e){if(e&&(e instanceof ss||Array.from(e).length>0))throw new _("view-emptyelement-cannot-add",[this,e]);return 0}}function pa(){return null}fa.prototype.is=function(t,e){return e?e===this.name&&("emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t):"emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class ga extends Gs{constructor(t,e,n,r){super(t,e,n,r),this.getFillerOffset=va}_insertChild(t,e){if(e&&(e instanceof ss||Array.from(e).length>0))throw new _("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const n of this.getAttributeKeys())e.setAttribute(n,this.getAttribute(n));return e}}function ma(t){t.document.on("arrowKey",((e,n)=>function(t,e,n){if(e.keyCode==mi.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),r=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(r||e.shiftKey){const e=t.focusNode,i=t.focusOffset,o=n.domPositionToView(e,i);if(null===o)return;let s=!1;const a=o.getLastMatchingPosition((t=>(t.item.is("uiElement")&&(s=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement")))));if(s){const e=n.viewPositionToDom(a);r?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}}(0,n,t.domConverter)),{priority:"low"})}function va(){return null}ga.prototype.is=function(t,e){return e?e===this.name&&("uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t):"uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class ba extends Gs{constructor(t,e,n,r){super(t,e,n,r),this.getFillerOffset=ya}_insertChild(t,e){if(e&&(e instanceof ss||Array.from(e).length>0))throw new _("view-rawelement-cannot-add",[this,e]);return 0}render(t,e){}}function ya(){return null}ba.prototype.is=function(t,e){return e?e===this.name&&("rawElement"===t||"view:rawElement"===t||"element"===t||"view:element"===t):"rawElement"===t||"view:rawElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class ka extends(N(is)){constructor(t,e){super(),this._children=[],this._customProperties=new Map,this.document=t,e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const r=function(t,e){return"string"==typeof e?[new as(t,e)]:(rt(e)||(e=[e]),Array.from(e).map((e=>"string"==typeof e?new as(t,e):e instanceof cs?new as(t,e.data):e)))}(this.document,e);for(const i of r)null!==i.parent&&i._remove(),i.parent=this,this._children.splice(t,0,i),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}ka.prototype.is=function(t){return"documentFragment"===t||"view:documentFragment"===t};class wa{constructor(t){this._cloneGroups=new Map,this._slotFactory=null,this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new ka(this.document,t)}createText(t){return new as(this.document,t)}createAttributeElement(t,e,n={}){const r=new ua(this.document,t,e);return"number"==typeof n.priority&&(r._priority=n.priority),n.id&&(r._id=n.id),n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createContainerElement(t,e,n={},r={}){let i=null;Mt(n)?r=n:i=n;const o=new $s(this.document,t,e,i);return r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}createEditableElement(t,e,n={}){const r=new Ys(this.document,t,e);return n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createEmptyElement(t,e,n={}){const r=new fa(this.document,t,e);return n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createUIElement(t,e,n){const r=new ga(this.document,t,e);return n&&(r.render=n),r}createRawElement(t,e,n,r={}){const i=new ba(this.document,t,e);return n&&(i.render=n),r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){Mt(t)&&void 0===n?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof Zs?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new _("view-writer-break-non-container-element",this.document);if(!e.parent)throw new _("view-writer-break-root",this.document);if(t.isAtStart)return Zs._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(Zs._createAfter(e),n);const r=new Qs(t,Zs._createAt(e,"end")),i=new Zs(n,0);this.move(r,i)}return Zs._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Zs(t,e))}const r=n.getChild(e-1),i=n.getChild(e);if(!r||!i)return t;if(r.is("$text")&&i.is("$text"))return Ea(r,i);if(r.is("attributeElement")&&i.is("attributeElement")&&r.isSimilar(i)){const t=r.childCount;return r._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Zs(r,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new _("view-writer-merge-containers-invalid-position",this.document);const r=e.getChild(e.childCount-1),i=r instanceof as?Zs._createAt(r,"end"):Zs._createAt(e,"end");return this.move(Qs._createIn(n),Zs._createAt(e,"end")),this.remove(Qs._createOn(n)),i}insert(t,e){Ma(e=rt(e)?[...e]:[e],this.document);const n=e.reduce(((t,e)=>{const n=t[t.length-1],r=!e.is("uiElement");return n&&n.breakAttributes==r?n.nodes.push(e):t.push({breakAttributes:r,nodes:[e]}),t}),[]);let r=null,i=t;for(const{nodes:o,breakAttributes:s}of n){const t=this._insertNodes(i,o,s);r||(r=t.start),i=t.end}return r?new Qs(r,i):new Qs(t)}remove(t){const e=t instanceof Qs?t:Qs._createOn(t);if(Da(e,this.document),e.isCollapsed)return new ka(this.document);const{start:n,end:r}=this._breakAttributesRange(e,!0),i=n.parent,o=r.offset-n.offset,s=i._removeChildren(n.offset,o);for(const c of s)this._removeFromClonedElementsGroup(c);const a=this.mergeAttributes(n);return e.start=a,e.end=a.clone(),new ka(this.document,s)}clear(t,e){Da(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of n){const n=r.item;let i;if(n.is("element")&&e.isSimilar(n))i=Qs._createOn(n);else if(!r.nextPosition.isAfter(t.start)&&n.is("$textProxy")){const t=n.getAncestors().find((t=>t.is("element")&&e.isSimilar(t)));t&&(i=Qs._createIn(t))}i&&(i.end.isAfter(t.end)&&(i.end=t.end),i.start.isBefore(t.start)&&(i.start=t.start),this.remove(i))}}move(t,e){let n;if(e.isAfter(t.end)){const r=(e=this._breakAttributes(e,!0)).parent,i=r.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=r.childCount-i}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof ua))throw new _("view-writer-wrap-invalid-attribute",this.document);if(Da(t,this.document),t.isCollapsed){let r=t.start;r.parent.is("element")&&(n=r.parent,!Array.from(n.getChildren()).some((t=>!t.is("uiElement"))))&&(r=r.getLastMatchingPosition((t=>t.item.is("uiElement")))),r=this._wrapPosition(r,e);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(r),new Qs(r)}return this._wrapRange(t,e);var n}unwrap(t,e){if(!(e instanceof ua))throw new _("view-writer-unwrap-invalid-attribute",this.document);if(Da(t,this.document),t.isCollapsed)return t;const{start:n,end:r}=this._breakAttributesRange(t,!0),i=n.parent,o=this._unwrapChildren(i,n.offset,r.offset,e),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;const a=this.mergeAttributes(o.end);return new Qs(s,a)}rename(t,e){const n=new $s(this.document,t,e.getAttributes());return this.insert(Zs._createAfter(e),n),this.move(Qs._createIn(e),Zs._createAt(n,0)),this.remove(Qs._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return Zs._createAt(t,e)}createPositionAfter(t){return Zs._createAfter(t)}createPositionBefore(t){return Zs._createBefore(t)}createRange(t,e){return new Qs(t,e)}createRangeOn(t){return Qs._createOn(t)}createRangeIn(t){return Qs._createIn(t)}createSelection(...t){return new ta(...t)}createSlot(t="children"){if(!this._slotFactory)throw new _("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,n){let r,i;if(r=n?_a(t):t.parent.is("$text")?t.parent.parent:t.parent,!r)throw new _("view-writer-invalid-position-container",this.document);i=n?this._breakAttributes(t,!0):t.parent.is("$text")?xa(t):t;const o=r._insertChild(i.offset,e);for(const l of e)this._addToClonedElementsGroup(l);const s=i.getShiftedBy(o),a=this.mergeAttributes(i);a.isEqual(i)||s.offset--;const c=this.mergeAttributes(s);return new Qs(a,c)}_wrapChildren(t,e,n,r){let i=e;const o=[];for(;i<n;){const e=t.getChild(i),n=e.is("$text"),s=e.is("attributeElement");if(s&&this._wrapAttributeElement(r,e))o.push(new Zs(t,i));else if(n||!s||Aa(r,e)){const n=r._clone();e._remove(),n._appendChild(e),t._insertChild(i,n),this._addToClonedElementsGroup(n),o.push(new Zs(t,i))}else this._wrapChildren(e,0,e.childCount,r);i++}let s=0;for(const a of o)a.offset-=s,a.offset!=e&&(this.mergeAttributes(a).isEqual(a)||(s++,n--));return Qs._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,r){let i=e;const o=[];for(;i<n;){const e=t.getChild(i);if(e.is("attributeElement"))if(e.isSimilar(r)){const r=e.getChildren(),s=e.childCount;e._remove(),t._insertChild(i,r),this._removeFromClonedElementsGroup(e),o.push(new Zs(t,i),new Zs(t,i+s)),i+=s,n+=s-1}else this._unwrapAttributeElement(r,e)?(o.push(new Zs(t,i),new Zs(t,i+1)),i++):(this._unwrapChildren(e,0,e.childCount,r),i++);else i++}let s=0;for(const a of o)a.offset-=s,a.offset!=e&&a.offset!=n&&(this.mergeAttributes(a).isEqual(a)||(s++,n--));return Qs._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:r}=this._breakAttributesRange(t,!0),i=n.parent,o=this._wrapChildren(i,n.offset,r.offset,e),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;const a=this.mergeAttributes(o.end);return new Qs(s,a)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return Ca(t.clone());t.parent.is("$text")&&(t=xa(t));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const r=new Qs(t,t.getShiftedBy(1));this.wrap(r,e);const i=new Zs(n.parent,n.index);n._remove();const o=i.nodeBefore,s=i.nodeAfter;return o instanceof as&&s instanceof as?Ea(o,s):Ca(i)}_wrapAttributeElement(t,e){if(!Ta(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!Ta(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,r=t.end;if(Da(t,this.document),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new Qs(n,n)}const i=this._breakAttributes(r,e),o=i.parent.childCount,s=this._breakAttributes(n,e);return i.offset+=i.parent.childCount-o,new Qs(s,i)}_breakAttributes(t,e=!1){const n=t.offset,r=t.parent;if(t.parent.is("emptyElement"))throw new _("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new _("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new _("view-writer-cannot-break-raw-element",this.document);if(!e&&r.is("$text")&&Ia(r.parent))return t.clone();if(Ia(r))return t.clone();if(r.is("$text"))return this._breakAttributes(xa(t),e);if(n==r.childCount){const t=new Zs(r.parent,r.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new Zs(r.parent,r.index);return this._breakAttributes(t,e)}{const t=r.index+1,i=r._clone();r.parent._insertChild(t,i),this._addToClonedElementsGroup(i);const o=r.childCount-n,s=r._removeChildren(n,o);i._appendChild(s);const a=new Zs(r.parent,t);return this._breakAttributes(a,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const r of t.getChildren())this._addToClonedElementsGroup(r);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const r of t.getChildren())this._removeFromClonedElementsGroup(r);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function _a(t){let e=t.parent;for(;!Ia(e);){if(!e)return;e=e.parent}return e}function Aa(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function Ca(t){const e=t.nodeBefore;if(e&&e.is("$text"))return new Zs(e,e.data.length);const n=t.nodeAfter;return n&&n.is("$text")?new Zs(n,0):t}function xa(t){if(t.offset==t.parent.data.length)return new Zs(t.parent.parent,t.parent.index+1);if(0===t.offset)return new Zs(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new as(t.root.document,e)),new Zs(t.parent.parent,t.parent.index+1)}function Ea(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new Zs(t,n)}const Sa=[as,ua,$s,fa,ba,ga];function Ma(t,e){for(const n of t){if(!Sa.some((t=>n instanceof t)))throw new _("view-writer-insert-invalid-node-type",e);n.is("$text")||Ma(n.getChildren(),e)}}function Ia(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function Da(t,e){const n=_a(t.start),r=_a(t.end);if(!n||!r||n!==r)throw new _("view-writer-invalid-range-container",e)}function Ta(t,e){return null===t.id&&null===e.id}const Oa=t=>t.createTextNode(" "),Na=t=>{const e=t.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},Pa=t=>{const e=t.createElement("br");return e.dataset.ckeFiller="true",e},La=7,Ba="⁠".repeat(La);function Ra(t){return"string"==typeof t?t.substr(0,La)===Ba:Br(t)&&t.data.substr(0,La)===Ba}function ja(t){return t.data.length==La&&Ra(t)}function za(t){const e="string"==typeof t?t:t.data;return Ra(t)?e.slice(La):e}function Fa(t,e){if(e.keyCode==mi.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;Ra(e)&&n<=La&&t.collapse(e,0)}}}var Va=o(8264),Ua={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Va.A,Ua),Va.A.locals;class Ga extends(q()){constructor(t,e){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=t,this.selection=e,this.set("isFocused",!1),this.set("isSelecting",!1),l.isBlink&&!l.isAndroid&&this.on("change:isSelecting",(()=>{this.isSelecting||this.render()})),this.set("isComposing",!1),this.on("change:isComposing",(()=>{this.isComposing||this.render()}))}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new _("view-renderer-unknown-type",this);this.markedChildren.add(e)}}}render(){if(this.isComposing&&!l.isAndroid)return;let t=null;const e=!(l.isBlink&&!l.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);e?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller),t&&t.parent.is("$text")&&(t=Zs._createBefore(t.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:t});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:t});if(e)if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;Ra(e.parent)?this._inlineFiller=e.parent:this._inlineFiller=Ha(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.childNodes),r=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren:!1})),i=this._diffNodeLists(n,r),o=this._findUpdateActions(i,n,r,$a);if(-1!==o.indexOf("update")){const e={equal:0,insert:0,delete:0};for(const i of o)if("update"===i){const i=e.equal+e.insert,o=e.equal+e.delete,s=t.getChild(i);!s||s.is("uiElement")||s.is("rawElement")||this._updateElementMappings(s,n[o]),ri(r[i]),e.equal++}else e[i]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?Zs._createBefore(t.parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Br(e.parent)&&Ra(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Ra(t))throw new _("view-renderer-filler-was-lost",this);ja(t)?t.remove():t.data=t.data.substr(La),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor((t=>t.hasAttribute("contenteditable")));return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;const r=t.nodeBefore,i=t.nodeAfter;return!(r instanceof as||i instanceof as)&&!!(n!==e.getFillerOffset()||r&&r.is("element","br"))&&(!l.isAndroid||!r&&!i)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t);let r=this.domConverter.viewToDom(t).data;const i=e.inlineFillerPosition;i&&i.parent==t.parent&&i.offset==t.index&&(r=Ba+r),qa(n,r)}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map((t=>t.name)),r=t.getAttributeKeys();for(const i of r)this.domConverter.setDomElementAttribute(e,i,t.getAttribute(i),t);for(const i of n)t.hasAttribute(i)||this.domConverter.removeDomElementAttribute(e,i)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;if(l.isAndroid){let t=null;for(const e of Array.from(n.childNodes)){if(t&&Br(t)&&Br(e)){n.normalize();break}t=e}}const r=e.inlineFillerPosition,i=n.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(t,{bind:!0}));r&&r.parent===t&&Ha(n.ownerDocument,o,r.offset);const s=this._diffNodeLists(i,o),a=this._findUpdateActions(s,i,o,Wa);let c=0;const u=new Set;for(const l of a)"delete"===l?(u.add(i[c]),ri(i[c])):"equal"!==l&&"update"!==l||c++;c=0;for(const l of a)"insert"===l?(Kr(n,c,o[c]),c++):"update"===l?(qa(i[c],o[c].data),c++):"equal"===l&&(this._markDescendantTextToSync(this.domConverter.domToView(o[c])),c++);for(const l of u)l.parentNode||this.domConverter.unbindDomElement(l)}_diffNodeLists(t,e){return t=function(t,e){const n=Array.from(t);if(0==n.length||!e)return n;const r=n[n.length-1];return r==e&&n.pop(),n}(t,this._fakeSelectionContainer),p(t,e,Ya.bind(null,this.domConverter))}_findUpdateActions(t,e,n,r){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let i=[],o=[],s=[];const a={equal:0,insert:0,delete:0};for(const c of t)"insert"===c?s.push(n[a.equal+a.insert]):"delete"===c?o.push(e[a.equal+a.delete]):(i=i.concat(p(o,s,r).map((t=>"equal"===t?"update":t))),i.push("equal"),o=[],s=[]),a[c]++;return i.concat(p(o,s,r).map((t=>"equal"===t?"update":t)))}_markDescendantTextToSync(t){if(t)if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(l.isBlink&&!l.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(t)):this.isComposing&&l.isAndroid||this._updateDomSelection(t))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){const e=t.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const r=e.getSelection(),i=e.createRange();r.removeAllRanges(),i.selectNodeContents(n),r.addRange(i)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);e.setBaseAndExtent(n.parent,n.offset,r.parent,r.offset),l.isGecko&&function(t,e){let n=t.parent,r=t.offset;if(Br(n)&&ja(n)&&(r=Xr(n)+1,n=n.parentNode),n.nodeType!=Node.ELEMENT_NODE||r!=n.childNodes.length-1)return;const i=n.childNodes[r];i&&"BR"==i.tagName&&e.addRange(e.getRangeAt(0))}(r,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments){const e=t.getSelection();if(e.rangeCount){const n=t.activeElement,r=this.domConverter.mapDomToView(n);n&&r&&e.removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function Ha(t,e,n){const r=e instanceof Array?e:e.childNodes,i=r[n];if(Br(i))return i.data=Ba+i.data,i;{const i=t.createTextNode(Ba);return Array.isArray(e)?r.splice(n,0,i):Kr(e,n,i),i}}function $a(t,e){return Ir(t)&&Ir(e)&&!Br(t)&&!Br(e)&&!Zr(t)&&!Zr(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function Wa(t,e){return Ir(t)&&Ir(e)&&Br(t)&&Br(e)}function Ya(t,e,n){return e===n||(Br(e)&&Br(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}function qa(t,e){const n=t.data;if(n==e)return;const r=d(n,e);for(const i of r)"insert"===i.type?t.insertData(i.index,i.values.join("")):t.deleteData(i.index,i.howMany)}const Xa=Pa(i.document),Ka=Oa(i.document),Za=Na(i.document),Qa="data-ck-unsafe-attribute-",Ja="data-ck-unsafe-element";class tc{constructor(t,{blockFillerMode:e,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ls,this._inlineObjectElementMatcher=new ls,this._elementsWithTemporaryCustomProperties=new Set,this.document=t,this.renderingMode=n,this.blockFillerMode=e||("editing"===n?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?i.document:i.document.implementation.createHTMLDocument("")}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new ta(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of Array.from(t.children))this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,n){return"data"===this.renderingMode||!(t=t.toLowerCase()).startsWith("on")&&("srcdoc"!==t||!e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===n&&("src"===t||"srcset"===t)||"source"===n&&"srcset"===t||!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if("data"===this.renderingMode)return void(t.innerHTML=e);const n=(new DOMParser).parseFromString(e,"text/html"),r=n.createDocumentFragment(),i=n.body.childNodes;for(;i.length>0;)r.appendChild(i[0]);const o=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),s=[];let a;for(;a=o.nextNode();)s.push(a);for(const c of s){for(const e of c.getAttributeNames())this.setDomElementAttribute(c,e,c.getAttribute(e));const t=c.tagName.toLowerCase();this._shouldRenameElement(t)&&(ic(t),c.replaceWith(this._createReplacementDomElement(t,c)))}for(;t.firstChild;)t.firstChild.remove();t.append(r)}viewToDom(t,e={}){if(t.is("$text")){const e=this._processDataFromViewText(t);return this._domDocument.createTextNode(e)}{const n=t;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let r;if(n.is("documentFragment"))r=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(r,n);else{if(n.is("uiElement"))return r="$comment"===n.name?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),e.bind&&this.bindElements(r,n),r;this._shouldRenameElement(n.name)?(ic(n.name),r=this._createReplacementDomElement(n.name)):r=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(r,this),e.bind&&this.bindElements(r,n);for(const t of n.getAttributeKeys())this.setDomElementAttribute(r,t,n.getAttribute(t),n)}if(!1!==e.withChildren)for(const t of this.viewChildrenToDom(n,e))r instanceof HTMLTemplateElement?r.content.appendChild(t):r.appendChild(t);return r}}setDomElementAttribute(t,e,n,r){const o=this.shouldRenderAttribute(e,n,t.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(e);o||A("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:n}),function(t){try{i.document.createAttribute(t)}catch(t){return!1}return!0}(e)?(t.hasAttribute(e)&&!o?t.removeAttribute(e):t.hasAttribute(Qa+e)&&o&&t.removeAttribute(Qa+e),t.setAttribute(o?e:Qa+e,n)):A("domconverter-invalid-attribute-detected",{domElement:t,key:e,value:n})}removeDomElementAttribute(t,e){e!=Ja&&(t.removeAttribute(e),t.removeAttribute(Qa+e))}*viewChildrenToDom(t,e={}){const n=t.getFillerOffset&&t.getFillerOffset();let r=0;for(const i of t.getChildren()){n===r&&(yield this._getBlockFiller());const t=i.is("element")&&!!i.getCustomProperty("dataPipeline:transparentRendering")&&!qi(i.getAttributes());t&&"data"==this.renderingMode?yield*this.viewChildrenToDom(i,e):(t&&A("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:i}),yield this.viewToDom(i,e)),r++}n===r&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),r=this._domDocument.createRange();return r.setStart(e.parent,e.offset),r.setEnd(n.parent,n.offset),r}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let r=t.offset;return Ra(n)&&(r+=La),{parent:n,offset:r}}{let n,r,i;if(0===t.offset){if(n=this.mapViewToDom(e),!n)return null;i=n.childNodes[0]}else{const e=t.nodeBefore;if(r=e.is("$text")?this.findCorrespondingDomText(e):this.mapViewToDom(e),!r)return null;n=r.parentNode,i=r.nextSibling}return Br(i)&&Ra(i)?{parent:i,offset:La}:{parent:n,offset:r?Xr(r)+1:0}}}domToView(t,e={}){const n=[],r=this._domToView(t,e,n),i=r.next().value;return i?(r.next(),this._processDomInlineNodes(null,n,e),i.is("$text")&&0==i.data.length?null:i):null}*domChildrenToView(t,e={},n=[]){let r=[];r=t instanceof HTMLTemplateElement?[...t.content.childNodes]:[...t.childNodes];for(let i=0;i<r.length;i++){const o=r[i],s=this._domToView(o,e,n),a=s.next().value;null!==a&&(this._isBlockViewElement(a)&&this._processDomInlineNodes(t,n,e),yield a,s.next())}this._processDomInlineNodes(t,n,e)}domSelectionToView(t){if(function(t){if(!l.isGecko)return!1;if(!t.rangeCount)return!1;const e=t.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch(t){return!0}return!1}(t))return new ta([]);if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;Br(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let r=0;r<t.rangeCount;r++){const e=t.getRangeAt(r),i=this.domRangeToView(e);i&&n.push(i)}return new ta(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new Qs(e,n):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Xr(t));const n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return Zs._createBefore(n);if(Br(t)){if(ja(t))return this.domPositionToView(t.parentNode,Xr(t));const n=this.findCorrespondingViewText(t);let r=e;return n?(Ra(t)&&(r-=La,r=r<0?0:r),new Zs(n,r)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new Zs(e,0)}else{const n=t.childNodes[e-1];if(Br(n)&&ja(n)||n&&this.isBlockFiller(n))return this.domPositionToView(n.parentNode,Xr(n));const r=Br(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(r&&r.parent)return new Zs(r.parent,r.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(ja(t))return null;const e=this.getHostViewElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t){const e=t.nextSibling;return e instanceof as?e:null}}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof as?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=i.window,r=[];nc(e,(t=>{const{scrollLeft:e,scrollTop:n}=t;r.push([e,n])})),e.focus(),nc(e,(t=>{const[e,n]=r.shift();t.scrollLeft=e,t.scrollTop=n})),i.window.scrollTo(t,n)}}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const e=t.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(e);n&&n.rangeCount>0&&e.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return"br"==this.blockFillerMode?t.isEqualNode(Xa):!("BR"!==t.tagName||!rc(t,this.blockElements)||1!==t.parentNode.childNodes.length)||t.isEqualNode(Za)||function(t,e){const n=t.isEqualNode(Ka);return n&&rc(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch(t){return!1}const n=e.collapsed;return e.detach(),n}getHostViewElement(t){const e=function(t){const e=[];let n=t;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)e.unshift(n),n=n.parentNode;return e}(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_clearTemporaryCustomProperties(){for(const t of this._elementsWithTemporaryCustomProperties)t._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Oa(this._domDocument);case"markedNbsp":return Na(this._domDocument);case"br":return Pa(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if(Br(t)&&Ra(t)&&e<La)return!1;if(this.isElement(t)&&Ra(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(t,e,n){if(this.isBlockFiller(t))return null;const r=this.getHostViewElement(t);if(r)return r;if(Zr(t)&&e.skipComments)return null;if(Br(t)){if(ja(t))return null;{const e=t.data;if(""===e)return null;const r=new as(this.document,e);return n.push(r),r}}{let r=this.mapDomToView(t);if(r)return this._isInlineObjectElement(r)&&n.push(r),r;if(this.isDocumentFragment(t))r=new ka(this.document),e.bind&&this.bindDocumentFragments(t,r);else{r=this._createViewElement(t,e),e.bind&&this.bindElements(t,r);const i=t.attributes;if(i)for(let t=i.length,e=0;e<t;e++)r._setAttribute(i[e].name,i[e].value);if(this._isViewElementWithRawContent(r,e))return r._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(r)||n.push(r),r;if(Zr(t))return r._setCustomProperty("$rawContent",t.data),r}yield r;const i=[];if(!1!==e.withChildren)for(const n of this.domChildrenToView(t,e,i))r._appendChild(n);if(this._isInlineObjectElement(r))n.push(r);else for(const t of i)n.push(t)}}_processDomInlineNodes(t,e,n){if(!e.length)return;if(t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let r=!1;for(let i=0;i<e.length;i++){const t=e[i];if(!t.is("$text")){r=!1;continue}let o,s=!1;if(ec(t,this.preElements))o=za(t.data);else{o=t.data.replace(/[ \n\t\r]{1,}/g," "),s=/[^\S\u00A0]/.test(o.charAt(o.length-1));const a=i>0?e[i-1]:null,c=i+1<e.length?e[i+1]:null,l=!a||a.is("element")&&"br"==a.name||r,u=!c&&!Ra(t.data);!1!==n.withChildren&&(l&&(o=o.replace(/^ /,"")),u&&(o=o.replace(/ $/,""))),o=za(o),o=o.replace(/ \u00A0/g,"  ");const d=c&&c.is("element")&&"br"!=c.name,h=c&&c.is("$text")&&" "==c.data.charAt(0);(/[ \u00A0]\u00A0$/.test(o)||!c||d||h)&&(o=o.replace(/\u00A0$/," ")),(l||a&&a.is("element")&&"br"!=a.name)&&(o=o.replace(/^\u00A0/," "))}0==o.length&&t.parent?(t._remove(),e.splice(i,1),i--):(t._data=o,r=s)}e.length=0}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some((t=>this.preElements.includes(t.name))))return e;if(" "==e.charAt(0)){const n=this._getTouchingInlineViewNode(t,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(e=" "+e.substr(1))}if(" "==e.charAt(e.length-1)){const n=this._getTouchingInlineViewNode(t,!0),r=n&&n.is("$textProxy")&&" "==n.data.charAt(0);" "!=e.charAt(e.length-2)&&n&&!r||(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(t.getAncestors().some((t=>this.preElements.includes(t.name))))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_getTouchingInlineViewNode(t,e){const n=new Ks({startPosition:e?Zs._createAfter(t):Zs._createBefore(t),direction:e?"forward":"backward"});for(const r of n){if(r.item.is("element","br"))return null;if(this._isInlineObjectElement(r.item))return r.item;if(r.item.is("containerElement"))return null;if(r.item.is("$textProxy"))return r.item}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return!!t.is("element")&&("br"==t.name||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t))}_createViewElement(t,e){if(Zr(t))return new ga(this.document,"$comment");const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Gs(this.document,n)}_isViewElementWithRawContent(t,e){return!1!==e.withChildren&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const n=this._domDocument.createElement("span");if(n.setAttribute(Ja,t),e){for(;e.firstChild;)n.appendChild(e.firstChild);for(const t of e.getAttributeNames())n.setAttribute(t,e.getAttribute(t))}return n}}function ec(t,e){return t.getAncestors().some((t=>t.is("element")&&e.includes(t.name)))}function nc(t,e){let n=t;for(;n;)e(n),n=n.parentElement}function rc(t,e){const n=t.parentNode;return!!n&&!!n.tagName&&e.includes(n.tagName.toLowerCase())}function ic(t){"script"===t&&A("domconverter-unsafe-script-element-detected"),"style"===t&&A("domconverter-unsafe-style-element-detected")}class oc extends(Or()){constructor(t){super(),this._isEnabled=!1,this.view=t,this.document=t.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&3===t.nodeType&&(t=t.parentNode),!(!t||1!==t.nodeType)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const sc=Vi((function(t,e){Oe(e,mn(e),t)}));class ac{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,sc(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class cc extends oc{constructor(){super(...arguments),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((e=>{this.listenTo(t,e,((t,e)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(e.target)&&this.onDomEvent(e)}),{useCapture:this.useCapture})}))}stopObserving(t){this.stopListening(t)}fire(t,e,n){this.isEnabled&&this.document.fire(t,new ac(this.view,e,n))}}class lc extends cc{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(t){const e={keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return bi(this)}};this.fire(t.type,t,e)}}const uc=function(){return st.Date.now()};var dc=/\s/;const hc=function(t){for(var e=t.length;e--&&dc.test(t.charAt(e)););return e};var fc=/^\s+/;const pc=function(t){return t?t.slice(0,hc(t)+1).replace(fc,""):t};var gc=/^[-+]0x[0-9a-f]+$/i,mc=/^0b[01]+$/i,vc=/^0o[0-7]+$/i,bc=parseInt;const yc=function(t){if("number"==typeof t)return t;if(hs(t))return NaN;if(V(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=V(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=pc(t);var n=mc.test(t);return n||vc.test(t)?bc(t.slice(2),n?2:8):gc.test(t)?NaN:+t};var kc=Math.max,wc=Math.min;const _c=function(t,e,n){var r,i,o,s,a,c,l=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=r,o=i;return r=i=void 0,l=e,s=t.apply(o,n)}function p(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-l>=o}function g(){var t=uc();if(p(t))return m(t);a=setTimeout(g,function(t){var n=e-(t-c);return d?wc(n,o-(t-l)):n}(t))}function m(t){return a=void 0,h&&r?f(t):(r=i=void 0,s)}function v(){var t=uc(),n=p(t);if(r=arguments,i=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(g,e),u?f(t):s}(c);if(d)return clearTimeout(a),a=setTimeout(g,e),f(c)}return void 0===a&&(a=setTimeout(g,e)),s}return e=yc(e)||0,V(n)&&(u=!!n.leading,o=(d="maxWait"in n)?kc(yc(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=c=i=a=void 0},v.flush=function(){return void 0===a?s:m(uc())},v};class Ac extends oc{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=_c((t=>{this.document.fire("selectionChangeDone",t)}),200)}observe(){const t=this.document;t.on("arrowKey",((e,n)=>{t.selection.isFake&&this.isEnabled&&n.preventDefault()}),{context:"$capture"}),t.on("arrowKey",((e,n)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)}),{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new ta(e.getRanges(),{backward:e.isBackward,fake:!1});t!=mi.arrowleft&&t!=mi.arrowup||n.setTo(n.getFirstPosition()),t!=mi.arrowright&&t!=mi.arrowdown||n.setTo(n.getLastPosition());const r={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}const Cc=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},xc=function(t){return this.__data__.has(t)};function Ec(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ae;++e<n;)this.add(t[e])}Ec.prototype.add=Ec.prototype.push=Cc,Ec.prototype.has=xc;const Sc=Ec,Mc=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Ic=function(t,e){return t.has(e)},Dc=function(t,e,n,r,i,o){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(t),u=o.get(e);if(l&&u)return l==e&&u==t;var d=-1,h=!0,f=2&n?new Sc:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],g=e[d];if(r)var m=s?r(g,p,d,e,t,o):r(p,g,d,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!Mc(e,(function(t,e){if(!Ic(f,e)&&(p===t||i(p,t,n,r,o)))return f.push(e)}))){h=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h},Tc=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},Oc=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var Nc=at?at.prototype:void 0,Pc=Nc?Nc.valueOf:void 0;const Lc=function(t,e,n,r,i,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new tr(t),new tr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Dt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Tc;case"[object Set]":var c=1&r;if(a||(a=Oc),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;r|=2,s.set(t,e);var u=Dc(a(t),a(e),r,i,o,s);return s.delete(t),u;case"[object Symbol]":if(Pc)return Pc.call(t)==Pc.call(e)}return!1};var Bc=Object.prototype.hasOwnProperty;const Rc=function(t,e,n,r,i,o){var s=1&n,a=Pn(t),c=a.length;if(c!=Pn(e).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in e:Bc.call(e,u)))return!1}var d=o.get(t),h=o.get(e);if(d&&h)return d==e&&h==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=s;++l<c;){var g=t[u=a[l]],m=e[u];if(r)var v=s?r(m,g,u,e,t,o):r(g,m,u,t,e,o);if(!(void 0===v?g===m||i(g,m,n,r,o):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var b=t.constructor,y=e.constructor;b==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(t),o.delete(e),f};var jc="[object Arguments]",zc="[object Array]",Fc="[object Object]",Vc=Object.prototype.hasOwnProperty;const Uc=function(t,e,n,r,i,o){var s=vt(t),a=vt(e),c=s?zc:Zn(t),l=a?zc:Zn(e),u=(c=c==jc?Fc:c)==Fc,d=(l=l==jc?Fc:l)==Fc,h=c==l;if(h&&Ge(t)){if(!Ge(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Ee),s||en(t)?Dc(t,e,n,r,i,o):Lc(t,e,c,n,r,i,o);if(!(1&n)){var f=u&&Vc.call(t,"__wrapped__"),p=d&&Vc.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return o||(o=new Ee),i(g,m,n,r,o)}}return!!h&&(o||(o=new Ee),Rc(t,e,n,r,i,o))},Gc=function t(e,n,r,i,o){return e===n||(null==e||null==n||!bt(e)&&!bt(n)?e!=e&&n!=n:Uc(e,n,r,i,t,o))},Hc=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?Gc(t,e,void 0,n):!!r};class $c extends oc{constructor(t){super(t),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.add(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}stopObserving(t){if(this._domElements.delete(t),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Set,r=new Set;for(const o of t){const t=e.mapDomToView(o.target);t&&(t.is("uiElement")||t.is("rawElement")||"childList"!==o.type||this._isBogusBrMutation(o)||r.add(t))}for(const o of t){const t=e.mapDomToView(o.target);if((!t||!t.is("uiElement")&&!t.is("rawElement"))&&"characterData"===o.type){const t=e.findCorrespondingViewText(o.target);t&&!r.has(t.parent)?n.add(t):!t&&Ra(o.target)&&r.add(e.mapDomToView(o.target.parentNode))}}let i=!1;for(const o of n)i=!0,this.renderer.markToSync("text",o);for(const o of r){const t=e.mapViewToDom(o),n=Array.from(o.getChildren()),r=Array.from(e.domChildrenToView(t,{withChildren:!1}));Hc(n,r,Wc)||(i=!0,this.renderer.markToSync("children",o))}i&&this.view.forceRender()}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}function Wc(t,e){if(!Array.isArray(t))return t===e||!(!t.is("$text")||!e.is("$text"))&&t.data===e.data}class Yc extends cc{constructor(t){super(t),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",(()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout((()=>{this.flush(),t.change((()=>{}))}),50)})),e.on("blur",((n,r)=>{const i=e.selection.editableElement;null!==i&&i!==r.target||(e.isFocused=!1,this._isFocusChanging=!1,t.change((()=>{})))}))}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class qc extends oc{constructor(t){super(t),this.mutationObserver=t.getObserver($c),this.focusObserver=t.getObserver(Yc),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=_c((t=>{this.document.fire("selectionChangeDone",t)}),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._documentIsSelectingInactivityTimeoutDebounced=_c((()=>this.document.isSelecting=!1),5e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,e),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",(()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(t,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(e)||(this.listenTo(e,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"selectionchange",((t,n)=>{this.document.isComposing&&!l.isAndroid||(this._handleSelectionChange(n,e),this._documentIsSelectingInactivityTimeoutDebounced())})),this._documents.add(e))}stopObserving(t){this.stopListening(t)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(t,e){if(!this.isEnabled)return;const n=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const r=this.domConverter.domSelectionToView(n);if(0!=r.rangeCount){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(r)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(r))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:r,domSelection:n};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Xc extends cc{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",(()=>{e.isComposing=!0}),{priority:"low"}),e.on("compositionend",(()=>{e.isComposing=!1}),{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class Kc{constructor(t,e={}){this._files=e.cacheFiles?Zc(t):null,this._native=t}get files(){return this._files||(this._files=Zc(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,e,n){this._native.setDragImage(t,e,n)}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}function Zc(t){const e=Array.from(t.files||[]),n=Array.from(t.items||[]);return e.length?e:n.filter((t=>"file"===t.kind)).map((t=>t.getAsFile()))}class Qc extends cc{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(t){const e=t.getTargetRanges(),n=this.view,r=n.document;let i=null,o=null,s=[];if(t.dataTransfer&&(i=new Kc(t.dataTransfer)),null!==t.data?o=t.data:i&&(o=i.getData("text/plain")),r.selection.isFake)s=Array.from(r.selection.getRanges());else if(e.length)s=e.map((t=>{const e=n.domConverter.domPositionToView(t.startContainer,t.startOffset),r=n.domConverter.domPositionToView(t.endContainer,t.endOffset);return e?n.createRange(e,r):r?n.createRange(r):void 0})).filter((t=>!!t));else if(l.isAndroid){const e=t.target.ownerDocument.defaultView.getSelection();s=Array.from(n.domConverter.domSelectionToView(e).getRanges())}if(l.isAndroid&&"insertCompositionText"==t.inputType&&o&&o.endsWith("\n"))this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[n.createRange(s[0].end)]});else if("insertText"==t.inputType&&o&&o.includes("\n")){const e=o.split(/\n{1,2}/g);let n=s;for(let o=0;o<e.length;o++){const s=e[o];""!=s&&(this.fire(t.type,t,{data:s,dataTransfer:i,targetRanges:n,inputType:t.inputType,isComposing:t.isComposing}),n=[r.selection.getFirstRange()]),o+1<e.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:n}),n=[r.selection.getFirstRange()])}}else this.fire(t.type,t,{data:o,dataTransfer:i,targetRanges:s,inputType:t.inputType,isComposing:t.isComposing})}}class Jc extends oc{constructor(t){super(t),this.document.on("keydown",((t,e)=>{if(this.isEnabled&&((n=e.keyCode)==mi.arrowright||n==mi.arrowleft||n==mi.arrowup||n==mi.arrowdown)){const n=new na(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(n,e),n.stop.called&&t.stop()}var n}))}observe(){}stopObserving(){}}class tl extends oc{constructor(t){super(t);const e=this.document;e.on("keydown",((t,n)=>{if(!this.isEnabled||n.keyCode!=mi.tab||n.ctrlKey)return;const r=new na(e,"tab",e.selection.getFirstRange());e.fire(r,n),r.stop.called&&t.stop()}))}observe(){}stopObserving(){}}const el=function(t){return Ar(t,5)};class nl extends(q()){constructor(t){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new la(t),this.domConverter=new tc(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Ga(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new wa(this.document),this.addObserver($c),this.addObserver(Yc),this.addObserver(qc),this.addObserver(lc),this.addObserver(Ac),this.addObserver(Xc),this.addObserver(Jc),this.addObserver(Qc),this.addObserver(tl),this.document.on("arrowKey",Fa,{priority:"low"}),ma(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=!0})),l.isiOS&&this.listenTo(this.document,"blur",((t,e)=>{this.domConverter.mapDomToView(e.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}))}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const r={};for(const{name:o,value:s}of Array.from(t.attributes))r[o]=s,"class"===o?this._writer.addClass(s.split(" "),n):this._writer.setAttribute(o,s,n);this._initialDomRootAttributes.set(t,r);const i=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};i(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",((t,e)=>this._renderer.markToSync("children",e))),n.on("change:attributes",((t,e)=>this._renderer.markToSync("attributes",e))),n.on("change:text",((t,e)=>this._renderer.markToSync("text",e))),n.on("change:isReadOnly",(()=>this.change(i))),n.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const o of this._observers.values())o.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach((({name:t})=>e.removeAttribute(t)));const n=this._initialDomRootAttributes.get(e);for(const r in n)e.setAttribute(r,n[r]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e);for(const r of this._observers.values())r.stopObserving(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[n,r]of this.domRoots)e.observe(r,n);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection({alignToTop:t,forceScroll:e,viewportOffset:n=20,ancestorOffset:r=20}={}){const i=this.document.selection.getFirstRange();if(!i)return;const o=el({alignToTop:t,forceScroll:e,viewportOffset:n,ancestorOffset:r});"number"==typeof n&&(n={top:n,bottom:n,left:n,right:n});const s={target:this.domConverter.viewRangeToDom(i),viewportOffset:n,ancestorOffset:r,alignToTop:t,forceScroll:e};this.fire("scrollToTheSelection",s,o),function({target:t,viewportOffset:e=0,ancestorOffset:n=0,alignToTop:r,forceScroll:i}){const o=ui(t);let s=o,a=null;for(e=function(t){return"number"==typeof t?{top:t,bottom:t,left:t,right:t}:t}(e);s;){let c;c=di(s==o?t:a),oi({parent:c,getRect:()=>hi(t,s),alignToTop:r,ancestorOffset:n,forceScroll:i});const l=hi(t,s);if(ii({window:s,rect:l,viewportOffset:e,alignToTop:r,forceScroll:i}),s.parent!=s){if(a=s.frameElement,s=s.parent,!a)return}else s=null}}(s)}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new _("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){_.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Yc).flush(),this.change((()=>{}))}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return Zs._createAt(t,e)}createPositionAfter(t){return Zs._createAfter(t)}createPositionBefore(t){return Zs._createBefore(t)}createRange(t,e){return new Qs(t,e)}createRangeOn(t){return Qs._createOn(t)}createRangeIn(t){return Qs._createIn(t)}createSelection(...t){return new ta(...t)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class rl{is(){throw new Error("is() method is abstract")}}class il extends rl{constructor(t){super(),this.parent=null,this._attrs=Zi(t)}get document(){return null}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new _("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new _("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return null!==this.parent&&this.root.isAttached()}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),r=t.getAncestors(e);let i=0;for(;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),r=nt(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce(((t,e)=>(t[e[0]]=e[1],t)),{})),t}_clone(t){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Zi(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}il.prototype.is=function(t){return"node"===t||"model:node"===t};class ol{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce(((t,e)=>t+e.offsetSize),0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce(((t,e)=>t+e.offsetSize),0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new _("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new _("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const n of e)if(!(n instanceof il))throw new _("model-nodelist-insertnodes-not-node",this);this._nodes=function(t,e,n,r){if(Math.max(e.length,t.length)>1e4)return t.slice(0,n).concat(e).concat(t.slice(n+r,t.length));{const i=Array.from(t);return i.splice(n,r,...e),i}}(this._nodes,Array.from(e),t,0)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map((t=>t.toJSON()))}}class sl extends il{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new sl(this.data,this.getAttributes())}static fromJSON(t){return new sl(t.data,t.attributes)}}sl.prototype.is=function(t){return"$text"===t||"model:$text"===t||"text"===t||"model:text"===t||"node"===t||"model:node"===t};class al extends rl{constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.offsetSize)throw new _("model-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.offsetSize)throw new _("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}al.prototype.is=function(t){return"$textProxy"===t||"model:$textProxy"===t||"textProxy"===t||"model:textProxy"===t};class cl extends il{constructor(t,e,n){super(e),this._children=new ol,this.name=t,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}findAncestor(t,e={}){let n=e.includeSelf?this:this.parent;for(;n;){if(n.name===t)return n;n=n.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map((t=>t._clone(!0))):void 0;return new cl(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new sl(t)]:(rt(t)||(t=[t]),Array.from(t).map((t=>"string"==typeof t?new sl(t):t instanceof al?new sl(t.data,t.getAttributes()):t)))}(e);for(const r of n)null!==r.parent&&r._remove(),r.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const r of n)r.parent=null;return n}static fromJSON(t){let e;if(t.children){e=[];for(const n of t.children)n.name?e.push(cl.fromJSON(n)):e.push(sl.fromJSON(n))}return new cl(t.name,t.attributes,e)}}cl.prototype.is=function(t,e){return e?e===this.name&&("element"===t||"model:element"===t):"element"===t||"model:element"===t||"node"===t||"model:node"===t};class ll{constructor(t){if(!t||!t.boundaries&&!t.startPosition)throw new _("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new _("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=dl._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,n,r,i;do{r=this.position,i=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this._position=r,this._visitedParent=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const r=hl(e,n),i=r||fl(e,n,r);if(i instanceof cl){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e.path.push(0),this._visitedParent=i;return this._position=e,ul("elementStart",i,t,e,1)}if(i instanceof sl){let r;if(this.singleCharacters)r=1;else{let t=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),r=t-e.offset}const o=e.offset-i.startOffset,s=new al(i,o,r);return e.offset+=r,this._position=e,ul("text",s,t,e,r)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():ul("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const r=e.parent,i=hl(e,r),o=i||pl(e,r,i);if(o instanceof cl)return e.offset--,this.shallow?(this._position=e,ul("elementStart",o,t,e,1)):(e.path.push(o.maxOffset),this._position=e,this._visitedParent=o,this.ignoreElementEnd?this._previous():ul("elementEnd",o,t,e));if(o instanceof sl){let r;if(this.singleCharacters)r=1;else{let t=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),r=e.offset-t}const i=e.offset-o.startOffset,s=new al(o,i-r,r);return e.offset-=r,this._position=e,ul("text",s,t,e,r)}return e.path.pop(),this._position=e,this._visitedParent=n.parent,ul("elementStart",n,t,e,1)}}function ul(t,e,n,r,i){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:i}}}class dl extends rl{constructor(t,e,n="toNone"){if(super(),!t.is("element")&&!t.is("documentFragment"))throw new _("model-position-root-invalid",t);if(!(e instanceof Array)||0===e.length)throw new _("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new _("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new _("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return hl(this,this.parent)}get nodeAfter(){const t=this.parent;return fl(this,t,hl(this,t))}get nodeBefore(){const t=this.parent;return pl(this,t,hl(this,t))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=nt(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new ll(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=nt(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let r=0;for(;e[r]==n[r]&&e[r];)r++;return 0===r?null:e[r-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){if(this.root!==t.root)return!1;const e=Math.min(this.path.length,t.path.length);for(let n=0;n<e;n++){const e=this.path[n]-t.path[n];if(e<-1||e>1)return!1;if(1===e)return gl(t,this,n);if(-1===e)return gl(this,t,n)}return this.path.length===t.path.length||(this.path.length>t.path.length?ml(this.path,e):ml(t.path,e))}hasSameParentAs(t){return this.root===t.root&&"same"==nt(this.getParentPath(),t.getParentPath())}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=dl._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?dl._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=dl._createAt(this);if(this.root!=t.root)return n;if("same"==nt(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==nt(t.getParentPath(),this.getParentPath())){const r=t.path.length-1;if(t.offset<=this.path[r]){if(t.offset+e>this.path[r])return null;n.path[r]-=e}}return n}_getTransformedByInsertion(t,e){const n=dl._createAt(this);if(this.root!=t.root)return n;if("same"==nt(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==nt(t.getParentPath(),this.getParentPath())){const r=t.path.length-1;t.offset<=this.path[r]&&(n.path[r]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return dl._createAt(this);const r=this._getTransformedByDeletion(t,n);return null===r||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):r._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,r=dl._createAt(e);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[n]-t.offset,r.path=[...r.path,...this.path.slice(n+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof dl)return new dl(t.root,t.path,t.stickiness);{const r=t;if("end"==e)e=r.maxOffset;else{if("before"==e)return this._createBefore(r,n);if("after"==e)return this._createAfter(r,n);if(0!==e&&!e)throw new _("model-createpositionat-offset-required",[this,t])}if(!r.is("element")&&!r.is("documentFragment"))throw new _("model-position-parent-incorrect",[this,t]);const i=r.getPath();return i.push(e),new this(r.root,i,n)}}static _createAfter(t,e){if(!t.parent)throw new _("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new _("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new dl(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new _("model-position-fromjson-no-root",e,{rootName:t.root});return new dl(e.getRoot(t.root),t.path,t.stickiness)}}function hl(t,e){const n=e.getChild(e.offsetToIndex(t.offset));return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function fl(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset))}function pl(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset)-1)}function gl(t,e,n){return n+1!==t.path.length&&!!ml(e.path,n+1)&&!!function(t,e){let n=t.parent,r=t.path.length-1,i=0;for(;r>=e;){if(t.path[r]+i!==n.maxOffset)return!1;i=1,r--,n=n.parent}return!0}(t,n+1)}function ml(t,e){for(;e<t.length;){if(0!==t[e])return!1;e++}return!0}dl.prototype.is=function(t){return"position"===t||"model:position"===t};class vl extends rl{constructor(t,e){super(),this.start=dl._createAt(t),this.end=e?dl._createAt(e):dl._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new ll({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==nt(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}containsItem(t){const e=dl._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new vl(this.start,t.start)),this.containsPosition(t.end)&&e.push(new vl(t.end,this.end))):e.push(new vl(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new vl(e,n)}return null}getJoined(t,e=!1){let n=this.isIntersecting(t);if(n||(n=this.start.isBefore(t.start)?e?this.end.isTouching(t.start):this.end.isEqual(t.start):e?t.end.isTouching(this.start):t.end.isEqual(this.start)),!n)return null;let r=this.start,i=this.end;return t.start.isBefore(r)&&(r=t.start),t.end.isAfter(i)&&(i=t.end),new vl(r,i)}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=dl._createAt(this.start);let r=n.parent;for(;n.path.length>e+1;){const e=r.maxOffset-n.offset;0!==e&&t.push(new vl(n,n.getShiftedBy(e))),n.path=n.path.slice(0,-1),n.offset++,r=r.parent}for(;n.path.length<=this.end.path.length;){const e=this.end.path[n.path.length-1],r=e-n.offset;0!==r&&t.push(new vl(n,n.getShiftedBy(r))),n.offset=e,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new ll(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new ll(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new ll(t);yield e.position;for(const n of e)yield n.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new vl(this.start,this.end)]}getTransformedByOperations(t){const e=[new vl(this.start,this.end)];for(const n of t)for(let t=0;t<e.length;t++){const r=e[t].getTransformedByOperation(n);e.splice(t,1,...r),t+=r.length-1}for(let n=0;n<e.length;n++){const t=e[n];for(let r=n+1;r<e.length;r++){const n=e[r];(t.containsRange(n)||n.containsRange(t)||t.isEqual(n))&&e.splice(r,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){const n=t.sourcePosition,r=t.howMany,i=t.targetPosition;return this._getTransformedByMove(n,i,r,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new vl(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new vl(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=dl._createAt(n),e.offset=0):(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new vl(e,n)):new vl(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new vl(this.start,t),new vl(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const n=new vl(this.start,this.end);return n.start=n.start._getTransformedByInsertion(t,e),n.end=n.end._getTransformedByInsertion(t,e),[n]}}_getTransformedByMove(t,e,n,r=!1){if(this.isCollapsed){const r=this.start._getTransformedByMove(t,e,n);return[new vl(r)]}const i=vl._createFromPositionAndShift(t,n),o=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!r&&(i.containsPosition(this.start)||i.containsPosition(this.end))){const r=this.start._getTransformedByMove(t,e,n),i=this.end._getTransformedByMove(t,e,n);return[new vl(r,i)]}let s;const a=this.getDifference(i);let c=null;const l=this.getIntersection(i);if(1==a.length?c=new vl(a[0].start._getTransformedByDeletion(t,n),a[0].end._getTransformedByDeletion(t,n)):2==a.length&&(c=new vl(this.start,this.end._getTransformedByDeletion(t,n))),s=c?c._getTransformedByInsertion(o,n,null!==l||r):[],l){const t=new vl(l.start._getCombined(i.start,o),l.end._getCombined(i.start,o));2==s.length?s.splice(1,0,t):s.push(t)}return s}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),r=this.end._getTransformedByDeletion(t,e);return null==n&&null==r?null:(null==n&&(n=t),null==r&&(r=t),new vl(n,r))}static _createFromPositionAndShift(t,e){const n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}static _createIn(t){return new this(dl._createAt(t,0),dl._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(dl._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new _("range-create-from-ranges-empty-array",null);if(1==t.length)return t[0].clone();const e=t[0];t.sort(((t,e)=>t.start.isAfter(e.start)?1:-1));const n=t.indexOf(e),r=new this(e.start,e.end);if(n>0)for(let i=n-1;t[i].end.isEqual(r.start);i++)r.start=dl._createAt(t[i].start);for(let i=n+1;i<t.length&&t[i].start.isEqual(r.end);i++)r.end=dl._createAt(t[i].end);return r}static fromJSON(t,e){return new this(dl.fromJSON(t.start,e),dl.fromJSON(t.end,e))}}vl.prototype.is=function(t){return"range"===t||"model:range"===t};class bl extends(N()){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",((t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);if(!n)throw new _("mapping-model-position-view-parent-not-found",this,{modelPosition:e.modelPosition});e.viewPosition=this.findPositionIn(n,e.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),r=this._viewToModelMapping.get(n),i=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=dl._createAt(r,i)}),{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t,e={}){const n=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const r of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(r);e.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(n)==t&&this._modelToViewMapping.delete(n))}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const r=this._elementToMarkerNames.get(t)||new Set;r.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,r)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));const r=this._elementToMarkerNames.get(t);r&&(r.delete(e),0==r.size&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,e]of this._deferredBindingRemovals)t.root==e&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new vl(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new Qs(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const r of e)if(r.is("attributeElement"))for(const t of r.getElementsWithSameId())n.add(t);else n.add(r);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("$text"))return e;let r=0;for(let i=0;i<e;i++)r+=this.getModelLength(t.getChild(i));return r}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}findPositionIn(t,e){let n,r=0,i=0,o=0;if(t.is("$text"))return new Zs(t,e);for(;i<e;)n=t.getChild(o),r=this.getModelLength(n),i+=r,o++;return i==e?this._moveViewPositionToTextNode(new Zs(t,o)):this.findPositionIn(n,e-(i-r))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof as?new Zs(e,e.data.length):n instanceof as?new Zs(n,0):t}}class yl{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=kl(e),t instanceof al&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=kl(e),t instanceof al&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=kl(e),t instanceof al&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const r=n.get(e);return void 0===r?null:r}revert(t,e){e=kl(e),t instanceof al&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}verifyAllConsumed(t){const e=[];for(const[n,r]of this._consumable)for(const[i,o]of r){const r=i.split(":")[0];o&&t==r&&e.push({event:i,item:n.name||n.description})}if(e.length)throw new _("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const r=n.get(t.endOffset);r&&(e=r.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,n=t.endOffset,r=t.parent,i=Symbol("$textProxy:"+t.data);let o,s;return o=this._textProxyRegistry.get(e),o||(o=new Map,this._textProxyRegistry.set(e,o)),s=o.get(n),s||(s=new Map,o.set(n,s)),s.set(r,i),i}}function kl(t){const e=t.split(":");return"insert"==e[0]?e[0]:"addMarker"==e[0]||"removeMarker"==e[0]?t:e.length>1?e[0]+":"+e[1]:e[0]}var wl=Object.defineProperty,_l=Object.defineProperties,Al=Object.getOwnPropertyDescriptors,Cl=Object.getOwnPropertySymbols,xl=Object.prototype.hasOwnProperty,El=Object.prototype.propertyIsEnumerable,Sl=(t,e,n)=>e in t?wl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ml=(t,e)=>{for(var n in e||(e={}))xl.call(e,n)&&Sl(t,n,e[n]);if(Cl)for(var n of Cl(e))El.call(e,n)&&Sl(t,n,e[n]);return t},Il=(t,e)=>_l(t,Al(e));class Dl extends(N()){constructor(t){super(),this._conversionApi=Ml({dispatcher:this},t),this._firedEventsMap=new WeakMap}convertChanges(t,e,n){const r=this._createConversionApi(n,t.getRefreshedItems());for(const o of t.getMarkersToRemove())this._convertMarkerRemove(o.name,o.range,r);const i=this._reduceChanges(t.getChanges());for(const o of i)"insert"===o.type?this._convertInsert(vl._createFromPositionAndShift(o.position,o.length),r):"reinsert"===o.type?this._convertReinsert(vl._createFromPositionAndShift(o.position,o.length),r):"remove"===o.type?this._convertRemove(o.position,o.length,o.name,r):this._convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,r);r.mapper.flushDeferredBindings();for(const o of r.mapper.flushUnboundMarkerNames()){const t=e.get(o).getRange();this._convertMarkerRemove(o,t,r),this._convertMarkerAdd(o,t,r)}for(const o of t.getMarkersToAdd())this._convertMarkerAdd(o.name,o.range,r);r.consumable.verifyAllConsumed("insert")}convert(t,e,n,r={}){const i=this._createConversionApi(n,void 0,r);this._convertInsert(t,i);for(const[o,s]of e)this._convertMarkerAdd(o,s,i);i.consumable.verifyAllConsumed("insert")}convertSelection(t,e,n){const r=this._createConversionApi(n);this.fire("cleanSelection",{selection:t},r);const i=t.getFirstPosition().root;if(!r.mapper.toViewElement(i))return;const o=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this._addConsumablesForSelection(r.consumable,t,o),this.fire("selection",{selection:t},r),t.isCollapsed){for(const e of o)if(r.consumable.test(t,"addMarker:"+e.name)){const n=e.getRange();if(!Tl(t.getFirstPosition(),e,r.mapper))continue;const i={item:t,markerName:e.name,markerRange:n};this.fire(`addMarker:${e.name}`,i,r)}for(const e of t.getAttributeKeys())if(r.consumable.test(t,"attribute:"+e)){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.fire(`attribute:${e}:$text`,n,r)}}}_convertInsert(t,e,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(e.consumable,t);for(const r of Array.from(t.getWalker({shallow:!0})).map(Ol))this._testAndFire("insert",r,e)}_convertRemove(t,e,n,r){this.fire(`remove:${n}`,{position:t,length:e},r)}_convertAttribute(t,e,n,r,i){this._addConsumablesForRange(i.consumable,t,`attribute:${e}`);for(const o of t){const t={item:o.item,range:vl._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:e,attributeOldValue:n,attributeNewValue:r};this._testAndFire(`attribute:${e}`,t,i)}}_convertReinsert(t,e){const n=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(e.consumable,n);for(const r of n.map(Ol))this._testAndFire("insert",Il(Ml({},r),{reconversion:!0}),e)}_convertMarkerAdd(t,e,n){if("$graveyard"==e.root.rootName)return;const r=`addMarker:${t}`;if(n.consumable.add(e,r),this.fire(r,{markerName:t,markerRange:e},n),n.consumable.consume(e,r)){this._addConsumablesForRange(n.consumable,e,r);for(const i of e.getItems()){if(!n.consumable.test(i,r))continue;const o={item:i,range:vl._createOn(i),markerName:t,markerRange:e};this.fire(r,o,n)}}}_convertMarkerRemove(t,e,n){"$graveyard"!=e.root.rootName&&this.fire(`removeMarker:${t}`,{markerName:t,markerRange:e},n)}_reduceChanges(t){const e={changes:t};return this.fire("reduceChanges",e),e.changes}_addConsumablesForInsert(t,e){for(const n of e){const e=n.item;if(null===t.test(e,"insert")){t.add(e,"insert");for(const n of e.getAttributeKeys())t.add(e,"attribute:"+n)}}return t}_addConsumablesForRange(t,e,n){for(const r of e.getItems())t.add(r,n);return t}_addConsumablesForSelection(t,e,n){t.add(e,"selection");for(const r of n)t.add(e,"addMarker:"+r.name);for(const r of e.getAttributeKeys())t.add(e,"attribute:"+r);return t}_testAndFire(t,e,n){const r=function(t,e){const n=e.item.is("element")?e.item.name:"$text";return`${t}:${n}`}(t,e),i=e.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(e.item):e.item,o=this._firedEventsMap.get(n),s=o.get(i);if(s){if(s.has(r))return;s.add(r)}else o.set(i,new Set([r]));this.fire(r,e,n)}_testAndFireAddAttributes(t,e){const n={item:t,range:vl._createOn(t)};for(const r of n.item.getAttributeKeys())n.attributeKey=r,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(r),this._testAndFire(`attribute:${r}`,n,e)}_createConversionApi(t,e=new Set,n={}){const r=Il(Ml({},this._conversionApi),{consumable:new yl,writer:t,options:n,convertItem:t=>this._convertInsert(vl._createOn(t),r),convertChildren:t=>this._convertInsert(vl._createIn(t),r,{doNotAddConsumables:!0}),convertAttributes:t=>this._testAndFireAddAttributes(t,r),canReuseView:t=>!e.has(r.mapper.toModelElement(t))});return this._firedEventsMap.set(r,new Map),r}}function Tl(t,e,n){const r=e.getRange(),i=Array.from(t.getAncestors());return i.shift(),i.reverse(),!i.some((t=>{if(r.containsItem(t))return!!n.toViewElement(t).getCustomProperty("addHighlight")}))}function Ol(t){return{item:t.item,range:vl._createFromPositionAndShift(t.previousPosition,t.length)}}class Nl extends(N(rl)){constructor(...t){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const r of t._ranges)if(e.isEqual(r)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new vl(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new vl(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new vl(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[e,n,r]=t;if("object"==typeof n&&(r=n,n=void 0),null===e)this._setRanges([]);else if(e instanceof Nl)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof vl)this._setRanges([e],!!r&&!!r.backward);else if(e instanceof dl)this._setRanges([new vl(e)]);else if(e instanceof il){const t=!!r&&!!r.backward;let i;if("in"==n)i=vl._createIn(e);else if("on"==n)i=vl._createOn(e);else{if(void 0===n)throw new _("model-selection-setto-required-second-parameter",[this,e]);i=new vl(dl._createAt(e,n))}this._setRanges([i],t)}else{if(!rt(e))throw new _("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,r&&!!r.backward)}}_setRanges(t,e=!1){const n=Array.from(t),r=n.some((e=>{if(!(e instanceof vl))throw new _("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every((t=>!t.isEqual(e)))}));(n.length!==this._ranges.length||r)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0}))}setFocus(t,e){if(null===this.anchor)throw new _("model-selection-setfocus-no-ranges",[this,t]);const n=dl._createAt(t,e);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new vl(n,r)),this._lastRangeBackward=!0):(this._pushRange(new vl(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=Bl(e.start,t);jl(n,e)&&(yield n);for(const i of e.getWalker()){const n=i.item;"elementEnd"==i.type&&Ll(n,t,e)&&(yield n)}const r=Bl(e.end,t);zl(r,e)&&(yield r)}}containsEntireContent(t=this.anchor.root){const e=dl._createAt(t,0),n=dl._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new vl(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new _("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_replaceAllRanges(t){this._removeAllRanges();for(const e of t)this._pushRange(e)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Pl(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&!!t.parent)}function Ll(t,e,n){return Pl(t,e)&&Rl(t,n)}function Bl(t,e){const n=t.parent.root.document.model.schema,r=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let i=!1;const o=r.find((t=>!i&&(i=n.isLimit(t),!i&&Pl(t,e))));return r.forEach((t=>e.add(t))),o}function Rl(t,e){const n=function(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}(t);return!n||!e.containsRange(vl._createOn(n),!0)}function jl(t,e){return!!t&&(!(!e.isCollapsed&&!t.isEmpty)||!e.start.isTouching(dl._createAt(t,t.maxOffset))&&Rl(t,e))}function zl(t,e){return!!t&&(!(!e.isCollapsed&&!t.isEmpty)||!e.end.isTouching(dl._createAt(t,0))&&Rl(t,e))}Nl.prototype.is=function(t){return"selection"===t||"model:selection"===t};class Fl extends(N(vl)){constructor(t,e){super(t,e),Vl.call(this)}detach(){this.stopListening()}toRange(){return new vl(this.start,this.end)}static fromRange(t){return new Fl(t.start,t.end)}}function Vl(){this.listenTo(this.root.document.model,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&Ul.call(this,n)}),{priority:"low"})}function Ul(t){const e=this.getTransformedByOperation(t),n=vl._createFromRanges(e),r=!n.isEqual(this),i=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let o=null;if(r){"$graveyard"==n.root.rootName&&(o="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:o})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:o})}Fl.prototype.is=function(t){return"liveRange"===t||"model:liveRange"===t||"range"==t||"model:range"===t};const Gl="selection:";class Hl extends(N(rl)){constructor(t){super(),this._selection=new $l(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return Gl+t}static _isStoreAttributeKey(t){return t.startsWith(Gl)}}Hl.prototype.is=function(t){return"selection"===t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t};class $l extends Nl{constructor(t){super(),this.markers=new Yi({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=t.model,this._document=t,this.listenTo(this._model,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),this.on("change:range",(()=>{this._validateSelectionRanges(this.getRanges())})),this.listenTo(this._model.markers,"update",((t,e,n,r)=>{this._updateMarker(e,r)})),this.listenTo(this._document,"change",((t,e)=>{!function(t,e){const n=t.document.differ;for(const r of n.getChanges()){if("insert"!=r.type)continue;const n=r.position.parent;r.length===n.maxOffset&&t.enqueueChange(e,(t=>{const e=Array.from(n.getAttributeKeys()).filter((t=>t.startsWith(Gl)));for(const r of e)t.removeAttribute(r,n)}))}}(this._model,e)}))}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,e){if(this._setAttribute(t,e)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=b();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new _("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_validateSelectionRanges(t){for(const e of t)if(!this._document._validateSelectionRange(e))throw new _("document-selection-wrong-position",this,{range:e})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=Fl.fromRange(t);return e.on("change:range",((t,n,r)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const t=this._ranges.indexOf(e);this._ranges.splice(t,1),e.detach()}})),e}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let e=!1;for(const r of this._model.markers){const e=r.name.split(":",1)[0];if(!this._observedMarkers.has(e))continue;const n=r.getRange();for(const i of this.getRanges())n.containsRange(i,!i.isCollapsed)&&t.push(r)}const n=Array.from(this.markers);for(const r of t)this.markers.has(r)||(this.markers.add(r),e=!0);for(const r of Array.from(this.markers))t.includes(r)||(this.markers.remove(r),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(t,e){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let r=!1;const i=Array.from(this.markers),o=this.markers.has(t);if(e){let n=!1;for(const t of this.getRanges())if(e.containsRange(t,!t.isCollapsed)){n=!0;break}n&&!o?(this.markers.add(t),r=!0):!n&&o&&(this.markers.remove(t),r=!0)}else o&&(this.markers.remove(t),r=!0);r&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateAttributes(t){const e=Zi(this._getSurroundingAttributes()),n=Zi(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[i,o]of this._attributePriority)"low"==o&&(this._attrs.delete(i),this._attributePriority.delete(i));this._setAttributesTo(e);const r=[];for(const[i,o]of this.getAttributes())n.has(i)&&n.get(i)===o||r.push(i);for(const[i]of n)this.hasAttribute(i)||r.push(i);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(t,e,n=!0){const r=n?"normal":"low";return("low"!=r||"normal"!=this._attributePriority.get(t))&&(super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,r),!0))}_removeAttribute(t,e=!0){const n=e?"normal":"low";return("low"!=n||"normal"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,n),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const e=new Set;for(const[n,r]of this.getAttributes())t.get(n)!==r&&this._removeAttribute(n,!1);for(const[n,r]of t)this._setAttribute(n,r,!1)&&e.add(n);return e}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith(Gl)){const n=e.substr(10);yield[n,t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;if("$graveyard"==t.root.rootName)return null;let n=null;if(this.isCollapsed){const r=t.textNode?t.textNode:t.nodeBefore,i=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=Wl(r,e)),n||(n=Wl(i,e)),!this.isGravityOverridden&&!n){let t=r;for(;t&&!n;)t=t.previousSibling,n=Wl(t,e)}if(!n){let t=i;for(;t&&!n;)t=t.nextSibling,n=Wl(t,e)}n||(n=this.getStoredAttributes())}else{const t=this.getFirstRange();for(const r of t){if(r.item.is("element")&&e.isObject(r.item)){n=Wl(r.item,e);break}if("text"==r.type){n=r.item.getAttributes();break}}}return n}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function Wl(t,e){if(!t)return null;if(t instanceof al||t instanceof sl)return t.getAttributes();if(!e.isInline(t))return null;if(!e.isObject(t))return[];const n=[];for(const[r,i]of t.getAttributes())e.checkAttribute("$text",r)&&!1!==e.getAttributeProperties(r).copyFromObject&&n.push([r,i]);return n}class Yl{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}class ql extends Yl{elementToElement(t){return this.add(function(t){const e=tu(t.model),n=eu(t.view,"container");return e.attributes.length&&(e.children=!0),r=>{r.on(`insert:${e.name}`,Zl(n,su(e)),{priority:t.converterPriority||"normal"}),(e.children||e.attributes.length)&&r.on("reduceChanges",ou(e),{priority:"low"})}}(t))}elementToStructure(t){return this.add(function(t){const e=tu(t.model),n=eu(t.view,"container");return e.children=!0,r=>{if(r._conversionApi.schema.checkChild(e.name,"$text"))throw new _("conversion-element-to-structure-disallowed-text",r,{elementName:e.name});var i,o;r.on(`insert:${e.name}`,(i=n,o=su(e),(t,e,n)=>{if(!o(e.item,n.consumable,{preflight:!0}))return;const r=new Map;n.writer._registerSlotFactory(function(t,e,n){return(r,i)=>{const o=r.createContainerElement("$slot");let s=null;if("children"===i)s=Array.from(t.getChildren());else{if("function"!=typeof i)throw new _("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:i});s=Array.from(t.getChildren()).filter((t=>i(t)))}return e.set(o,s),o}}(e.item,r,n));const s=i(e.item,n,e);if(n.writer._clearSlotFactory(),!s)return;!function(t,e,n){const r=Array.from(e.values()).flat(),i=new Set(r);if(i.size!=r.length)throw new _("conversion-slot-filter-overlap",n.dispatcher,{element:t});if(i.size!=t.childCount)throw new _("conversion-slot-filter-incomplete",n.dispatcher,{element:t})}(e.item,r,n),o(e.item,n.consumable);const a=n.mapper.toViewPosition(e.range.start);n.mapper.bindElements(e.item,s),n.writer.insert(a,s),n.convertAttributes(e.item),function(t,e,n,r){n.mapper.on("modelToViewPosition",s,{priority:"highest"});let i=null,o=null;for([i,o]of e)au(t,o,n,r),n.writer.move(n.writer.createRangeIn(i),n.writer.createPositionBefore(i)),n.writer.remove(i);function s(t,e){const n=e.modelPosition.nodeAfter,r=o.indexOf(n);r<0||(e.viewPosition=e.mapper.findPositionIn(i,r))}n.mapper.off("modelToViewPosition",s)}(s,r,n,{reconversion:e.reconversion})}),{priority:t.converterPriority||"normal"}),r.on("reduceChanges",ou(e),{priority:"low"})}}(t))}attributeToElement(t){return this.add(function(t){t=el(t);let e=t.model;"string"==typeof e&&(e={key:e});let n=`attribute:${e.key}`;if(e.name&&(n+=":"+e.name),e.values)for(const i of e.values)t.view[i]=eu(t.view[i],"attribute");else t.view=eu(t.view,"attribute");const r=nu(t);return e=>{e.on(n,Kl(r),{priority:t.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(t){t=el(t);let e=t.model;"string"==typeof e&&(e={key:e});let n=`attribute:${e.key}`;if(e.name&&(n+=":"+e.name),e.values)for(const i of e.values)t.view[i]=ru(t.view[i]);else t.view=ru(t.view);const r=nu(t);return e=>{var i;e.on(n,(i=r,(t,e,n)=>{if(!n.consumable.test(e.item,t.name))return;const r=i(e.attributeOldValue,n,e),o=i(e.attributeNewValue,n,e);if(!r&&!o)return;n.consumable.consume(e.item,t.name);const s=n.mapper.toViewElement(e.item),a=n.writer;if(!s)throw new _("conversion-attribute-to-attribute-on-text",n.dispatcher,e);if(null!==e.attributeOldValue&&r)if("class"==r.key){const t="string"==typeof r.value?r.value.split(/\s+/):r.value;for(const e of t)a.removeClass(e,s)}else if("style"==r.key)if("string"==typeof r.value){const t=new zs(a.document.stylesProcessor);t.setTo(r.value);for(const[e]of t.getStylesEntries())a.removeStyle(e,s)}else{const t=Object.keys(r.value);for(const e of t)a.removeStyle(e,s)}else a.removeAttribute(r.key,s);if(null!==e.attributeNewValue&&o)if("class"==o.key){const t="string"==typeof o.value?o.value.split(/\s+/):o.value;for(const e of t)a.addClass(e,s)}else if("style"==o.key)if("string"==typeof o.value){const t=new zs(a.document.stylesProcessor);t.setTo(o.value);for(const[e,n]of t.getStylesEntries())a.setStyle(e,n,s)}else{const t=Object.keys(o.value);for(const e of t)a.setStyle(e,o.value[e],s)}else a.setAttribute(o.key,o.value,s)}),{priority:t.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(t){const e=eu(t.view,"ui");return n=>{n.on(`addMarker:${t.model}`,Ql(e),{priority:t.converterPriority||"normal"}),n.on(`removeMarker:${t.model}`,((t,e,n)=>{const r=n.mapper.markerNameToElements(e.markerName);if(r){for(const t of r)n.mapper.unbindElementFromMarkerName(t,e.markerName),n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}),{priority:t.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(t){return e=>{var n;e.on(`addMarker:${t.model}`,(n=t.view,(t,e,r)=>{if(!e.item)return;if(!(e.item instanceof Nl||e.item instanceof Hl||e.item.is("$textProxy")))return;const i=iu(n,e,r);if(!i)return;if(!r.consumable.consume(e.item,t.name))return;const o=r.writer,s=Xl(o,i),a=o.document.selection;if(e.item instanceof Nl||e.item instanceof Hl)o.wrap(a.getFirstRange(),s);else{const t=r.mapper.toViewRange(e.range),n=o.wrap(t,s);for(const i of n.getItems())if(i.is("attributeElement")&&i.isSimilar(s)){r.mapper.bindElementToMarker(i,e.markerName);break}}}),{priority:t.converterPriority||"normal"}),e.on(`addMarker:${t.model}`,function(t){return(e,n,r)=>{if(!n.item)return;if(!(n.item instanceof cl))return;const i=iu(t,n,r);if(!i)return;if(!r.consumable.test(n.item,e.name))return;const o=r.mapper.toViewElement(n.item);if(o&&o.getCustomProperty("addHighlight")){r.consumable.consume(n.item,e.name);for(const t of vl._createIn(n.item))r.consumable.consume(t.item,e.name);o.getCustomProperty("addHighlight")(o,i,r.writer),r.mapper.bindElementToMarker(o,n.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),e.on(`removeMarker:${t.model}`,function(t){return(e,n,r)=>{if(n.markerRange.isCollapsed)return;const i=iu(t,n,r);if(!i)return;const o=Xl(r.writer,i),s=r.mapper.markerNameToElements(n.markerName);if(s){for(const t of s)r.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(t),o):t.getCustomProperty("removeHighlight")(t,i.id,r.writer);r.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(t){t=el(t);const e=t.model;let n=t.view;return n||(n=n=>({group:e,name:n.substr(t.model.length+1)})),r=>{var i;r.on(`addMarker:${e}`,(i=n,(t,e,n)=>{const r=i(e.markerName,n);if(!r)return;const o=e.markerRange;n.consumable.consume(o,t.name)&&(Jl(o,!1,n,e,r),Jl(o,!0,n,e,r),t.stop())}),{priority:t.converterPriority||"normal"}),r.on(`removeMarker:${e}`,function(t){return(e,n,r)=>{const i=t(n.markerName,r);if(!i)return;const o=r.mapper.markerNameToElements(n.markerName);if(o){for(const t of o)r.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("containerElement")?(s(`data-${i.group}-start-before`,t),s(`data-${i.group}-start-after`,t),s(`data-${i.group}-end-before`,t),s(`data-${i.group}-end-after`,t)):r.writer.clear(r.writer.createRangeOn(t),t);r.writer.clearClonedElementsGroup(n.markerName),e.stop()}function s(t,e){if(e.hasAttribute(t)){const n=new Set(e.getAttribute(t).split(","));n.delete(i.name),0==n.size?r.writer.removeAttribute(t,e):r.writer.setAttribute(t,Array.from(n).join(","),e)}}}}(n),{priority:t.converterPriority||"normal"})}}(t))}}function Xl(t,e){const n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),"number"==typeof e.priority&&(n._priority=e.priority),n._id=e.id,n}function Kl(t){return(e,n,r)=>{if(!r.consumable.test(n.item,e.name))return;const i=t(n.attributeOldValue,r,n),o=t(n.attributeNewValue,r,n);if(!i&&!o)return;r.consumable.consume(n.item,e.name);const s=r.writer,a=s.document.selection;if(n.item instanceof Nl||n.item instanceof Hl)s.wrap(a.getFirstRange(),o);else{let t=r.mapper.toViewRange(n.range);null!==n.attributeOldValue&&i&&(t=s.unwrap(t,i)),null!==n.attributeNewValue&&o&&s.wrap(t,o)}}}function Zl(t,e=lu){return(n,r,i)=>{if(!e(r.item,i.consumable,{preflight:!0}))return;const o=t(r.item,i,r);if(!o)return;e(r.item,i.consumable);const s=i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,o),i.writer.insert(s,o),i.convertAttributes(r.item),au(o,r.item.getChildren(),i,{reconversion:r.reconversion})}}function Ql(t){return(e,n,r)=>{n.isOpening=!0;const i=t(n,r);n.isOpening=!1;const o=t(n,r);if(!i||!o)return;const s=n.markerRange;if(s.isCollapsed&&!r.consumable.consume(s,e.name))return;for(const t of s)if(!r.consumable.consume(t.item,e.name))return;const a=r.mapper,c=r.writer;c.insert(a.toViewPosition(s.start),i),r.mapper.bindElementToMarker(i,n.markerName),s.isCollapsed||(c.insert(a.toViewPosition(s.end),o),r.mapper.bindElementToMarker(o,n.markerName)),e.stop()}}function Jl(t,e,n,r,i){const o=e?t.start:t.end,s=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,a=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(s||a){let t,o;e&&s||!e&&!a?(t=s,o=!0):(t=a,o=!1);const c=n.mapper.toViewElement(t);if(c)return void function(t,e,n,r,i,o){const s=`data-${o.group}-${e?"start":"end"}-${n?"before":"after"}`,a=t.hasAttribute(s)?t.getAttribute(s).split(","):[];a.unshift(o.name),r.writer.setAttribute(s,a.join(","),t),r.mapper.bindElementToMarker(t,i.markerName)}(c,e,o,n,r,i)}!function(t,e,n,r,i){const o=`${i.group}-${e?"start":"end"}`,s=i.name?{name:i.name}:null,a=n.writer.createUIElement(o,s);n.writer.insert(t,a),n.mapper.bindElementToMarker(a,r.markerName)}(n.mapper.toViewPosition(o),e,n,r,i)}function tu(t){return"string"==typeof t&&(t={name:t}),{name:t.name,attributes:t.attributes?_i(t.attributes):[],children:!!t.children}}function eu(t,e){return"function"==typeof t?t:(n,r)=>function(t,e,n){let r;"string"==typeof t&&(t={name:t});const i=e.writer,o=Object.assign({},t.attributes);if("container"==n)r=i.createContainerElement(t.name,o);else if("attribute"==n){const e={priority:t.priority||ua.DEFAULT_PRIORITY};r=i.createAttributeElement(t.name,o,e)}else r=i.createUIElement(t.name,o);if(t.styles){const e=Object.keys(t.styles);for(const n of e)i.setStyle(n,t.styles[n],r)}if(t.classes){const e=t.classes;if("string"==typeof e)i.addClass(e,r);else for(const t of e)i.addClass(t,r)}return r}(t,r,e)}function nu(t){return t.model.values?(e,n,r)=>{const i=t.view[e];return i?i(e,n,r):null}:t.view}function ru(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function iu(t,e,n){const r="function"==typeof t?t(e,n):t;return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function ou(t){const e=function(t){return(e,n)=>{if(!e.is("element",t.name))return!1;if("attribute"==n.type){if(t.attributes.includes(n.attributeKey))return!0}else if(t.children)return!0;return!1}}(t);return(t,n)=>{const r=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const i of n.changes){const t="attribute"==i.type?i.range.start.nodeAfter:i.position.parent;if(t&&e(t,i)){if(!n.reconvertedElements.has(t)){n.reconvertedElements.add(t);const e=dl._createBefore(t);let i=r.length;for(let t=r.length-1;t>=0;t--){const n=r[t],o=("attribute"==n.type?n.range.start:n.position).compareWith(e);if("before"==o||"remove"==n.type&&"same"==o)break;i=t}r.splice(i,0,{type:"remove",name:t.name,position:e,length:1},{type:"reinsert",name:t.name,position:e,length:1})}}else r.push(i)}n.changes=r}}function su(t){return(e,n,r={})=>{const i=["insert"];for(const o of t.attributes)e.hasAttribute(o)&&i.push(`attribute:${o}`);return!!i.every((t=>n.test(e,t)))&&(r.preflight||i.forEach((t=>n.consume(e,t))),!0)}}function au(t,e,n,r){for(const i of e)cu(t.root,i,n,r)||n.convertItem(i)}function cu(t,e,n,r){const{writer:i,mapper:o}=n;if(!r.reconversion)return!1;const s=o.toViewElement(e);return!(!s||s.root==t)&&!!n.canReuseView(s)&&(i.move(i.createRangeOn(s),o.toViewPosition(dl._createBefore(e))),!0)}function lu(t,e,{preflight:n}={}){return n?e.test(t,"insert"):e.consume(t,"insert")}function uu(t){const{schema:e,document:n}=t.model;for(const r of n.getRoots())if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return t.insertElement("paragraph",r),!0;return!1}function du(t,e,n){const r=n.createContext(t);return!!n.checkChild(r,"paragraph")&&!!n.checkChild(r.push("paragraph"),e)}function hu(t,e){const n=e.createElement("paragraph");return e.insert(n,t),e.createPositionAt(n,0)}var fu=Object.defineProperty,pu=Object.defineProperties,gu=Object.getOwnPropertyDescriptors,mu=Object.getOwnPropertySymbols,vu=Object.prototype.hasOwnProperty,bu=Object.prototype.propertyIsEnumerable,yu=(t,e,n)=>e in t?fu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;class ku extends Yl{elementToElement(t){return this.add(wu(t))}elementToAttribute(t){return this.add(function(t){t=el(t),Cu(t);const e=xu(t,!1),n=_u(t.view),r=n?`element:${n}`:"element";return n=>{n.on(r,e,{priority:t.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(t){t=el(t);let e=null;("string"==typeof t.view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key,n=void 0===t.view.value?/[\s\S]*/:t.view.value;let r;if("class"==e||"style"==e){const t="class"==e?"classes":"styles";r={[t]:n}}else r={attributes:{[e]:n}};return t.view.name&&(r.name=t.view.name),t.view=r,e}(t)),Cu(t,e);const n=xu(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(t){const e=function(t){return(e,n)=>{const r="string"==typeof t?t:t(e,n);return n.writer.createElement("$marker",{"data-name":r})}}(t.model);return wu((n=((t,e)=>{for(var n in e||(e={}))vu.call(e,n)&&yu(t,n,e[n]);if(mu)for(var n of mu(e))bu.call(e,n)&&yu(t,n,e[n]);return t})({},t),r={model:e},pu(n,gu(r))));var n,r}(t))}dataToMarker(t){return this.add(function(t){t=el(t),t.model||(t.model=e=>e?t.view+":"+e:t.view);const e={view:t.view,model:t.model},n=Au(Eu(e,"start")),r=Au(Eu(e,"end"));return i=>{i.on(`element:${t.view}-start`,n,{priority:t.converterPriority||"normal"}),i.on(`element:${t.view}-end`,r,{priority:t.converterPriority||"normal"});const o=y.low,s=y.highest,a=y.get(t.converterPriority)/s;i.on("element",function(t){return(e,n,r)=>{const i=`data-${t.view}`;function o(e,i){for(const o of i){const i=t.model(o,r),s=r.writer.createElement("$marker",{"data-name":i});r.writer.insert(s,e),n.modelCursor.isEqual(e)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(e,1),n.modelRange=n.modelRange._getTransformedByInsertion(e,1)[0]}}(r.consumable.test(n.viewItem,{attributes:i+"-end-after"})||r.consumable.test(n.viewItem,{attributes:i+"-start-after"})||r.consumable.test(n.viewItem,{attributes:i+"-end-before"})||r.consumable.test(n.viewItem,{attributes:i+"-start-before"}))&&(n.modelRange||Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor)),r.consumable.consume(n.viewItem,{attributes:i+"-end-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-end-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-start-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-end-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-end-before").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-start-before").split(",")))}}(e),{priority:o+a})}}(t))}}function wu(t){const e=Au(t=el(t)),n=_u(t.view),r=n?`element:${n}`:"element";return n=>{n.on(r,e,{priority:t.converterPriority||"normal"})}}function _u(t){return"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null}function Au(t){const e=new ls(t.view);return(n,r,i)=>{const o=e.match(r.viewItem);if(!o)return;const s=o.match;if(s.name=!0,!i.consumable.test(r.viewItem,s))return;const a=function(t,e,n){return t instanceof Function?t(e,n):n.writer.createElement(t)}(t.model,r.viewItem,i);a&&i.safeInsert(a,r.modelCursor)&&(i.consumable.consume(r.viewItem,s),i.convertChildren(r.viewItem,a),i.updateConversionResult(a,r))}}function Cu(t,e=null){const n=null===e||(t=>t.getAttribute(e)),r="object"!=typeof t.model?t.model:t.model.key,i="object"!=typeof t.model||void 0===t.model.value?n:t.model.value;t.model={key:r,value:i}}function xu(t,e){const n=new ls(t.view);return(r,i,o)=>{if(!i.modelRange&&e)return;const s=n.match(i.viewItem);if(!s)return;if(function(t,e){const n="function"==typeof t?t(e):t;return!("object"==typeof n&&!_u(n))&&(!n.classes&&!n.attributes&&!n.styles)}(t.view,i.viewItem)?s.match.name=!0:delete s.match.name,!o.consumable.test(i.viewItem,s.match))return;const a=t.model.key,c="function"==typeof t.model.value?t.model.value(i.viewItem,o):t.model.value;if(null===c)return;i.modelRange||Object.assign(i,o.convertChildren(i.viewItem,i.modelCursor));const l=function(t,e,n,r){let i=!1;for(const o of Array.from(t.getItems({shallow:n})))r.schema.checkAttribute(o,e.key)&&(i=!0,o.hasAttribute(e.key)||r.writer.setAttribute(e.key,e.value,o));return i}(i.modelRange,{key:a,value:c},e,o);l&&(o.consumable.test(i.viewItem,{name:!0})&&(s.match.name=!0),o.consumable.consume(i.viewItem,s.match))}}function Eu(t,e){return{view:`${t.view}-${e}`,model:(e,n)=>{const r=e.getAttribute("name"),i=t.model(r,n);return n.writer.createElement("$marker",{"data-name":i})}}}function Su(t){t.document.registerPostFixer((e=>function(t,e){const n=e.document.selection,r=e.schema,i=[];let o=!1;for(const s of n.getRanges()){const t=Mu(s,r);t&&!t.isEqual(s)?(i.push(t),o=!0):i.push(s)}return o&&t.setSelection(function(t){const e=[...t],n=new Set;let r=1;for(;r<e.length;){const t=e[r],i=e.slice(0,r);for(const[o,s]of i.entries())if(!n.has(o))if(t.isEqual(s))n.add(o);else if(t.isIntersecting(s)){n.add(o),n.add(r);const i=t.getJoined(s);e.push(i)}r++}return e.filter(((t,e)=>!n.has(e)))}(i),{backward:n.isBackward}),!1}(e,t)))}function Mu(t,e){return t.isCollapsed?function(t,e){const n=t.start,r=e.getNearestSelectionRange(n);if(!r){const t=n.getAncestors().reverse().find((t=>e.isObject(t)));return t?vl._createOn(t):null}if(!r.isCollapsed)return r;const i=r.start;return n.isEqual(i)?null:new vl(i)}(t,e):function(t,e){const{start:n,end:r}=t,i=e.checkChild(n,"$text"),o=e.checkChild(r,"$text"),s=e.getLimitElement(n),a=e.getLimitElement(r);if(s===a){if(i&&o)return null;if(function(t,e,n){const r=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),i=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return r||i}(n,r,e)){const t=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),i=r.nodeBefore&&e.isSelectable(r.nodeBefore)?null:e.getNearestSelectionRange(r,"backward"),o=t?t.start:n,s=i?i.end:r;return new vl(o,s)}}const c=s&&!s.is("rootElement"),l=a&&!a.is("rootElement");if(c||l){const t=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,i=c&&(!t||!Du(n.nodeAfter,e)),o=l&&(!t||!Du(r.nodeBefore,e));let u=n,d=r;return i&&(u=dl._createBefore(Iu(s,e))),o&&(d=dl._createAfter(Iu(a,e))),new vl(u,d)}return null}(t,e)}function Iu(t,e){let n=t,r=n;for(;e.isLimit(r)&&r.parent;)n=r,r=r.parent;return n}function Du(t,e){return t&&e.isSelectable(t)}class Tu extends(q()){constructor(t,e){super(),this.model=t,this.view=new nl(e),this.mapper=new bl,this.downcastDispatcher=new Dl({mapper:this.mapper,schema:t.schema});const n=this.model.document,r=n.selection,i=this.model.markers;var o,s,a;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(n,"change",(()=>{this.view.change((t=>{this.downcastDispatcher.convertChanges(n.differ,i,t),this.downcastDispatcher.convertSelection(r,i,t)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return(n,r)=>{const i=r.newSelection,o=[];for(const t of i.getRanges())o.push(e.toModelRange(t));const s=t.createSelection(o,{backward:i.isBackward});s.isEqual(t.document.selection)||t.change((t=>{t.setSelection(s)}))}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(o=this.mapper,s=this.model.schema,a=this.view,(t,e)=>{if(!a.document.isComposing||l.isAndroid)for(let n=0;n<e.targetRanges.length;n++){const t=e.targetRanges[n],r=o.toModelRange(t),i=Mu(r,s);i&&!i.isEqual(r)&&(e.targetRanges[n]=o.toViewRange(i))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",((t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const r=n.writer,i=n.mapper.toViewPosition(e.range.start),o=r.createText(e.item.data);r.insert(i,o)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((t,e,n)=>{n.convertAttributes(e.item),e.reconversion||!e.item.is("element")||e.item.isEmpty||n.convertChildren(e.item)}),{priority:"lowest"}),this.downcastDispatcher.on("remove",((t,e,n)=>{const r=n.mapper.toViewPosition(e.position),i=e.position.getShiftedBy(e.length),o=n.mapper.toViewPosition(i,{isPhantom:!0}),s=n.writer.createRange(r,o),a=n.writer.remove(s.getTrimmed());for(const c of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(c,{defer:!0})}),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",((t,e,n)=>{const r=n.writer,i=r.document.selection;for(const o of i.getRanges())o.isCollapsed&&o.end.parent.isAttached()&&n.writer.mergeAttributes(o.start);r.setSelection(null)})),this.downcastDispatcher.on("selection",((t,e,n)=>{const r=e.selection;if(r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const i=[];for(const o of r.getRanges())i.push(n.mapper.toViewRange(o));n.writer.setSelection(i,{backward:r.isBackward})}),{priority:"low"}),this.downcastDispatcher.on("selection",((t,e,n)=>{const r=e.selection;if(!r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const i=n.writer,o=r.getFirstPosition(),s=n.mapper.toViewPosition(o),a=i.breakAttributes(s);i.setSelection(a)}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((t=>{if("$graveyard"==t.rootName)return null;const e=new Xs(this.view.document,t.name);return e.rootName=t.rootName,this.mapper.bindElements(t,e),e}))}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const e="string"==typeof t?t:t.name,n=this.model.markers.get(e);if(!n)throw new _("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:e});this.model.change((()=>{this.model.markers._refresh(n)}))}reconvertItem(t){this.model.change((()=>{this.model.document.differ._refreshItem(t)}))}}class Ou{constructor(){this._consumables=new Map}add(t,e){let n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new Pu(t),this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const o of n)"style"!=o&&"class"!=o&&e.attributes.push(o);const r=t.getClassNames();for(const o of r)e.classes.push(o);const i=t.getStyleNames();for(const o of i)e.styles.push(o);return e}static createFrom(t,e){if(e||(e=new Ou),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,Ou.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=Ou.createFrom(n,e);return e}}const Nu=["attributes","classes","styles"];class Pu{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e of Nu)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e of Nu)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e of Nu)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e of Nu)e in t&&this._revert(e,t[e])}_add(t,e){const n=_i(e),r=this._consumables[t];for(const i of n){if("attributes"===t&&("class"===i||"style"===i))throw new _("viewconsumable-invalid-attribute",this);if(r.set(i,!0),"styles"===t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(i))r.set(t,!0)}}_test(t,e){const n=_i(e),r=this._consumables[t];for(const i of n)if("attributes"!==t||"class"!==i&&"style"!==i){const t=r.get(i);if(void 0===t)return null;if(!t)return!1}else{const t="class"==i?"classes":"styles",e=this._test(t,[...this._consumables[t].keys()]);if(!0!==e)return e}return!0}_consume(t,e){const n=_i(e),r=this._consumables[t];for(const i of n)if("attributes"!==t||"class"!==i&&"style"!==i){if(r.set(i,!1),"styles"==t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(i))r.set(t,!1)}else{const t="class"==i?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=_i(e),r=this._consumables[t];for(const i of n)if("attributes"!==t||"class"!==i&&"style"!==i)!1===r.get(i)&&r.set(i,!0);else{const t="class"==i?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}class Lu extends(q()){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((t,e)=>{e[0]=new Bu(e[0])}),{priority:"highest"}),this.on("checkChild",((t,e)=>{e[0]=new Bu(e[0]),e[1]=this.getDefinition(e[1])}),{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new _("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new _("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}isSelectable(t){const e=this.getDefinition(t);return!!e&&!(!e.isSelectable&&!e.isObject)}isContent(t){const e=this.getDefinition(t);return!!e&&!(!e.isContent&&!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e){if(t instanceof dl){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof cl))throw new _("schema-check-merge-no-element-before",this);if(!(n instanceof cl))throw new _("schema-check-merge-no-element-after",this);return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",((e,[n,r])=>{if(!r)return;const i=t(n,r);"boolean"==typeof i&&(e.stop(),e.return=i)}),{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",((e,[n,r])=>{const i=t(n,r);"boolean"==typeof i&&(e.stop(),e.return=i)}),{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;for(e=t instanceof dl?t.parent:(t instanceof vl?[t]:Array.from(t.getRanges())).reduce(((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n}),null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new sl("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if("$graveyard"==t.root.rootName)return null;if(this.checkChild(t,"$text"))return new vl(t);let n,r;const i=t.getAncestors().reverse().find((t=>this.isLimit(t)))||t.root;"both"!=e&&"backward"!=e||(n=new ll({boundaries:vl._createIn(i),startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(r=new ll({boundaries:vl._createIn(i),startPosition:t}));for(const o of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,r)){const t=o.walker==n?"elementEnd":"elementStart",e=o.value;if(e.type==t&&this.isObject(e.item))return vl._createOn(e.item);if(this.checkChild(e.nextPosition,"$text"))return new vl(e.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(t,e,n){const r=n.model;for(const[i,o]of Object.entries(e))r.schema.checkAttribute(t,i)&&n.setAttribute(i,o,t)}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("$text"))Xu(this,n,e);else{const t=vl._createIn(n).getPositions();for(const n of t)Xu(this,n.nodeBefore||n.parent,e)}}getAttributesWithProperty(t,e,n){const r={};for(const[i,o]of t.getAttributes()){const t=this.getAttributeProperties(i);void 0!==t[e]&&(void 0!==n&&n!==t[e]||(r[i]=o))}return r}createContext(t){return new Bu(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const r of n)t[r]=Ru(e[r],r);for(const r of n)ju(t,r);for(const r of n)zu(t,r);for(const r of n)Fu(t,r);for(const r of n)Vu(t,r),Uu(t,r);for(const r of n)Gu(t,r),Hu(t,r),$u(t,r);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const r=e.getItem(n);if(t.allowIn.includes(r.name)){if(0==n)return!0;{const t=this.getDefinition(r);return this._checkContextMatch(t,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,r=t.start;for(const i of t.getItems({shallow:!0}))i.is("element")&&(yield*this._getValidRangesForRange(vl._createIn(i),e)),this.checkAttribute(i,e)||(n.isEqual(r)||(yield new vl(n,r)),n=dl._createAfter(i)),r=dl._createAfter(i);n.isEqual(r)||(yield new vl(n,r))}findOptimalInsertionRange(t,e){const n=t.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return"before"==e||"after"==e?new vl(dl._createAt(n,e)):vl._createOn(n);const r=qi(t.getSelectedBlocks());if(!r)return new vl(t.focus);if(r.isEmpty)return new vl(dl._createAt(r,0));const i=dl._createAfter(r);return t.focus.isTouching(i)?new vl(i):new vl(dl._createBefore(r))}}class Bu{constructor(t){if(t instanceof Bu)return t;let e;e="string"==typeof t?[t]:Array.isArray(t)?t:t.getAncestors({includeSelf:!0}),this._items=e.map(qu)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new Bu([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map((t=>t.name))}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function Ru(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(t,e){for(const n of t){const t=Object.keys(n).filter((t=>t.startsWith("is")));for(const r of t)e[r]=!!n[r]}}(t,n),Wu(t,n,"allowIn"),Wu(t,n,"allowContentOf"),Wu(t,n,"allowWhere"),Wu(t,n,"allowAttributes"),Wu(t,n,"allowAttributesOf"),Wu(t,n,"allowChildren"),Wu(t,n,"inheritTypesFrom"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,n),n}function ju(t,e){const n=t[e];for(const r of n.allowChildren){const n=t[r];n&&n.allowIn.push(e)}n.allowChildren.length=0}function zu(t,e){for(const n of t[e].allowContentOf)t[n]&&Yu(t,n).forEach((t=>{t.allowIn.push(e)}));delete t[e].allowContentOf}function Fu(t,e){for(const n of t[e].allowWhere){const r=t[n];if(r){const n=r.allowIn;t[e].allowIn.push(...n)}}delete t[e].allowWhere}function Vu(t,e){for(const n of t[e].allowAttributesOf){const r=t[n];if(r){const n=r.allowAttributes;t[e].allowAttributes.push(...n)}}delete t[e].allowAttributesOf}function Uu(t,e){const n=t[e];for(const r of n.inheritTypesFrom){const e=t[r];if(e){const t=Object.keys(e).filter((t=>t.startsWith("is")));for(const r of t)r in n||(n[r]=e[r])}}delete n.inheritTypesFrom}function Gu(t,e){const n=t[e],r=n.allowIn.filter((e=>t[e]));n.allowIn=Array.from(new Set(r))}function Hu(t,e){const n=t[e];for(const r of n.allowIn)t[r].allowChildren.push(e)}function $u(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Wu(t,e,n){for(const r of t){const t=r[n];"string"==typeof t?e[n].push(t):Array.isArray(t)&&e[n].push(...t)}}function Yu(t,e){const n=t[e];return(r=t,Object.keys(r).map((t=>r[t]))).filter((t=>t.allowIn.includes(n.name)));var r}function qu(t){return"string"==typeof t||t.is("documentFragment")?{name:"string"==typeof t?t:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}function Xu(t,e,n){for(const r of e.getAttributeKeys())t.checkAttribute(e,r)||n.removeAttribute(r,e)}var Ku=Object.defineProperty,Zu=Object.defineProperties,Qu=Object.getOwnPropertyDescriptors,Ju=Object.getOwnPropertySymbols,td=Object.prototype.hasOwnProperty,ed=Object.prototype.propertyIsEnumerable,nd=(t,e,n)=>e in t?Ku(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;class rd extends(N()){constructor(t){var e;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(e=((t,e)=>{for(var n in e||(e={}))td.call(e,n)&&nd(t,n,e[n]);if(Ju)for(var n of Ju(e))ed.call(e,n)&&nd(t,n,e[n]);return t})({},t),Zu(e,Qu({consumable:null,writer:null,store:null,convertItem:(t,e)=>this._convertItem(t,e),convertChildren:(t,e)=>this._convertChildren(t,e),safeInsert:(t,e)=>this._safeInsert(t,e),updateConversionResult:(t,e)=>this._updateConversionResult(t,e),splitToAllowedParent:(t,e)=>this._splitToAllowedParent(t,e),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)})))}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let n;for(const r of new Bu(t)){const t={};for(const e of r.getAttributeKeys())t[e]=r.getAttribute(e);const i=e.createElement(r.name,t);n&&e.insert(i,n),n=dl._createAt(i,0)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=Ou.createFrom(t),this.conversionApi.store={};const{modelRange:r}=this._convertItem(t,this._modelCursor),i=e.createDocumentFragment();if(r){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,i);i.markers=function(t,e){const n=new Set,r=new Map,i=vl._createIn(t).getItems();for(const o of i)o.is("element","$marker")&&n.add(o);for(const o of n){const t=o.getAttribute("data-name"),n=e.createPositionBefore(o);r.has(t)?r.get(t).end=n.clone():r.set(t,new vl(n.clone())),e.remove(o)}return r}(i,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}_convertItem(t,e){const n={viewItem:t,modelCursor:e,modelRange:null};if(t.is("element")?this.fire(`element:${t.name}`,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof vl))throw new _("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){let n=e.is("position")?e:dl._createAt(e,0);const r=new vl(n);for(const i of Array.from(t.getChildren())){const t=this._convertItem(i,n);t.modelRange instanceof vl&&(r.end=t.modelRange.end,n=t.modelCursor)}return{modelRange:r,modelCursor:n}}_safeInsert(t,e){const n=this._splitToAllowedParent(t,e);return!!n&&(this.conversionApi.writer.insert(t,n.position),!0)}_updateConversionResult(t,e){const n=this._getSplitParts(t),r=this.conversionApi.writer;e.modelRange||(e.modelRange=r.createRange(r.createPositionBefore(t),r.createPositionAfter(n[n.length-1])));const i=this._cursorParents.get(t);e.modelCursor=i?r.createPositionAt(i,0):e.modelRange.end}_splitToAllowedParent(t,e){const{schema:n,writer:r}=this.conversionApi;let i=n.findAllowedParent(e,t);if(i){if(i===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(i)&&(i=null)}if(!i)return du(e,t,n)?{position:hu(e,r)}:null;const o=this.conversionApi.writer.split(e,i),s=[];for(const c of o.range.getWalker())if("elementEnd"==c.type)s.push(c.item);else{const t=s.pop(),e=c.item;this._registerSplitPair(t,e)}const a=o.range.end.parent;return this._cursorParents.set(t,a),{position:o.position,cursorParent:a}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&!this._emptyElementsToKeep.has(e)&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}class id{getHtml(t){const e=i.document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class od{constructor(t){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new tc(t,{renderingMode:"data"}),this.htmlWriter=new id}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode="marked"==t?"markedNbsp":"nbsp"}_toDom(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),r=e.body.childNodes;for(;r.length>0;)n.appendChild(r[0]);return n}}class sd extends(N()){constructor(t,e){super(),this.model=t,this.mapper=new bl,this.downcastDispatcher=new Dl({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",((t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const r=n.writer,i=n.mapper.toViewPosition(e.range.start),o=r.createText(e.item.data);r.insert(i,o)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((t,e,n)=>{n.convertAttributes(e.item),e.reconversion||!e.item.is("element")||e.item.isEmpty||n.convertChildren(e.item)}),{priority:"lowest"}),this.upcastDispatcher=new rd({schema:t.schema}),this.viewDocument=new la(e),this.stylesProcessor=e,this.htmlProcessor=new od(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new wa(this.viewDocument),this.upcastDispatcher.on("text",((t,e,{schema:n,consumable:r,writer:i})=>{let o=e.modelCursor;if(!r.test(e.viewItem))return;if(!n.checkChild(o,"$text")){if(!du(o,"$text",n))return;if(0==e.viewItem.data.trim().length)return;const t=o.nodeBefore;o=hu(o,i),t&&t.is("element","$marker")&&(i.move(i.createRangeOn(t),o),o=i.createPositionAfter(t))}r.consume(e.viewItem);const s=i.createText(e.viewItem.data);i.insert(s,o),e.modelRange=i.createRange(o,o.getShiftedBy(s.offsetSize)),e.modelCursor=e.modelRange.end}),{priority:"lowest"}),this.upcastDispatcher.on("element",((t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:r}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=r}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",((t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:r}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=r}}),{priority:"lowest"}),q().prototype.decorate.call(this,"init"),q().prototype.decorate.call(this,"set"),q().prototype.decorate.call(this,"get"),q().prototype.decorate.call(this,"toView"),q().prototype.decorate.call(this,"toModel"),this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"}),this.on("ready",(()=>{this.model.enqueueChange({isUndoable:!1},uu)}),{priority:"lowest"})}get(t={}){const{rootName:e="main",trim:n="empty"}=t;if(!this._checkIfRootsExists([e]))throw new _("datacontroller-get-non-existent-root",this);const r=this.model.document.getRoot(e);return r.isAttached()||A("datacontroller-get-detached-root",this),"empty"!==n||this.model.hasContent(r,{ignoreWhitespaces:!0})?this.stringify(r,t):""}stringify(t,e={}){const n=this.toView(t,e);return this.processor.toData(n)}toView(t,e={}){const n=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();const i=vl._createIn(t),o=new ka(n);this.mapper.bindElements(t,o);const s=t.is("documentFragment")?t.markers:function(t){const e=[],n=t.root.document;if(!n)return new Map;const r=vl._createIn(t);for(const i of n.model.markers){const t=i.getRange(),n=t.isCollapsed,o=t.start.isEqual(r.start)||t.end.isEqual(r.end);if(n&&o)e.push([i.name,t]);else{const n=r.getIntersection(t);n&&e.push([i.name,n])}}return e.sort((([t,e],[n,r])=>{if("after"!==e.end.compareWith(r.start))return 1;if("before"!==e.start.compareWith(r.end))return-1;switch(e.start.compareWith(r.start)){case"before":return 1;case"after":return-1;default:switch(e.end.compareWith(r.end)){case"before":return 1;case"after":return-1;default:return n.localeCompare(t)}}})),new Map(e)}(t);return this.downcastDispatcher.convert(i,s,r,e),o}init(t){if(this.model.document.version)throw new _("datacontroller-init-document-not-empty",this);let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new _("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(t=>{for(const n of Object.keys(e)){const r=this.model.document.getRoot(n);t.insert(this.parse(e[n],r),r,0)}})),Promise.resolve()}set(t,e={}){let n={};if("string"==typeof t?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new _("datacontroller-set-non-existent-root",this);this.model.enqueueChange(e.batchType||{},(t=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const e of Object.keys(n)){const r=this.model.document.getRoot(e);t.remove(t.createRangeIn(r)),t.insert(this.parse(n[e],r),r,0)}}))}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change((n=>this.upcastDispatcher.convert(t,n,e)))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRoot(e))return!1;return!0}}class ad{constructor(t,e){this._helpers=new Map,this._downcast=_i(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=_i(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new _("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new _("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of cd(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of cd(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of cd(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new _("conversion-group-exists",this);const r=n?new ql(e):new ku(e);this._helpers.set(t,r)}}function*cd(t){if(t.model.values)for(const e of t.model.values){const n={key:t.model.key,value:e},r=t.view[e],i=t.upcastAlso?t.upcastAlso[e]:void 0;yield*ld(n,r,i)}else yield*ld(t.model,t.view,t.upcastAlso)}function*ld(t,e,n){if(yield{model:t,view:e},n)for(const r of _i(n))yield{model:t,view:r}}class ud{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function dd(t,e){const n=pd(e),r=n.reduce(((t,e)=>t+e.offsetSize),0),i=t.parent;md(t);const o=t.index;return i._insertChild(o,n),gd(i,o+n.length),gd(i,o),new vl(t,t.getShiftedBy(r))}function hd(t){if(!t.isFlat)throw new _("operation-utils-remove-range-not-flat",this);const e=t.start.parent;md(t.start),md(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return gd(e,t.start.index),n}function fd(t,e){if(!t.isFlat)throw new _("operation-utils-move-range-not-flat",this);const n=hd(t);return dd(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function pd(t){const e=[];!function t(n){if("string"==typeof n)e.push(new sl(n));else if(n instanceof al)e.push(new sl(n.data,n.getAttributes()));else if(n instanceof il)e.push(n);else if(rt(n))for(const e of n)t(e)}(t);for(let n=1;n<e.length;n++){const t=e[n],r=e[n-1];t instanceof sl&&r instanceof sl&&vd(t,r)&&(e.splice(n-1,2,new sl(r.data+t.data,r.getAttributes())),n--)}return e}function gd(t,e){const n=t.getChild(e-1),r=t.getChild(e);if(n&&r&&n.is("$text")&&r.is("$text")&&vd(n,r)){const i=new sl(n.data+r.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,i)}}function md(t){const e=t.textNode,n=t.parent;if(e){const r=t.offset-e.startOffset,i=e.index;n._removeChildren(i,1);const o=new sl(e.data.substr(0,r),e.getAttributes()),s=new sl(e.data.substr(r),e.getAttributes());n._insertChild(i,[o,s])}}function vd(t,e){const n=t.getAttributes(),r=e.getAttributes();for(const i of n){if(i[1]!==e.getAttribute(i[0]))return!1;r.next()}return r.next().done}class bd extends ud{constructor(t,e,n,r){super(r),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}get affectedSelectable(){return[vl._createFromPositionAndShift(this.sourcePosition,this.howMany),vl._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new bd(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new bd(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new _("move-operation-nodes-do-not-exist",this);if(t===e&&n<r&&r<n+this.howMany)throw new _("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==nt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new _("move-operation-node-into-itself",this)}}_execute(){fd(vl._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=dl.fromJSON(t.sourcePosition,e),r=dl.fromJSON(t.targetPosition,e);return new this(n,t.howMany,r,t.baseVersion)}}class yd extends ud{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new ol(pd(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const t=new ol([...this.nodes].map((t=>t._clone(!0)))),e=new yd(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new dl(t,[0]);return new bd(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new _("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new ol([...t].map((t=>t._clone(!0)))),dd(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const i of t.nodes)i.name?n.push(cl.fromJSON(i)):n.push(sl.fromJSON(i));const r=new yd(dl.fromJSON(t.position,e),n,t.baseVersion);return r.shouldReceiveAttributes=t.shouldReceiveAttributes,r}}class kd extends ud{constructor(t,e,n,r,i){super(i),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=n,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new dl(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new vl(this.splitPosition,t)}get affectedSelectable(){const t=[vl._createFromPositionAndShift(this.splitPosition,0),vl._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&t.push(vl._createFromPositionAndShift(this.graveyardPosition,0)),t}clone(){return new kd(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new dl(t,[0]);return new wd(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new _("split-operation-position-invalid",this);if(!t.parent)throw new _("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new _("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new _("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)fd(vl._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();dd(this.insertionPosition,e)}fd(new vl(dl._createAt(t,this.splitPosition.offset),dl._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new dl(t.root,e,"toPrevious")}static fromJSON(t,e){const n=dl.fromJSON(t.splitPosition,e),r=dl.fromJSON(t.insertionPosition,e),i=t.graveyardPosition?dl.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,r,i,t.baseVersion)}}class wd extends ud{constructor(t,e,n,r,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new dl(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new vl(this.sourcePosition,t)}get affectedSelectable(){const t=this.sourcePosition.parent;return[vl._createOn(t),vl._createFromPositionAndShift(this.targetPosition,0),vl._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new wd(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new dl(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new kd(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new _("merge-operation-source-position-invalid",this);if(!e.parent)throw new _("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new _("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;fd(vl._createIn(t),this.targetPosition),fd(vl._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=dl.fromJSON(t.sourcePosition,e),r=dl.fromJSON(t.targetPosition,e),i=dl.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,r,i,t.baseVersion)}}class _d extends ud{constructor(t,e,n,r,i,o){super(o),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=i,this._markers=r}get type(){return"marker"}get affectedSelectable(){const t=[];return this.oldRange&&t.push(this.oldRange.clone()),this.newRange&&(this.oldRange?t.push(...this.newRange.getDifference(this.oldRange)):t.push(this.newRange.clone())),t}clone(){return new _d(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new _d(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new _d(t.name,t.oldRange?vl.fromJSON(t.oldRange,e):null,t.newRange?vl.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}const Ad=function(t,e){return Gc(t,e)};class Cd extends ud{constructor(t,e,n,r,i){super(i),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===r?null:r}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Cd(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Cd(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new _("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!Ad(t.getAttribute(this.key),this.oldValue))throw new _("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new _("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){Ad(this.oldValue,this.newValue)||function(t,e,n){md(t.start),md(t.end);for(const r of t.getItems({shallow:!0})){const t=r.is("$textProxy")?r.textNode:r;null!==n?t._setAttribute(e,n):t._removeAttribute(e),gd(t.parent,t.index)}gd(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new Cd(vl.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class xd extends ud{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new xd(this.baseVersion)}getReversed(){return new xd(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Ed extends ud{constructor(t,e,n,r){super(r),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Ed(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ed(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof cl))throw new _("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new _("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new Ed(dl.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class Sd extends ud{constructor(t,e,n,r,i){super(i),this.root=t,this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===r?null:r}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Sd(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Sd(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new _("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new _("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new _("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new _("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new Sd(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Md extends ud{constructor(t,e,n,r,i){super(i),this.rootName=t,this.elementName=e,this.isAdd=n,this._document=r,this._document.getRoot(this.rootName)||(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Md(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Md(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const t=super.toJSON();return delete t._document,t}static get className(){return"RootOperation"}static fromJSON(t,e){return new Md(t.rootName,t.elementName,t.isAdd,e,t.baseVersion)}}const Id={};Id[Cd.className]=Cd,Id[yd.className]=yd,Id[_d.className]=_d,Id[bd.className]=bd,Id[xd.className]=xd,Id[ud.className]=ud,Id[Ed.className]=Ed,Id[Sd.className]=Sd,Id[Md.className]=Md,Id[kd.className]=kd,Id[wd.className]=wd;class Dd{static fromJSON(t,e){return Id[t.__className].fromJSON(t,e)}}const Td=new Map;function Od(t,e,n){let r=Td.get(t);r||(r=new Map,Td.set(t,r)),r.set(e,n)}function Nd(t){return[t]}function Pd(t,e,n={}){const r=function(t,e){const n=Td.get(t);return n&&n.has(e)?n.get(e):Nd}(t.constructor,e.constructor);try{return r(t=t.clone(),e,n)}catch(t){throw t}}function Ld(t,e,n){t=t.slice(),e=e.slice();const r=new Bd(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(t),r.setOriginalOperations(e);const i=r.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:i};const o=new WeakMap;for(const c of t)o.set(c,0);const s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let a=0;for(;a<t.length;){const n=t[a],i=o.get(n);if(i==e.length){a++;continue}const s=e[i],c=Pd(n,s,r.getContext(n,s,!0)),l=Pd(s,n,r.getContext(s,n,!1));r.updateRelation(n,s),r.setOriginalOperations(c,n),r.setOriginalOperations(l,s);for(const t of c)o.set(t,i+l.length);t.splice(a,1,...c),e.splice(i,1,...l)}if(n.padWithNoOps){const n=t.length-s.originalOperationsACount,r=e.length-s.originalOperationsBCount;jd(t,r-n),jd(e,n-r)}return Rd(t,s.nextBaseVersionB),Rd(e,s.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:i}}class Bd{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const r of t)this.originalOperations.set(r,n||r)}updateRelation(t,e){if(t instanceof bd)e instanceof wd?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof bd&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof kd){if(e instanceof wd)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof bd)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const n=vl._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){const r=n.end.offset-t.splitPosition.offset,i=t.splitPosition.offset-n.start.offset;this._setRelation(t,e,{howMany:r,offset:i})}}}else if(t instanceof wd)e instanceof wd?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof kd?t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource"):e instanceof bd&&e.howMany>0&&(t.sourcePosition.isEqual(e.sourcePosition.getShiftedBy(e.howMany))&&this._setRelation(t,e,"mergeSourceAffected"),t.targetPosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeTargetWasBefore"));else if(t instanceof _d){const n=t.newRange;if(!n)return;if(e instanceof bd){const r=vl._createFromPositionAndShift(e.sourcePosition,e.howMany),i=r.containsPosition(n.start)||r.start.isEqual(n.start),o=r.containsPosition(n.end)||r.end.isEqual(n.end);!i&&!o||r.containsRange(n)||this._setRelation(t,e,{side:i?"left":"right",path:i?n.start.path.slice():n.end.path.slice()})}else if(e instanceof wd){const r=n.start.isEqual(e.targetPosition),i=n.start.isEqual(e.deletionPosition),o=n.end.isEqual(e.deletionPosition),s=n.end.isEqual(e.sourcePosition);(r||i||o||s)&&this._setRelation(t,e,{wasInLeftElement:r,wasStartBeforeMergedElement:i,wasEndBeforeMergedElement:o,wasInRightElement:s})}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),r=this._history.getUndoneOperation(n);if(!r)return null;const i=this.originalOperations.get(t),o=this._relations.get(i);return o&&o.get(r)||null}_setRelation(t,e,n){const r=this.originalOperations.get(t),i=this.originalOperations.get(e);let o=this._relations.get(r);o||(o=new Map,this._relations.set(r,o)),o.set(i,n)}}function Rd(t,e){for(const n of t)n.baseVersion=e++}function jd(t,e){for(let n=0;n<e;n++)t.push(new xd(0))}function zd(t,e,n){const r=t.nodes.getNode(0).getAttribute(e);if(r==n)return null;const i=new vl(t.position,t.position.getShiftedBy(t.howMany));return new Cd(i,e,r,n,0)}function Fd(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function Vd(t,e){const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=new bd(i.start,i.end.offset-i.start.offset,e,0);n.push(o);for(let e=r+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];e=e._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}Od(Cd,Cd,((t,e,n)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const r=t.range.getDifference(e.range).map((e=>new Cd(e,t.key,t.oldValue,t.newValue,0))),i=t.range.getIntersection(e.range);return i&&n.aIsStrong&&r.push(new Cd(i,e.key,e.newValue,t.newValue,0)),0==r.length?[new xd(0)]:r}return[t]})),Od(Cd,yd,((t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map((e=>new Cd(e,t.key,t.oldValue,t.newValue,t.baseVersion)));if(e.shouldReceiveAttributes){const r=zd(e,t.key,t.oldValue);r&&n.unshift(r)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]})),Od(Cd,wd,((t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(vl._createFromPositionAndShift(e.graveyardPosition,1));const r=t.range._getTransformedByMergeOperation(e);return r.isCollapsed||n.push(r),n.map((e=>new Cd(e,t.key,t.oldValue,t.newValue,t.baseVersion)))})),Od(Cd,bd,((t,e)=>{const n=function(t,e){const n=vl._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=null,i=[];n.containsRange(t,!0)?r=t:t.start.hasSameParentAs(n.start)?(i=t.getDifference(n),r=t.getIntersection(n)):i=[t];const o=[];for(let s of i){s=s._getTransformedByDeletion(e.sourcePosition,e.howMany);const t=e.getMovedRangeStart(),n=s.start.hasSameParentAs(t),r=s._getTransformedByInsertion(t,e.howMany,n);o.push(...r)}return r&&o.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),o}(t.range,e);return n.map((e=>new Cd(e,t.key,t.oldValue,t.newValue,t.baseVersion)))})),Od(Cd,kd,((t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new vl(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]})),Od(yd,Cd,((t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const r=zd(t,e.key,e.newValue);r&&n.push(r)}return n})),Od(yd,yd,((t,e,n)=>(t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t]))),Od(yd,bd,((t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]))),Od(yd,kd,((t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t]))),Od(yd,wd,((t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t]))),Od(_d,yd,((t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]))),Od(_d,_d,((t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new xd(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]})),Od(_d,wd,((t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]))),Od(_d,bd,((t,e,n)=>{if(t.oldRange&&(t.oldRange=vl._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const r=vl._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.end=r.end,t.newRange.start.path=n.abRelation.path,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=r.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=vl._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]})),Od(_d,kd,((t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const r=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=dl._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=dl._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=dl._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=dl._createAt(e.insertionPosition):t.newRange.end=r.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]})),Od(wd,yd,((t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]))),Od(wd,wd,((t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new dl(e.graveyardPosition.root,n),t.howMany=0,[t]}return[new xd(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const r="$graveyard"==t.targetPosition.root.rootName,i="$graveyard"==e.targetPosition.root.rootName;if(i&&!r||(!r||i)&&n.aIsStrong){const n=e.targetPosition._getTransformedByMergeOperation(e),r=t.targetPosition._getTransformedByMergeOperation(e);return[new bd(n,t.howMany,r,0)]}return[new xd(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),Od(wd,bd,((t,e,n)=>{const r=vl._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition)?[new xd(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(t.sourcePosition)?t.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(t.sourcePosition)&&"mergeSourceAffected"==n.abRelation?t.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(t.targetPosition)?(t.targetPosition.stickiness="toNone",t.howMany-=e.howMany):e.targetPosition.isEqual(t.targetPosition)&&"mergeTargetWasBefore"==n.abRelation?(t.targetPosition.stickiness="toPrevious",t.howMany+=e.howMany):(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany)),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.sourcePosition.stickiness="toPrevious",t.targetPosition.stickiness="toNext",t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])})),Od(wd,kd,((t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const r=0!=e.howMany,i=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(r||i||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]})),Od(bd,yd,((t,e)=>{const n=vl._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]})),Od(bd,bd,((t,e,n)=>{const r=vl._createFromPositionAndShift(t.sourcePosition,t.howMany),i=vl._createFromPositionAndShift(e.sourcePosition,e.howMany);let o,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),o=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Fd(t,e)&&Fd(e,t))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(i,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Vd([r],o);if(i.containsPosition(t.targetPosition)&&i.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Vd([r],o);const c=nt(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Vd([r],o);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;const l=[],u=r.getDifference(i);for(const h of u){h.start=h.start._getTransformedByDeletion(e.sourcePosition,e.howMany),h.end=h.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const t="same"==nt(h.start.getParentPath(),e.getMovedRangeStart().getParentPath()),n=h._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,t);l.push(...n)}const d=r.getIntersection(i);return null!==d&&s&&(d.start=d.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),d.end=d.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(d):1==l.length?i.start.isBefore(r.start)||i.start.isEqual(r.start)?l.unshift(d):l.push(d):l.splice(1,0,d)),0===l.length?[new xd(t.baseVersion)]:Vd(l,o)})),Od(bd,kd,((t,e,n)=>{let r=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=t.targetPosition._getTransformedBySplitOperation(e));const i=vl._createFromPositionAndShift(t.sourcePosition,t.howMany);if(i.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=r,[t];if(i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)){let t=new vl(e.splitPosition,i.end);return t=t._getTransformedBySplitOperation(e),Vd([new vl(i.start,e.splitPosition),t],r)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(r=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(r=t.targetPosition);const o=[i._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const r=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);t.howMany>1&&r&&!n.aWasUndone&&o.push(vl._createFromPositionAndShift(e.insertionPosition,1))}return Vd(o,r)})),Od(bd,wd,((t,e,n)=>{const r=vl._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new xd(0)]}else if(!n.aWasUndone){const n=[];let r=e.graveyardPosition.clone(),i=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(n.push(new bd(t.sourcePosition,t.howMany-1,t.targetPosition,0)),r=r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const o=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),s=new bd(r,1,o,0),a=s.getMovedRangeStart().path.slice();a.push(0);const c=new dl(s.targetPosition.root,a);i=i._getTransformedByMove(r,o,1);const l=new bd(i,e.howMany,c,0);return n.push(s),n.push(l),n}const i=vl._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=i.start,t.howMany=i.end.offset-i.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]})),Od(Ed,yd,((t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t]))),Od(Ed,wd,((t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t]))),Od(Ed,bd,((t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]))),Od(Ed,Ed,((t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new xd(0)];t.oldName=e.newName}return[t]})),Od(Ed,kd,((t,e)=>{if("same"==nt(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){const e=new Ed(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,e]}return t.position=t.position._getTransformedBySplitOperation(e),[t]})),Od(Sd,Sd,((t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new xd(0)];t.oldValue=e.newValue}return[t]})),Od(Md,Md,((t,e)=>t.rootName===e.rootName&&t.isAdd===e.isAdd?[new xd(0)]:[t])),Od(kd,yd,((t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t]))),Od(kd,wd,((t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const r=new dl(e.graveyardPosition.root,n),i=kd.getInsertionPosition(new dl(e.graveyardPosition.root,n)),o=new kd(r,0,i,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=kd.getInsertionPosition(t.splitPosition),t.graveyardPosition=o.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[o,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=kd.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),Od(kd,bd,((t,e,n)=>{const r=vl._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const i=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&i){const n=t.splitPosition._getTransformedByMoveOperation(e),r=t.graveyardPosition._getTransformedByMoveOperation(e),i=r.path.slice();i.push(0);const o=new dl(r.root,i);return[new bd(n,t.howMany,o,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}const i=t.splitPosition.isEqual(e.targetPosition);if(i&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=kd.getInsertionPosition(t.splitPosition),[t];if(i&&n.abRelation&&n.abRelation.howMany){const{howMany:e,offset:r}=n.abRelation;return t.howMany+=e,t.splitPosition=t.splitPosition.getShiftedBy(r),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.splitPosition)){const n=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=n,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=kd.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=kd.getInsertionPosition(t.splitPosition),[t]})),Od(kd,kd,((t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new xd(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new xd(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const r="$graveyard"==t.splitPosition.root.rootName,i="$graveyard"==e.splitPosition.root.rootName;if(i&&!r||(!r||i)&&n.aIsStrong){const n=[];return e.howMany&&n.push(new bd(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new bd(t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new xd(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const r=new dl(e.insertionPosition.root,n);return[t,new bd(t.insertionPosition,1,r,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=kd.getInsertionPosition(t.splitPosition),[t]}));class Ud extends(N(dl)){constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new _("model-liveposition-root-not-rootelement",t);Gd.call(this)}detach(){this.stopListening()}toPosition(){return new dl(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function Gd(){this.listenTo(this.root.document.model,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&Hd.call(this,n)}),{priority:"low"})}function Hd(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Ud.prototype.is=function(t){return"livePosition"===t||"model:livePosition"===t||"position"==t||"model:position"===t};class $d{constructor(t={}){"string"==typeof t&&(t="transparent"===t?{isUndoable:!1}:{},A("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:n=!0,isUndo:r=!1,isTyping:i=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=n,this.isUndo=r,this.isTyping=i}get type(){return A("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}var Wd=Object.defineProperty,Yd=Object.defineProperties,qd=Object.getOwnPropertyDescriptors,Xd=Object.getOwnPropertySymbols,Kd=Object.prototype.hasOwnProperty,Zd=Object.prototype.propertyIsEnumerable,Qd=(t,e,n)=>e in t?Wd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jd=(t,e)=>{for(var n in e||(e={}))Kd.call(e,n)&&Qd(t,n,e[n]);if(Xd)for(var n of Xd(e))Zd.call(e,n)&&Qd(t,n,e[n]);return t};class th{constructor(t){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=t}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size&&0==this._changedRoots.size}bufferOperation(t){const e=t;switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const t of e.range.getItems({shallow:!0}))this._isInInsertedElement(t.parent)||this._markAttribute(t);break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const t=this._isInInsertedElement(e.sourcePosition.parent),n=this._isInInsertedElement(e.targetPosition.parent);t||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),n||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const t=vl._createFromPositionAndShift(e.position,1);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getData();this.bufferMarkerChange(e.name,t,t)}break}case"split":{const t=e.splitPosition.parent;this._isInInsertedElement(t)||this._markRemove(t,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{const t=e.sourcePosition.parent;this._isInInsertedElement(t.parent)||this._markRemove(t.parent,t.startOffset,1);const n=e.graveyardPosition.parent;this._markInsert(n,e.graveyardPosition.offset,1);const r=e.targetPosition.parent;this._isInInsertedElement(r)||this._markInsert(r,e.targetPosition.offset,t.maxOffset);break}case"detachRoot":case"addRoot":{const t=e.affectedSelectable;if(!t._isLoaded)return;if(t.isAttached()==e.isAdd)return;this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!e.root._isLoaded)return;const t=e.root.rootName;this._bufferRootAttributeChange(t,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n){e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let r=this._changedMarkers.get(t);r?r.newMarkerData=n:(r={newMarkerData:n,oldMarkerData:e},this._changedMarkers.set(t,r)),null==r.oldMarkerData.range&&null==n.range&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldMarkerData.range&&t.push({name:e,range:n.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newMarkerData.range&&t.push({name:e,range:n.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map((([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}})))}hasDataChanges(){if(this.getChanges().length)return!0;if(this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const n=t.range&&!e.range,r=!t.range&&e.range,i=t.range&&e.range&&!t.range.isEqual(e.range);if(n||r||i)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const n of this._changesInElement.keys()){const t=this._changesInElement.get(n).sort(((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1)),r=this._elementSnapshots.get(n),i=eh(n.getChildren()),o=nh(r.length,t);let s=0,a=0;for(const c of o)if("i"===c)e.push(this._getInsertDiff(n,s,i[s])),s++;else if("r"===c)e.push(this._getRemoveDiff(n,s,r[a])),a++;else if("a"===c){const t=i[s].attributes,o=r[a].attributes;let c;if("$text"==i[s].name)c=new vl(dl._createAt(n,s),dl._createAt(n,s+1));else{const t=n.offsetToIndex(s);c=new vl(dl._createAt(n,s),dl._createAt(n.getChild(t),0))}e.push(...this._getAttributesDiff(c,o,t)),s++,a++}else s++,a++}e.sort(((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1));for(let n=1,r=0;n<e.length;n++){const t=e[r],i=e[n],o="remove"==t.type&&"remove"==i.type&&"$text"==t.name&&"$text"==i.name&&t.position.isEqual(i.position),s="insert"==t.type&&"insert"==i.type&&"$text"==t.name&&"$text"==i.name&&t.position.parent==i.position.parent&&t.position.offset+t.length==i.position.offset,a="attribute"==t.type&&"attribute"==i.type&&t.position.parent==i.position.parent&&t.range.isFlat&&i.range.isFlat&&t.position.offset+t.length==i.position.offset&&t.attributeKey==i.attributeKey&&t.attributeOldValue==i.attributeOldValue&&t.attributeNewValue==i.attributeNewValue;o||s||a?(t.length++,a&&(t.range.end=t.range.end.getShiftedBy(1)),e[n]=null):r=n}e=e.filter((t=>t));for(const n of e)delete n.changeCount,"attribute"==n.type&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(rh),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map((t=>{const e=Jd({},t);return void 0!==e.state&&delete e.attributes,e}))}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(t,e){if(!this._changedRoots.has(t))return void this._changedRoots.set(t,{name:t,state:e?"attached":"detached"});const n=this._changedRoots.get(t);void 0!==n.state?(delete n.state,void 0===n.attributes&&this._changedRoots.delete(t)):n.state=e?"attached":"detached"}_bufferRootAttributeChange(t,e,n,r){const i=this._changedRoots.get(t)||{name:t},o=i.attributes||{};if(o[e]){const t=o[e];r===t.oldValue?delete o[e]:t.newValue=r}else o[e]={oldValue:n,newValue:r};0===Object.entries(o).length?(delete i.attributes,void 0===i.state&&this._changedRoots.delete(t)):(i.attributes=o,this._changedRoots.set(t,i))}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t);const e=vl._createOn(t);for(const n of this._markerCollection.getMarkersIntersectingRange(e)){const t=n.getData();this.bufferMarkerChange(n.name,t,t)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const e of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,e,null,t.getAttribute(e));for(const n of this._markerCollection)if(n.getRange().root==t){const t=n.getData();this.bufferMarkerChange(n.name,(e=Jd({},t),Yd(e,qd({range:null}))),t)}var e}}_markInsert(t,e,n){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const r={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r)}_markRemove(t,e,n){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const r={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let r=0;r<n.length;r++)n[r].howMany<1&&(n.splice(r,1),r--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,eh(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const r=t.offset+t.howMany,i=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<i&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<i){const i=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:r,howMany:i-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(r<=n.offset)n.offset-=t.howMany;else if(r<=i)if(t.offset<n.offset){const e=r-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<i){const e=i-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(r<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(r<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=r-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<i)if(r<=i){const r=n.howMany;n.howMany=t.offset-n.offset;const i=r-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:i,count:this._changeCount++})}else n.howMany-=i-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&r>n.offset){if(r>i){const t={type:"attribute",offset:i,howMany:r-i,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<i&&(r>i?(t.nodesToHandle=r-i,t.offset=i):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&r>n.offset){const i={type:"attribute",offset:n.offset,howMany:r-n.offset,count:this._changeCount++};this._handleChange(i,e),e.push(i),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&r<=i?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&r>=i&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:dl._createAt(t,e),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getRemoveDiff(t,e,n){return{type:"remove",position:dl._createAt(t,e),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getAttributesDiff(t,e,n){const r=[];n=new Map(n);for(const[i,o]of e){const e=n.has(i)?n.get(i):null;e!==o&&r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:i,attributeOldValue:o,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(i)}for(const[i,o]of n)r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:i,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return r}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),r=t.startOffset;if(n)for(const i of n)if("insert"==i.type&&r>=i.offset&&r<i.offset+i.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const r=new vl(dl._createAt(t,e),dl._createAt(t,e+n));for(const i of r.getItems({shallow:!0}))i.is("element")&&(this._elementSnapshots.delete(i),this._changesInElement.delete(i),this._removeAllNestedChanges(i,0,i.maxOffset))}}function eh(t){const e=[];for(const n of t)if(n.is("$text"))for(let t=0;t<n.data.length;t++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes()),element:n});return e}function nh(t,e){const n=[];let r=0,i=0;for(const o of e){if(o.offset>r){for(let t=0;t<o.offset-r;t++)n.push("e");i+=o.offset-r}if("insert"==o.type){for(let t=0;t<o.howMany;t++)n.push("i");r=o.offset+o.howMany}else if("remove"==o.type){for(let t=0;t<o.howMany;t++)n.push("r");r=o.offset,i+=o.howMany}else n.push(..."a".repeat(o.howMany).split("")),r=o.offset+o.howMany,i+=o.howMany}if(i<t)for(let o=0;o<t-i-r;o++)n.push("e");return n}function rh(t){const e="position"in t&&"$graveyard"==t.position.root.rootName,n="range"in t&&"$graveyard"==t.range.root.rootName;return!e&&!n}class ih{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new _("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const n=this._operations[0];void 0===t&&(t=n.baseVersion);let r=e-1;for(const[s,a]of this._gaps)t>s&&t<a&&(t=a),r>s&&r<a&&(r=s-1);if(r<n.baseVersion||t>this.lastOperation.baseVersion)return[];let i=this._baseVersionToOperationIndex.get(t);void 0===i&&(i=0);let o=this._baseVersionToOperationIndex.get(r);return void 0===o&&(o=this._operations.length-1),this._operations.slice(i,o+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(void 0!==e)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class oh extends cl{constructor(t,e,n="main"){super(e),this._isAttached=!0,this._isLoaded=!0,this._document=t,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}oh.prototype.is=function(t,e){return e?e===this.name&&("rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t):"rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t||"node"===t||"model:node"===t};var sh=Object.defineProperty,ah=Object.defineProperties,ch=Object.getOwnPropertyDescriptors,lh=Object.getOwnPropertySymbols,uh=Object.prototype.hasOwnProperty,dh=Object.prototype.propertyIsEnumerable,hh=(t,e,n)=>e in t?sh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fh=(t,e)=>{for(var n in e||(e={}))uh.call(e,n)&&hh(t,n,e[n]);if(lh)for(var n of lh(e))dh.call(e,n)&&hh(t,n,e[n]);return t},ph=(t,e)=>ah(t,ch(e));const gh="$graveyard";class mh extends(N()){constructor(t){super(),this.model=t,this.history=new ih,this.selection=new Hl(this),this.roots=new Yi({idProperty:"rootName"}),this.differ=new th(t.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",gh),this.listenTo(t,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)}),{priority:"high"}),this.listenTo(t,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&this.history.addOperation(n)}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(t.markers,"update",((t,e,n,r,i)=>{const o=ph(fh({},e.getData()),{range:r});this.differ.bufferMarkerChange(e.name,i,o),null===n&&e.on("change",((t,n)=>{const r=e.getData();this.differ.bufferMarkerChange(e.name,ph(fh({},r),{range:n}),r)}))})),this.registerPostFixer((t=>{let e=!1;for(const n of this.roots)n.isAttached()||n.isEmpty||(t.remove(t.createRangeIn(n)),e=!0);for(const n of this.model.markers)n.getRange().root.isAttached()||(t.removeMarker(n),e=!0);return e}))}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot(gh)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new _("model-document-createroot-name-exists",this,{name:e});const n=new oh(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(t=!1){return this.getRoots(t).map((t=>t.rootName))}getRoots(t=!1){return this.roots.filter((e=>e!=this.graveyard&&(t||e.isAttached())&&e._isLoaded))}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=os(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const t=this.getRoots();return t.length?t[0]:this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,r=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(r)||e.createRange(r)}_validateSelectionRange(t){return vh(t.start)&&vh(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),e=n(t),e)break}while(e)}}function vh(t){const e=t.textNode;if(e){const n=e.data,r=t.offset-e.startOffset;return!Ji(n,r)&&!to(n,r)}return!0}var bh=Object.defineProperty,yh=Object.defineProperties,kh=Object.getOwnPropertyDescriptors,wh=Object.getOwnPropertySymbols,_h=Object.prototype.hasOwnProperty,Ah=Object.prototype.propertyIsEnumerable,Ch=(t,e,n)=>e in t?bh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;class xh extends(N()){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){const e=t instanceof Eh?t.name:t;return this._markers.has(e)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,r=!1){const i=t instanceof Eh?t.name:t;if(i.includes(","))throw new _("markercollection-incorrect-marker-name",this);const o=this._markers.get(i);if(o){const t=o.getData(),s=o.getRange();let a=!1;return s.isEqual(e)||(o._attachLiveRange(Fl.fromRange(e)),a=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,a=!0),"boolean"==typeof r&&r!=o.affectsData&&(o._affectsData=r,a=!0),a&&this.fire(`update:${i}`,o,s,e,t),o}const s=Fl.fromRange(e),a=new Eh(i,s,n,r);var c;return this._markers.set(i,a),this.fire(`update:${i}`,a,null,e,(c=((t,e)=>{for(var n in e||(e={}))_h.call(e,n)&&Ch(t,n,e[n]);if(wh)for(var n of wh(e))Ah.call(e,n)&&Ch(t,n,e[n]);return t})({},a.getData()),yh(c,kh({range:null})))),a}_remove(t){const e=t instanceof Eh?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire(`update:${e}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof Eh?t.name:t,n=this._markers.get(e);if(!n)throw new _("markercollection-refresh-marker-not-exists",this);const r=n.getRange();this.fire(`update:${e}`,n,r,r,n.getData())}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class Eh extends(N(rl)){constructor(t,e,n,r){super(),this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new _("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new _("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new _("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new _("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new _("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Eh.prototype.is=function(t){return"marker"===t||"model:marker"===t};class Sh extends ud{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new _("detach-operation-on-document-node",this)}_execute(){hd(vl._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Mh extends rl{constructor(t){super(),this.markers=new Map,this._children=new ol,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(cl.fromJSON(n)):e.push(sl.fromJSON(n));return new Mh(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new sl(t)]:(rt(t)||(t=[t]),Array.from(t).map((t=>"string"==typeof t?new sl(t):t instanceof al?new sl(t.data,t.getAttributes()):t)))}(e);for(const r of n)null!==r.parent&&r._remove(),r.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const r of n)r.parent=null;return n}}Mh.prototype.is=function(t){return"documentFragment"===t||"model:documentFragment"===t};class Ih{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new sl(t,e)}createElement(t,e){return new cl(t,e)}createDocumentFragment(){return new Mh}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof sl&&""==t.data)return;const r=dl._createAt(e,n);if(t.parent){if(Ph(t.root,r.root))return void this.move(vl._createOn(t),r);if(t.root.document)throw new _("model-writer-insert-forbidden-move",this);this.remove(t)}const i=r.root.document?r.root.document.version:null,o=new yd(r,t,i);if(t instanceof sl&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),t instanceof Mh)for(const[s,a]of t.markers){const t=dl._createAt(a.root,0),e={range:new vl(a.start._getCombined(t,r),a.end._getCombined(t,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(s)?this.updateMarker(s,e):this.addMarker(s,e)}}insertText(t,e,n,r){e instanceof Mh||e instanceof cl||e instanceof dl?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,r)}insertElement(t,e,n,r){e instanceof Mh||e instanceof cl||e instanceof dl?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,r)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof Mh||e instanceof cl?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof Mh||e instanceof cl?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof vl){const r=n.getMinimalFlatRanges();for(const n of r)Dh(this,t,e,n)}else Th(this,t,e,n)}setAttributes(t,e){for(const[n,r]of Zi(t))this.setAttribute(n,r,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof vl){const n=e.getMinimalFlatRanges();for(const e of n)Dh(this,t,null,e)}else Th(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof vl)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof vl))throw new _("writer-move-invalid-range",this);if(!t.isFlat)throw new _("writer-move-range-not-flat",this);const r=dl._createAt(e,n);if(r.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!Ph(t.root,r.root))throw new _("writer-move-different-document",this);const i=t.root.document?t.root.document.version:null,o=new bd(t.start,t.end.offset-t.start.offset,r,i);this.batch.addOperation(o),this.model.applyOperation(o)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof vl?t:vl._createOn(t)).getMinimalFlatRanges().reverse();for(const n of e)this._addOperationForAffectedMarkers("move",n),Nh(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof cl))throw new _("writer-merge-no-element-before",this);if(!(n instanceof cl))throw new _("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(vl._createIn(n),dl._createAt(e,"end")),this.remove(n)}_merge(t){const e=dl._createAt(t.nodeBefore,"end"),n=dl._createAt(t.nodeAfter,0),r=t.root.document.graveyard,i=new dl(r,[0]),o=t.root.document.version,s=new wd(n,t.nodeAfter.maxOffset,e,i,o);this.batch.addOperation(s),this.model.applyOperation(s)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof cl))throw new _("writer-rename-not-element-instance",this);const n=t.root.document?t.root.document.version:null,r=new Ed(dl._createBefore(t),t.name,e,n);this.batch.addOperation(r),this.model.applyOperation(r)}split(t,e){this._assertWriterUsedCorrectly();let n,r,i=t.parent;if(!i.parent)throw new _("writer-split-element-no-parent",this);if(e||(e=i.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new _("writer-split-invalid-limit-element",this);do{const e=i.root.document?i.root.document.version:null,o=i.maxOffset-t.offset,s=kd.getInsertionPosition(t),a=new kd(t,o,s,null,e);this.batch.addOperation(a),this.model.applyOperation(a),n||r||(n=i,r=t.parent.nextSibling),i=(t=this.createPositionAfter(t.parent)).parent}while(i!==e);return{position:t,range:new vl(dl._createAt(n,"end"),dl._createAt(r,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new _("writer-wrap-range-not-flat",this);const n=e instanceof cl?e:new cl(e);if(n.childCount>0)throw new _("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new _("writer-wrap-element-attached",this);this.insert(n,t.start);const r=new vl(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(r,dl._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new _("writer-unwrap-element-no-parent",this);this.move(vl._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new _("writer-addmarker-no-usingoperation",this);const n=e.usingOperation,r=e.range,i=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new _("writer-addmarker-marker-exists",this);if(!r)throw new _("writer-addmarker-no-range",this);return n?(Oh(this,t,null,r,i),this.model.markers.get(t)):this.model.markers._set(t,r,n,i)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,r=this.model.markers.get(n);if(!r)throw new _("writer-updatemarker-marker-not-exists",this);if(!e)return A("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(r);const i="boolean"==typeof e.usingOperation,o="boolean"==typeof e.affectsData,s=o?e.affectsData:r.affectsData;if(!i&&!e.range&&!o)throw new _("writer-updatemarker-wrong-options",this);const a=r.getRange(),c=e.range?e.range:a;i&&e.usingOperation!==r.managedUsingOperations?e.usingOperation?Oh(this,n,null,c,s):(Oh(this,n,a,null,s),this.model.markers._set(n,c,void 0,s)):r.managedUsingOperations?Oh(this,n,a,c,s):this.model.markers._set(n,c,void 0,s)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new _("writer-removemarker-no-marker",this);const n=this.model.markers.get(e);n.managedUsingOperations?Oh(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}addRoot(t,e="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(t);if(n&&n.isAttached())throw new _("writer-addroot-root-exists",this);const r=this.model.document,i=new Md(t,e,!0,r,r.version);return this.batch.addOperation(i),this.model.applyOperation(i),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?this.model.document.getRoot(t):t;if(!e||!e.isAttached())throw new _("writer-detachroot-no-root",this);for(const i of this.model.markers)i.getRange().root===e&&this.removeMarker(i);for(const i of e.getAttributeKeys())this.removeAttribute(i,e);this.remove(this.createRangeIn(e));const n=this.model.document,r=new Md(e.rootName,e.name,!1,n,n.version);this.batch.addOperation(r),this.model.applyOperation(r)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[n,r]of Zi(t))this._setSelectionAttribute(n,r)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const r=Hl._getStoreAttributeKey(t);this.setAttribute(r,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=Hl._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new _("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const r=n.getRange();let i=!1;if("move"===t){const t=e;i=t.containsPosition(r.start)||t.start.isEqual(r.start)||t.containsPosition(r.end)||t.end.isEqual(r.end)}else{const t=e,n=t.nodeBefore,o=t.nodeAfter,s=r.start.parent==n&&r.start.isAtEnd,a=r.end.parent==o&&0==r.end.offset,c=r.end.nodeAfter==o,l=r.start.nodeAfter==o;i=s||a||c||l}i&&this.updateMarker(n.name,{range:r})}}}function Dh(t,e,n,r){const i=t.model,o=i.document;let s,a,c,l=r.start;for(const d of r.getWalker({shallow:!0}))c=d.item.getAttribute(e),s&&a!=c&&(a!=n&&u(),l=s),s=d.nextPosition,a=c;function u(){const r=new vl(l,s),c=r.root.document?o.version:null,u=new Cd(r,e,a,n,c);t.batch.addOperation(u),i.applyOperation(u)}s instanceof dl&&s!=l&&a!=n&&u()}function Th(t,e,n,r){const i=t.model,o=i.document,s=r.getAttribute(e);let a,c;if(s!=n){if(r.root===r){const t=r.document?o.version:null;c=new Sd(r,e,s,n,t)}else{a=new vl(dl._createBefore(r),t.createPositionAfter(r));const i=a.root.document?o.version:null;c=new Cd(a,e,s,n,i)}t.batch.addOperation(c),i.applyOperation(c)}}function Oh(t,e,n,r,i){const o=t.model,s=o.document,a=new _d(e,n,r,o.markers,!!i,s.version);t.batch.addOperation(a),o.applyOperation(a)}function Nh(t,e,n,r){let i;if(t.root.document){const n=r.document,o=new dl(n.graveyard,[0]);i=new bd(t,e,o,n.version)}else i=new Sh(t,e);n.addOperation(i),r.applyOperation(i)}function Ph(t,e){return t===e||t instanceof oh&&e instanceof oh}function Lh(t,e,n={}){if(e.isCollapsed)return;const r=e.getFirstRange();if("$graveyard"==r.root.rootName)return;const i=t.schema;t.change((t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const r=e.getFirstRange();return r.start.parent!=r.end.parent&&t.checkChild(n,"paragraph")}(i,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),zh(t,t.createPositionAt(n,0),e)}(t,e);const o={};if(!n.doNotAutoparagraph){const t=e.getSelectedElement();t&&Object.assign(o,i.getAttributesWithProperty(t,"copyOnReplace",!0))}const[s,a]=function(t){const e=t.root.document.model,n=t.start;let r=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){const n=function(t){const e=t.parent,n=e.root.document.model.schema,r=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const i of r){if(n.isLimit(i))return null;if(n.isBlock(i))return i}}(r);if(n&&r.isTouching(e.createPositionAt(n,0))){const n=e.createSelection(t);e.modifySelection(n,{direction:"backward"});const i=n.getLastPosition(),o=e.createRange(i,r);e.hasContent(o,{ignoreMarkers:!0})||(r=i)}}return[Ud.fromPosition(n,"toPrevious"),Ud.fromPosition(r,"toNext")]}(r);s.isTouching(a)||t.remove(t.createRange(s,a)),n.leaveUnmerged||(function(t,e,n){const r=t.model;if(!jh(t.model.schema,e,n))return;const[i,o]=function(t,e){const n=t.getAncestors(),r=e.getAncestors();let i=0;for(;n[i]&&n[i]==r[i];)i++;return[n[i],r[i]]}(e,n);i&&o&&(!r.hasContent(i,{ignoreMarkers:!0})&&r.hasContent(o,{ignoreMarkers:!0})?Rh(t,e,n,i.parent):Bh(t,e,n,i.parent))}(t,s,a),i.removeDisallowedAttributes(s.parent.getChildren(),t)),Fh(t,e,s),!n.doNotAutoparagraph&&function(t,e){const n=t.checkChild(e,"$text"),r=t.checkChild(e,"paragraph");return!n&&r}(i,s)&&zh(t,s,e,o),s.detach(),a.detach()}))}function Bh(t,e,n,r){const i=e.parent,o=n.parent;if(i!=r&&o!=r){for(e=t.createPositionAfter(i),(n=t.createPositionBefore(o)).isEqual(e)||t.insert(o,e),t.merge(e);n.parent.isEmpty;){const e=n.parent;n=t.createPositionBefore(e),t.remove(e)}jh(t.model.schema,e,n)&&Bh(t,e,n,r)}}function Rh(t,e,n,r){const i=e.parent,o=n.parent;if(i!=r&&o!=r){for(e=t.createPositionAfter(i),(n=t.createPositionBefore(o)).isEqual(e)||t.insert(i,n);e.parent.isEmpty;){const n=e.parent;e=t.createPositionBefore(n),t.remove(n)}n=t.createPositionBefore(o),function(t,e){const n=e.nodeBefore,r=e.nodeAfter;n.name!=r.name&&t.rename(n,r.name),t.clearAttributes(n),t.setAttributes(Object.fromEntries(r.getAttributes()),n),t.merge(e)}(t,n),jh(t.model.schema,e,n)&&Rh(t,e,n,r)}}function jh(t,e,n){const r=e.parent,i=n.parent;return r!=i&&!t.isLimit(r)&&!t.isLimit(i)&&function(t,e,n){const r=new vl(t,e);for(const i of r.getWalker())if(n.isLimit(i.item))return!1;return!0}(e,n,t)}function zh(t,e,n,r={}){const i=t.createElement("paragraph");t.model.schema.setAllowedAttributes(i,r,t),t.insert(i,e),Fh(t,n,t.createPositionAt(i,0))}function Fh(t,e,n){e instanceof Hl?t.setSelection(n):e.setTo(n)}function Vh(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map((t=>e.createRangeOn(t))).filter((e=>(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end)))).forEach((t=>{n.push(t.start.parent),e.remove(t)})),n.forEach((t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=e.createRangeOn(n);n=n.parent,e.remove(t)}}))}class Uh{constructor(t,e,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new _("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?vl._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new vl(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let e=this._checkAndAutoParagraphToAllowedPosition(t);e||(e=this._checkAndSplitToAllowedPosition(t),e)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=Ud.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new _("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Ud.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Ud.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof cl))return;if(!this._canMergeLeft(t))return;const e=Ud._createBefore(t);e.stickiness="toNext";const n=Ud.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=Ud._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Ud._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof cl))return;if(!this._canMergeRight(t))return;const e=Ud._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new _("insertcontent-invalid-insertion-position",this);this.position=dl._createAt(e.nodeBefore,"end");const n=Ud.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=Ud._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Ud._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof cl&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof cl&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_tryAutoparagraphing(t){const e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===e&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function Gh(t,e,n,r={}){if(!t.schema.isObject(e))throw new _("insertobject-element-not-an-object",t,{object:e});const i=n||t.document.selection;let o=i;r.findOptimalPosition&&t.schema.isBlock(e)&&(o=t.createSelection(t.schema.findOptimalInsertionRange(i,r.findOptimalPosition)));const s=qi(i.getSelectedBlocks()),a={};return s&&Object.assign(a,t.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),t.change((n=>{o.isCollapsed||t.deleteContent(o,{doNotAutoparagraph:!0});let i=e;const s=o.anchor.parent;!t.schema.checkChild(s,e)&&t.schema.checkChild(s,"paragraph")&&t.schema.checkChild("paragraph",e)&&(i=n.createElement("paragraph"),n.insert(e,i)),t.schema.setAllowedAttributes(i,a,n);const c=t.insertContent(i,o);return c.isCollapsed||r.setSelection&&function(t,e,n,r){const i=t.model;if("on"==n)return void t.setSelection(e,"on");if("after"!=n)throw new _("insertobject-invalid-place-parameter-value",i);let o=e.nextSibling;if(i.schema.isInline(e))return void t.setSelection(e,"after");const s=o&&i.schema.checkChild(o,"$text");!s&&i.schema.checkChild(e.parent,"paragraph")&&(o=t.createElement("paragraph"),i.schema.setAllowedAttributes(o,r,t),i.insertContent(o,t.createPositionAfter(e))),o&&t.setSelection(o,0)}(n,e,r.setSelection,a),c}))}const Hh=' ,.?!:;"-()';function $h(t,e){const{isForward:n,walker:r,unit:i,schema:o,treatEmojiAsSingleUnit:s}=t,{type:a,item:c,nextPosition:l}=e;if("text"==a)return"word"===t.unit?function(t,e){let n=t.position.textNode;for(n||(n=e?t.position.nodeAfter:t.position.nodeBefore);n&&n.is("$text");){const r=t.position.offset-n.startOffset;if(qh(n,r,e))n=e?t.position.nodeAfter:t.position.nodeBefore;else{if(Yh(n.data,r,e))break;t.next()}}return t.position}(r,n):function(t,e,n){const r=t.position.textNode;if(r){const i=r.data;let o=t.position.offset-r.startOffset;for(;Ji(i,o)||"character"==e&&to(i,o)||n&&no(i,o);)t.next(),o=t.position.offset-r.startOffset}return t.position}(r,i,s);if(a==(n?"elementStart":"elementEnd")){if(o.isSelectable(c))return dl._createAt(c,n?"after":"before");if(o.checkChild(l,"$text"))return l}else{if(o.isLimit(c))return void r.skip((()=>!0));if(o.checkChild(l,"$text"))return l}}function Wh(t,e){const n=t.root,r=dl._createAt(n,e?"end":0);return e?new vl(t,r):new vl(r,t)}function Yh(t,e,n){const r=e+(n?0:-1);return Hh.includes(t.charAt(r))}function qh(t,e,n){return e===(n?t.offsetSize:0)}class Xh extends(q()){constructor(){super(),this.markers=new xh,this.document=new mh(this),this.schema=new Lu,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((t=>this.decorate(t))),this.on("applyOperation",((t,e)=>{e[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(((t,e)=>{if("$marker"===e.name)return!0})),Su(this),this.document.registerPostFixer(uu),this.on("insertContent",((t,[e,n])=>{t.return=function(t,e,n){return t.change((r=>{const i=n||t.document.selection;i.isCollapsed||t.deleteContent(i,{doNotAutoparagraph:!0});const o=new Uh(t,r,i.anchor),s=[];let a;if(e.is("documentFragment")){if(e.markers.size){const t=[];for(const[n,r]of e.markers){const{start:e,end:i}=r,o=e.isEqual(i);t.push({position:e,name:n,isCollapsed:o},{position:i,name:n,isCollapsed:o})}t.sort((({position:t},{position:e})=>t.isBefore(e)?1:-1));for(const{position:n,name:i,isCollapsed:o}of t){let t=null,a=null;const c=n.parent===e&&n.isAtStart,l=n.parent===e&&n.isAtEnd;c||l?o&&(a=c?"start":"end"):(t=r.createElement("$marker"),r.insert(t,n)),s.push({name:i,element:t,collapsed:a})}}a=e.getChildren()}else a=[e];o.handleNodes(a);let c=o.getSelectionRange();if(e.is("documentFragment")&&s.length){const t=c?Fl.fromRange(c):null,e={};for(let n=s.length-1;n>=0;n--){const{name:t,element:i,collapsed:a}=s[n],c=!e[t];if(c&&(e[t]=[]),i){const n=r.createPositionAt(i,"before");e[t].push(n),r.remove(i)}else{const n=o.getAffectedRange();if(!n){a&&e[t].push(o.position);continue}a?e[t].push(n[a]):e[t].push(c?n.start:n.end)}}for(const[n,[i,o]]of Object.entries(e))i&&o&&i.root===o.root&&i.root.document&&!r.model.markers.has(n)&&r.addMarker(n,{usingOperation:!0,affectsData:!0,range:new vl(i,o)});t&&(c=t.toRange(),t.detach())}c&&(i instanceof Hl?r.setSelection(c):i.setTo(c));const l=o.getAffectedRange()||t.createRange(i.anchor);return o.destroy(),l}))}(this,e,n)})),this.on("insertObject",((t,[e,n,r])=>{t.return=Gh(this,e,n,r)})),this.on("canEditAt",(t=>{const e=!this.document.isReadOnly;t.return=e,e||t.stop()}))}change(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new $d,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){_.rethrowUnexpectedError(t,this)}}enqueueChange(t,e){try{t?"function"==typeof t?(e=t,t=new $d):t instanceof $d||(t=new $d(t)):t=new $d,this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){_.rethrowUnexpectedError(t,this)}}applyOperation(t){t._execute()}insertContent(t,e,n,...r){const i=Kh(e,n);return this.fire("insertContent",[t,i,n,...r])}insertObject(t,e,n,r,...i){const o=Kh(e,n);return this.fire("insertObject",[t,o,r,r,...i])}deleteContent(t,e){Lh(this,t,e)}modifySelection(t,e){!function(t,e,n={}){const r=t.schema,i="backward"!=n.direction,o=n.unit?n.unit:"character",s=!!n.treatEmojiAsSingleUnit,a=e.focus,c=new ll({boundaries:Wh(a,i),singleCharacters:!0,direction:i?"forward":"backward"}),l={walker:c,schema:r,isForward:i,unit:o,treatEmojiAsSingleUnit:s};let u;for(;u=c.next();){if(u.done)return;const n=$h(l,u.value);if(n)return void(e instanceof Hl?t.change((t=>{t.setSelectionFocus(n)})):e.setFocus(n))}}(this,t,e)}getSelectedContent(t){return function(t,e){return t.change((t=>{const n=t.createDocumentFragment(),r=e.getFirstRange();if(!r||r.isCollapsed)return n;const i=r.start.root,o=r.start.getCommonPath(r.end),s=i.getNodeByPath(o);let a;a=r.start.parent==r.end.parent?r:t.createRange(t.createPositionAt(s,r.start.path[o.length]),t.createPositionAt(s,r.end.path[o.length]+1));const c=a.end.offset-a.start.offset;for(const e of a.getItems({shallow:!0}))e.is("$textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(t.cloneElement(e,!0),n);if(a!=r){const e=r._getTransformedByMove(a.start,t.createPositionAt(n,0),c)[0],i=t.createRange(t.createPositionAt(n,0),e.start);Vh(t.createRange(e.end,t.createPositionAt(n,"end")),t),Vh(i,t)}return n}))}(this,t)}hasContent(t,e={}){const n=t instanceof vl?t:vl._createIn(t);if(n.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:i=!1}=e;if(!i)for(const o of this.markers.getMarkersIntersectingRange(n))if(o.affectsData)return!0;for(const o of n.getItems())if(this.schema.isContent(o)){if(!o.is("$textProxy"))return!0;if(!r)return!0;if(-1!==o.data.search(/\S/))return!0}return!1}canEditAt(t){const e=Kh(t);return this.fire("canEditAt",[e])}createPositionFromPath(t,e,n){return new dl(t,e,n)}createPositionAt(t,e){return dl._createAt(t,e)}createPositionAfter(t){return dl._createAfter(t)}createPositionBefore(t){return dl._createBefore(t)}createRange(t,e){return new vl(t,e)}createRangeIn(t){return vl._createIn(t)}createRangeOn(t){return vl._createOn(t)}createSelection(...t){return new Nl(...t)}createBatch(t){return new $d(t)}createOperationFromJSON(t){return Dd.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const e=this._pendingChanges[0].batch;this._currentWriter=new Ih(this,e);const n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return t}}function Kh(t,e){if(t)return t instanceof Nl||t instanceof Hl?t:t instanceof il?e||0===e?new Nl(t,e):t.is("rootElement")?new Nl(t,"in"):new Nl(t,"on"):new Nl(t)}class Zh extends cc{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class Qh extends cc{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}class Jh{constructor(t){this.document=t}createDocumentFragment(t){return new ka(this.document,t)}createElement(t,e,n){return new Gs(this.document,t,e,n)}createText(t){return new as(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const r=n.getChildIndex(t);return this.removeChildren(r,1,n),this.insertChild(r,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new Gs(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){Mt(t)&&void 0===n?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return Zs._createAt(t,e)}createPositionAfter(t){return Zs._createAfter(t)}createPositionBefore(t){return Zs._createBefore(t)}createRange(t,e){return new Qs(t,e)}createRangeOn(t){return Qs._createOn(t)}createRangeIn(t){return Qs._createIn(t)}createSelection(...t){return new ta(...t)}}class tf{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new _("commandcollection-command-not-found",this,{commandName:t});return n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}var ef=Object.defineProperty,nf=Object.getOwnPropertySymbols,rf=Object.prototype.hasOwnProperty,of=Object.prototype.propertyIsEnumerable,sf=(t,e,n)=>e in t?ef(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const af="contentEditing",cf="common";class lf{constructor(t){this.keystrokeInfos=new Map,this._editor=t;const e=t.config.get("menuBar.isVisible"),n=t.locale.t;this.addKeystrokeInfoCategory({id:af,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const r=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];e&&r.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:r}]})}addKeystrokeInfoCategory({id:t,label:e,description:n,groups:r}){this.keystrokeInfos.set(t,{id:t,label:e,description:n,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:t,id:cf}),r&&r.forEach((e=>{this.addKeystrokeInfoGroup(((t,e)=>{for(var n in e||(e={}))rf.call(e,n)&&sf(t,n,e[n]);if(nf)for(var n of nf(e))of.call(e,n)&&sf(t,n,e[n]);return t})({categoryId:t},e))}))}addKeystrokeInfoGroup({categoryId:t=af,id:e,label:n,keystrokes:r}){const i=this.keystrokeInfos.get(t);if(!i)throw new _("accessibility-unknown-keystroke-info-category",this._editor,{groupId:e,categoryId:t});i.groups.set(e,{id:e,label:n,keystrokes:r||[]})}addKeystrokeInfos({categoryId:t=af,groupId:e=cf,keystrokes:n}){if(!this.keystrokeInfos.has(t))throw new _("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:t,keystrokes:n});const r=this.keystrokeInfos.get(t);if(!r.groups.has(e))throw new _("accessibility-unknown-keystroke-info-group",this._editor,{groupId:e,categoryId:t,keystrokes:n});r.groups.get(e).keystrokes.push(...n)}}var uf=Object.getOwnPropertySymbols,df=Object.prototype.hasOwnProperty,hf=Object.prototype.propertyIsEnumerable,ff=(t,e)=>{var n={};for(var r in t)df.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&uf)for(var r of uf(t))e.indexOf(r)<0&&hf.call(t,r)&&(n[r]=t[r]);return n};class pf extends(q()){constructor(t={}){super();const e=this.constructor,n=e.defaultConfig||{},{translations:r}=n,i=ff(n,["translations"]),o=t,{translations:s=r}=o,a=ff(o,["translations"]),c=t.language||i.language;this._context=t.context||new Ho({language:c,translations:s}),this._context._addEditor(this,!t.context);const l=Array.from(e.builtinPlugins||[]);this.config=new Er(a,i),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),this.plugins=new Fo(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new tf,this.set("state","initializing"),this.once("ready",(()=>this.state="ready"),{priority:"high"}),this.once("destroy",(()=>this.state="destroyed"),{priority:"high"}),this.model=new Xh,this.on("change:isReadOnly",(()=>{this.model.document.isReadOnly=this.isReadOnly}));const u=new Fs;this.data=new sd(this.model,u),this.editing=new Tu(this.model,u),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ad([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Wo(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new lf(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new _("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new _("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new _("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(t){this.data.set(t)}getData(t){return this.data.get(t)}initPlugins(){const t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],r=t.get("extraPlugins")||[],i=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(r),n,i)}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise((t=>this.once("ready",t)))),t.then((()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(t,...e){try{return this.commands.execute(t,...e)}catch(t){_.rethrowUnexpectedError(t,this)}}focus(){this.editing.view.focus()}static create(...t){throw new Error("This is an abstract method.")}}function gf(t){return class extends t{updateSourceElement(t){if(!this.sourceElement)throw new _("editor-missing-sourceelement",this);const e=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!e&&!n)return void Yr(this.sourceElement,"");const r="string"==typeof t?t:this.data.get();Yr(this.sourceElement,r)}}}gf.updateSourceElement=gf(Object).prototype.updateSourceElement;class mf extends $o{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Yi({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!=typeof t)throw new _("pendingactions-add-invalid-message",this);const e=new(q());return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const vf={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var bf=o(7801),yf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(bf.A,yf),bf.A.locals;class kf extends Do{constructor(t){super(t),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${b()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class wf extends Do{constructor(t,e){super(t);const n=t.t,r=new kf;r.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":r.id,role:"document",tabindex:-1},children:[kt(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(e.values())),r]})}focus(){this.element.focus()}_createCategories(t){return t.map((t=>{const e=[kt(document,"h3",{},t.label),...Array.from(t.groups.values()).map((t=>this._createGroup(t))).flat()];return t.description&&e.splice(1,0,kt(document,"p",{},t.description)),kt(document,"section",{},e)}))}_createGroup(t){const e=t.keystrokes.sort(((t,e)=>t.label.localeCompare(e.label))).map((t=>this._createGroupRow(t))).flat(),n=[kt(document,"dl",{},e)];return t.label&&n.unshift(kt(document,"h4",{},t.label)),n}_createGroupRow(t){const e=this.locale.t,n=kt(document,"dt"),r=kt(document,"dd"),i=function(t){return"string"==typeof t?[[t]]:"string"==typeof t[0]?[t]:t}(t.keystroke),o=[];for(const s of i)o.push(s.map(_f).join(""));return n.innerHTML=t.label,r.innerHTML=o.join(", ")+(t.mayRequireFn&&l.isMac?` ${e("(may require <kbd>Fn</kbd>)")}`:""),[n,r]}}function _f(t){return ki(t).split("+").map((t=>`<kbd>${t}</kbd>`)).join("+")}const Af='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var Cf=o(8527),xf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Cf.A,xf),Cf.A.locals;class Ef extends Lo{constructor(){super(...arguments),this.contentView=null}static get requires(){return[_g]}static get pluginName(){return"AccessibilityHelp"}init(){const t=this.editor,e=t.locale.t;t.ui.componentFactory.add("accessibilityHelp",(()=>{const t=this._createButton(Lf);return t.set({tooltip:!0,withText:!1,label:e("Accessibility help")}),t})),t.ui.componentFactory.add("menuBar:accessibilityHelp",(()=>{const t=this._createButton(Yv);return t.label=e("Accessibility"),t})),t.keystrokes.set("Alt+0",((t,e)=>{this._showDialog(),e()})),this._setupRootLabels()}_createButton(t){const e=new t(this.editor.locale);return e.set({keystroke:"Alt+0",icon:Af}),e.on("execute",(()=>this._showDialog())),e}_setupRootLabels(){const t=this.editor,e=t.editing.view,n=t.t;function r(t,e){const r=`${e.getAttribute("aria-label")}. ${n("Press %0 for help.",[ki("Alt+0")])}`;t.setAttribute("aria-label",r,e)}t.ui.on("ready",(()=>{e.change((t=>{for(const n of e.document.roots)r(t,n)})),t.on("addRoot",((n,i)=>{const o=t.editing.view.document.getRoot(i.rootName);e.change((t=>r(t,o)))}),{priority:"low"})}))}_showDialog(){const t=this.editor,e=t.plugins.get("Dialog"),n=t.locale.t;this.contentView||(this.contentView=new wf(t.locale,t.accessibility.keystrokeInfos)),e.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:Af,hasCloseButton:!0,content:this.contentView})}}class Sf extends ro{constructor(t,e=[]){super(e),this.locale=t}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new io({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=kt(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}var Mf=o(7621),If={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Mf.A,If),Mf.A.locals;const Df=class extends Do{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",(t=>!t)),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:n,value:r}of Array.from(t.attributes))Df.presentationalAttributeNames.includes(n)&&this.element.setAttribute(n,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((t=>{t.style.fill=this.fillColor}))}};let Tf=Df;Tf.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class Of extends Do{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}var Nf=o(9715),Pf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Nf.A,Pf),Nf.A.locals;class Lf extends Do{constructor(t,e=new Of){super(t),this._focusDelayed=null;const n=this.bindTemplate,r=b();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${r}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(e),this.iconView=new Tf,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const i={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",(t=>!t)),n.if("isVisible","ck-hidden",(t=>!t)),n.to("isOn",(t=>t?"ck-on":"ck-off")),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",(t=>t||"button")),tabindex:n.to("tabindex"),"aria-checked":n.to("ariaChecked"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,(t=>!t)),"aria-pressed":n.to("isOn",(t=>!!this.isToggleable&&String(!!t))),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to((t=>{this.isEnabled?this.fire("execute"):t.preventDefault()}))}};l.isSafari&&(this._focusDelayed||(this._focusDelayed=Qi((()=>this.focus()),0)),i.on.mousedown=n.to((()=>{this._focusDelayed()})),i.on.mouseup=n.to((()=>{this._focusDelayed.cancel()}))),this.setTemplate(i)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(t){return t.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),t}_createKeystrokeView(){const t=new Do;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(t=>ki(t)))}]}),t}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=ki(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}var Bf=o(4391),Rf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Bf.A,Rf),Bf.A.locals;class jf extends Lf{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Do;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}class zf extends Lf{constructor(t){super(t),this.buttonView=this,this._fileInputView=new Ff(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",(()=>{this._fileInputView.open()})),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class Ff extends Do{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to((()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""}))}})}open(){this.element.click()}}const Vf='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var Uf=o(25),Gf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Uf.A,Gf),Uf.A.locals;class Hf extends Do{constructor(t,e){super(t);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),e&&this.children.addMany(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const t=new Lf(this.locale),e=t.bindTemplate;return t.set({withText:!0,icon:Vf}),t.extendTemplate({attributes:{"aria-expanded":e.to("isOn",(t=>String(t)))}}),t.bind("label").to(this),t.bind("isOn").to(this,"isCollapsed",(t=>!t)),t.on("execute",(()=>{this.isCollapsed=!this.isCollapsed})),t}}var $f=o(7317),Wf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()($f.A,Wf),$f.A.locals,o(6931),o(9047);var Yf=o(4962),qf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Yf.A,qf),Yf.A.locals;class Xf extends Do{constructor(t,e){super(t);const n=`ck-labeled-field-view-${b()}`,r=`ck-labeled-field-view-status-${b()}`;this.fieldView=e(this,n,r),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(r),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",((t,e)=>t||e));const i=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",i.to("class"),i.if("isEnabled","ck-disabled",(t=>!t)),i.if("isEmpty","ck-labeled-field-view_empty"),i.if("isFocused","ck-labeled-field-view_focused"),i.if("placeholder","ck-labeled-field-view_placeholder"),i.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const e=new kf(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new Do(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(t=>!t))],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}focus(t){this.fieldView.focus(t)}}class Kf extends Do{constructor(t){super(t),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Xi,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),tabindex:e.to("tabIndex"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById"),"aria-label":e.to("ariaLabel")},on:{input:e.to(((...t)=>{this.fire("input",...t),this._updateIsEmpty()})),change:e.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",((t,e,n)=>{this._setDomElementValue(n),this._updateIsEmpty()}))}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||0===t?t:""}}var Zf=o(253),Qf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Zf.A,Qf),Zf.A.locals;class Jf extends Kf{constructor(t){super(t),this.set("inputMode","text");const e=this.bindTemplate;this.extendTemplate({attributes:{inputmode:e.to("inputMode")}})}}class tp extends Jf{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var ep=o(1671),np={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(ep.A,np),ep.A.locals;class rp extends Do{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",(t=>`ck-dropdown__panel_${t}`)),e.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:e.to((t=>{"input"!==t.target.tagName.toLocaleLowerCase()&&t.preventDefault()}))}})}focus(){if(this.children.length){const t=this.children.first;"function"==typeof t.focus?t.focus():A("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}var ip=o(8149),op={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(ip.A,op),ip.A.locals;const sp=class extends Do{constructor(t,e,n){super(t);const r=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Ki,this.focusTracker=new Xi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",(t=>!t))],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.on("change:isOpen",((t,e,n)=>{if(n)if("auto"===this.panelPosition){const t=sp._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=t?t.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition})),this.keystrokes.listenTo(this.element);const t=(t,e)=>{this.isOpen&&(this.isOpen=!1,e())};this.keystrokes.set("arrowdown",((t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())})),this.keystrokes.set("arrowright",((t,e)=>{this.isOpen&&e()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:n,southWest:r,northEast:i,northWest:o,southMiddleEast:s,southMiddleWest:a,northMiddleEast:c,northMiddleWest:l}=sp.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[n,r,s,a,t,i,o,c,l,e]:[r,n,a,s,t,o,i,l,c,e]}};let ap=sp;ap.defaultPanelPositions={south:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}),southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),southMiddleEast:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}),southMiddleWest:(t,e)=>({top:t.bottom,left:t.left-3*(e.width-t.width)/4,name:"smw"}),north:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),northMiddleEast:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}),northMiddleWest:(t,e)=>({top:t.top-e.height,left:t.left-3*(e.width-t.width)/4,name:"nmw"})},ap._getOptimalPosition=ti;class cp extends Lf{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(t=>String(t)))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Tf;return t.content=Vf,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}class lp extends(N()){constructor(t){if(super(),this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const r of n)t.keystrokeHandler.set(r,((t,n)=>{this[e](),n()}))}this.on("forwardCycle",(()=>this.focusFirst()),{priority:"low"}),this.on("backwardCycle",(()=>this.focusLast()),{priority:"low"})}get first(){return this.focusables.find(up)||null}get last(){return this.focusables.filter(up).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(((e,n)=>{const r=e.element===this.focusTracker.focusedElement;return r&&(t=n),r})),t)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const t=this.next;t&&this.focusables.getIndex(t)===this.current||t===this.first?this.fire("forwardCycle"):this._focus(t,1)}focusPrevious(){const t=this.previous;t&&this.focusables.getIndex(t)===this.current||t===this.last?this.fire("backwardCycle"):this._focus(t,-1)}_focus(t,e){t&&this.focusTracker.focusedElement!==t.element&&t.focus(e)}_getDomFocusableItem(t){const e=this.focusables.length;if(!e)return null;const n=this.current;if(null===n)return this[1===t?"first":"last"];let r=this.focusables.get(n),i=(n+e+t)%e;do{const n=this.focusables.get(i);if(up(n)){r=n;break}i=(i+e+t)%e}while(i!==n);return r}}function up(t){return dp(t)&&Qr(t.element)}function dp(t){return!(!("focus"in t)||"function"!=typeof t.focus)}class hp extends Do{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class fp extends Do{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var pp=Object.defineProperty,gp=Object.getOwnPropertySymbols,mp=Object.prototype.hasOwnProperty,vp=Object.prototype.propertyIsEnumerable,bp=(t,e,n)=>e in t?pp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yp=(t,e)=>{for(var n in e||(e={}))mp.call(e,n)&&bp(t,n,e[n]);if(gp)for(var n of gp(e))vp.call(e,n)&&bp(t,n,e[n]);return t};function kp(t){if(Array.isArray(t))return{items:t,removeItems:[]};const e={items:[],removeItems:[]};return t?yp(yp({},e),t):e}var wp=o(9677),_p={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(wp.A,_p),wp.A.locals;const Ap={alignLeft:vf.alignLeft,bold:vf.bold,importExport:vf.importExport,paragraph:vf.paragraph,plus:vf.plus,text:vf.text,threeVerticalDots:vf.threeVerticalDots,pilcrow:vf.pilcrow,dragIndicator:vf.dragIndicator};class Cp extends Do{constructor(t,e){super(t);const n=this.bindTemplate,r=this.t;this.options=e||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Xi,this.keystrokes=new Ki,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new xp(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const i="rtl"===t.uiLanguageDirection;this._focusCycler=new lp({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[i?"arrowright":"arrowleft","arrowup"],focusNext:[i?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var s;this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(s=this,s.bindTemplate.to((t=>{t.target===s.element&&t.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new Sp(this):new Ep(this)}render(){super.render(),this.focusTracker.add(this.element);for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",((t,e)=>{this.focusTracker.add(e.element)})),this.items.on("remove",((t,e)=>{this.focusTracker.remove(e.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e,n){this.items.addMany(this._buildItemsFromConfig(t,e,n))}_buildItemsFromConfig(t,e,n){const r=kp(t),i=n||r.removeItems;return this._cleanItemsConfiguration(r.items,e,i).map((t=>V(t)?this._createNestedToolbarDropdown(t,e,i):"|"===t?new hp:"-"===t?new fp:e.create(t))).filter((t=>!!t))}_cleanItemsConfiguration(t,e,n){const r=t.filter(((t,r,i)=>"|"===t||-1===n.indexOf(t)&&("-"===t?!this.options.shouldGroupWhenFull||(A("toolbarview-line-break-ignored-when-grouping-items",i),!1):!(!V(t)&&!e.has(t))||(A("toolbarview-item-unavailable",{item:t}),!1))));return this._cleanSeparatorsAndLineBreaks(r)}_cleanSeparatorsAndLineBreaks(t){const e=t=>"-"!==t&&"|"!==t,n=t.length,r=t.findIndex(e);if(-1===r)return[];const i=n-t.slice().reverse().findIndex(e);return t.slice(r,i).filter(((t,n,r)=>!!e(t)||!(n>0&&r[n-1]===t)))}_createNestedToolbarDropdown(t,e,n){let{label:r,icon:i,items:o,tooltip:s=!0,withText:a=!1}=t;if(o=this._cleanItemsConfiguration(o,e,n),!o.length)return null;const c=Vp(this.locale);return r||A("toolbarview-nested-toolbar-dropdown-missing-label",t),c.class="ck-toolbar__nested-toolbar-dropdown",c.buttonView.set({label:r,tooltip:s,withText:!!a}),!1!==i?c.buttonView.icon=Ap[i]||i||vf.threeVerticalDots:c.buttonView.withText=!0,Up(c,(()=>c.toolbarView._buildItemsFromConfig(o,e,n))),c}}class xp extends Do{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Ep{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((t=>t)),t.focusables.bindTo(t.items).using((t=>dp(t)?t:null)),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Sp{constructor(t){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using((t=>t)),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),t.children.on("change",this._updateFocusCyclableItems.bind(this)),t.items.on("change",((t,e)=>{const n=e.index,r=Array.from(e.added);for(const i of e.removed)n>=this.ungroupedItems.length?this.groupedItems.remove(i):this.ungroupedItems.remove(i);for(let i=n;i<n+r.length;i++){const t=r[i-n];i>this.ungroupedItems.length?this.groupedItems.add(t,i-this.ungroupedItems.length):this.ungroupedItems.add(t,i)}this._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Qr(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new Fr(t.lastChild),r=new Fr(t);if(!this.cachedPadding){const n=i.window.getComputedStyle(t),r="ltr"===e?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[r])}return"ltr"===e?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new Wr(this.viewElement,(e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new hp),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=Vp(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",Up(n,this.groupedItems),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:"rtl"===t.uiLanguageDirection?"se":"sw",icon:vf.threeVerticalDots}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((t=>{dp(t)&&this.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Mp extends Do{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",e.if("isVisible","ck-hidden",(t=>!t))],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Ip extends Do{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Dp extends Do{constructor(t,e=new kf){super(t);const n=this.bindTemplate,r=new Np(t);this.set({label:"",isVisible:!0}),this.labelView=e,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,r]),r.set({role:"group",ariaLabelledBy:e.id}),r.focusTracker.destroy(),r.keystrokes.destroy(),this.items=r.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",(t=>!t))]},children:this.children})}focus(){if(this.items){const t=this.items.find((t=>!(t instanceof Ip)));t&&t.focus()}}}var Tp=o(5199),Op={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Tp.A,Op),Tp.A.locals;class Np extends Do{constructor(t){super(t),this._listItemGroupToChangeListeners=new WeakMap;const e=this.bindTemplate;this.focusables=new ro,this.items=this.createCollection(),this.focusTracker=new Xi,this.keystrokes=new Ki,this._focusCycler=new lp({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:e.to("role"),"aria-label":e.to("ariaLabel"),"aria-labelledby":e.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const t of this.items)t instanceof Dp?this._registerFocusableItemsGroup(t):t instanceof Mp&&this._registerFocusableListItem(t);this.items.on("change",((t,e)=>{for(const n of e.removed)n instanceof Dp?this._deregisterFocusableItemsGroup(n):n instanceof Mp&&this._deregisterFocusableListItem(n);for(const n of Array.from(e.added).reverse())n instanceof Dp?this._registerFocusableItemsGroup(n,e.index):this._registerFocusableListItem(n,e.index)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(t,e){this.focusTracker.add(t.element),this.focusables.add(t,e)}_deregisterFocusableListItem(t){this.focusTracker.remove(t.element),this.focusables.remove(t)}_getOnGroupItemsChangeCallback(t){return(e,n)=>{for(const t of n.removed)this._deregisterFocusableListItem(t);for(const r of Array.from(n.added).reverse())this._registerFocusableListItem(r,this.items.getIndex(t)+n.index)}}_registerFocusableItemsGroup(t,e){Array.from(t.items).forEach(((t,n)=>{const r=void 0!==e?e+n:void 0;this._registerFocusableListItem(t,r)}));const n=this._getOnGroupItemsChangeCallback(t);this._listItemGroupToChangeListeners.set(t,n),t.items.on("change",n)}_deregisterFocusableItemsGroup(t){for(const e of t.items)this._deregisterFocusableListItem(e);t.items.off("change",this._listItemGroupToChangeListeners.get(t)),this._listItemGroupToChangeListeners.delete(t)}}var Pp=o(1792),Lp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Pp.A,Lp),Pp.A.locals;class Bp extends Do{constructor(t,e){super(t);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(e),this.arrowView=this._createArrowView(),this.keystrokes=new Ki,this.focusTracker=new Xi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",(t=>!t)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",((t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())})),this.keystrokes.set("arrowleft",((t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(t){const e=t||new Lf;return t||e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const t=new Lf,e=t.bindTemplate;return t.icon=Vf,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":e.to("isOn"),"aria-haspopup":!0,"aria-expanded":e.to("isOn",(t=>String(t)))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}var Rp=o(1666),jp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Rp.A,jp),Rp.A.locals;var zp=o(3629),Fp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};function Vp(t,e=cp){const n="function"==typeof e?new e(t):e,r=new rp(t),o=new ap(t,n,r);return n.bind("isEnabled").to(o),n instanceof Bp?n.arrowView.bind("isOn").to(o,"isOpen"):n.bind("isOn").to(o,"isOpen"),function(t){(function(t){t.on("render",(()=>{To({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:()=>[t.element,...t.focusTracker._elements]})}))})(t),function(t){t.on("execute",(e=>{e.source instanceof jf||(t.isOpen=!1)}))}(t),function(t){t.focusTracker.on("change:isFocused",((e,n,r)=>{t.isOpen&&!r&&(t.isOpen=!1)}))}(t),function(t){t.keystrokes.set("arrowdown",((e,n)=>{t.isOpen&&(t.panelView.focus(),n())})),t.keystrokes.set("arrowup",((e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())}))}(t),function(t){t.on("change:isOpen",((e,n,r)=>{if(r)return;const o=t.panelView.element;o&&o.contains(i.document.activeElement)&&t.buttonView.focus()}))}(t),function(t){t.on("change:isOpen",((e,n,r)=>{r&&t.panelView.focus()}),{priority:"low"})}(t)}(o),o}function Up(t,e,n={}){t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.isOpen?Gp(t,e,n):t.once("change:isOpen",(()=>Gp(t,e,n)),{priority:"highest"}),n.enableActiveItemFocusOnDropdownOpen&&Wp(t,(()=>t.toolbarView.items.find((t=>t.isOn))))}function Gp(t,e,n){const r=t.locale,i=r.t,o=t.toolbarView=new Cp(r),s="function"==typeof e?e():e;o.ariaLabel=n.ariaLabel||i("Dropdown toolbar"),n.maxWidth&&(o.maxWidth=n.maxWidth),n.class&&(o.class=n.class),n.isCompact&&(o.isCompact=n.isCompact),n.isVertical&&(o.isVertical=!0),s instanceof ro?o.items.bindTo(s).using((t=>t)):o.items.addMany(s),t.panelView.children.add(o),o.items.delegate("execute").to(t)}function Hp(t,e,n={}){t.isOpen?$p(t,e,n):t.once("change:isOpen",(()=>$p(t,e,n)),{priority:"highest"}),Wp(t,(()=>t.listView.items.find((t=>t instanceof Mp&&t.children.first.isOn))))}function $p(t,e,n){const r=t.locale,i=t.listView=new Np(r),o="function"==typeof e?e():e;i.ariaLabel=n.ariaLabel,i.role=n.role,Yp(t,i.items,o,r),t.panelView.children.add(i),i.items.delegate("execute").to(t)}function Wp(t,e){t.on("change:isOpen",(()=>{if(!t.isOpen)return;const n=e();n&&("function"==typeof n.focus?n.focus():A("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))}),{priority:y.low-10})}function Yp(t,e,n,r){e.bindTo(n).using((e=>{if("separator"===e.type)return new Ip(r);if("group"===e.type){const n=new Dp(r);return n.set({label:e.label}),Yp(t,n.items,e.items,r),n.items.delegate("execute").to(t),n}if("button"===e.type||"switchbutton"===e.type){const t=new Mp(r);let n;return"button"===e.type?(n=new Lf(r),n.bind("ariaChecked").to(n,"isOn")):n=new jf(r),n.bind(...Object.keys(e.model)).to(e.model),n.delegate("execute").to(t),t.children.add(n),t}return null}))}So()(zp.A,Fp),zp.A.locals;const qp=(t,e,n)=>{const r=new tp(t.locale);return r.set({id:e,ariaDescribedById:n}),r.bind("isReadOnly").to(t,"isEnabled",(t=>!t)),r.bind("hasError").to(t,"errorText",(t=>!!t)),r.on("input",(()=>{t.errorText=null})),t.bind("isEmpty","isFocused","placeholder").to(r),r};Math.PI;Symbol("same"),Symbol("color"),Symbol("hsva"),Symbol("update"),Symbol("parts"),Symbol("css"),Symbol("sliders");HTMLElement;var Xp=o(1905),Kp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Xp.A,Kp),Xp.A.locals,q(Yi);const{eraser:Zp,colorPalette:Qp}=vf;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Jp=o(6309),tg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Jp.A,tg),Jp.A.locals;class eg{constructor(t){this._components=new Map,this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(ng(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new _("componentfactory-item-missing",this,{name:t});return this._components.get(ng(t)).callback(this.editor.locale)}has(t){return this._components.has(ng(t))}}function ng(t){return String(t).toLowerCase()}var rg=o(7913),ig={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(rg.A,ig),rg.A.locals;class og extends Do{constructor(t,e={}){super(t);const n=this.bindTemplate;this.set("label",e.label||""),this.set("class",e.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),e.icon&&(this.iconView=new Tf,this.iconView.content=e.icon,this.children.add(this.iconView));const r=new Do(t);r.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(r)}}var sg=o(9822),ag={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(sg.A,ag),sg.A.locals;class cg extends Do{constructor(t){super(t),this.children=this.createCollection(),this.keystrokes=new Ki,this._focusTracker=new Xi,this._focusables=new ro,this.focusCycler=new lp({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(t){for(const e of t){const t=new Lf(this.locale);let n;for(n in t.on("execute",(()=>e.onExecute())),e.onCreate&&e.onCreate(t),e)"onExecute"!=n&&"onCreate"!=n&&t.set(n,e[n]);this.children.add(t)}this._updateFocusCyclableItems()}focus(t){-1===t?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach((t=>{this._focusables.add(t),this._focusTracker.add(t.element)}))}}class lg extends Do{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var ug=o(9819),dg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(ug.A,dg),ug.A.locals;const hg="screen-center",fg="editor-center",pg="editor-top-side",gg="editor-top-center",mg="editor-bottom-center",vg="editor-above-center",bg="editor-below-center",yg=qr("px"),kg=class extends(function(t){return class extends t{constructor(...t){super(...t),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",(()=>{this._attachListeners()})),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(i.document,"mouseup",this._onDragEndBound),this.listenTo(i.document,"touchend",this._onDragEndBound),this.listenTo(i.document,"mousemove",this._onDragBound),this.listenTo(i.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(i.document,"mouseup",this._onDragEndBound),this.stopListening(i.document,"touchend",this._onDragEndBound),this.stopListening(i.document,"mousemove",this._onDragBound),this.stopListening(i.document,"touchmove",this._onDragBound)}_onDragStart(t,e){if(!this._isHandleElementPressed(e))return;this._attachDragListeners();let n=0,r=0;e instanceof MouseEvent?(n=e.clientX,r=e.clientY):(n=e.touches[0].clientX,r=e.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:r},this.isDragging=!0}_onDrag(t,e){if(!this.isDragging)return void this._detachDragListeners();let n=0,r=0;e instanceof MouseEvent?(n=e.clientX,r=e.clientY):(n=e.touches[0].clientX,r=e.touches[0].clientY),e.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(r-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:r}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(t){return!!this.dragHandleElement&&(this.dragHandleElement===t.target||t.target instanceof HTMLElement&&this.dragHandleElement.contains(t.target))}}}(Do)){constructor(t,{getCurrentDomRoot:e,getViewportOffset:n}){super(t),this.wasMoved=!1;const r=this.bindTemplate,i=t.t;this.set("className",""),this.set("ariaLabel",i("Editor dialog")),this.set("isModal",!1),this.set("position",hg),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=n,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Ki,this.focusTracker=new Xi,this._focusables=new ro,this._focusCycler=new lp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",r.if("isModal","ck-dialog-overlay__transparent",(t=>!t)),r.if("_isVisible","ck-hidden",(t=>!t))],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",r.to("className")],role:"dialog","aria-label":r.to("ariaLabel"),style:{top:r.to("_top",(t=>yg(t))),left:r.to("_left",(t=>yg(t))),visibility:r.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",((t,e)=>{this.fire("close",{source:"escKeyPress"}),e()})),this.on("drag",((t,{deltaX:e,deltaY:n})=>{this.wasMoved=!0,this.moveBy(e,n)})),this.listenTo(i.window,"resize",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.listenTo(i.document,"scroll",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.on("change:_isVisible",((t,e,n)=>{n&&(this._isTransparent=!0,setTimeout((()=>{this.updatePosition(),this._isTransparent=!1,this.focus()}),10))})),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:t,title:e,hasCloseButton:n=!0,content:r,actionButtons:i}){e&&(this.headerView=new og(this.locale,{icon:t}),n&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),r&&(r instanceof Do&&(r=[r]),this.contentView=new lg(this.locale),this.contentView.children.addMany(r),this.parts.add(this.contentView)),i&&(this.actionsView=new cg(this.locale),this.actionsView.setButtons(i),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(t,e){const n=this._getViewportRect(),r=this._getDialogRect();t+r.width>n.right&&(t=n.right-r.width),t<n.left&&(t=n.left),e<n.top&&(e=n.top),this._moveTo(t,e)}_moveTo(t,e){this._left=t,this._top=e}moveBy(t,e){this.moveTo(this._left+t,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const t=this._getViewportRect();let e,n=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(t):n=hg;const r=kg.defaultOffset,i=this._getDialogRect();switch(n){case pg:if(e){const t="ltr"===this.locale.contentLanguageDirection?e.right-i.width-r:e.left+r;this.moveTo(t,e.top+r)}else this._moveOffScreen();break;case fg:e?this.moveTo(Math.round(e.left+e.width/2-i.width/2),Math.round(e.top+e.height/2-i.height/2)):this._moveOffScreen();break;case hg:this.moveTo(Math.round((t.width-i.width)/2),Math.round((t.height-i.height)/2));break;case gg:e?this.moveTo(Math.round(e.left+e.width/2-i.width/2),e.top+r):this._moveOffScreen();break;case mg:e?this.moveTo(Math.round(e.left+e.width/2-i.width/2),e.bottom-i.height-r):this._moveOffScreen();break;case vg:e?this.moveTo(Math.round(e.left+e.width/2-i.width/2),e.top-i.height-r):this._moveOffScreen();break;case bg:e?this.moveTo(Math.round(e.left+e.width/2-i.width/2),e.bottom+r):this._moveOffScreen()}}_getVisibleDomRootRect(t){let e=new Fr(this._getCurrentDomRoot()).getVisible();return e?(e=t.getIntersection(e),e||null):null}_getDialogRect(){return new Fr(this.element.firstElementChild)}_getViewportRect(){return function(t){t=Object.assign({top:0,bottom:0,left:0,right:0},t);const e=new Fr(i.window);return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e.left+=t.left,e.right-=t.right,e.width-=t.left+t.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const t=[];if(this.contentView)for(const e of this.contentView.children)dp(e)&&t.push(e);this.actionsView&&t.push(this.actionsView),this.closeButtonView&&t.push(this.closeButtonView),t.forEach((t=>{var e;this._focusables.add(t),this.focusTracker.add(t.element),dp(e=t)&&"focusCycler"in e&&e.focusCycler instanceof lp&&(this.listenTo(t.focusCycler,"forwardCycle",(t=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&t.stop()})),this.listenTo(t.focusCycler,"backwardCycle",(t=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&t.stop()})))}))}_createCloseButton(){const t=new Lf(this.locale),e=this.locale.t;return t.set({label:e("Close"),tooltip:!0,icon:vf.cancel}),t.on("execute",(()=>this.fire("close",{source:"closeButton"}))),t}};let wg=kg;wg.defaultOffset=15;class _g extends Lo{constructor(t){super(t);const e=t.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),t.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:e("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",((t,e)=>{this._show(e)})),this.on("show",((t,e)=>{e.onShow&&e.onShow(this)}),{priority:"low"}),this.on("hide",(()=>{_g._visibleDialogPlugin&&_g._visibleDialogPlugin._hide()})),this.on("hide",(()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)}),{priority:"low"})}_initFocusToggler(){const t=this.editor;t.keystrokes.set("Ctrl+F6",((e,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?t.editing.view.focus():this.view.focus(),n())}))}_initMultiRootIntegration(){const t=this.editor.model;t.document.on("change:data",(()=>{if(!this.view)return;const e=t.document.differ.getChangedRoots();for(const t of e)t.state&&this.view.updatePosition()}))}show(t){this.hide(),this.fire(`show:${t.id}`,t)}_show({id:t,icon:e,title:n,hasCloseButton:r=!0,content:i,actionButtons:o,className:s,isModal:a,position:c,onHide:l}){const u=this.editor;this.view=new wg(u.locale,{getCurrentDomRoot:()=>u.editing.view.getDomRoot(u.model.document.selection.anchor.root.rootName),getViewportOffset:()=>u.ui.viewportOffset});const d=this.view;d.on("close",(()=>{this.hide()})),u.ui.view.body.add(d),u.ui.focusTracker.add(d.element),u.keystrokes.listenTo(d.element),c||(c=a?hg:fg),d.set({position:c,_isVisible:!0,className:s,isModal:a}),d.setupParts({icon:e,title:n,hasCloseButton:r,content:i,actionButtons:o}),this.id=t,l&&(this._onHide=l),this.isOpen=!0,_g._visibleDialogPlugin=this}hide(){_g._visibleDialogPlugin&&_g._visibleDialogPlugin.fire(`hide:${_g._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const t=this.editor,e=this.view;e.contentView&&e.contentView.reset(),t.ui.view.body.remove(e),t.ui.focusTracker.remove(e.element),t.keystrokes.stopListening(e.element),e.destroy(),t.editing.view.focus(),this.id=null,this.isOpen=!1,_g._visibleDialogPlugin=null}}var Ag=o(3710),Cg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Ag.A,Cg),Ag.A.locals;var xg=Object.defineProperty,Eg=Object.getOwnPropertySymbols,Sg=Object.prototype.hasOwnProperty,Mg=Object.prototype.propertyIsEnumerable,Ig=(t,e,n)=>e in t?xg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dg=(t,e)=>{for(var n in e||(e={}))Sg.call(e,n)&&Ig(t,n,e[n]);if(Eg)for(var n of Eg(e))Mg.call(e,n)&&Ig(t,n,e[n]);return t};const Tg=qr("px"),Og=i.document.body,Ng={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Pg=class extends Do{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",(t=>`ck-balloon-panel_${t}`)),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",Tg),left:e.to("left",Tg)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=Pg.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:Og,fitInViewport:!0},t),r=Pg._getOptimalPosition(n)||Ng,i=parseInt(r.left),o=parseInt(r.top),s=r.name,a=r.config||{},{withArrow:c=!0}=a;this.top=o,this.left=i,this.position=s,this.withArrow=c}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=Bg(t.target),n=t.limiter?Bg(t.limiter):Og;this.listenTo(i.document,"scroll",((r,i)=>{const o=i.target,s=e&&o.contains(e),a=n&&o.contains(n);!s&&!a&&e&&n||this.attachTo(t)}),{useCapture:!0}),this.listenTo(i.window,"resize",(()=>{this.attachTo(t)}))}_stopPinning(){this.stopListening(i.document,"scroll"),this.stopListening(i.window,"resize")}};let Lg=Pg;function Bg(t){return xr(t)?t:Rr(t)?t.commonAncestorContainer:"function"==typeof t?Bg(t()):null}function Rg(t={}){const{sideOffset:e=Lg.arrowSideOffset,heightOffset:n=Lg.arrowHeightOffset,stickyVerticalOffset:r=Lg.stickyVerticalOffset,config:i}=t;return{northWestArrowSouthWest:(t,n)=>Dg({top:o(t,n),left:t.left-e,name:"arrow_sw"},i&&{config:i}),northWestArrowSouthMiddleWest:(t,n)=>Dg({top:o(t,n),left:t.left-.25*n.width-e,name:"arrow_smw"},i&&{config:i}),northWestArrowSouth:(t,e)=>Dg({top:o(t,e),left:t.left-e.width/2,name:"arrow_s"},i&&{config:i}),northWestArrowSouthMiddleEast:(t,n)=>Dg({top:o(t,n),left:t.left-.75*n.width+e,name:"arrow_sme"},i&&{config:i}),northWestArrowSouthEast:(t,n)=>Dg({top:o(t,n),left:t.left-n.width+e,name:"arrow_se"},i&&{config:i}),northArrowSouthWest:(t,n)=>Dg({top:o(t,n),left:t.left+t.width/2-e,name:"arrow_sw"},i&&{config:i}),northArrowSouthMiddleWest:(t,n)=>Dg({top:o(t,n),left:t.left+t.width/2-.25*n.width-e,name:"arrow_smw"},i&&{config:i}),northArrowSouth:(t,e)=>Dg({top:o(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"},i&&{config:i}),northArrowSouthMiddleEast:(t,n)=>Dg({top:o(t,n),left:t.left+t.width/2-.75*n.width+e,name:"arrow_sme"},i&&{config:i}),northArrowSouthEast:(t,n)=>Dg({top:o(t,n),left:t.left+t.width/2-n.width+e,name:"arrow_se"},i&&{config:i}),northEastArrowSouthWest:(t,n)=>Dg({top:o(t,n),left:t.right-e,name:"arrow_sw"},i&&{config:i}),northEastArrowSouthMiddleWest:(t,n)=>Dg({top:o(t,n),left:t.right-.25*n.width-e,name:"arrow_smw"},i&&{config:i}),northEastArrowSouth:(t,e)=>Dg({top:o(t,e),left:t.right-e.width/2,name:"arrow_s"},i&&{config:i}),northEastArrowSouthMiddleEast:(t,n)=>Dg({top:o(t,n),left:t.right-.75*n.width+e,name:"arrow_sme"},i&&{config:i}),northEastArrowSouthEast:(t,n)=>Dg({top:o(t,n),left:t.right-n.width+e,name:"arrow_se"},i&&{config:i}),southWestArrowNorthWest:t=>Dg({top:s(t),left:t.left-e,name:"arrow_nw"},i&&{config:i}),southWestArrowNorthMiddleWest:(t,n)=>Dg({top:s(t),left:t.left-.25*n.width-e,name:"arrow_nmw"},i&&{config:i}),southWestArrowNorth:(t,e)=>Dg({top:s(t),left:t.left-e.width/2,name:"arrow_n"},i&&{config:i}),southWestArrowNorthMiddleEast:(t,n)=>Dg({top:s(t),left:t.left-.75*n.width+e,name:"arrow_nme"},i&&{config:i}),southWestArrowNorthEast:(t,n)=>Dg({top:s(t),left:t.left-n.width+e,name:"arrow_ne"},i&&{config:i}),southArrowNorthWest:t=>Dg({top:s(t),left:t.left+t.width/2-e,name:"arrow_nw"},i&&{config:i}),southArrowNorthMiddleWest:(t,n)=>Dg({top:s(t),left:t.left+t.width/2-.25*n.width-e,name:"arrow_nmw"},i&&{config:i}),southArrowNorth:(t,e)=>Dg({top:s(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"},i&&{config:i}),southArrowNorthMiddleEast:(t,n)=>Dg({top:s(t),left:t.left+t.width/2-.75*n.width+e,name:"arrow_nme"},i&&{config:i}),southArrowNorthEast:(t,n)=>Dg({top:s(t),left:t.left+t.width/2-n.width+e,name:"arrow_ne"},i&&{config:i}),southEastArrowNorthWest:t=>Dg({top:s(t),left:t.right-e,name:"arrow_nw"},i&&{config:i}),southEastArrowNorthMiddleWest:(t,n)=>Dg({top:s(t),left:t.right-.25*n.width-e,name:"arrow_nmw"},i&&{config:i}),southEastArrowNorth:(t,e)=>Dg({top:s(t),left:t.right-e.width/2,name:"arrow_n"},i&&{config:i}),southEastArrowNorthMiddleEast:(t,n)=>Dg({top:s(t),left:t.right-.75*n.width+e,name:"arrow_nme"},i&&{config:i}),southEastArrowNorthEast:(t,n)=>Dg({top:s(t),left:t.right-n.width+e,name:"arrow_ne"},i&&{config:i}),westArrowEast:(t,e)=>Dg({top:t.top+t.height/2-e.height/2,left:t.left-e.width-n,name:"arrow_e"},i&&{config:i}),eastArrowWest:(t,e)=>Dg({top:t.top+t.height/2-e.height/2,left:t.right+n,name:"arrow_w"},i&&{config:i}),viewportStickyNorth:(t,e,n,o)=>{const s=o||n;return t.getIntersection(s)?s.height-t.height>r?null:{top:s.top+r,left:t.left+t.width/2-e.width/2,name:"arrowless",config:Dg({withArrow:!1},i)}:null}};function o(t,e){return t.top-e.height-n}function s(t){return t.bottom+n}}Lg.arrowSideOffset=25,Lg.arrowHeightOffset=10,Lg.stickyVerticalOffset=20,Lg._getOptimalPosition=ti,Lg.defaultPositions=Rg();var jg=o(9205),zg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(jg.A,zg),jg.A.locals;const Fg="ck-tooltip",Vg=class extends(Or()){constructor(t){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,Vg._editors.add(t),Vg._instance)return Vg._instance;Vg._instance=this,this.tooltipTextView=new Do(t.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Lg(t.locale),this.balloonPanelView.class=Fg,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(t){const e=new MutationObserver((()=>{t()}));return{attach(t){e.observe(t,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){e.disconnect()}}}((()=>{this._updateTooltipPosition()})),this._pinTooltipDebounced=_c(this._pinTooltip,600),this._unpinTooltipDebounced=_c(this._unpinTooltip,400),this.listenTo(i.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(i.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(i.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(i.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(i.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(i.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(t){const e=t.ui.view&&t.ui.view.body;Vg._editors.delete(t),this.stopListening(t.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Vg._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Vg._instance=null)}static getPositioningFunctions(t){const e=Vg.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[t]}_onKeyDown(t,e){"Escape"===e.key&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(t,{target:e}){const n=Gg(e);n?n!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(n,Hg(n))):"focus"===t.name&&this._unpinTooltip()}_onLeaveOrBlur(t,{target:e,relatedTarget:n}){if("mouseleave"===t.name){if(!xr(e))return;const t=this.balloonPanelView.element,r=t&&(t===n||t.contains(n)),i=!r&&e===t;if(r)return void this._unpinTooltipDebounced.cancel();if(!i&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const o=Gg(e),s=Gg(n);(i||o&&o!==s)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(t,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(t,{text:e,position:n,cssClass:r}){this._unpinTooltip();const i=qi(Vg._editors.values()).ui.view.body;i.has(this.balloonPanelView)||i.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:t,positions:Vg.getPositioningFunctions(n)}),this._resizeObserver=new Wr(t,(()=>{Qr(t)||this._unpinTooltip()})),this._mutationObserver.attach(t),this.balloonPanelView.class=[Fg,r].filter((t=>t)).join(" ");for(const o of Vg._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=t,this._currentTooltipPosition=n}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const t of Vg._editors)this.stopListening(t.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const t=Hg(this._currentElementWithTooltip);Qr(this._currentElementWithTooltip)&&t.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Vg.getPositioningFunctions(t.position)}):this._unpinTooltip()}};let Ug=Vg;function Gg(t){return xr(t)?t.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Hg(t){return{text:t.dataset.ckeTooltipText,position:t.dataset.ckeTooltipPosition||"s",cssClass:t.dataset.ckeTooltipClass||""}}Ug.defaultBalloonPositions=Rg({heightOffset:5,sideOffset:13}),Ug._editors=new Set,Ug._instance=null;const $g=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return V(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_c(t,e,{leading:r,maxWait:e,trailing:i})};var Wg=Object.defineProperty,Yg=Object.getOwnPropertySymbols,qg=Object.prototype.hasOwnProperty,Xg=Object.prototype.propertyIsEnumerable,Kg=(t,e,n)=>e in t?Wg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zg=(t,e)=>{for(var n in e||(e={}))qg.call(e,n)&&Kg(t,n,e[n]);if(Yg)for(var n of Yg(e))Xg.call(e,n)&&Kg(t,n,e[n]);return t};const Qg=50,Jg=350,tm="Powered by";class em extends(Or()){constructor(t){super(),this.editor=t,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=$g(this._showBalloon.bind(this),50,{leading:!0}),t.on("ready",this._handleEditorReady.bind(this))}destroy(){const t=this._balloonView;t&&(t.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const t=this.editor;(t.config.get("ui.poweredBy.forceVisible")||"VALID"!==function(t){function e(t){return t.length>=40&&t.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let n="";try{n=atob(t)}catch(t){return"INVALID"}const r=n.split("-"),i=r[0],o=r[1];if(!o)return e(t);try{atob(o)}catch(n){try{if(atob(i),!atob(i).length)return e(t)}catch(n){return e(t)}}if(i.length<40||i.length>255)return"INVALID";let s="";try{atob(i),s=atob(o)}catch(t){return"INVALID"}if(8!==s.length)return"INVALID";const a=Number(s.substring(0,4)),c=Number(s.substring(4,6))-1,l=Number(s.substring(6,8)),u=new Date(a,c,l);return u<M||isNaN(Number(u))?"INVALID":"VALID"}(t.config.get("licenseKey")))&&t.ui.view&&(t.ui.focusTracker.on("change:isFocused",((t,e,n)=>{this._updateLastFocusedEditableElement(),n?this._showBalloon():this._hideBalloon()})),t.ui.focusTracker.on("change:focusedElement",((t,e,n)=>{this._updateLastFocusedEditableElement(),n&&this._showBalloon()})),t.ui.on("update",(()=>{this._showBalloonThrottled()})))}_createBalloonView(){const t=this.editor,e=this._balloonView=new Lg,n=im(t),r=new nm(t.locale,n.label);e.content.add(r),e.set({class:"ck-powered-by-balloon"}),t.ui.view.body.add(e),t.ui.focusTracker.add(e.element),this._balloonView=e}_showBalloon(){if(!this._lastFocusedEditableElement)return;const t=function(t,e){const n=im(t),r="right"===n.side?function(t,e){return rm(t,e,((t,n)=>t.left+t.width-n.width-e.horizontalOffset))}(e,n):function(t,e){return rm(t,e,(t=>t.left+e.horizontalOffset))}(e,n);return{target:e,positions:[r]}}(this.editor,this._lastFocusedEditableElement);t&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(t))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const t=this.editor,e=t.ui.focusTracker.isFocused,n=t.ui.focusTracker.focusedElement;if(!e||!n)return void(this._lastFocusedEditableElement=null);const r=Array.from(t.ui.getEditableElementsNames()).map((e=>t.ui.getEditableElement(e)));r.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=r[0]}}class nm extends Do{constructor(t,e){super(t);const n=new Tf,r=this.bindTemplate;n.set({content:'<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>\n',isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...e?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[e]}]:[],n],on:{dragstart:r.to((t=>t.preventDefault()))}}]})}}function rm(t,e,n){return(r,i)=>{const o=new Fr(t);if(o.width<Jg||o.height<Qg)return null;let s;s="inside"===e.position?o.bottom-i.height:o.bottom-i.height/2,s-=e.verticalOffset;const a=n(o,i),c=r.clone().moveTo(a,s).getIntersection(i.clone().moveTo(a,s)).getVisible();return!c||c.getArea()<i.getArea()?null:{top:s,left:a,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function im(t){const e=t.config.get("ui.poweredBy"),n=e&&e.position||"border";return Zg({position:n,label:tm,verticalOffset:"inside"===n?5:0,horizontalOffset:5,side:"ltr"===t.locale.contentLanguageDirection?"right":"left"},e)}var om=o(1801),sm={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(om.A,sm),om.A.locals;const am={POLITE:"polite",ASSERTIVE:"assertive"};class cm{constructor(t){this.editor=t,t.once("ready",(()=>{for(const t of Object.values(am))this.announce("",t)}))}announce(t,e=am.POLITE){const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new lm(n.locale),n.ui.view.body.add(this.view));const{politeness:r,isUnsafeHTML:i}="string"==typeof e?{politeness:e}:e;let o=this.view.regionViews.find((t=>t.politeness===r));o||(o=new um(n,r),this.view.regionViews.add(o)),o.announce({announcement:t,isUnsafeHTML:i})}}class lm extends Do{constructor(t){super(t),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class um extends Do{constructor(t,e){super(t.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":e,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),t.on("destroy",(()=>{null!==this._pruneAnnouncementsInterval&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)})),this.politeness=e,this._domConverter=t.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval((()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()}),5e3)}announce({announcement:t,isUnsafeHTML:e}){if(!t.trim().length)return;const n=document.createElement("li");e?this._domConverter.setContentOf(n,t):n.innerText=t,this._listElement.appendChild(n)}get _listElement(){return this.element.querySelector("ul")}}var dm=Object.defineProperty,hm=Object.getOwnPropertySymbols,fm=Object.prototype.hasOwnProperty,pm=Object.prototype.propertyIsEnumerable,gm=(t,e,n)=>e in t?dm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;class mm extends(q()){constructor(t){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const e=t.editing.view;this.editor=t,this.componentFactory=new eg(t),this.focusTracker=new Xi,this.tooltipManager=new Ug(t),this.poweredBy=new em(t),this.ariaLiveAnnouncer=new cm(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",(()=>{this.isReady=!0})),this.listenTo(e.document,"layoutChanged",this.update.bind(this)),this.listenTo(e,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null,this.editor.keystrokes.stopListening(t);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor),this.focusTracker.add(e);const n=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(e)};this.isReady?n():this.once("ready",n)}removeEditableElement(t){const e=this._editableElementsMap.get(t);e&&(this._editableElementsMap.delete(t),this.editor.keystrokes.stopListening(e),this.focusTracker.remove(e),e.ckeditorInstance=null)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,e={}){t.isRendered?(this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)):t.once("render",(()=>{this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)})),this._focusableToolbarDefinitions.push({toolbarView:t,options:e})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const t=this.editor,e=t.config.get("ui.viewportOffset");if(e)return e;const n=t.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const t=this.editor,e=t.editing.view;let n,r;t.keystrokes.set("Alt+F10",((t,i)=>{const o=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(o)&&!Array.from(e.domRoots.values()).includes(o)&&(n=o);const s=this._getCurrentFocusedToolbarDefinition();s&&r||(r=this._getFocusableCandidateToolbarDefinitions());for(let e=0;e<r.length;e++){const t=r.shift();if(r.push(t),t!==s&&this._focusFocusableCandidateToolbar(t)){s&&s.options.afterBlur&&s.options.afterBlur();break}}i()})),t.keystrokes.set("Esc",((e,r)=>{const i=this._getCurrentFocusedToolbarDefinition();i&&(n?(n.focus(),n=null):t.editing.view.focus(),i.options.afterBlur&&i.options.afterBlur(),r())}))}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const e of this._focusableToolbarDefinitions){const{toolbarView:n,options:r}=e;(Qr(n.element)||r.beforeFocus)&&t.push(e)}return t.sort(((t,e)=>vm(t)-vm(e))),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:e,options:{beforeFocus:n}}=t;return n&&n(),!!Qr(e.element)&&(e.focus(),!0)}_handleScrollToTheSelection(t,e){const n=((t,e)=>{for(var n in e||(e={}))fm.call(e,n)&&gm(t,n,e[n]);if(hm)for(var n of hm(e))pm.call(e,n)&&gm(t,n,e[n]);return t})({top:0,bottom:0,left:0,right:0},this.viewportOffset);e.viewportOffset.top+=n.top,e.viewportOffset.bottom+=n.bottom,e.viewportOffset.left+=n.left,e.viewportOffset.right+=n.right}}function vm(t){const{toolbarView:e,options:n}=t;let r=10;return Qr(e.element)&&r--,n.isContextual&&r--,r}var bm=o(1185),ym={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(bm.A,ym),bm.A.locals;class km extends Do{constructor(t){super(t),this.body=new Sf(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class wm extends km{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new kf;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}class _m extends Do{constructor(t,e,n){super(t),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change((n=>{const r=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",r),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",r)}))}t.isRenderingInProgress?function n(r){t.once("change:isRenderingInProgress",((t,i,o)=>{o?n(r):e(r)}))}(this):e(this)}}class Am extends _m{constructor(t,e,n,r={}){super(t,e,n);const i=t.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=r.label||(()=>i("Editor editing area: %0",this.name))}render(){super.render();const t=this._editingView;t.change((e=>{const n=t.document.getRoot(this.name);e.setAttribute("aria-label",this._generateLabel(this),n)}))}}class Cm extends $o{static get pluginName(){return"Notification"}init(){this.on("show:warning",((t,e)=>{window.alert(e.message)}),{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`;this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class xm extends(q()){constructor(t,e){super(),e&&sc(this,e),t&&this.set(t)}}var Em=o(991),Sm={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Em.A,Sm),Em.A.locals;var Mm=o(5380),Im={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Mm.A,Im),Mm.A.locals;const Dm=qr("px");class Tm extends Lo{constructor(t){super(t),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this._view||this._createPanelView(),this.hasView(t.view))throw new _("contextualballoon-add-view-exist",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new _("contextualballoon-remove-view-not-exist",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new _("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}_createPanelView(){this._view=new Lg(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find((e=>e[1]===t))[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new Om(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e)=>!e&&t>1)),t.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((t,n)=>{if(n<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[r,n])})),t.buttonNextView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),t.buttonPrevView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),t}_createFakePanelsView(){const t=new Nm(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e)=>!e&&t>=2?Math.min(t-1,2):0)),t.listenTo(this.view,"change:top",(()=>t.updatePosition())),t.listenTo(this.view,"change:left",(()=>t.updatePosition())),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:r=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}class Om extends Do{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Xi,this.buttonPrevView=this._createButtonView(e("Previous"),vf.previousArrow),this.buttonNextView=this._createButtonView(e("Next"),vf.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(t=>t?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new Lf(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class Nm extends Do{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",(t=>t?"":"ck-hidden"))],style:{top:n.to("top",Dm),left:n.to("left",Dm),width:n.to("width",Dm),height:n.to("height",Dm)}},children:this.content}),this.on("change:numberOfPanels",((t,e,n,r)=>{n>r?this._addPanels(n-r):this._removePanels(r-n),this.updatePosition()}))}_addPanels(t){for(;t--;){const t=new Do;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(t){for(;t--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:r}=new Fr(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:r})}}}var Pm=o(8298),Lm={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Pm.A,Lm),Pm.A.locals;const Bm=qr("px");class Rm extends Do{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new io({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",(t=>t?"block":"none")),height:e.to("isSticky",(t=>t?Bm(this._contentPanelRect.height):null))}}}).render(),this.contentPanelElement=new io({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",(t=>t?Bm(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top:e.to("_stickyTopOffset",(t=>t?Bm(t):t)),bottom:e.to("_stickyBottomOffset",(t=>t?Bm(t):t)),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(i.document,"scroll",(()=>{this.checkIfShouldBeSticky()}),{useCapture:!0}),this.listenTo(this,"change:isActive",(()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const t=new Fr(this.limiterElement);let e=t.getVisible();if(e){const t=new Fr(i.window);t.top+=this.viewportTopOffset,t.height-=this.viewportTopOffset,e=e.getIntersection(t)}if(e&&t.top<e.top){const n=e.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>e.bottom){const n=Math.max(t.bottom-e.bottom,0)+this.limiterBottomOffset;t.bottom-n>t.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(n):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<t.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=t,this._stickyBottomOffset=null,this._marginLeft=Bm(-i.window.scrollX)}_stickToBottomOfLimiter(t){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=t,this._marginLeft=Bm(-i.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Fr(this.contentPanelElement)}}class jm extends Xf{constructor(t,e){const n=t.t,r=Object.assign({},{showResetButton:!0,showIcon:!0,creator:qp},e);super(t,r.creator),this.label=e.label,this._viewConfig=r,this._viewConfig.showIcon&&(this.iconView=new Tf,this.iconView.content=vf.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Lf(t),this.resetButtonView.set({label:n("Clear"),icon:vf.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",(()=>{this.reset(),this.focus(),this.fire("reset")})),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",(t=>!t)),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class zm extends Do{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",t.if("isVisible","ck-hidden",(t=>!t))],tabindex:-1},children:[{tag:"span",children:[{text:[t.to("primaryText")]}]},{tag:"span",children:[{text:[t.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class Fm extends Do{constructor(t){super(t),this.children=this.createCollection(),this.focusTracker=new Xi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new lp({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const t of this.children)this.focusTracker.add(t.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var Vm=/[\\^$.*+?()[\]{}|]/g,Um=RegExp(Vm.source);const Gm=function(t){return(t=Ss(t))&&Um.test(t)?t.replace(Vm,"\\$&"):t};var Hm=o(8107),$m={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Hm.A,$m),Hm.A.locals;var Wm=Object.defineProperty,Ym=Object.getOwnPropertySymbols,qm=Object.prototype.hasOwnProperty,Xm=Object.prototype.propertyIsEnumerable,Km=(t,e,n)=>e in t?Wm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;class Zm extends Do{constructor(t,e){super(t),this._config=e,this.filteredView=e.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Xi,this.keystrokes=new Ki,this.resultsView=new Fm(t),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),e.infoView&&e.infoView.instance?this.infoView=e.infoView.instance:(this.infoView=new zm,this._enableDefaultInfoViewBehavior(),this.on("render",(()=>{this.search("")}))),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new lp({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",((t,{resultsCount:e,totalItemsCount:n})=>{this.resultsCount=e,this.totalItemsCount=n})),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",e.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const t=t=>t.stopPropagation();for(const e of this.focusableChildren)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(t){const e=t?new RegExp(Gm(t),"ig"):null,n=this.filteredView.filter(e);this.fire("search",((t,e)=>{for(var n in e||(e={}))qm.call(e,n)&&Km(t,n,e[n]);if(Ym)for(var n of Ym(e))Xm.call(e,n)&&Km(t,n,e[n]);return t})({query:t},n))}_createSearchTextQueryView(){const t=new jm(this.locale,this._config.queryView);return this.listenTo(t.fieldView,"input",(()=>{this.search(t.fieldView.element.value)})),t.on("reset",(()=>this.reset())),t.bind("isEnabled").to(this),t}_enableDefaultInfoViewBehavior(){const t=this.locale.t,e=this.infoView;function n(t,{query:e,resultsCount:n,totalItemsCount:r}){return"function"==typeof t?t(e,n,r):t}this.on("search",((r,i)=>{if(i.resultsCount)e.set({isVisible:!1});else{const r=this._config.infoView&&this._config.infoView.text;let o,s;i.totalItemsCount?r&&r.notFound?(o=r.notFound.primary,s=r.notFound.secondary):(o=t("No results found"),s=""):r&&r.noSearchableItems?(o=r.noSearchableItems.primary,s=r.noSearchableItems.secondary):(o=t("No searchable items"),s=""),e.set({primaryText:n(o,i),secondaryText:n(s,i),isVisible:!0})}}))}}var Qm=o(5727),Jm={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Qm.A,Jm),Qm.A.locals;const tv=class extends Zm{constructor(t,e){super(t,e),this._config=e;const n=qr("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const r=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[r.if("isVisible","ck-hidden",(t=>!t)),r.to("_position",(t=>`ck-search__results_${t}`))],style:{width:r.to("_width",n)}}}),this.focusTracker.on("change:isFocused",((t,n,r)=>{this._updateResultsVisibility(),r?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()})),this.on("search",(()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()})),this.keystrokes.set("esc",((t,e)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,e())})),this.listenTo(i.document,"scroll",(()=>{this._updateResultsViewWidthAndPosition()})),this.on("change:isEnabled",(()=>{this._updateResultsVisibility()})),this.filteredView.on("execute",((t,{value:e})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=e,this.resultsView.isVisible=!1})),this.resultsView.on("change:isVisible",(()=>{this._updateResultsViewWidthAndPosition()}))}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Fr(this.queryView.fieldView.element).width;const t=tv._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:tv.defaultResultsPositions});this.resultsView._position=t?t.name:"s"}_updateResultsVisibility(){const t=void 0===this._config.queryMinChars?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=t}};let ev=tv;ev.defaultResultsPositions=[t=>({top:t.bottom,left:t.left,name:"s"}),(t,e)=>({top:t.top-e.height,left:t.left,name:"n"})],ev._getOptimalPosition=ti;var nv=/[&<>"']/g;RegExp(nv.source);var rv=o(9529),iv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(rv.A,iv),rv.A.locals;var ov=o(109),sv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(ov.A,sv),ov.A.locals,qr("px");var av=o(2710),cv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(av.A,cv),av.A.locals,qr("px"),qr("px");var lv=o(3344),uv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(lv.A,uv),lv.A.locals;class dv extends Lf{constructor(t){super(t);const e=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(t=>String(t))),"data-cke-tooltip-disabled":e.to("isOn")},on:{mouseenter:e.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Tf;return t.content=Vf,t.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),t}}var hv=o(9481),fv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(hv.A,fv),hv.A.locals;class pv extends Mp{constructor(t,e){super(t);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(e)}}var gv=Object.defineProperty,mv=Object.getOwnPropertySymbols,vv=Object.prototype.hasOwnProperty,bv=Object.prototype.propertyIsEnumerable,yv=(t,e,n)=>e in t?gv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kv=(t,e)=>{for(var n in e||(e={}))vv.call(e,n)&&yv(t,n,e[n]);if(mv)for(var n of mv(e))bv.call(e,n)&&yv(t,n,e[n]);return t};const wv={toggleMenusAndFocusItemsOnHover(t){t.on("menu:mouseenter",(e=>{if(t.isOpen){for(const n of t.menus){const t=e.path[0],r=t instanceof pv&&t.children.first===n;n.isOpen=(e.path.includes(n)||r)&&n.isEnabled}e.source.focus()}}))},focusCycleMenusOnArrows(t){const e="rtl"===t.locale.uiLanguageDirection;function n(e,n){const r=t.children.getIndex(e),i=e.isOpen,o=t.children.length,s=t.children.get((r+o+n)%o);e.isOpen=!1,i&&(s.isOpen=!0),s.buttonView.focus()}t.on("menu:arrowright",(t=>{n(t.source,e?-1:1)})),t.on("menu:arrowleft",(t=>{n(t.source,e?1:-1)}))},closeMenusWhenTheBarCloses(t){t.on("change:isOpen",(()=>{t.isOpen||t.menus.forEach((t=>{t.isOpen=!1}))}))},closeMenuWhenAnotherOnTheSameLevelOpens(t){t.on("menu:change:isOpen",((e,n,r)=>{r&&t.menus.filter((t=>e.source.parentMenuView===t.parentMenuView&&e.source!==t&&t.isOpen)).forEach((t=>{t.isOpen=!1}))}))},closeOnClickOutside(t){To({emitter:t,activator:()=>t.isOpen,callback:()=>t.close(),contextElements:()=>t.children.map((t=>t.element))})}},_v={openAndFocusPanelOnArrowDownKey(t){t.keystrokes.set("arrowdown",((e,n)=>{t.focusTracker.focusedElement===t.buttonView.element&&(t.isOpen||(t.isOpen=!0),t.panelView.focus(),n())}))},openOnArrowRightKey(t){const e="rtl"===t.locale.uiLanguageDirection?"arrowleft":"arrowright";t.keystrokes.set(e,((e,n)=>{t.focusTracker.focusedElement===t.buttonView.element&&t.isEnabled&&(t.isOpen||(t.isOpen=!0),t.panelView.focus(),n())}))},openOnButtonClick(t){t.buttonView.on("execute",(()=>{t.isOpen=!0,t.panelView.focus()}))},toggleOnButtonClick(t){t.buttonView.on("execute",(()=>{t.isOpen=!t.isOpen,t.isOpen&&t.panelView.focus()}))},closeOnArrowLeftKey(t){const e="rtl"===t.locale.uiLanguageDirection?"arrowright":"arrowleft";t.keystrokes.set(e,((e,n)=>{t.isOpen&&(t.isOpen=!1,t.focus(),n())}))},closeOnEscKey(t){t.keystrokes.set("esc",((e,n)=>{t.isOpen&&(t.isOpen=!1,t.focus(),n())}))},closeOnParentClose(t){t.parentMenuView.on("change:isOpen",((e,n,r)=>{r||e.source!==t.parentMenuView||(t.isOpen=!1)}))}},Av={southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),eastSouth:t=>({top:t.top,left:t.right-5,name:"es"}),eastNorth:(t,e)=>({top:t.top-e.height,left:t.right-5,name:"en"}),westSouth:(t,e)=>({top:t.top,left:t.left-e.width+5,name:"ws"}),westNorth:(t,e)=>({top:t.top-e.height,left:t.left-e.width+5,name:"wn"})},Cv=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function xv({normalizedConfig:t,locale:e,componentFactory:n}){const r=el(t);return function(t,e){const n=e.removeItems,r=[];e.items=e.items.filter((({menuId:t})=>!n.includes(t)||(r.push(t),!1))),Iv(e.items,(t=>{t.groups=t.groups.filter((({groupId:t})=>!n.includes(t)||(r.push(t),!1)));for(const e of t.groups)e.items=e.items.filter((t=>{const e=Pv(t);return!n.includes(e)||(r.push(e),!1)}))}));for(const i of n)r.includes(i)||A("menu-bar-item-could-not-be-removed",{menuBarConfig:t,itemName:i})}(t,r),function(t,e){const n=e.addItems,r=[];for(const i of n){const t=Ov(i.position),n=Nv(i.position);if(Dv(i))if(n){const o=e.items.findIndex((t=>t.menuId===n));-1!=o?"before"===t?(e.items.splice(o,0,i.menu),r.push(i)):"after"===t&&(e.items.splice(o+1,0,i.menu),r.push(i)):Ev(e,i.menu,n,t)&&r.push(i)}else"start"===t?(e.items.unshift(i.menu),r.push(i)):"end"===t&&(e.items.push(i.menu),r.push(i));else Tv(i)?Iv(e.items,(e=>{if(e.menuId===n)"start"===t?(e.groups.unshift(i.group),r.push(i)):"end"===t&&(e.groups.push(i.group),r.push(i));else{const o=e.groups.findIndex((t=>t.groupId===n));-1!==o&&("before"===t?(e.groups.splice(o,0,i.group),r.push(i)):"after"===t&&(e.groups.splice(o+1,0,i.group),r.push(i)))}})):Ev(e,i.item,n,t)&&r.push(i)}for(const i of n)r.includes(i)||A("menu-bar-item-could-not-be-added",{menuBarConfig:t,addedItemConfig:i})}(t,r),function(t,e,n){Iv(e.items,(r=>{for(const i of r.groups)i.items=i.items.filter((i=>{const o="string"==typeof i&&!n.has(i);return o&&!e.isUsingDefaultConfig&&A("menu-bar-item-unavailable",{menuBarConfig:t,parentMenuConfig:el(r),componentName:i}),!o}))}))}(t,r,n),Sv(t,r),function(t,e){const n=e.t,r={File:n({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:n({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:n({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:n({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:n({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:n({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:n({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:n({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:n({string:"Font",id:"MENU_BAR_MENU_FONT"})};Iv(t.items,(t=>{t.label in r&&(t.label=r[t.label])}))}(r,e),r}function Ev(t,e,n,r){let i=!1;return Iv(t.items,(t=>{for(const{groupId:o,items:s}of t.groups){if(i)return;if(o===n)"start"===r?(s.unshift(e),i=!0):"end"===r&&(s.push(e),i=!0);else{const t=s.findIndex((t=>Pv(t)===n));-1!==t&&("before"===r?(s.splice(t,0,e),i=!0):"after"===r&&(s.splice(t+1,0,e),i=!0))}}})),i}function Sv(t,e){const n=e.isUsingDefaultConfig;let r=!1;e.items=e.items.filter((e=>!!e.groups.length||(Mv(t,e,n),!1))),e.items.length?(Iv(e.items,(e=>{e.groups=e.groups.filter((t=>!!t.items.length||(r=!0,!1)));for(const i of e.groups)i.items=i.items.filter((e=>!(Lv(e)&&!e.groups.length)||(Mv(t,e,n),r=!0,!1)))})),r&&Sv(t,e)):Mv(t,t,n)}function Mv(t,e,n){n||A("menu-bar-menu-empty",{menuBarConfig:t,emptyMenuConfig:e})}function Iv(t,e){if(Array.isArray(t))for(const r of t)n(r);function n(t){e(t);for(const e of t.groups)for(const t of e.items)Lv(t)&&n(t)}}function Dv(t){return"object"==typeof t&&"menu"in t}function Tv(t){return"object"==typeof t&&"group"in t}function Ov(t){return t.startsWith("start")?"start":t.startsWith("end")?"end":t.startsWith("after")?"after":"before"}function Nv(t){const e=t.match(/^[^:]+:(.+)/);return e?e[1]:null}function Pv(t){return"string"==typeof t?t:t.menuId}function Lv(t){return"object"==typeof t&&"menuId"in t}function Bv(t,e){const n=e.element;t.ui.focusTracker.add(n),t.keystrokes.listenTo(n);const r=function(t){let e;return e="items"in t&&t.items?kv({items:t.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},t):kv({items:el(Cv),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},t),e}(t.config.get("menuBar")||{});e.fillFromConfig(r,t.ui.componentFactory),t.keystrokes.set("Esc",((e,r)=>{n.contains(t.ui.focusTracker.focusedElement)&&(t.editing.view.focus(),r())})),t.keystrokes.set("Alt+F9",((r,i)=>{n.contains(t.ui.focusTracker.focusedElement)||(e.focus(),i())}))}var Rv=o(9108),jv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Rv.A,jv),Rv.A.locals;class zv extends Do{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",e.to("position",(t=>`ck-menu-bar__menu__panel_position_${t}`)),e.if("isVisible","ck-hidden",(t=>!t))],tabindex:"-1"},children:this.children,on:{selectstart:e.to((t=>{"input"!==t.target.tagName.toLocaleLowerCase()&&t.preventDefault()}))}})}focus(t=1){this.children.length&&(1===t?this.children.first.focus():this.children.last.focus())}}var Fv=o(4),Vv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Fv.A,Vv),Fv.A.locals;const Uv=class extends Do{constructor(t){super(t);const e=this.bindTemplate;this.buttonView=new dv(t),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new zv(t),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Ki,this.focusTracker=new Xi,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",(t=>!t)),e.if("parentMenuView","ck-menu-bar__menu_top-level",(t=>!t))]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),_v.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(_v.openOnButtonClick(this),_v.openOnArrowRightKey(this),_v.closeOnArrowLeftKey(this),_v.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),_v.openAndFocusPanelOnArrowDownKey(this),_v.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",((t,e)=>{this.fire("arrowright"),e()})),this.keystrokes.set("arrowleft",((t,e)=>{this.fire("arrowleft"),e()}))}_repositionPanelOnOpen(){this.on("change:isOpen",((t,e,n)=>{if(!n)return;const r=Uv._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._panelPositions[0].name}))}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:t,southWest:e,northEast:n,northWest:r,westSouth:i,eastSouth:o,westNorth:s,eastNorth:a}=Av;return"ltr"===this.locale.uiLanguageDirection?this.parentMenuView?[o,a,i,s]:[t,e,n,r]:this.parentMenuView?[i,s,o,a]:[e,t,r,n]}};let Gv=Uv;Gv._getOptimalPosition=ti;class Hv extends Np{constructor(t){super(t),this.role="menu"}}var $v=o(977),Wv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()($v.A,Wv),$v.A.locals;class Yv extends Lf{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class qv extends zf{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var Xv=o(497),Kv={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Xv.A,Kv),Xv.A.locals;const Zv=["mouseenter","arrowleft","arrowright","change:isOpen"];class Qv extends Do{constructor(t){super(t),this.menus=[];const e=t.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":e("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(t,e){const n=xv({normalizedConfig:t,locale:this.locale,componentFactory:e}).items.map((t=>this._createMenu({componentFactory:e,menuDefinition:t})));this.children.addMany(n)}render(){super.render(),wv.toggleMenusAndFocusItemsOnHover(this),wv.closeMenusWhenTheBarCloses(this),wv.closeMenuWhenAnotherOnTheSameLevelOpens(this),wv.focusCycleMenusOnArrows(this),wv.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const t of this.children)t.isOpen=!1}registerMenu(t,e=null){e?(t.delegate(...Zv).to(e),t.parentMenuView=e):t.delegate(...Zv).to(this,(t=>"menu:"+t)),t._attachBehaviors(),this.menus.push(t)}_createMenu({componentFactory:t,menuDefinition:e,parentMenuView:n}){const r=this.locale,i=new Gv(r);return this.registerMenu(i,n),i.buttonView.set({label:e.label}),i.once("change:isOpen",(()=>{const n=new Hv(r);n.ariaLabel=e.label,i.panelView.children.add(n),n.items.addMany(this._createMenuItems({menuDefinition:e,parentMenuView:i,componentFactory:t}))})),i}_createMenuItems({menuDefinition:t,parentMenuView:e,componentFactory:n}){const r=this.locale,i=[];for(const o of t.groups){for(const t of o.items){const o=new pv(r,e);if(V(t))o.children.add(this._createMenu({componentFactory:n,menuDefinition:t,parentMenuView:e}));else{const r=this._createMenuItemContentFromFactory({componentName:t,componentFactory:n,parentMenuView:e});if(!r)continue;o.children.add(r)}i.push(o)}o!==t.groups[t.groups.length-1]&&i.push(new Ip(r))}return i}_createMenuItemContentFromFactory({componentName:t,parentMenuView:e,componentFactory:n}){const r=n.create(t);return r instanceof Gv||r instanceof Yv||r instanceof qv?(this._registerMenuTree(r,e),r.on("execute",(()=>{this.close()})),r):(A("menu-bar-component-unsupported",{componentName:t,componentView:r}),null)}_registerMenuTree(t,e){if(!(t instanceof Gv))return void t.delegate("mouseenter").to(e);this.registerMenu(t,e);const n=t.panelView.children.filter((t=>t instanceof Hv))[0];if(!n)return void t.delegate("mouseenter").to(e);const r=n.items.filter((t=>t instanceof Mp));for(const i of r)this._registerMenuTree(i.children.get(0),t)}_setupIsOpenUpdater(){let t;this.on("menu:change:isOpen",((e,n,r)=>{clearTimeout(t),r?this.isOpen=!0:t=setTimeout((()=>{this.isOpen=Array.from(this.children).some((t=>t.isOpen))}),0)}))}}class Jv extends mm{constructor(t,e){super(t),this.view=e,this._toolbarConfig=kp(t.config.get("toolbar")),this._elementReplacer=new tt,this.listenTo(t.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(t){const e=this.editor,n=this.view,r=e.editing.view,i=n.editable,o=r.document.getRoot();i.name=o.rootName,n.render();const s=i.element;this.setEditableElement(i.name,s),n.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(s),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),n.menuBarView&&Bv(e,n.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy()}_initToolbar(){const t=this.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,t.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(({top:t})=>t||0)),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),r=t.sourceElement;let i;const o=t.config.get("placeholder");o&&(i="string"==typeof o?o:o[this.view.editable.name]),!i&&r&&"textarea"===r.tagName.toLowerCase()&&(i=r.getAttribute("placeholder")),i&&(n.placeholder=i),Zo({view:e,element:n,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(t,e,n){const r=this.view.stickyPanel;if(r.isSticky){const t=new Fr(r.element).height;e.viewportOffset.top+=t}else{const t=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(r,"change:isSticky",t),setTimeout((()=>{this.stopListening(r,"change:isSticky",t)}),20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const t=this.view.stickyPanel,e=this.editor.plugins.get("Dialog");e.on("show",(()=>{const n=e.view;n.on("moveTo",((e,r)=>{if(!t.isSticky||n.wasMoved)return;const i=new Fr(t.contentPanelElement);r[1]<i.bottom+wg.defaultOffset&&(r[1]=i.bottom+wg.defaultOffset)}),{priority:"high"})}),{priority:"low"})}}var tb=o(7388),eb={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(tb.A,eb),tb.A.locals;class nb extends wm{constructor(t,e,n={}){super(t),this.stickyPanel=new Rm(t),this.toolbar=new Cp(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),n.useMenuBar&&(this.menuBarView=new Qv(t)),this.editable=new Am(t,e)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class rb{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const e="error"in t?t.error:t.reason;e instanceof Error&&this._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter((t=>t!==e))}_fire(t,...e){const n=this._listeners[t]||[];for(const r of n)r.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&void 0!==t.context&&null!==t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function ib(t,e=new Set){const n=[t],r=new Set;let i=0;for(;n.length>i;){const o=n[i++];if(!r.has(o)&&ob(o)&&!e.has(o))if(r.add(o),Symbol.iterator in o)try{for(const t of o)n.push(t)}catch(t){}else for(const t in o)"defaultValue"!==t&&n.push(o[t])}return r}function ob(t){const e=Object.prototype.toString.call(t),n=typeof t;return!("number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}function sb(t,e,n=new Set){if(t===e&&"object"==typeof(r=t)&&null!==r)return!0;var r;const i=ib(t,n),o=ib(e,n);for(const s of i)if(o.has(s))return!0;return!1}var ab=Object.defineProperty,cb=Object.defineProperties,lb=Object.getOwnPropertyDescriptors,ub=Object.getOwnPropertySymbols,db=Object.prototype.hasOwnProperty,hb=Object.prototype.propertyIsEnumerable,fb=(t,e,n)=>e in t?ab(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pb=(t,e)=>{for(var n in e||(e={}))db.call(e,n)&&fb(t,n,e[n]);if(ub)for(var n of ub(e))hb.call(e,n)&&fb(t,n,e[n]);return t};class gb extends rb{constructor(t,e={}){super(e),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=$g(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),t&&(this._creator=(e,n)=>t.create(e,n)),this._destructor=t=>t.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then((()=>(this.state="initializing",this._fire("stateChange"),this._destroy()))).catch((t=>{console.error("An error happened during the editor destroying.",t)})).then((()=>{const t={},e=[],n=this._config.rootsAttributes||{},r={};for(const[a,c]of Object.entries(this._data.roots))c.isLoaded?(t[a]="",r[a]=n[a]||{}):e.push(a);const i=(o=pb({},this._config),s={extraPlugins:this._config.extraPlugins||[],lazyRoots:e,rootsAttributes:r,_watchdogInitialData:this._data},cb(o,lb(s)));var o,s;return delete i.initialData,i.extraPlugins.push(mb),this._initUsingData?this.create(t,i,i.context):xr(this._elementOrData)?this.create(this._elementOrData,i,i.context):this.create(this._editables,i,i.context)})).then((()=>{this._fire("restart")}))}create(t=this._elementOrData,e=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData="string"==typeof t||Object.keys(t).length>0&&"string"==typeof Object.values(t)[0],this._config=this._cloneEditorConfiguration(e)||{},this._config.context=n,this._creator(t,this._config)))).then((t=>{this._editor=t,t.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=t.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)}))}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,e=t.model.document.roots.filter((t=>t.isAttached()&&"$graveyard"!=t.rootName)),{plugins:n}=t,r=n.has("CommentsRepository")&&n.get("CommentsRepository"),i=n.has("TrackChanges")&&n.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};e.forEach((t=>{o.roots[t.rootName]={content:JSON.stringify(Array.from(t.getChildren())),attributes:JSON.stringify(Array.from(t.getAttributes())),isLoaded:t._isLoaded}}));for(const s of t.model.markers)s._affectsData&&(o.markers[s.name]={rangeJSON:s.getRange().toJSON(),usingOperation:s._managedUsingOperations,affectsData:s._affectsData});return r&&(o.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),i&&(o.suggestions=JSON.stringify(i.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const t={};for(const e of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(e);n&&(t[e]=n)}return t}_isErrorComingFromThisItem(t){return sb(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return Cr(t,((t,e)=>xr(t)||"context"===e?t:void 0))}}class mb{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",(t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},(t=>{this._restoreCollaborationData(),this._restoreEditorData(t)})),this.editor.data.fire("ready")}),{priority:999})}_createNode(t,e){if("name"in e){const n=t.createElement(e.name,e.attributes);if(e.children)for(const r of e.children)n._appendChild(this._createNode(t,r));return n}return t.createText(e.data,e.attributes)}_restoreEditorData(t){const e=this.editor;Object.entries(this._data.roots).forEach((([n,{content:r,attributes:i}])=>{const o=JSON.parse(r),s=JSON.parse(i),a=e.model.document.getRoot(n);for(const[e,c]of s)t.setAttribute(e,c,a);for(const e of o){const n=this._createNode(t,e);t.insert(n,a,"end")}})),Object.entries(this._data.markers).forEach((([n,r])=>{const{document:i}=e.model,o=r,{rangeJSON:{start:s,end:a}}=o,c=((t,e)=>{var n={};for(var r in t)db.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&ub)for(var r of ub(t))e.indexOf(r)<0&&hb.call(t,r)&&(n[r]=t[r]);return n})(o,["rangeJSON"]),l=i.getRoot(s.root),u=t.createPositionFromPath(l,s.path,s.stickiness),d=t.createPositionFromPath(l,a.path,a.stickiness),h=t.createRange(u,d);t.addMarker(n,pb({range:h},c))}))}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);t.forEach((t=>{const e=this.editor.config.get("collaboration.channelId"),n=this.editor.plugins.get("CommentsRepository");n.hasCommentThread(t.threadId)&&n.getCommentThread(t.threadId).remove(),n.addCommentThread(pb({channelId:e},t))})),e.forEach((t=>{const e=this.editor.plugins.get("TrackChangesEditing");e.hasSuggestion(t.id)?e.getSuggestion(t.id).attributes=t.attributes:e.addSuggestionData(t)}))}}const vb=Symbol("MainQueueId");class bb{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const n=t===vb;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const r=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(vb),this._queues.get(t)])).then(e),i=r.catch((()=>{}));return this._queues.set(t,i),r.finally((()=>{this._activeActions--,this._queues.get(t)===i&&0===this._activeActions&&this._onEmptyCallbacks.forEach((t=>t()))}))}}function yb(t){return Array.isArray(t)?t:[t]}class kb extends(gf(pf)){constructor(t,e={}){if(!wb(t)&&void 0!==e.initialData)throw new _("editor-create-initial-data",null);super(e),this.config.define("menuBar.isVisible",!1),void 0===this.config.get("initialData")&&this.config.set("initialData",function(t){return wb(t)?(e=t,e instanceof HTMLTextAreaElement?e.value:e.innerHTML):t;var e}(t)),wb(t)&&(this.sourceElement=t),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=this.config.get("menuBar"),i=new nb(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n,useMenuBar:r.isVisible});this.ui=new Jv(this,i),function(t){if(!Gt(t.updateSourceElement))throw new _("attachtoform-missing-elementapi-interface",t);const e=t.sourceElement;if(function(t){return!!t&&"textarea"===t.tagName.toLowerCase()}(e)&&e.form){let n;const r=e.form,i=()=>t.updateSourceElement();Gt(r.submit)&&(n=r.submit,r.submit=()=>{i(),n.apply(r)}),r.addEventListener("submit",i),t.on("destroy",(()=>{r.removeEventListener("submit",i),n&&(r.submit=n)}))}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise((n=>{const r=new this(t,e);n(r.initPlugins().then((()=>r.ui.init(wb(t)?t:null))).then((()=>r.data.init(r.config.get("initialData")))).then((()=>r.fire("ready"))).then((()=>r)))}))}}function wb(t){return xr(t)}kb.Context=Ho,kb.EditorWatchdog=gb,kb.ContextWatchdog=class extends rb{constructor(t,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new bb,this._watchdogConfig=e,this._creator=e=>t.create(e),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty((()=>{"initializing"===this.state&&(this.state="ready",this._fire("stateChange"))}))}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(vb,(()=>(this._contextConfig=t,this._create())))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const e=yb(t);return Promise.all(e.map((t=>this._actionQueues.enqueue(t.id,(()=>{if("destroyed"===this.state)throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let e;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if("editor"===t.type)return e=new gb(null,this._watchdogConfig),e.setCreator(t.creator),e._setExcludedProperties(this._contextProps),t.destructor&&e.setDestructor(t.destructor),this._watchdogs.set(t.id,e),e.on("error",((n,{error:r,causesRestart:i})=>{this._fire("itemError",{itemId:t.id,error:r}),i&&this._actionQueues.enqueue(t.id,(()=>new Promise((n=>{const r=()=>{e.off("restart",r),this._fire("itemRestart",{itemId:t.id}),n()};e.on("restart",r)}))))})),e.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))))}remove(t){const e=yb(t);return Promise.all(e.map((t=>this._actionQueues.enqueue(t,(()=>{const e=this._getWatchdog(t);return this._watchdogs.delete(t),e.destroy()})))))}destroy(){return this._actionQueues.enqueue(vb,(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_restart(){return this._actionQueues.enqueue(vb,(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch((t=>{console.error("An error happened during destroying the context or items.",t)})).then((()=>this._create())).then((()=>this._fire("restart"))))))}_create(){return Promise.resolve().then((()=>(this._startErrorHandling(),this._creator(this._contextConfig)))).then((t=>(this._context=t,this._contextProps=ib(this._context),Promise.all(Array.from(this._watchdogs.values()).map((t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map((t=>t.destroy()))).then((()=>this._destructor(t)))}))}_getWatchdog(t){const e=this._watchdogs.get(t);if(!e)throw new Error(`Item with the given id was not registered: ${t}.`);return e}_isErrorComingFromThisItem(t){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(t))return!1;return sb(this._context,t.context)}};class _b extends cc{constructor(t){super(t),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const e=this.document;function n(t){return(n,r)=>{r.preventDefault();const i=r.dropRange?[r.dropRange]:null,o=new m(e,t);e.fire(o,{dataTransfer:r.dataTransfer,method:n.name,targetRanges:i,target:r.target,domEvent:r.domEvent}),o.stop.called&&r.stopPropagation()}}this.listenTo(e,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"dragover",n("dragging"),{priority:"low"})}onDomEvent(t){const e="clipboardData"in t?t.clipboardData:t.dataTransfer,n="drop"==t.type||"paste"==t.type,r={dataTransfer:new Kc(e,{cacheFiles:n})};"drop"!=t.type&&"dragover"!=t.type||(r.dropRange=function(t,e){const n=e.target.ownerDocument,r=e.clientX,i=e.clientY;let o;return n.caretRangeFromPoint&&n.caretRangeFromPoint(r,i)?o=n.caretRangeFromPoint(r,i):e.rangeParent&&(o=n.createRange(),o.setStart(e.rangeParent,e.rangeOffset),o.collapse(!0)),o?t.domConverter.domRangeToView(o):null}(this.view,t)),this.fire(t.type,t,r)}}const Ab=["figcaption","li"],Cb=["ol","ul"];function xb(t){if(t.is("$text")||t.is("$textProxy"))return t.data;if(t.is("element","img")&&t.hasAttribute("alt"))return t.getAttribute("alt");if(t.is("element","br"))return"\n";let e="",n=null;for(const r of t.getChildren())e+=Eb(r,n)+xb(r),n=r;return e}function Eb(t,e){return e?t.is("element","li")&&!t.isEmpty&&t.getChild(0).is("containerElement")||Cb.includes(t.name)&&Cb.includes(e.name)?"\n\n":t.is("containerElement")||e.is("containerElement")?Ab.includes(t.name)||Ab.includes(e.name)?"\n":"\n\n":"":""}const Sb=function(t,e){return t&&Ci(t,e,dn)},Mb=function(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var c=(a=n[i])[0],l=t[c],u=a[1];if(s&&a[2]){if(void 0===l&&!(c in t))return!1}else{var d=new Ee;if(r)var h=r(l,u,c,t,e,d);if(!(void 0===h?Gc(u,l,3,r,d):h))return!1}}return!0},Ib=function(t){return t==t&&!V(t)},Db=function(t){for(var e=dn(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ib(i)]}return e},Tb=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},Ob=function(t){var e=Db(t);return 1==e.length&&e[0][2]?Tb(e[0][0],e[0][1]):function(n){return n===t||Mb(n,t,e)}},Nb=function(t,e){return null!=t&&e in Object(t)},Pb=function(t,e,n){for(var r=-1,i=(e=Ms(e,t)).length,o=!1;++r<i;){var s=Ds(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&We(i)&&$e(s,i)&&(vt(t)||je(t))},Lb=function(t,e){return null!=t&&Pb(t,e,Nb)},Bb=function(t,e){return gs(t)&&Ib(e)?Tb(Ds(t),e):function(n){var r=Bs(n,t);return void 0===r&&r===e?Lb(n,t):Gc(e,r,3)}},Rb=function(t){return function(e){return null==e?void 0:e[t]}},jb=function(t){return function(e){return Ts(e,t)}},zb=function(t){return gs(t)?Rb(Ds(t)):jb(t)},Fb=function(t){return"function"==typeof t?t:null==t?Di:"object"==typeof t?vt(t)?Bb(t[0],t[1]):Ob(t):zb(t)},Vb=function(t,e){var n={};return e=Fb(e,3),Sb(t,(function(t,r,i){Ie(n,r,e(t,r,i))})),n};var Ub=Object.defineProperty,Gb=Object.defineProperties,Hb=Object.getOwnPropertyDescriptors,$b=Object.getOwnPropertySymbols,Wb=Object.prototype.hasOwnProperty,Yb=Object.prototype.propertyIsEnumerable,qb=(t,e,n)=>e in t?Ub(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;class Xb extends Lo{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(t,e){this._markersToCopy.set(t,e)}_copySelectedFragmentWithMarkers(t,e,n=(t=>t.model.getSelectedContent(t.model.document.selection))){return this.editor.model.change((r=>{const i=r.model.document.selection;r.setSelection(e);const o=this._insertFakeMarkersIntoSelection(r,r.model.document.selection,t),s=n(r),a=this._removeFakeMarkersInsideElement(r,s);for(const[t,e]of Object.entries(o)){a[t]||(a[t]=r.createRangeIn(s));for(const t of e)r.remove(t)}s.markers.clear();for(const[t,e]of Object.entries(a))s.markers.set(t,e);return r.setSelection(i),s}))}_pasteMarkersIntoTransformedElement(t,e){const n=this._getPasteMarkersFromRangeMap(t);return this.editor.model.change((t=>{const r=this._insertFakeMarkersElements(t,n),i=e(t),o=this._removeFakeMarkersInsideElement(t,i);for(const e of Object.values(r).flat())t.remove(e);for(const[e,n]of Object.entries(o))t.model.markers.has(e)||t.addMarker(e,{usingOperation:!0,affectsData:!0,range:n});return i}))}_pasteFragmentWithMarkers(t){const e=this._getPasteMarkersFromRangeMap(t.markers);t.markers.clear();for(const n of e)t.markers.set(n.name,n.range);return this.editor.model.insertContent(t)}_forceMarkersCopy(t,e,n={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const r=this._markersToCopy.get(t);this._markersToCopy.set(t,n),e(),r?this._markersToCopy.set(t,r):this._markersToCopy.delete(t)}_isMarkerCopyable(t,e){const n=this._getMarkerClipboardConfig(t);if(!n)return!1;if(!e)return!0;const{allowedActions:r}=n;return"all"===r||r.includes(e)}_hasMarkerConfiguration(t){return!!this._getMarkerClipboardConfig(t)}_getMarkerClipboardConfig(t){const[e]=t.split(":");return this._markersToCopy.get(e)||null}_insertFakeMarkersIntoSelection(t,e,n){const r=this._getCopyableMarkersFromSelection(t,e,n);return this._insertFakeMarkersElements(t,r)}_getCopyableMarkersFromSelection(t,e,n){const r=Array.from(e.getRanges()),i=new Set(r.flatMap((e=>Array.from(t.model.markers.getMarkersIntersectingRange(e)))));return Array.from(i).filter((t=>{if(!this._isMarkerCopyable(t.name,n))return!1;const{copyPartiallySelected:e}=this._getMarkerClipboardConfig(t.name);if(!e){const e=t.getRange();return r.some((t=>t.containsRange(e,!0)))}return!0})).map((t=>({name:"dragstart"===n?this._getUniqueMarkerName(t.name):t.name,range:t.getRange()})))}_getPasteMarkersFromRangeMap(t,e=null){const{model:n}=this.editor;return(t instanceof Map?Array.from(t.entries()):Object.entries(t)).flatMap((([t,r])=>{if(!this._hasMarkerConfiguration(t))return[{name:t,range:r}];if(this._isMarkerCopyable(t,e)){const e=this._getMarkerClipboardConfig(t),i=n.markers.has(t)&&"$graveyard"===n.markers.get(t).getRange().root.rootName;return(e.duplicateOnPaste||i)&&(t=this._getUniqueMarkerName(t)),[{name:t,range:r}]}return[]}))}_insertFakeMarkersElements(t,e){const n={},r=e.flatMap((t=>{const{start:e,end:n}=t.range;return[{position:e,marker:t,type:"start"},{position:n,marker:t,type:"end"}]})).sort((({position:t},{position:e})=>t.isBefore(e)?1:-1));for(const{position:i,marker:o,type:s}of r){const e=t.createElement("$marker",{"data-name":o.name,"data-type":s});n[o.name]||(n[o.name]=[]),n[o.name].push(e),t.insert(e,i)}return n}_removeFakeMarkersInsideElement(t,e){const n=this._getAllFakeMarkersFromElement(t,e).reduce(((e,n)=>{const r=n.markerElement&&t.createPositionBefore(n.markerElement);let i=e[n.name],o=!1;var s,a;return i&&i.start&&i.end&&(this._getMarkerClipboardConfig(n.name).duplicateOnPaste?e[this._getUniqueMarkerName(n.name)]=e[n.name]:o=!0,i=null),o||(e[n.name]=(s=((t,e)=>{for(var n in e||(e={}))Wb.call(e,n)&&qb(t,n,e[n]);if($b)for(var n of $b(e))Yb.call(e,n)&&qb(t,n,e[n]);return t})({},i),a={[n.type]:r},Gb(s,Hb(a)))),n.markerElement&&t.remove(n.markerElement),e}),{});return Vb(n,(n=>new vl(n.start||t.createPositionFromPath(e,[0]),n.end||t.createPositionAt(e,"end"))))}_getAllFakeMarkersFromElement(t,e){const n=Array.from(t.createRangeIn(e)).flatMap((({item:t})=>{if(!t.is("element","$marker"))return[];const e=t.getAttribute("data-name"),n=t.getAttribute("data-type");return[{markerElement:t,name:e,type:n}]})),r=[],i=[];for(const o of n)"end"===o.type&&(n.some((t=>t.name===o.name&&"start"===t.type))||r.push({markerElement:null,name:o.name,type:"start"})),"start"===o.type&&(n.some((t=>t.name===o.name&&"end"===t.type))||i.unshift({markerElement:null,name:o.name,type:"end"}));return[...r,...n,...i]}_getUniqueMarkerName(t){const e=t.split(":"),n=b().substring(1,6);return 3===e.length?`${e.slice(0,2).join(":")}:${n}`:`${e.join(":")}:${n}`}}class Kb extends Lo{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Xb]}init(){this.editor.editing.view.addObserver(_b),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,e,n){const r=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:"cut"===n},(()=>{const i=r._copySelectedFragmentWithMarkers(n,e);this.fire("outputTransformation",{dataTransfer:t,content:i,method:n})}))}_setupPasteDrop(){const t=this.editor,e=t.model,n=t.editing.view,r=n.document,i=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(r,"clipboardInput",((e,n)=>{"paste"!=n.method||t.model.canEditAt(t.model.document.selection)||e.stop()}),{priority:"highest"}),this.listenTo(r,"clipboardInput",((t,e)=>{const r=e.dataTransfer;let i;if(e.content)i=e.content;else{let t="";r.getData("text/html")?t=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((t,e)=>1==e.length?" ":e)).replace(/<!--[\s\S]*?-->/g,"")}(r.getData("text/html")):r.getData("text/plain")&&(((o=(o=r.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||o.includes("<br>"))&&(o=`<p>${o}</p>`),t=o),i=this.editor.data.htmlProcessor.toView(t)}var o;const s=new m(this,"inputTransformation");this.fire(s,{content:i,dataTransfer:r,targetRanges:e.targetRanges,method:e.method}),s.stop.called&&t.stop(),n.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",((t,n)=>{if(n.content.isEmpty)return;const r=this.editor.data.toModel(n.content,"$clipboardHolder");0!=r.childCount&&(t.stop(),e.change((()=>{this.fire("contentInsertion",{content:r,method:n.method,dataTransfer:n.dataTransfer,targetRanges:n.targetRanges})})))}),{priority:"low"}),this.listenTo(this,"contentInsertion",((t,e)=>{e.resultRange=i._pasteFragmentWithMarkers(e.content)}),{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,n=t.editing.view.document,r=(t,n)=>{const r=n.dataTransfer;n.preventDefault(),this._fireOutputTransformationEvent(r,e.selection,t.name)};this.listenTo(n,"copy",r,{priority:"low"}),this.listenTo(n,"cut",((e,n)=>{t.model.canEditAt(t.model.document.selection)?r(e,n):n.preventDefault()}),{priority:"low"}),this.listenTo(this,"outputTransformation",((e,r)=>{const i=t.data.toView(r.content);n.fire("clipboardOutput",{dataTransfer:r.dataTransfer,content:i,method:r.method})}),{priority:"low"}),this.listenTo(n,"clipboardOutput",((n,r)=>{r.content.isEmpty||(r.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(r.content)),r.dataTransfer.setData("text/plain",xb(r.content))),"cut"==r.method&&t.model.deleteContent(e.selection)}),{priority:"low"})}}class Zb{constructor(t,e=20){this._batch=null,this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(t,e)=>{e.isLocal&&e.isUndoable&&e!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){this.isLocked&&!t||(this._batch=null,this._size=0)}}class Qb extends Ro{constructor(t,e){super(t),this._buffer=new Zb(t.model,e),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,r=t.text||"",i=r.length;let o=n.selection;if(t.selection?o=t.selection:t.range&&(o=e.createSelection(t.range)),!e.canEditAt(o))return;const s=t.resultRange;e.enqueueChange(this._buffer.batch,(t=>{this._buffer.lock();const a=Array.from(n.selection.getAttributes());e.deleteContent(o),r&&e.insertContent(t.createText(r,a),o),s?t.setSelection(s):o.is("documentSelection")||t.setSelection(o),this._buffer.unlock(),this._buffer.input(i)}))}}const Jb=["insertText","insertReplacementText"];class ty extends oc{constructor(t){super(t),this.focusObserver=t.getObserver(Yc),l.isAndroid&&Jb.push("insertCompositionText");const e=t.document;e.on("beforeinput",((n,r)=>{if(!this.isEnabled)return;const{data:i,targetRanges:o,inputType:s,domEvent:a}=r;if(!Jb.includes(s))return;this.focusObserver.flush();const c=new m(e,"insertText");e.fire(c,new ac(t,a,{text:i,selection:t.createSelection(o)})),c.stop.called&&n.stop()})),e.on("compositionend",((n,{data:r,domEvent:i})=>{this.isEnabled&&!l.isAndroid&&r&&e.fire("insertText",new ac(t,i,{text:r,selection:e.selection}))}),{priority:"lowest"})}observe(){}stopObserving(){}}class ey extends Lo{static get pluginName(){return"Input"}init(){const t=this.editor,e=t.model,n=t.editing.view,r=e.document.selection;n.addObserver(ty);const i=new Qb(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",i),t.commands.add("input",i),this.listenTo(n.document,"insertText",((r,i)=>{n.document.isComposing||i.preventDefault();const{text:o,selection:s,resultRange:a}=i,c=Array.from(s.getRanges()).map((e=>t.editing.mapper.toModelRange(e)));let u=o;if(l.isAndroid){const t=Array.from(c[0].getItems()).reduce(((t,e)=>t+(e.is("$textProxy")?e.data:"")),"");t&&(t.length<=u.length?u.startsWith(t)&&(u=u.substring(t.length),c[0].start=c[0].start.getShiftedBy(t.length)):t.startsWith(u)&&(c[0].start=c[0].start.getShiftedBy(u.length),u=""))}const d={text:u,selection:e.createSelection(c)};a&&(d.resultRange=t.editing.mapper.toModelRange(a)),t.execute("insertText",d),n.scrollToTheSelection()})),l.isAndroid?this.listenTo(n.document,"keydown",((t,o)=>{!r.isCollapsed&&229==o.keyCode&&n.document.isComposing&&ny(e,i)})):this.listenTo(n.document,"compositionstart",(()=>{r.isCollapsed||ny(e,i)}))}}function ny(t,e){if(!e.isEnabled)return;const n=e.buffer;n.lock(),t.enqueueChange(n.batch,(()=>{t.deleteContent(t.document.selection)})),n.unlock()}class ry extends Ro{constructor(t,e){super(t),this.direction=e,this._buffer=new Zb(t.model,t.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,(r=>{this._buffer.lock();const i=r.createSelection(t.selection||n.selection);if(!e.canEditAt(i))return;const o=t.sequence||1,s=i.isCollapsed;if(i.isCollapsed&&e.modifySelection(i,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o))return void this._replaceEntireContentWithParagraph(r);if(this._shouldReplaceFirstBlockWithParagraph(i,o))return void this.editor.execute("paragraph",{selection:i});if(i.isCollapsed)return;let a=0;i.getFirstRange().getMinimalFlatRanges().forEach((t=>{a+=et(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),e.deleteContent(i,{doNotResetEntireContent:s,direction:this.direction}),this._buffer.input(a),r.setSelection(i),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,r=e.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(r))return!1;if(!e.schema.checkChild(r,"paragraph"))return!1;const i=r.getChild(0);return!i||!i.is("element","paragraph")}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.document.selection,r=e.schema.getLimitElement(n),i=t.createElement("paragraph");t.remove(t.createRangeIn(r)),t.insert(i,r),t.setSelection(i,0)}_shouldReplaceFirstBlockWithParagraph(t,e){const n=this.editor.model;if(e>1||"backward"!=this.direction)return!1;if(!t.isCollapsed)return!1;const r=t.getFirstPosition(),i=n.schema.getLimitElement(r),o=i.getChild(0);return r.parent==o&&!!t.containsEntireContent(o)&&!!n.schema.checkChild(i,"paragraph")&&"paragraph"!=o.name}}const iy="word",oy="selection",sy="backward",ay="forward",cy={deleteContent:{unit:oy,direction:sy},deleteContentBackward:{unit:"codePoint",direction:sy},deleteWordBackward:{unit:iy,direction:sy},deleteHardLineBackward:{unit:oy,direction:sy},deleteSoftLineBackward:{unit:oy,direction:sy},deleteContentForward:{unit:"character",direction:ay},deleteWordForward:{unit:iy,direction:ay},deleteHardLineForward:{unit:oy,direction:ay},deleteSoftLineForward:{unit:oy,direction:ay}};class ly extends oc{constructor(t){super(t);const e=t.document;let n=0;e.on("keydown",(()=>{n++})),e.on("keyup",(()=>{n=0})),e.on("beforeinput",((r,i)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:s,inputType:a}=i,c=cy[a];if(!c)return;const u={direction:c.direction,unit:c.unit,sequence:n};u.unit==oy&&(u.selectionToRemove=t.createSelection(o[0])),"deleteContentBackward"===a&&(l.isAndroid&&(u.sequence=1),function(t){if(1!=t.length||t[0].isCollapsed)return!1;const e=t[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let n=0;for(const{nextPosition:r,item:i}of e){if(r.parent.is("$text")){const t=r.parent.data,e=r.offset;if(Ji(t,e)||to(t,e)||no(t,e))continue;n++}else(i.is("containerElement")||i.is("emptyElement"))&&n++;if(n>1)return!0}return!1}(o)&&(u.unit=oy,u.selectionToRemove=t.createSelection(o)));const d=new na(e,"delete",o[0]);e.fire(d,new ac(t,s,u)),d.stop.called&&r.stop()})),l.isBlink&&function(t){const e=t.view,n=e.document;let r=null,i=!1;function o(t){return t==mi.backspace||t==mi.delete}function s(t){return t==mi.backspace?sy:ay}n.on("keydown",((t,{keyCode:e})=>{r=e,i=!1})),n.on("keyup",((a,{keyCode:c,domEvent:l})=>{const u=n.selection,d=t.isEnabled&&c==r&&o(c)&&!u.isCollapsed&&!i;if(r=null,d){const t=u.getFirstRange(),r=new na(n,"delete",t),i={unit:oy,direction:s(c),selectionToRemove:u};n.fire(r,new ac(e,l,i))}})),n.on("beforeinput",((t,{inputType:e})=>{const n=cy[e];o(r)&&n&&n.direction==s(r)&&(i=!0)}),{priority:"high"}),n.on("beforeinput",((t,{inputType:e,data:n})=>{r==mi.delete&&"insertText"==e&&""==n&&t.stop()}),{priority:"high"})}(this)}observe(){}stopObserving(){}}class uy extends Lo{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document,r=t.model.document;e.addObserver(ly),this._undoOnBackspace=!1;const i=new ry(t,"forward");t.commands.add("deleteForward",i),t.commands.add("forwardDelete",i),t.commands.add("delete",new ry(t,"backward")),this.listenTo(n,"delete",((r,i)=>{n.isComposing||i.preventDefault();const{direction:o,sequence:s,selectionToRemove:a,unit:c}=i,l="forward"===o?"deleteForward":"delete",u={sequence:s};if("selection"==c){const e=Array.from(a.getRanges()).map((e=>t.editing.mapper.toModelRange(e)));u.selection=t.model.createSelection(e)}else u.unit=c;t.execute(l,u),e.scrollToTheSelection()}),{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",((e,n)=>{this._undoOnBackspace&&"backward"==n.direction&&1==n.sequence&&"codePoint"==n.unit&&(this._undoOnBackspace=!1,t.execute("undo"),n.preventDefault(),e.stop())}),{context:"$capture"}),this.listenTo(r,"change",(()=>{this._undoOnBackspace=!1})))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class dy extends Lo{static get requires(){return[ey,uy]}static get pluginName(){return"Typing"}}function hy(t,e){let n=t.start;return{text:Array.from(t.getWalker({ignoreElementEnd:!1})).reduce(((t,{item:r})=>r.is("$text")||r.is("$textProxy")?t+r.data:(n=e.createPositionAfter(r),"")),""),range:e.createRange(n,t.end)}}class fy extends(q()){constructor(t,e){super(),this.model=t,this.testCallback=e,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))})),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",((e,{directChange:n})=>{n&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))})),this.listenTo(t,"change:data",((t,e)=>{!e.isUndo&&e.isLocal&&this._evaluateTextBeforeSelection("data",{batch:e})}))}_evaluateTextBeforeSelection(t,e={}){const n=this.model,r=n.document.selection,i=n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),{text:o,range:s}=hy(i,n),a=this.testCallback(o);if(!a&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!a,a){const n=Object.assign(e,{text:o,range:s});"object"==typeof a&&Object.assign(n,a),this.fire(`matched:${t}`,n)}}}class py extends Lo{constructor(t){super(t),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const t=this.editor,e=t.model,n=t.editing.view,r=t.locale,i=e.document.selection;this.listenTo(n.document,"arrowKey",((t,e)=>{if(!i.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const n=e.keyCode==mi.arrowright,o=e.keyCode==mi.arrowleft;if(!n&&!o)return;const s=r.contentLanguageDirection;let a=!1;a="ltr"===s&&n||"rtl"===s&&o?this._handleForwardMovement(e):this._handleBackwardMovement(e),!0===a&&t.stop()}),{context:"$text",priority:"highest"}),this.listenTo(i,"change:range",((t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&ky(i.getFirstPosition(),this.attributes)||this._restoreGravity())})),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,n=this.editor.model,r=n.document.selection,i=r.getFirstPosition();return!this._isGravityOverridden&&(!i.isAtStart||!gy(r,e))&&!!ky(i,e)&&(by(t),gy(r,e)&&ky(i,e,!0)?vy(n,e):this._overrideGravity(),!0)}_handleBackwardMovement(t){const e=this.attributes,n=this.editor.model,r=n.document.selection,i=r.getFirstPosition();return this._isGravityOverridden?(by(t),this._restoreGravity(),ky(i,e,!0)?vy(n,e):my(n,e,i),!0):i.isAtStart?!!gy(r,e)&&(by(t),my(n,e,i),!0):!gy(r,e)&&ky(i,e,!0)?(by(t),my(n,e,i),!0):!!yy(i,e)&&(i.isAtEnd&&!gy(r,e)&&ky(i,e)?(by(t),my(n,e,i),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const t=this.editor,e=t.model,n=e.document.selection,r=t.editing.view.document;t.editing.view.addObserver(Qh);let i=!1;this.listenTo(r,"mousedown",(()=>{i=!0})),this.listenTo(r,"selectionChange",(()=>{const t=this.attributes;if(!i)return;if(i=!1,!n.isCollapsed)return;if(!gy(n,t))return;const r=n.getFirstPosition();ky(r,t)&&(r.isAtStart||ky(r,t,!0)?vy(e,t):this._isGravityOverridden||this._overrideGravity())}))}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection,n=this.attributes;this.listenTo(t,"insertContent",(()=>{const r=e.getFirstPosition();gy(e,n)&&ky(r,n)&&vy(t,n)}),{priority:"low"})}_handleDeleteContentAfterNode(){const t=this.editor,e=t.model,n=e.document.selection,r=t.editing.view;let i=!1,o=!1;this.listenTo(r.document,"delete",((t,e)=>{i="backward"===e.direction}),{priority:"high"}),this.listenTo(e,"deleteContent",(()=>{if(!i)return;const t=n.getFirstPosition();o=gy(n,this.attributes)&&!yy(t,this.attributes)}),{priority:"high"}),this.listenTo(e,"deleteContent",(()=>{i&&(i=!1,o||t.model.enqueueChange((()=>{const t=n.getFirstPosition();gy(n,this.attributes)&&ky(t,this.attributes)&&(t.isAtStart||ky(t,this.attributes,!0)?vy(e,this.attributes):this._isGravityOverridden||this._overrideGravity())})))}),{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change((t=>t.overrideSelectionGravity()))}_restoreGravity(){this.editor.model.change((t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null}))}}function gy(t,e){for(const n of e)if(t.hasAttribute(n))return!0;return!1}function my(t,e,n){const r=n.nodeBefore;t.change((n=>{if(r){const e=[],i=t.schema.isObject(r)&&t.schema.isInline(r);for(const[n,o]of r.getAttributes())!t.schema.checkAttribute("$text",n)||i&&!1===t.schema.getAttributeProperties(n).copyFromObject||e.push([n,o]);n.setSelectionAttribute(e)}else n.removeSelectionAttribute(e)}))}function vy(t,e){t.change((t=>{t.removeSelectionAttribute(e)}))}function by(t){t.preventDefault()}function yy(t,e){return ky(t.getShiftedBy(-1),e)}function ky(t,e,n=!1){const{nodeBefore:r,nodeAfter:i}=t;for(const o of e){const t=r?r.getAttribute(o):void 0,e=i?i.getAttribute(o):void 0;if((!n||void 0!==t&&void 0!==e)&&e!==t)return!0}return!1}const wy={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Sy('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Sy("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Sy("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Sy('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Sy('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Sy("'"),to:[null,"‚",null,"’"]}},_y={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Ay=["symbols","mathematical","typography","quotes"];function Cy(t){return"string"==typeof t?new RegExp(`(${Gm(t)})$`):t}function xy(t){return"string"==typeof t?()=>[t]:t instanceof Array?()=>t:t}function Ey(t){return(t.textNode?t.textNode:t.nodeAfter).getAttributes()}function Sy(t){return new RegExp(`(^|\\s)(${t})([^${t}]*)(${t})$`)}function My(t,e,n,r){return r.createRange(Iy(t,e,n,!0,r),Iy(t,e,n,!1,r))}function Iy(t,e,n,r,i){let o=t.textNode||(r?t.nodeBefore:t.nodeAfter),s=null;for(;o&&o.getAttribute(e)==n;)s=o,o=r?o.previousSibling:o.nextSibling;return s?i.createPositionAt(s,r?"before":"after"):t}function*Dy(t,e){for(const n of e)n&&t.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}class Ty extends Ro{execute(){this.editor.model.change((t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})}))}enterBlock(t){const e=this.editor.model,n=e.document.selection,r=e.schema,i=n.isCollapsed,o=n.getFirstRange(),s=o.start.parent,a=o.end.parent;if(r.isLimit(s)||r.isLimit(a))return i||s!=a||e.deleteContent(n),!1;if(i){const e=Dy(t.model.schema,n.getAttributes());return Oy(t,o.start),t.setSelectionAttribute(e),!0}{const r=!(o.start.isAtStart&&o.end.isAtEnd),i=s==a;if(e.deleteContent(n,{leaveUnmerged:r}),r){if(i)return Oy(t,n.focus),!0;t.setSelection(a,0)}}return!1}}function Oy(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}const Ny={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Py extends oc{constructor(t){super(t);const e=this.document;let n=!1;e.on("keydown",((t,e)=>{n=e.shiftKey})),e.on("beforeinput",((r,i)=>{if(!this.isEnabled)return;let o=i.inputType;l.isSafari&&n&&"insertParagraph"==o&&(o="insertLineBreak");const s=i.domEvent,a=Ny[o];if(!a)return;const c=new na(e,"enter",i.targetRanges[0]);e.fire(c,new ac(t,s,{isSoft:a.isSoft})),c.stop.called&&r.stop()}))}observe(){}stopObserving(){}}class Ly extends Lo{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document,r=this.editor.t;e.addObserver(Py),t.commands.add("enter",new Ty(t)),this.listenTo(n,"enter",((r,i)=>{n.isComposing||i.preventDefault(),i.isSoft||(t.execute("enter"),e.scrollToTheSelection())}),{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class By extends Ro{execute(){const t=this.editor.model,e=t.document;t.change((n=>{!function(t,e,n){const r=n.isCollapsed,i=n.getFirstRange(),o=i.start.parent,s=i.end.parent,a=o==s;if(r){const r=Dy(t.schema,n.getAttributes());Ry(t,e,i.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(r)}else{const r=!(i.start.isAtStart&&i.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:r}),a?Ry(t,e,n.focus):r&&e.setSelection(s,0)}}(t,n,e.selection),this.fire("afterExecute",{writer:n})}))}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const r=e.getFirstRange(),i=r.start.parent,o=r.end.parent;return!jy(i,t)&&!jy(o,t)||i===o}(t.schema,e.selection)}}function Ry(t,e,n){const r=e.createElement("softBreak");t.insertContent(r,n),e.setSelection(r,"after")}function jy(t,e){return!t.is("rootElement")&&(e.isLimit(t)||jy(t.parent,e))}class zy extends Lo{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,n=t.conversion,r=t.editing.view,i=r.document,o=this.editor.t;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(t,{writer:e})=>e.createEmptyElement("br")}),r.addObserver(Py),t.commands.add("shiftEnter",new By(t)),this.listenTo(i,"enter",((e,n)=>{i.isComposing||n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),r.scrollToTheSelection())}),{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class Fy extends(N()){constructor(){super(...arguments),this._stack=[]}add(t,e){const n=this._stack,r=n[0];this._insertDescriptor(t);const i=n[0];r===i||Vy(r,i)||this.fire("change:top",{oldDescriptor:r,newDescriptor:i,writer:e})}remove(t,e){const n=this._stack,r=n[0];this._removeDescriptor(t);const i=n[0];r===i||Vy(r,i)||this.fire("change:top",{oldDescriptor:r,newDescriptor:i,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex((e=>e.id===t.id));if(Vy(t,e[n]))return;n>-1&&e.splice(n,1);let r=0;for(;e[r]&&Uy(e[r],t);)r++;e.splice(r,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex((e=>e.id===t));n>-1&&e.splice(n,1)}}function Vy(t,e){return t&&e&&t.priority==e.priority&&Gy(t.classes)==Gy(e.classes)}function Uy(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&Gy(t.classes)>Gy(e.classes)}function Gy(t){return Array.isArray(t)?t.sort().join(","):t}const Hy='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',$y="ck-widget",Wy="ck-widget_selected";function Yy(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function qy(t,e,n={}){if(!t.is("containerElement"))throw new _("widget-to-widget-wrong-element-type",null,{element:t});return e.setAttribute("contenteditable","false",t),e.addClass($y,t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=tk,e.setCustomProperty("widgetLabel",[],t),n.label&&function(t,e){const n=t.getCustomProperty("widgetLabel");n.push(e)}(t,n.label),n.hasSelectionHandle&&function(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(t){const e=this.toDomElement(t),n=new Tf;return n.set("content",Hy),n.render(),e.appendChild(n.element),e}));e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}(t,e),Zy(t,e),t}function Xy(t,e,n){if(e.classes&&n.addClass(_i(e.classes),t),e.attributes)for(const r in e.attributes)n.setAttribute(r,e.attributes[r],t)}function Ky(t,e,n){if(e.classes&&n.removeClass(_i(e.classes),t),e.attributes)for(const r in e.attributes)n.removeAttribute(r,t)}function Zy(t,e,n=Xy,r=Ky){const i=new Fy;i.on("change:top",((e,i)=>{i.oldDescriptor&&r(t,i.oldDescriptor,i.writer),i.newDescriptor&&n(t,i.newDescriptor,i.writer)})),e.setCustomProperty("addHighlight",((t,e,n)=>i.add(e,n)),t),e.setCustomProperty("removeHighlight",((t,e,n)=>i.remove(e,n)),t)}function Qy(t,e,n={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),e.setAttribute("role","textbox",t),e.setAttribute("tabindex","-1",t),n.label&&e.setAttribute("aria-label",n.label,t),e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",((n,r,i)=>{e.setAttribute("contenteditable",i?"false":"true",t)})),t.on("change:isFocused",((n,r,i)=>{i?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)})),Zy(t,e),t}function Jy(t,e){const n=t.getSelectedElement();if(n){const r=rk(t);if(r)return e.createRange(e.createPositionAt(n,r))}return e.schema.findOptimalInsertionRange(t)}function tk(){return null}const ek="widget-type-around";function nk(t,e,n){return!!t&&Yy(t)&&!n.isInline(e)}function rk(t){return t.getAttribute(ek)}var ik=o(8508),ok={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(ik.A,ok),ik.A.locals;const sk=["before","after"],ak=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,ck="ck-widget__type-around_disabled";class lk extends Lo{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Ly,uy]}init(){const t=this.editor,e=t.editing.view;this.on("change:isEnabled",((n,r,i)=>{e.change((t=>{for(const n of e.document.roots)i?t.removeClass(ck,n):t.addClass(ck,n)})),i||t.model.change((t=>{t.removeSelectionAttribute(ek)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,e){const n=this.editor,r=n.editing.view,i=n.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(t,e),attributes:i}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(t,e,n,r){this.listenTo(t,e,((...t)=>{this.isEnabled&&n(...t)}),r)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,e=rk(t);if(!e)return!1;const n=t.getSelectedElement();return this._insertParagraph(n,e),!0}_enableTypeAroundUIInjection(){const t=this.editor,e=t.model.schema,n=t.locale.t,r={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",((t,i,o)=>{const s=o.mapper.toViewElement(i.item);s&&nk(s,i.item,e)&&(!function(t,e,n){const r=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(t){const n=this.toDomElement(t);return function(t,e){for(const n of sk){const r=new io({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${n}`],title:e[n],"aria-hidden":"true"},children:[t.ownerDocument.importNode(ak,!0)]});t.appendChild(r.render())}}(n,e),function(t){const e=new io({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});t.appendChild(e.render())}(n),n}));t.insert(t.createPositionAt(n,"end"),r)}(o.writer,r,s),s.getCustomProperty("widgetLabel").push((()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):"")))}),{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,e=t.model,n=e.document.selection,r=e.schema,i=t.editing.view;function o(t){return`ck-widget_type-around_show-fake-caret_${t}`}this._listenToIfEnabled(i.document,"arrowKey",((t,e)=>{this._handleArrowKeyPress(t,e)}),{context:[Yy,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",((e,n)=>{n.directChange&&t.model.change((t=>{t.removeSelectionAttribute(ek)}))})),this._listenToIfEnabled(e.document,"change:data",(()=>{const e=n.getSelectedElement();e&&nk(t.editing.mapper.toViewElement(e),e,r)||t.model.change((t=>{t.removeSelectionAttribute(ek)}))})),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",((t,e,n)=>{const i=n.writer;if(this._currentFakeCaretModelElement){const t=n.mapper.toViewElement(this._currentFakeCaretModelElement);t&&(i.removeClass(sk.map(o),t),this._currentFakeCaretModelElement=null)}const s=e.selection.getSelectedElement();if(!s)return;const a=n.mapper.toViewElement(s);if(!nk(a,s,r))return;const c=rk(e.selection);c&&(i.addClass(o(c),a),this._currentFakeCaretModelElement=s)})),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",((e,n,r)=>{r||t.model.change((t=>{t.removeSelectionAttribute(ek)}))}))}_handleArrowKeyPress(t,e){const n=this.editor,r=n.model,i=r.document.selection,o=r.schema,s=n.editing.view,a=function(t,e){const n=wi(t,e);return"down"===n||"right"===n}(e.keyCode,n.locale.contentLanguageDirection),c=s.document.selection.getSelectedElement();let l;nk(c,n.editing.mapper.toModelElement(c),o)?l=this._handleArrowKeyPressOnSelectedWidget(a):i.isCollapsed?l=this._handleArrowKeyPressWhenSelectionNextToAWidget(a):e.shiftKey||(l=this._handleArrowKeyPressWhenNonCollapsedSelection(a)),l&&(e.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const e=this.editor.model,n=rk(e.document.selection);return e.change((e=>n?n!==(t?"after":"before")&&(e.removeSelectionAttribute(ek),!0):(e.setSelectionAttribute(ek,t?"after":"before"),!0)))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const e=this.editor,n=e.model,r=n.schema,i=e.plugins.get("Widget"),o=i._getObjectElementNextToSelection(t);return!!nk(e.editing.mapper.toViewElement(o),o,r)&&(n.change((e=>{i._setSelectionOverElement(o),e.setSelectionAttribute(ek,t?"before":"after")})),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const e=this.editor,n=e.model,r=n.schema,i=e.editing.mapper,o=n.document.selection,s=t?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter;return!!nk(i.toViewElement(s),s,r)&&(n.change((e=>{e.setSelection(s,"on"),e.setSelectionAttribute(ek,t?"after":"before")})),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"mousedown",((n,r)=>{const i=r.domTarget.closest(".ck-widget__type-around__button");if(!i)return;const o=function(t){return t.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(i),s=function(t,e){const n=t.closest(".ck-widget");return e.mapDomToView(n)}(i,e.domConverter),a=t.editing.mapper.toModelElement(s);this._insertParagraph(a,o),r.preventDefault(),n.stop()}))}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,e=t.model.document.selection,n=t.editing.view;this._listenToIfEnabled(n.document,"enter",((n,r)=>{if("atTarget"!=n.eventPhase)return;const i=e.getSelectedElement(),o=t.editing.mapper.toViewElement(i),s=t.model.schema;let a;this._insertParagraphAccordingToFakeCaretPosition()?a=!0:nk(o,i,s)&&(this._insertParagraph(i,r.isSoft?"before":"after"),a=!0),a&&(r.preventDefault(),n.stop())}),{context:Yy})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",((e,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=t.selection)}),{priority:"high"}),l.isAndroid?this._listenToIfEnabled(t,"keydown",((t,e)=>{229==e.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()})):this._listenToIfEnabled(t,"compositionstart",(()=>{this._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,e=t.editing.view,n=t.model,r=n.schema;this._listenToIfEnabled(e.document,"delete",((e,i)=>{if("atTarget"!=e.eventPhase)return;const o=rk(n.document.selection);if(!o)return;const s=i.direction,a=n.document.selection.getSelectedElement(),c="forward"==s;if("before"===o===c)t.execute("delete",{selection:n.createSelection(a,"on")});else{const e=r.getNearestSelectionRange(n.createPositionAt(a,o),s);if(e)if(e.isCollapsed){const i=n.createSelection(e.start);if(n.modifySelection(i,{direction:s}),i.focus.isEqual(e.start)){const t=function(t,e){let n=e;for(const r of e.getAncestors({parentFirst:!0})){if(r.childCount>1||t.isLimit(r))break;n=r}return n}(r,e.start.parent);n.deleteContent(n.createSelection(t,"on"),{doNotAutoparagraph:!0})}else n.change((n=>{n.setSelection(e),t.execute(c?"deleteForward":"delete")}))}else n.change((n=>{n.setSelection(e),t.execute(c?"deleteForward":"delete")}))}i.preventDefault(),e.stop()}),{context:Yy})}_enableInsertContentIntegration(){const t=this.editor,e=this.editor.model,n=e.document.selection;this._listenToIfEnabled(t.model,"insertContent",((t,[r,i])=>{if(i&&!i.is("documentSelection"))return;const o=rk(n);return o?(t.stop(),e.change((t=>{const i=n.getSelectedElement(),s=e.createPositionAt(i,o),a=t.createSelection(s),c=e.insertContent(r,a);return t.setSelection(a),c}))):void 0}),{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"insertObject",((t,n)=>{const[,r,i={}]=n;if(r&&!r.is("documentSelection"))return;const o=rk(e);o&&(i.findOptimalPosition=o,n[3]=i)}),{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",((t,[n])=>{n&&!n.is("documentSelection")||rk(e)&&t.stop()}),{priority:"high"})}}function uk(t){const e=t.model;return(n,r)=>{const i=r.keyCode==mi.arrowup,o=r.keyCode==mi.arrowdown,s=r.shiftKey,a=e.document.selection;if(!i&&!o)return;const c=o;if(s&&function(t,e){return!t.isCollapsed&&t.isBackward==e}(a,c))return;const l=function(t,e,n){const r=t.model;if(n){const t=e.isCollapsed?e.focus:e.getLastPosition(),n=dk(r,t,"forward");if(!n)return null;const i=r.createRange(t,n),o=hk(r.schema,i,"backward");return o?r.createRange(t,o):null}{const t=e.isCollapsed?e.focus:e.getFirstPosition(),n=dk(r,t,"backward");if(!n)return null;const i=r.createRange(n,t),o=hk(r.schema,i,"forward");return o?r.createRange(o,t):null}}(t,a,c);if(l){if(l.isCollapsed){if(a.isCollapsed)return;if(s)return}(l.isCollapsed||function(t,e,n){const r=t.model,i=t.view.domConverter;if(n){const t=r.createSelection(e.start);r.modifySelection(t),t.focus.isAtEnd||e.start.isEqual(t.focus)||(e=r.createRange(t.focus,e.end))}const o=t.mapper.toViewRange(e),s=i.viewRangeToDom(o),a=Fr.getDomRangeRects(s);let c;for(const l of a)if(void 0!==c){if(Math.round(l.top)>=c)return!1;c=Math.max(c,Math.round(l.bottom))}else c=Math.round(l.bottom);return!0}(t,l,c))&&(e.change((t=>{const n=c?l.end:l.start;if(s){const r=e.createSelection(a.anchor);r.setFocus(n),t.setSelection(r)}else t.setSelection(n)})),n.stop(),r.preventDefault(),r.stopPropagation())}}}function dk(t,e,n){const r=t.schema,i=t.createRangeIn(e.root),o="forward"==n?"elementStart":"elementEnd";for(const{previousPosition:s,item:a,type:c}of i.getWalker({startPosition:e,direction:n})){if(r.isLimit(a)&&!r.isInline(a))return s;if(c==o&&r.isBlock(a))return null}return null}function hk(t,e,n){const r="backward"==n?e.end:e.start;if(t.checkChild(r,"$text"))return r;for(const{nextPosition:i}of e.getWalker({direction:n}))if(t.checkChild(i,"$text"))return i;return null}var fk=o(695),pk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(fk.A,pk),fk.A.locals;class gk extends Lo{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[lk,uy]}init(){const t=this.editor,e=t.editing.view,n=e.document,r=t.t;this.editor.editing.downcastDispatcher.on("selection",((e,n,r)=>{const i=r.writer,o=n.selection;if(o.isCollapsed)return;const s=o.getSelectedElement();if(!s)return;const a=t.editing.mapper.toViewElement(s);var c;Yy(a)&&r.consumable.consume(o,"selection")&&i.setSelection(i.createRangeOn(a),{fake:!0,label:(c=a,c.getCustomProperty("widgetLabel").reduce(((t,e)=>"function"==typeof e?t?t+". "+e():e():t?t+". "+e:e),""))})})),this.editor.editing.downcastDispatcher.on("selection",((t,e,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const r=n.writer,i=r.document.selection;let o=null;for(const s of i.getRanges())for(const t of s){const e=t.item;Yy(e)&&!mk(e,o)&&(r.addClass(Wy,e),this._previouslySelected.add(e),o=e)}}),{priority:"low"}),e.addObserver(Qh),this.listenTo(n,"mousedown",((...t)=>this._onMousedown(...t))),this.listenTo(n,"arrowKey",((...t)=>{this._handleSelectionChangeOnArrowKeyPress(...t)}),{context:[Yy,"$text"]}),this.listenTo(n,"arrowKey",((...t)=>{this._preventDefaultOnArrowKeyPress(...t)}),{context:"$root"}),this.listenTo(n,"arrowKey",uk(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",((t,e)=>{this._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())}),{context:"$root"}),this.listenTo(n,"tab",((t,e)=>{"atTarget"==t.eventPhase&&(e.shiftKey||this._selectFirstNestedEditable()&&(e.preventDefault(),t.stop()))}),{context:Yy,priority:"low"}),this.listenTo(n,"tab",((t,e)=>{e.shiftKey&&this._selectAncestorWidget()&&(e.preventDefault(),t.stop())}),{priority:"low"}),this.listenTo(n,"keydown",((t,e)=>{e.keystroke==mi.esc&&this._selectAncestorWidget()&&(e.preventDefault(),t.stop())}),{priority:"low"}),t.accessibility.addKeystrokeInfoGroup({id:"widget",label:r("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:r("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:r("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:r("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:r("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(t,e){const n=this.editor,r=n.editing.view,i=r.document;let o=e.target;if(e.domEvent.detail>=3)return void(this._selectBlockContent(o)&&e.preventDefault());if(function(t){let e=t;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(Yy(e))return!1;e=e.parent}return!1}(o))return;if(!Yy(o)&&(o=o.findAncestor(Yy),!o))return;l.isAndroid&&e.preventDefault(),i.isFocused||r.focus();const s=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(s)}_selectBlockContent(t){const e=this.editor,n=e.model,r=e.editing.mapper,i=n.schema,o=r.findMappedViewAncestor(this.editor.editing.view.createPositionAt(t,0)),s=function(t,e){for(const n of t.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(n,"$text"))return n;if(e.isLimit(n)&&!e.isObject(n))break}return null}(r.toModelElement(o),n.schema);return!!s&&(n.change((t=>{const e=i.isLimit(s)?null:function(t,e){const n=new ll({startPosition:t});for(const{item:r}of n){if(e.isLimit(r)||!r.is("element"))return null;if(e.checkChild(r,"$text"))return r}return null}(t.createPositionAfter(s),i),n=t.createPositionAt(s,0),r=e?t.createPositionAt(e,0):t.createPositionAt(s,"end");t.setSelection(t.createRange(n,r))})),!0)}_handleSelectionChangeOnArrowKeyPress(t,e){const n=e.keyCode,r=this.editor.model,i=r.schema,o=r.document.selection,s=o.getSelectedElement(),a=wi(n,this.editor.locale.contentLanguageDirection),c="down"==a||"right"==a,l="up"==a||"down"==a;if(s&&i.isObject(s)){const n=c?o.getLastPosition():o.getFirstPosition(),s=i.getNearestSelectionRange(n,c?"forward":"backward");return void(s&&(r.change((t=>{t.setSelection(s)})),e.preventDefault(),t.stop()))}if(!o.isCollapsed&&!e.shiftKey){const n=o.getFirstPosition(),s=o.getLastPosition(),a=n.nodeAfter,l=s.nodeBefore;return void((a&&i.isObject(a)||l&&i.isObject(l))&&(r.change((t=>{t.setSelection(c?s:n)})),e.preventDefault(),t.stop()))}if(!o.isCollapsed)return;const u=this._getObjectElementNextToSelection(c);if(u&&i.isObject(u)){if(i.isInline(u)&&l)return;this._setSelectionOverElement(u),e.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,e){const n=this.editor.model,r=n.schema,i=n.document.selection.getSelectedElement();i&&r.isObject(i)&&(e.preventDefault(),t.stop())}_handleDelete(t){const e=this.editor.model.document.selection;if(!this.editor.model.canEditAt(e))return;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change((t=>{let r=e.anchor.parent;for(;r.isEmpty;){const e=r;r=e.parent,t.remove(e)}this._setSelectionOverElement(n)})),!0):void 0}_setSelectionOverElement(t){this.editor.model.change((e=>{e.setSelection(e.createRangeOn(t))}))}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,r=e.document.selection,i=e.createSelection(r);if(e.modifySelection(i,{direction:t?"forward":"backward"}),i.isEqual(r))return null;const o=t?i.focus.nodeBefore:i.focus.nodeAfter;return o&&n.isObject(o)?o:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(Wy,e);this._previouslySelected.clear()}_selectFirstNestedEditable(){const t=this.editor,e=this.editor.editing.view.document;for(const n of e.selection.getFirstRange().getItems())if(n.is("editableElement")){const e=t.editing.mapper.toModelElement(n);if(!e)continue;const r=t.model.createPositionAt(e,0),i=t.model.schema.getNearestSelectionRange(r,"forward");return t.model.change((t=>{t.setSelection(i)})),!0}return!1}_selectAncestorWidget(){const t=this.editor,e=t.editing.mapper,n=t.editing.view.document.selection.getFirstPosition().parent,r=(n.is("$text")?n.parent:n).findAncestor(Yy);if(!r)return!1;const i=e.toModelElement(r);return!!i&&(t.model.change((t=>{t.setSelection(i,"on")})),!0)}}function mk(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}class vk extends Lo{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Tm]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",(e=>{(function(t){const e=t.getSelectedElement();return!(!e||!Yy(e))})(t.editing.view.document.selection)&&e.stop()}),{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(()=>{this._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(()=>{this._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(()=>{this._updateToolbarsVisibility()}),{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:n,getRelatedElement:r,balloonClassName:i="ck-toolbar-container"}){if(!n.length)return void A("widget-toolbar-no-items",{toolbarId:t});const o=this.editor,s=o.t,a=new Cp(o.locale);if(a.ariaLabel=e||s("Widget toolbar"),this._toolbarDefinitions.has(t))throw new _("widget-toolbar-duplicated",this,{toolbarId:t});const c={view:a,getRelatedElement:r,balloonClassName:i,itemsConfig:n,initialized:!1};o.ui.addToolbar(a,{isContextual:!0,beforeFocus:()=>{const t=r(o.editing.view.document.selection);t&&this._showToolbar(c,t)},afterBlur:()=>{this._hideToolbar(c)}}),this._toolbarDefinitions.set(t,c)}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const r of this._toolbarDefinitions.values()){const i=r.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&i)if(this.editor.ui.focusTracker.isFocused){const o=i.getAncestors().length;o>t&&(t=o,e=i,n=r)}else this._isToolbarVisible(r)&&this._hideToolbar(r);else this._isToolbarInBalloon(r)&&this._hideToolbar(r)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?bk(this.editor,e):this._isToolbarInBalloon(t)||(t.initialized||(t.initialized=!0,t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:t.view,position:yk(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(()=>{for(const t of this._toolbarDefinitions.values())if(this._isToolbarVisible(t)){const e=t.getRelatedElement(this.editor.editing.view.document.selection);bk(this.editor,e)}})))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function bk(t,e){const n=t.plugins.get("ContextualBalloon"),r=yk(t,e);n.updatePosition(r)}function yk(t,e){const n=t.editing.view,r=Lg.defaultPositions;return{target:n.domConverter.mapViewToDom(e),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}q(),Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,q();var kk=o(4095),wk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(kk.A,wk),kk.A.locals;const _k=qr("px");class Ak extends Do{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",(t=>!t))],style:{left:t.to("left",(t=>_k(t))),top:t.to("top",(t=>_k(t))),width:t.to("width",(t=>_k(t)))}}})}}class Ck extends Lo{constructor(){super(...arguments),this.removeDropMarkerDelayed=Qi((()=>this.removeDropMarker()),40),this._updateDropMarkerThrottled=$g((t=>this._updateDropMarker(t)),40),this._reconvertMarkerThrottled=$g((()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")}),0),this._dropTargetLineView=new Ak,this._domEmitter=new(Or()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:t}of this._scrollables.values())t.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(t,e,n,r,i,o){this.removeDropMarkerDelayed.cancel();const s=xk(this.editor,t,e,n,r,i,o);if(s)return o&&o.containsRange(s)?this.removeDropMarker():void this._updateDropMarkerThrottled(s)}getFinalDropRange(t,e,n,r,i,o){const s=xk(this.editor,t,e,n,r,i,o);return this.removeDropMarker(),s}removeDropMarker(){const t=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,t.markers.has("drop-target")&&t.change((t=>{t.removeMarker("drop-target")}))}_setupDropMarker(){const t=this.editor;t.ui.view.body.add(this._dropTargetLineView),t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(e,{writer:n})=>{if(t.model.schema.checkChild(e.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);e.markerRange.isCollapsed?this._updateDropTargetLine(e.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(t){const e=this.editor,n=e.model.markers;e.model.change((e=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(t)||e.updateMarker("drop-target",{range:t}):e.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})}))}_createDropTargetPosition(t){return t.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(t){const e=this.toDomElement(t);return e.append("⁠",t.createElement("span"),"⁠"),e}))}_updateDropTargetLine(t){const e=this.editor.editing,n=t.start.nodeBefore,r=t.start.nodeAfter,o=t.start.parent,s=n?e.mapper.toViewElement(n):null,a=s?e.view.domConverter.mapViewToDom(s):null,c=r?e.mapper.toViewElement(r):null,l=c?e.view.domConverter.mapViewToDom(c):null,u=e.mapper.toViewElement(o);if(!u)return;const d=e.view.domConverter.mapViewToDom(u),h=this._getScrollableRect(u),{scrollX:f,scrollY:p}=i.window,g=a?new Fr(a):null,m=l?new Fr(l):null,v=new Fr(d).excludeScrollbarsAndBorders(),b=g?g.bottom:v.top,y=m?m.top:v.bottom,k=i.window.getComputedStyle(d),w=b<=y?(b+y)/2:y;if(h.top<w&&w<h.bottom){const t=v.left+parseFloat(k.paddingLeft),e=v.right-parseFloat(k.paddingRight),n=Math.max(t+f,h.left),r=Math.min(e+f,h.right);this._dropTargetLineView.set({isVisible:!0,left:n,top:w+p,width:r-n})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(t){const e=t.root.rootName;let n;if(this._scrollables.has(e))n=this._scrollables.get(e).domElement;else{n=function(t){let e=t;do{e=e.parentElement;const t=i.window.getComputedStyle(e).overflowY;if("auto"==t||"scroll"==t)break}while("BODY"!=e.tagName);return e}(this.editor.editing.view.domConverter.mapViewToDom(t)),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const r=new Wr(n,this._reconvertMarkerThrottled);this._scrollables.set(e,{domElement:n,resizeObserver:r})}return new Fr(n).excludeScrollbarsAndBorders()}}function xk(t,e,n,r,i,o,s){const a=t.model,c=t.editing.mapper;let l=Ik(t,e);for(;l;){if(!o)if(a.schema.checkChild(l,"$text")){if(n){const e=n[0].start,o=c.toModelPosition(e);if(!s||Array.from(s.getItems()).every((t=>a.schema.checkChild(o,t)))){if(a.schema.checkChild(o,"$text"))return a.createRange(o);if(e)return Sk(t,Ik(t,e.parent),r,i)}}}else if(a.schema.isInline(l))return Sk(t,l,r,i);if(a.schema.isBlock(l))return Sk(t,l,r,i);if(a.schema.checkChild(l,"$block")){const e=Array.from(l.getChildren()).filter((e=>e.is("element")&&!Ek(t,e)));let n=0,o=e.length;if(0==o)return a.createRange(a.createPositionAt(l,"end"));for(;n<o-1;){const s=Math.floor((n+o)/2);"before"==Mk(t,e[s],r,i)?o=s:n=s}return Sk(t,e[n],r,i)}l=l.parent}return null}function Ek(t,e){const n=t.editing.mapper,r=t.editing.view.domConverter,o=n.toViewElement(e);if(!o)return!0;const s=r.mapViewToDom(o);return"none"!=i.window.getComputedStyle(s).float}function Sk(t,e,n,r){const i=t.model;return i.createRange(i.createPositionAt(e,Mk(t,e,n,r)))}function Mk(t,e,n,r){const i=t.editing.mapper,o=t.editing.view.domConverter,s=i.toViewElement(e),a=o.mapViewToDom(s),c=new Fr(a);return t.model.schema.isInline(e)?n<(c.left+c.right)/2?"before":"after":r<(c.top+c.bottom)/2?"before":"after"}function Ik(t,e){const n=t.editing.mapper,r=t.editing.view,i=n.toModelElement(e);if(i)return i;const o=r.createPositionBefore(e),s=n.findMappedViewAncestor(o);return n.toModelElement(s)}var Dk=Object.defineProperty,Tk=Object.defineProperties,Ok=Object.getOwnPropertyDescriptors,Nk=Object.getOwnPropertySymbols,Pk=Object.prototype.hasOwnProperty,Lk=Object.prototype.propertyIsEnumerable,Bk=(t,e,n)=>e in t?Dk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;class Rk extends Lo{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Or())}static get pluginName(){return"DragDropBlockToolbar"}init(){const t=this.editor;if(this.listenTo(t,"change:isReadOnly",((t,e,n)=>{n?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")})),l.isAndroid&&this.forceDisabled("noAndroidSupport"),t.plugins.has("BlockToolbar")){const e=t.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(e,"dragstart",((t,e)=>this._handleBlockDragStart(e))),this._domEmitter.listenTo(i.document,"dragover",((t,e)=>this._handleBlockDragging(e))),this._domEmitter.listenTo(i.document,"drop",((t,e)=>this._handleBlockDragging(e))),this._domEmitter.listenTo(i.document,"dragend",(()=>this._handleBlockDragEnd()),{useCapture:!0}),this.isEnabled&&e.setAttribute("draggable","true"),this.on("change:isEnabled",((t,n,r)=>{e.setAttribute("draggable",r?"true":"false")}))}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(t){if(!this.isEnabled)return;const e=this.editor.model,n=e.document.selection,r=this.editor.editing.view,i=Array.from(n.getSelectedBlocks()),o=e.createRange(e.createPositionBefore(i[0]),e.createPositionAfter(i[i.length-1]));e.change((t=>t.setSelection(o))),this._isBlockDragging=!0,r.focus(),r.getObserver(_b).onDomEvent(t)}_handleBlockDragging(t){if(!this.isEnabled||!this._isBlockDragging)return;const e=t.clientX+("ltr"==this.editor.locale.contentLanguageDirection?100:-100),n=t.clientY,r=document.elementFromPoint(e,n),i=this.editor.editing.view;var o,s;r&&r.closest(".ck-editor__editable")&&i.getObserver(_b).onDomEvent((o=((t,e)=>{for(var n in e||(e={}))Pk.call(e,n)&&Bk(t,n,e[n]);if(Nk)for(var n of Nk(e))Lk.call(e,n)&&Bk(t,n,e[n]);return t})({},t),s={type:t.type,dataTransfer:t.dataTransfer,target:r,clientX:e,clientY:n,preventDefault:()=>t.preventDefault(),stopPropagation:()=>t.stopPropagation()},Tk(o,Ok(s))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var jk=o(7793),zk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(jk.A,zk),jk.A.locals;class Fk extends Lo{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=Qi((()=>this._clearDraggableAttributes()),40),this._blockMode=!1,this._domEmitter=new(Or())}static get pluginName(){return"DragDrop"}static get requires(){return[Kb,gk,Ck,Rk]}init(){const t=this.editor,e=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,e.addObserver(_b),e.addObserver(Qh),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",((t,e,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",((t,e,n)=>{n||this._finalizeDragging(!1)})),l.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,e=t.model,n=t.editing.view,r=n.document,o=t.plugins.get(Ck);this.listenTo(r,"dragstart",((t,n)=>{if(n.target&&n.target.is("editableElement"))return void n.preventDefault();if(this._prepareDraggedRange(n.target),!this._draggedRange)return void n.preventDefault();this._draggingUid=b(),n.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",n.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const r=e.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(n.dataTransfer,r,"dragstart");const{dataTransfer:i,domTarget:o,domEvent:s}=n,{clientX:a}=s;this._updatePreview({dataTransfer:i,domTarget:o,clientX:a}),n.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")}),{priority:"low"}),this.listenTo(r,"dragend",((t,e)=>{this._finalizeDragging(!e.dataTransfer.isCanceled&&"move"==e.dataTransfer.dropEffect)}),{priority:"low"}),this._domEmitter.listenTo(i.document,"dragend",(()=>{this._blockMode=!1}),{useCapture:!0}),this.listenTo(r,"dragenter",(()=>{this.isEnabled&&n.focus()})),this.listenTo(r,"dragleave",(()=>{o.removeDropMarkerDelayed()})),this.listenTo(r,"dragging",((t,e)=>{if(!this.isEnabled)return void(e.dataTransfer.dropEffect="none");const{clientX:n,clientY:r}=e.domEvent;o.updateDropMarker(e.target,e.targetRanges,n,r,this._blockMode,this._draggedRange),this._draggedRange||(e.dataTransfer.dropEffect="copy"),l.isGecko||("copy"==e.dataTransfer.effectAllowed?e.dataTransfer.dropEffect="copy":["all","copyMove"].includes(e.dataTransfer.effectAllowed)&&(e.dataTransfer.dropEffect="move")),t.stop()}),{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor,e=t.editing.view.document,n=t.plugins.get(Ck);this.listenTo(e,"clipboardInput",((e,r)=>{if("drop"!=r.method)return;const{clientX:i,clientY:o}=r.domEvent,s=n.getFinalDropRange(r.target,r.targetRanges,i,o,this._blockMode,this._draggedRange);return s?(this._draggedRange&&this._draggingUid!=r.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==Vk(r.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(s,!0)?(this._finalizeDragging(!1),void e.stop()):void(r.targetRanges=[t.editing.mapper.toViewRange(s)])):(this._finalizeDragging(!1),void e.stop())}),{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(Kb);t.on("contentInsertion",((t,e)=>{if(!this.isEnabled||"drop"!==e.method)return;const n=e.targetRanges.map((t=>this.editor.editing.mapper.toModelRange(t)));this.editor.model.change((t=>t.setSelection(n)))}),{priority:"high"}),t.on("contentInsertion",((t,e)=>{if(!this.isEnabled||"drop"!==e.method)return;const n="move"==Vk(e.dataTransfer),r=!e.resultRange||!e.resultRange.isCollapsed;this._finalizeDragging(r&&n)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,e=t.editing.view,n=e.document;this.listenTo(n,"mousedown",((r,i)=>{if(l.isAndroid||!i)return;this._clearDraggableAttributesDelayed.cancel();let o=Uk(i.target);if(l.isBlink&&!t.isReadOnly&&!o&&!n.selection.isCollapsed){const t=n.selection.getSelectedElement();t&&Yy(t)||(o=n.selection.editableElement)}o&&(e.change((t=>{t.setAttribute("draggable","true",o)})),this._draggableElement=t.editing.mapper.toModelElement(o))})),this.listenTo(n,"mouseup",(()=>{l.isAndroid||this._clearDraggableAttributesDelayed()}))}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change((e=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&e.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null}))}_finalizeDragging(t){const e=this.editor,n=e.model;e.plugins.get(Ck).removeDropMarker(),this._clearDraggableAttributes(),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(t&&this.isEnabled&&n.change((t=>{const e=n.createSelection(this._draggedRange);n.deleteContent(e,{doNotAutoparagraph:!0});const r=e.getFirstPosition().parent;r.isEmpty&&!n.schema.checkChild(r,"$text")&&n.schema.checkChild(r,"paragraph")&&t.insertElement("paragraph",r,0)})),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(t){const e=this.editor,n=e.model,r=n.document.selection,i=t?Uk(t):null;if(i){const t=e.editing.mapper.toModelElement(i);return this._draggedRange=Fl.fromRange(n.createRangeOn(t)),this._blockMode=n.schema.isBlock(t),void(e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop"))}if(r.isCollapsed&&!r.getFirstPosition().parent.isEmpty)return;const o=Array.from(r.getSelectedBlocks()),s=r.getFirstRange();if(0==o.length)return void(this._draggedRange=Fl.fromRange(s));const a=Gk(n,o);if(o.length>1)this._draggedRange=Fl.fromRange(a),this._blockMode=!0;else if(1==o.length){const t=s.start.isTouching(a.start)&&s.end.isTouching(a.end);this._draggedRange=Fl.fromRange(t?a:s),this._blockMode=t}n.change((t=>t.setSelection(this._draggedRange.toRange())))}_updatePreview({dataTransfer:t,domTarget:e,clientX:n}){const r=this.editor.editing.view,o=r.document.selection.editableElement,s=r.domConverter.mapViewToDom(o),a=i.window.getComputedStyle(s);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=kt(i.document,"div",{style:"position: fixed; left: -999999px;"}),i.document.body.appendChild(this._previewContainer));const c=new Fr(s);if(s.contains(e))return;const u=parseFloat(a.paddingLeft),d=kt(i.document,"div");d.className="ck ck-content",d.style.width=a.width,d.style.paddingLeft=`${c.left-n+u}px`,l.isiOS&&(d.style.backgroundColor="white"),d.innerHTML=t.getData("text/html"),t.setDragImage(d,0,0),this._previewContainer.appendChild(d)}}function Vk(t){return l.isGecko?t.dropEffect:["all","copyMove"].includes(t.effectAllowed)?"move":"copy"}function Uk(t){if(t.is("editableElement"))return null;if(t.hasClass("ck-widget__selection-handle"))return t.findAncestor(Yy);if(Yy(t))return t;const e=t.findAncestor((t=>Yy(t)||t.is("editableElement")));return Yy(e)?e:null}function Gk(t,e){const n=e[0],r=e[e.length-1],i=n.getCommonAncestor(r),o=t.createPositionBefore(n),s=t.createPositionAfter(r);if(i&&i.is("element")&&!t.schema.isLimit(i)){const e=t.createRangeOn(i),n=o.isTouching(e.start),r=s.isTouching(e.end);if(n&&r)return Gk(t,[i])}return t.createRange(o,s)}class Hk extends Lo{static get pluginName(){return"PastePlainText"}static get requires(){return[Kb]}init(){const t=this.editor,e=t.model,n=t.editing.view,r=n.document,i=e.document.selection;let o=!1;n.addObserver(_b),this.listenTo(r,"keydown",((t,e)=>{o=e.shiftKey})),t.plugins.get(Kb).on("contentInsertion",((t,n)=>{(o||function(t,e){if(t.childCount>1)return!1;const n=t.getChild(0);return!e.isObject(n)&&0==Array.from(n.getAttributeKeys()).length}(n.content,e.schema))&&e.change((t=>{const r=Array.from(i.getAttributes()).filter((([t])=>e.schema.getAttributeProperties(t).isFormatting));i.isCollapsed||e.deleteContent(i,{doNotAutoparagraph:!0}),r.push(...i.getAttributes());const o=t.createRangeIn(n.content);for(const e of o.getItems())e.is("$textProxy")&&t.setAttributes(r,e)}))}))}}class $k extends Lo{static get pluginName(){return"Clipboard"}static get requires(){return[Xb,Kb,Fk,Hk]}init(){const t=this.editor,e=this.editor.t;t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Copy selected content"),keystroke:"CTRL+C"},{label:e("Paste content"),keystroke:"CTRL+V"},{label:e("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class Wk extends Ro{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let n=t.schema.getLimitElement(e);if(e.containsEntireContent(n)||!Yk(t.schema,n))do{if(n=n.parent,!n)return}while(!Yk(t.schema,n));t.change((t=>{t.setSelection(n,"in")}))}}function Yk(t,e){return t.isLimit(e)&&(t.checkChild(e,"$text")||t.checkChild(e,"paragraph"))}const qk=yi("Ctrl+A");class Xk extends Lo{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,e=t.t,n=t.editing.view.document;t.commands.add("selectAll",new Wk(t)),this.listenTo(n,"keydown",((e,n)=>{bi(n)===qk&&(t.execute("selectAll"),n.preventDefault())})),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Select all"),keystroke:"CTRL+A"}]})}}class Kk extends Lo{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",(()=>{const t=this._createButton(Lf);return t.set({tooltip:!0}),t})),t.ui.componentFactory.add("menuBar:selectAll",(()=>this._createButton(Yv)))}_createButton(t){const e=this.editor,n=e.locale,r=e.commands.get("selectAll"),i=new t(e.locale),o=n.t;return i.set({label:o("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),i.bind("isEnabled").to(r,"isEnabled"),this.listenTo(i,"execute",(()=>{e.execute("selectAll"),e.editing.view.focus()})),i}}class Zk extends Lo{static get requires(){return[Xk,Kk]}static get pluginName(){return"SelectAll"}}var Qk=Object.defineProperty,Jk=Object.getOwnPropertySymbols,tw=Object.prototype.hasOwnProperty,ew=Object.prototype.propertyIsEnumerable,nw=(t,e,n)=>e in t?Qk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;class rw extends Ro{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(t.data,"set",((t,e)=>{e[1]=((t,e)=>{for(var n in e||(e={}))tw.call(e,n)&&nw(t,n,e[n]);if(Jk)for(var n of Jk(e))ew.call(e,n)&&nw(t,n,e[n]);return t})({},e[1]);const n=e[1];n.batchType||(n.batchType={isUndoable:!1})}),{priority:"high"}),this.listenTo(t.data,"set",((t,e)=>{e[1].batchType.isUndoable||this.clearStack()}))}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const r=this.editor.model,i=r.document,o=[],s=t.map((t=>t.getTransformedByOperations(n))),a=s.flat();for(const c of s){const t=c.filter((t=>t.root!=i.graveyard)).filter((t=>!ow(t,a)));t.length&&(iw(t),o.push(t[0]))}o.length&&r.change((t=>{t.setSelection(o,{backward:e})}))}_undo(t,e){const n=this.editor.model,r=n.document;this._createdBatches.add(e);const i=t.operations.slice().filter((t=>t.isDocumentOperation));i.reverse();for(const o of i){const t=o.baseVersion+1,i=Array.from(r.history.getOperations(t)),s=Ld([o.getReversed()],i,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let a of s){const t=a.affectedSelectable;t&&!n.canEditAt(t)&&(a=new xd(a.baseVersion)),e.addOperation(a),n.applyOperation(a),r.history.setOperationAsUndone(o,a)}}}}function iw(t){t.sort(((t,e)=>t.start.isBefore(e.start)?-1:1));for(let e=1;e<t.length;e++){const n=t[e-1].getJoined(t[e],!0);n&&(e--,t.splice(e,2,n))}}function ow(t,e){return e.some((e=>e!==t&&e.containsRange(t,!0)))}class sw extends rw{execute(t=null){const e=t?this._stack.findIndex((e=>e.batch==t)):this._stack.length-1,n=this._stack.splice(e,1)[0],r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,(()=>{this._undo(n.batch,r);const t=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,t)})),this.fire("revert",n.batch,r),this.refresh()}}class aw extends rw{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,(()=>{const n=t.batch.operations[t.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(n);this._restoreSelection(t.selection.ranges,t.selection.isBackward,r),this._undo(t.batch,e)})),this.refresh()}}class cw extends Lo{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const t=this.editor,e=t.t;this._undoCommand=new sw(t),this._redoCommand=new aw(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",((t,e)=>{const n=e[0];if(!n.isDocumentOperation)return;const r=n.batch,i=this._redoCommand.createdBatches.has(r),o=this._undoCommand.createdBatches.has(r);this._batchRegistry.has(r)||(this._batchRegistry.add(r),r.isUndoable&&(i?this._undoCommand.addBatch(r):o||(this._undoCommand.addBatch(r),this._redoCommand.clearStack())))}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",((t,e,n)=>{this._redoCommand.addBatch(n)})),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Undo"),keystroke:"CTRL+Z"},{label:e("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class lw extends Lo{static get pluginName(){return"UndoUI"}init(){const t=this.editor,e=t.locale,n=t.t,r="ltr"==e.uiLanguageDirection?vf.undo:vf.redo,i="ltr"==e.uiLanguageDirection?vf.redo:vf.undo;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",r),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",i)}_addButtonsToFactory(t,e,n,r){const i=this.editor;i.ui.componentFactory.add(t,(()=>{const i=this._createButton(Lf,t,e,n,r);return i.set({tooltip:!0}),i})),i.ui.componentFactory.add("menuBar:"+t,(()=>this._createButton(Yv,t,e,n,r)))}_createButton(t,e,n,r,i){const o=this.editor,s=o.locale,a=o.commands.get(e),c=new t(s);return c.set({label:n,icon:i,keystroke:r}),c.bind("isEnabled").to(a,"isEnabled"),this.listenTo(c,"execute",(()=>{o.execute(e),o.editing.view.focus()})),c}}class uw extends Lo{static get requires(){return[cw,lw]}static get pluginName(){return"Undo"}}class dw extends(q()){constructor(){super();const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise(((n,r)=>{e.onload=()=>{const t=e.result;this._data=t,n(t)},e.onerror=()=>{r("error")},e.onabort=()=>{r("aborted")},this._reader.readAsDataURL(t)}))}abort(){this._reader.abort()}}class hw extends Lo{constructor(){super(...arguments),this.loaders=new Yi,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[mf]}init(){this.loaders.on("change",(()=>this._updatePendingAction())),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((t,e)=>e?t/e*100:0))}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return A("filerepository-no-upload-adapter"),null;const e=new fw(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then((t=>{this._loadersMap.set(t,e)})).catch((()=>{})),e.on("change:uploaded",(()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t})),e.on("change:uploadTotal",(()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t})),e}destroyLoader(t){const e=t instanceof fw?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach(((t,n)=>{t===e&&this._loadersMap.delete(n)}))}_updatePendingAction(){const t=this.editor.plugins.get(mf);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=t=>`${e("Upload in progress")} ${parseInt(t)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}class fw extends(q()){constructor(t,e){super(),this.id=b(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new dw,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((t,e)=>e?t/e*100:0)),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((t=>this._filePromiseWrapper?t:null)):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new _("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((t=>this._reader.read(t))).then((t=>{if("reading"!==this.status)throw this.status;return this.status="idle",t})).catch((t=>{if("aborted"===t)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:t}))}upload(){if("idle"!=this.status)throw new _("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((()=>this._adapter.upload())).then((t=>(this.uploadResponse=t,this.status="idle",t))).catch((t=>{if("aborted"===this.status)throw"aborted";throw this.status="error",t}))}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((()=>{})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise(((n,r)=>{e.rejecter=r,e.isFulfilled=!1,t.then((t=>{e.isFulfilled=!0,n(t)})).catch((t=>{e.isFulfilled=!0,r(t)}))})),e}}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const pw="ckCsrfToken",gw="abcdefghijklmnopqrstuvwxyz0123456789";function mw(){let t=function(t){t=t.toLowerCase();const e=document.cookie.split(";");for(const n of e){const e=n.split("=");if(decodeURIComponent(e[0].trim().toLowerCase())===t)return decodeURIComponent(e[1])}return null}(pw);var e,n;return t&&40==t.length||(t=function(t){let e="";const n=new Uint8Array(t);window.crypto.getRandomValues(n);for(let r=0;r<n.length;r++){const t=gw.charAt(n[r]%gw.length);e+=Math.random()>.5?t.toUpperCase():t}return e}(40),e=pw,n=t,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+";path=/"),t}class vw{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then((t=>new Promise(((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const r=this.xhr,i=this.loader,o=(0,this.t)("Cannot upload file:")+` ${n.name}.`;r.addEventListener("error",(()=>e(o))),r.addEventListener("abort",(()=>e())),r.addEventListener("load",(()=>{const n=r.response;if(!n||!n.uploaded)return e(n&&n.error&&n.error.message?n.error.message:o);t({default:n.url})})),r.upload&&r.upload.addEventListener("progress",(t=>{t.lengthComputable&&(i.uploadTotal=t.total,i.uploaded=t.loaded)}))}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",mw()),this.xhr.send(e)}}function bw(t,e,n,r){let i,o=null;"function"==typeof r?i=r:(o=t.commands.get(r),i=()=>{t.execute(r)}),t.model.document.on("change:data",((s,a)=>{if(o&&!o.isEnabled||!e.isEnabled)return;const c=qi(t.model.document.selection.getRanges());if(!c.isCollapsed)return;if(a.isUndo||!a.isLocal)return;const l=Array.from(t.model.document.differ.getChanges()),u=l[0];if(1!=l.length||"insert"!==u.type||"$text"!=u.name||1!=u.length)return;const d=u.position.parent;if(d.is("element","codeBlock"))return;if(d.is("element","listItem")&&"function"!=typeof r&&!["numberedList","bulletedList","todoList"].includes(r))return;if(o&&!0===o.value)return;const h=d.getChild(0),f=t.model.createRangeOn(h);if(!f.containsRange(c)&&!c.end.isEqual(f.end))return;const p=n.exec(h.data.substr(0,c.end.offset));p&&t.model.enqueueChange((e=>{const n=e.createPositionAt(d,0),r=e.createPositionAt(d,p[0].length),o=new Fl(n,r);if(!1!==i({match:p})){e.remove(o);const n=t.model.document.selection.getFirstRange(),r=e.createRangeIn(d);!d.isEmpty||r.isEqual(n)||r.containsRange(n,!0)||e.remove(d)}o.detach(),t.model.enqueueChange((()=>{t.plugins.get("Delete").requestUndoOnBackspace()}))}))}))}function yw(t,e,n,r){let i,o;n instanceof RegExp?i=n:o=n,o=o||(t=>{let e;const n=[],r=[];for(;null!==(e=i.exec(t))&&!(e&&e.length<4);){let{index:t,1:i,2:o,3:s}=e;const a=i+o+s;t+=e[0].length-a.length;const c=[t,t+i.length],l=[t+i.length+o.length,t+i.length+o.length+s.length];n.push(c),n.push(l),r.push([t+i.length,t+i.length+o.length])}return{remove:n,format:r}}),t.model.document.on("change:data",((n,i)=>{if(i.isUndo||!i.isLocal||!e.isEnabled)return;const s=t.model,a=s.document.selection;if(!a.isCollapsed)return;const c=Array.from(s.document.differ.getChanges()),l=c[0];if(1!=c.length||"insert"!==l.type||"$text"!=l.name||1!=l.length)return;const u=a.focus,d=u.parent,{text:h,range:f}=function(t,e){let n=t.start;const r=Array.from(t.getItems()).reduce(((t,r)=>!r.is("$text")&&!r.is("$textProxy")||r.getAttribute("code")?(n=e.createPositionAfter(r),""):t+r.data),"");return{text:r,range:e.createRange(n,t.end)}}(s.createRange(s.createPositionAt(d,0),u),s),p=o(h),g=kw(f.start,p.format,s),m=kw(f.start,p.remove,s);g.length&&m.length&&s.enqueueChange((e=>{if(!1!==r(e,g)){for(const t of m.reverse())e.remove(t);s.enqueueChange((()=>{t.plugins.get("Delete").requestUndoOnBackspace()}))}}))}))}function kw(t,e,n){return e.filter((t=>void 0!==t[0]&&void 0!==t[1])).map((e=>n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1]))))}function ww(t,e){return(n,r)=>{if(!t.commands.get(e).isEnabled)return!1;const i=t.model.schema.getValidRanges(r,e);for(const t of i)n.setAttribute(e,!0,t);n.removeSelectionAttribute(e)}}class _w extends Ro{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,r=void 0===t.forceValue?!this.value:t.forceValue;e.change((t=>{if(n.isCollapsed)r?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const i=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of i)r?t.setAttribute(this.attributeKey,r,e):t.removeAttribute(this.attributeKey,e)}}))}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const r of n.getRanges())for(const t of r.getItems())if(e.checkAttribute(t,this.attributeKey))return t.hasAttribute(this.attributeKey);return!1}}const Aw="bold";class Cw extends Lo{static get pluginName(){return"BoldEditing"}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Aw}),t.model.schema.setAttributeProperties(Aw,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Aw,view:"strong",upcastAlso:["b",t=>{const e=t.getStyle("font-weight");return e&&("bold"==e||Number(e)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(Aw,new _w(t,Aw)),t.keystrokes.set("CTRL+B",Aw),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Bold text"),keystroke:"CTRL+B"}]})}}function xw({editor:t,commandName:e,plugin:n,icon:r,label:i,keystroke:o}){return s=>{const a=t.commands.get(e),c=new s(t.locale);return c.set({label:i,icon:r,keystroke:o,isToggleable:!0}),c.bind("isEnabled").to(a,"isEnabled"),n.listenTo(c,"execute",(()=>{t.execute(e),t.editing.view.focus()})),c}}const Ew="bold";class Sw extends Lo{static get pluginName(){return"BoldUI"}init(){const t=this.editor,e=t.locale.t,n=t.commands.get(Ew),r=xw({editor:t,commandName:Ew,plugin:this,icon:vf.bold,label:e("Bold"),keystroke:"CTRL+B"});t.ui.componentFactory.add(Ew,(()=>{const t=r(Lf);return t.set({tooltip:!0}),t.bind("isOn").to(n,"value"),t})),t.ui.componentFactory.add("menuBar:"+Ew,(()=>r(Yv)))}}var Mw=o(4199),Iw={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Mw.A,Iw),Mw.A.locals;const Dw="italic";class Tw extends Lo{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Dw}),t.model.schema.setAttributeProperties(Dw,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Dw,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(Dw,new _w(t,Dw)),t.keystrokes.set("CTRL+I",Dw),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Italic text"),keystroke:"CTRL+I"}]})}}const Ow="italic";class Nw extends Lo{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,e=t.commands.get(Ow),n=t.locale.t,r=xw({editor:t,commandName:Ow,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:n("Italic")});t.ui.componentFactory.add(Ow,(()=>{const t=r(Lf);return t.set({tooltip:!0}),t.bind("isOn").to(e,"value"),t})),t.ui.componentFactory.add("menuBar:"+Ow,(()=>r(Yv)))}}class Pw extends Ro{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,r=e.document.selection,i=Array.from(r.getSelectedBlocks()),o=void 0===t.forceValue?!this.value:t.forceValue;e.change((t=>{if(o){const e=i.filter((t=>Lw(t)||Rw(n,t)));this._applyQuote(t,e)}else this._removeQuote(t,i.filter(Lw))}))}_getValue(){const t=qi(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!Lw(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=qi(t.getSelectedBlocks());return!!n&&Rw(e,n)}_removeQuote(t,e){Bw(t,e).reverse().forEach((e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const n=t.createPositionBefore(e.start.parent);return void t.move(e,n)}e.end.isAtEnd||t.split(e.end);const n=t.createPositionAfter(e.end.parent);t.move(e,n)}))}_applyQuote(t,e){const n=[];Bw(t,e).reverse().forEach((e=>{let r=Lw(e.start);r||(r=t.createElement("blockQuote"),t.wrap(e,r)),n.push(r)})),n.reverse().reduce(((e,n)=>e.nextSibling==n?(t.merge(t.createPositionAfter(e)),e):n))}}function Lw(t){return"blockQuote"==t.parent.name?t.parent:null}function Bw(t,e){let n,r=0;const i=[];for(;r<e.length;){const o=e[r],s=e[r+1];n||(n=t.createPositionBefore(o)),s&&o.nextSibling==s||(i.push(t.createRange(n,t.createPositionAfter(o))),n=null),r++}return i}function Rw(t,e){const n=t.checkChild(e.parent,"blockQuote"),r=t.checkChild(["$root","blockQuote"],e);return n&&r}class jw extends Lo{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Ly,uy]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new Pw(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer((n=>{const r=t.model.document.differ.getChanges();for(const t of r)if("insert"==t.type){const r=t.position.nodeAfter;if(!r)continue;if(r.is("element","blockQuote")&&r.isEmpty)return n.remove(r),!0;if(r.is("element","blockQuote")&&!e.checkChild(t.position,r))return n.unwrap(r),!0;if(r.is("element")){const t=n.createRangeIn(r);for(const r of t.getItems())if(r.is("element","blockQuote")&&!e.checkChild(n.createPositionBefore(r),r))return n.unwrap(r),!0}}else if("remove"==t.type){const e=t.position.parent;if(e.is("element","blockQuote")&&e.isEmpty)return n.remove(e),!0}return!1}));const n=this.editor.editing.view.document,r=t.model.document.selection,i=t.commands.get("blockQuote");this.listenTo(n,"enter",((e,n)=>{r.isCollapsed&&i.value&&r.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())}),{context:"blockquote"}),this.listenTo(n,"delete",((e,n)=>{if("backward"!=n.direction||!r.isCollapsed||!i.value)return;const o=r.getLastPosition().parent;o.isEmpty&&!o.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())}),{context:"blockquote"})}}var zw=o(8708),Fw={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(zw.A,Fw),zw.A.locals;class Vw extends Lo{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor,e=t.commands.get("blockQuote");t.ui.componentFactory.add("blockQuote",(()=>{const t=this._createButton(Lf);return t.set({tooltip:!0}),t.bind("isOn").to(e,"value"),t})),t.ui.componentFactory.add("menuBar:blockQuote",(()=>this._createButton(Yv)))}_createButton(t){const e=this.editor,n=e.locale,r=e.commands.get("blockQuote"),i=new t(e.locale),o=n.t;return i.set({label:o("Block quote"),icon:vf.quote,isToggleable:!0}),i.bind("isEnabled").to(r,"isEnabled"),this.listenTo(i,"execute",(()=>{e.execute("blockQuote"),e.editing.view.focus()})),i}}class Uw extends Lo{static get pluginName(){return"CKBoxUI"}afterInit(){const t=this.editor;if(!t.commands.get("ckbox"))return;const e=t.t,n=t.ui.componentFactory;if(n.add("ckbox",(()=>{const t=this._createButton(Lf);return t.tooltip=!0,t})),n.add("menuBar:ckbox",(()=>this._createButton(Yv))),t.plugins.has("ImageInsertUI")){const n=t.plugins.get("ImageInsertUI");n.registerIntegration({name:"assetManager",observable:()=>t.commands.get("ckbox"),buttonViewCreator:()=>{const t=this.editor.ui.componentFactory.create("ckbox");return t.icon=vf.imageAssetManager,t.bind("label").to(n,"isImageSelected",(t=>e(t?"Replace image with file manager":"Insert image with file manager"))),t},formViewCreator:()=>{const t=this.editor.ui.componentFactory.create("ckbox");return t.icon=vf.imageAssetManager,t.withText=!0,t.bind("label").to(n,"isImageSelected",(t=>e(t?"Replace with file manager":"Insert with file manager"))),t.on("execute",(()=>{n.dropdownView.isOpen=!1})),t}})}}_createButton(t){const e=this.editor,n=e.locale,r=new t(n),i=e.commands.get("ckbox"),o=n.t;return r.set({label:o("Open file manager"),icon:vf.browseFiles}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),r.on("execute",(()=>{e.execute("ckbox")})),r}}var Gw=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Hw=t=>{let e=0;for(let n=0;n<t.length;n++){let r=t[n];e=83*e+Gw.indexOf(r)}return e},$w=t=>{let e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},Ww=t=>{let e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},Yw=(t,e)=>(t=>t<0?-1:1)(t)*Math.pow(Math.abs(t),e),qw=class extends Error{constructor(t){super(t),this.name="ValidationError",this.message=t}},Xw=t=>{if(!t||t.length<6)throw new qw("The blurhash string must be at least 6 characters");let e=Hw(t[0]),n=Math.floor(e/9)+1,r=e%9+1;if(t.length!==4+2*r*n)throw new qw(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*r*n}`)},Kw=t=>{let e=t>>8&255,n=255&t;return[$w(t>>16),$w(e),$w(n)]},Zw=(t,e)=>{let n=Math.floor(t/361),r=Math.floor(t/19)%19,i=t%19;return[Yw((n-9)/9,2)*e,Yw((r-9)/9,2)*e,Yw((i-9)/9,2)*e]},Qw=(t,e,n,r)=>{Xw(t),r|=1;let i=Hw(t[0]),o=Math.floor(i/9)+1,s=i%9+1,a=(Hw(t[1])+1)/166,c=new Array(s*o);for(let d=0;d<c.length;d++)if(0===d){let e=Hw(t.substring(2,6));c[d]=Kw(e)}else{let e=Hw(t.substring(4+2*d,6+2*d));c[d]=Zw(e,a*r)}let l=4*e,u=new Uint8ClampedArray(l*n);for(let d=0;d<n;d++)for(let t=0;t<e;t++){let r=0,i=0,a=0;for(let l=0;l<o;l++)for(let o=0;o<s;o++){let u=Math.cos(Math.PI*t*o/e)*Math.cos(Math.PI*d*l/n),h=c[o+l*s];r+=h[0]*u,i+=h[1]*u,a+=h[2]*u}let h=Ww(r),f=Ww(i),p=Ww(a);u[4*t+0+d*l]=h,u[4*t+1+d*l]=f,u[4*t+2+d*l]=p,u[4*t+3+d*l]=255}return u},Jw=Object.defineProperty,t_=Object.getOwnPropertySymbols,e_=Object.prototype.hasOwnProperty,n_=Object.prototype.propertyIsEnumerable,r_=(t,e,n)=>e in t?Jw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function i_(t){const e=[];let n=0;for(const i in t){const r=parseInt(i,10);isNaN(r)||(r>n&&(n=r),e.push(`${t[i]} ${i}w`))}const r=[{srcset:e.join(","),sizes:`(max-width: ${n}px) 100vw, ${n}px`,type:"image/webp"}];return{imageFallbackUrl:t.default,imageSources:r}}const o_=32;function s_({url:t,method:e="GET",data:n,onUploadProgress:r,signal:i,authorization:o}){const s=new XMLHttpRequest;s.open(e,t.toString()),s.setRequestHeader("Authorization",o),s.setRequestHeader("CKBox-Version","CKEditor 5"),s.responseType="json";const a=()=>{s.abort()};return new Promise(((t,e)=>{i.throwIfAborted(),i.addEventListener("abort",a),s.addEventListener("loadstart",(()=>{i.addEventListener("abort",a)})),s.addEventListener("loadend",(()=>{i.removeEventListener("abort",a)})),s.addEventListener("error",(()=>{e()})),s.addEventListener("abort",(()=>{e()})),s.addEventListener("load",(()=>{const n=s.response;if(!n||n.statusCode>=400)return e(n&&n.message);t(n)})),r&&s.upload.addEventListener("progress",(t=>{r(t)})),s.send(n)}))}const a_={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function c_(t,e){return n=this,r=null,i=function*(){try{const n=yield fetch(t,((t,e)=>{for(var n in e||(e={}))e_.call(e,n)&&r_(t,n,e[n]);if(t_)for(var n of t_(e))n_.call(e,n)&&r_(t,n,e[n]);return t})({method:"HEAD",cache:"force-cache"},e));return n.ok&&n.headers.get("content-type")||""}catch(t){return""}},new Promise(((t,e)=>{var o=t=>{try{a(i.next(t))}catch(t){e(t)}},s=t=>{try{a(i.throw(t))}catch(t){e(t)}},a=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,s);a((i=i.apply(n,r)).next())}));var n,r,i}var l_=Object.defineProperty,u_=Object.getOwnPropertySymbols,d_=Object.prototype.hasOwnProperty,h_=Object.prototype.propertyIsEnumerable,f_=(t,e,n)=>e in t?l_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p_=(t,e)=>{for(var n in e||(e={}))d_.call(e,n)&&f_(t,n,e[n]);if(u_)for(var n of u_(e))h_.call(e,n)&&f_(t,n,e[n]);return t};class g_ extends Ro{constructor(t){super(t),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return null!==this._wrapper}_checkEnabled(){const t=this.editor.commands.get("insertImage"),e=this.editor.commands.get("link");return!(!t.isEnabled&&!e.isEnabled)}_prepareOptions(){const t=this.editor.config.get("ckbox");return{theme:t.theme,language:t.language,tokenUrl:t.tokenUrl,serviceOrigin:t.serviceOrigin,forceDemoLabel:t.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:t=>this.fire("ckbox:choose",t)}}}_initListeners(){const t=this.editor,e=t.model,n=!t.config.get("ckbox.ignoreDataId");this.on("ckbox",(()=>{this.refresh()}),{priority:"low"}),this.on("ckbox:open",(()=>{this.isEnabled&&!this.value&&(this._wrapper=kt(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))})),this.on("ckbox:close",(()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,t.editing.view.focus())})),this.on("ckbox:choose",((r,i)=>{if(!this.isEnabled)return;const o=t.commands.get("insertImage"),s=t.commands.get("link"),a=function({assets:t,isImageAllowed:e,isLinkAllowed:n}){return t.map((t=>function(t){const e=t.data.metadata;return!!e&&(e.width&&e.height)}(t)?{id:t.data.id,type:"image",attributes:m_(t)}:{id:t.data.id,type:"link",attributes:v_(t)})).filter((t=>"image"===t.type?e:n))}({assets:i,isImageAllowed:o.isEnabled,isLinkAllowed:s.isEnabled}),c=a.length;0!==c&&(e.change((t=>{for(const e of a){const r=e===a[c-1],i=1===c;this._insertAsset(e,r,t,i),n&&(setTimeout((()=>this._chosenAssets.delete(e)),1e3),this._chosenAssets.add(e))}})),t.editing.view.focus())})),this.listenTo(t,"destroy",(()=>{this.fire("ckbox:close"),this._chosenAssets.clear()}))}_insertAsset(t,e,n,r){const i=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),"image"===t.type?this._insertImage(t):this._insertLink(t,n,r),e||n.setSelection(i.getLastPosition())}_insertImage(t){const e=this.editor,{imageFallbackUrl:n,imageSources:r,imageTextAlternative:i,imageWidth:o,imageHeight:s,imagePlaceholder:a}=t.attributes;e.execute("insertImage",{source:p_({src:n,sources:r,alt:i,width:o,height:s},a?{placeholder:a}:null)})}_insertLink(t,e,n){const r=this.editor,i=r.model,o=i.document.selection,{linkName:s,linkHref:a}=t.attributes;if(o.isCollapsed){const t=Zi(o.getAttributes()),c=e.createText(s,t);if(!n){const t=o.getLastPosition(),n=t.parent;"paragraph"===n.name&&n.isEmpty||r.execute("insertParagraph",{position:t});const s=i.insertContent(c);return e.setSelection(s),void r.execute("link",a)}const l=i.insertContent(c);e.setSelection(l)}r.execute("link",a)}}function m_(t){const{imageFallbackUrl:e,imageSources:n}=i_(t.data.imageUrls),{description:r,width:i,height:o,blurHash:s}=t.data.metadata,a=function(t){if(t)try{const e=`${o_}px`,n=document.createElement("canvas");n.setAttribute("width",e),n.setAttribute("height",e);const r=n.getContext("2d");if(!r)return;const i=r.createImageData(o_,o_),o=Qw(t,o_,o_);return i.data.set(o),r.putImageData(i,0,0),n.toDataURL()}catch(t){return}}(s);return p_({imageFallbackUrl:e,imageSources:n,imageTextAlternative:r||"",imageWidth:i,imageHeight:o},a?{imagePlaceholder:a}:null)}function v_(t){return{linkName:t.data.name,linkHref:b_(t)}}function b_(t){const e=new URL(t.data.url);return e.searchParams.set("download","true"),e.toString()}var y_=(t,e,n)=>new Promise(((r,i)=>{var o=t=>{try{a(n.next(t))}catch(t){i(t)}},s=t=>{try{a(n.throw(t))}catch(t){i(t)}},a=t=>t.done?r(t.value):Promise.resolve(t.value).then(o,s);a((n=n.apply(t,e)).next())}));class k_ extends Lo{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return y_(this,null,(function*(){const t=this.editor,e=!!t.config.get("ckbox"),n=!!window.CKBox;if(!e&&!n)return;t.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:t.locale.uiLanguage,theme:"lark",tokenUrl:t.config.get("cloudServices.tokenUrl")});const r=t.plugins.get("CloudServices"),i=t.config.get("cloudServices.tokenUrl"),o=t.config.get("ckbox.tokenUrl");if(!o)throw new _("ckbox-plugin-missing-token-url",this);this._token=o==i?r.token:yield r.registerTokenUrl(o)}))}getToken(){return this._token}getWorkspaceId(){const t=(0,this.editor.t)("Cannot access default workspace."),e=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),n=function(t,e){const[,n]=t.value.split("."),r=JSON.parse(atob(n)),i=r.auth&&r.auth.ckbox&&r.auth.ckbox.workspaces||[r.aud];return e?"superadmin"==(r.auth&&r.auth.ckbox&&r.auth.ckbox.role)||i.includes(e)?e:null:i[0]}(this._token,e);if(null==n)throw C("ckbox-access-default-workspace-error"),t;return n}getCategoryIdForFile(t,e){return y_(this,null,(function*(){const n=(0,this.editor.t)("Cannot determine a category for the uploaded file."),r=this.editor.config.get("ckbox.defaultUploadCategories"),i=this._getAvailableCategories(e),o="string"==typeof t?(s=yield c_(t,e),a_[s]):function(t){const e=t.name,n=new RegExp("\\.(?<ext>[^.]+)$");return e.match(n).groups.ext.toLowerCase()}(t);var s;const a=yield i;if(!a)throw n;if(r){const t=Object.keys(r).find((t=>r[t].find((t=>t.toLowerCase()==o))));if(t){const e=a.find((e=>e.id===t||e.name===t));if(!e)throw n;return e.id}}const c=a.find((t=>t.extensions.find((t=>t.toLowerCase()==o))));if(!c)throw n;return c.id}))}_getAvailableCategories(t){return y_(this,null,(function*(){const e=this.editor,n=this._token,{signal:r}=t,i=e.config.get("ckbox.serviceOrigin"),o=this.getWorkspaceId();try{const t=[];let e,n=0;do{const r=yield s(n);t.push(...r.items),e=r.totalCount-(n+50),n+=50}while(e>0);return t}catch(t){return r.throwIfAborted(),void C("ckbox-fetch-category-http-error")}function s(t){const e=new URL("categories",i);return e.searchParams.set("limit",50..toString()),e.searchParams.set("offset",t.toString()),e.searchParams.set("workspaceId",o),s_({url:e,signal:r,authorization:n.value})}}))}}var w_=(t,e,n)=>new Promise(((r,i)=>{var o=t=>{try{a(n.next(t))}catch(t){i(t)}},s=t=>{try{a(n.throw(t))}catch(t){i(t)}},a=t=>t.done?r(t.value):Promise.resolve(t.value).then(o,s);a((n=n.apply(t,e)).next())}));class __ extends Lo{static get requires(){return["ImageUploadEditing","ImageUploadProgress",hw,C_]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return w_(this,null,(function*(){const t=this.editor,e=!!t.config.get("ckbox"),n=!!window.CKBox;if(!e&&!n)return;const r=t.plugins.get(hw),i=t.plugins.get(k_);r.createUploadAdapter=e=>new A_(e,t,i);const o=!t.config.get("ckbox.ignoreDataId"),s=t.plugins.get("ImageUploadEditing");o&&s.on("uploadComplete",((e,{imageElement:n,data:r})=>{t.model.change((t=>{t.setAttribute("ckboxImageId",r.ckboxImageId,n)}))}))}))}}class A_{constructor(t,e,n){this.loader=t,this.token=n.getToken(),this.ckboxUtils=n,this.editor=e,this.controller=new AbortController,this.serviceOrigin=e.config.get("ckbox.serviceOrigin")}upload(){return w_(this,null,(function*(){const t=this.ckboxUtils,e=this.editor.t,n=yield this.loader.file,r=yield t.getCategoryIdForFile(n,{signal:this.controller.signal}),i=new URL("assets",this.serviceOrigin),o=new FormData;return i.searchParams.set("workspaceId",t.getWorkspaceId()),o.append("categoryId",r),o.append("file",n),s_({method:"POST",url:i,data:o,onUploadProgress:t=>{t.lengthComputable&&(this.loader.uploadTotal=t.total,this.loader.uploaded=t.loaded)},signal:this.controller.signal,authorization:this.token.value}).then((t=>w_(this,null,(function*(){const e=i_(t.imageUrls);return{ckboxImageId:t.id,default:e.imageFallbackUrl,sources:e.imageSources}})))).catch((()=>{const t=e("Cannot upload file:")+` ${n.name}.`;return Promise.reject(t)}))}))}abort(){this.controller.abort()}}class C_ extends Lo{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",__,k_]}init(){const t=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),M_()&&t.commands.add("ckbox",new g_(t)))}afterInit(){const t=this.editor;this._shouldBeInitialised()&&(t.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||M_()}_checkImagePlugins(){const t=this.editor;t.plugins.has("ImageBlockEditing")||t.plugins.has("ImageInlineEditing")||C("ckbox-plugin-image-feature-missing",t)}_initSchema(){const t=this.editor.model.schema;t.extend("$text",{allowAttributes:"ckboxLinkId"}),t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.addAttributeCheck(((t,e)=>{if(!t.last.getAttribute("linkHref")&&"ckboxLinkId"===e)return!1}))}_initConversion(){const t=this.editor;t.conversion.for("downcast").add((t=>{t.on("attribute:ckboxLinkId:imageBlock",((t,e,n)=>{const{writer:r,mapper:i,consumable:o}=n;if(!o.consume(e.item,t.name))return;const s=[...i.toViewElement(e.item).getChildren()].find((t=>"a"===t.name));s&&(e.item.hasAttribute("ckboxLinkId")?r.setAttribute("data-ckbox-resource-id",e.item.getAttribute("ckboxLinkId"),s):r.removeAttribute("data-ckbox-resource-id",s))}),{priority:"low"}),t.on("attribute:ckboxLinkId",((t,e,n)=>{const{writer:r,mapper:i,consumable:o}=n;if(o.consume(e.item,t.name)){if(e.attributeOldValue){const t=E_(r,e.attributeOldValue);r.unwrap(i.toViewRange(e.range),t)}if(e.attributeNewValue){const t=E_(r,e.attributeNewValue);if(e.item.is("selection")){const e=r.document.selection;r.wrap(e.getFirstRange(),t)}else r.wrap(i.toViewRange(e.range),t)}}}),{priority:"low"})})),t.conversion.for("upcast").add((t=>{t.on("element:a",((t,e,n)=>{const{writer:r,consumable:i}=n;if(!e.viewItem.getAttribute("href"))return;if(!i.consume(e.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const o=e.viewItem.getAttribute("data-ckbox-resource-id");if(o)if(e.modelRange)for(let s of e.modelRange.getItems())s.is("$textProxy")&&(s=s.textNode),S_(s)&&r.setAttribute("ckboxLinkId",o,s);else{const t=e.modelCursor.nodeBefore||e.modelCursor.parent;r.setAttribute("ckboxLinkId",o,t)}}),{priority:"low"})})),t.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),t.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:t=>t.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const e=t.commands.get("replaceImageSource");e&&this.listenTo(e,"cleanupImage",((t,[e,n])=>{e.removeAttribute("ckboxImageId",n)}))}_initFixers(){const t=this.editor,e=t.model,n=e.document.selection;e.document.registerPostFixer(function(t){return e=>{let n=!1;const r=t.model,i=t.commands.get("ckbox");if(!i)return n;for(const t of r.document.differ.getChanges()){if("insert"!==t.type&&"attribute"!==t.type)continue;const r="insert"===t.type?new vl(t.position,t.position.getShiftedBy(t.length)):t.range,o="attribute"===t.type&&"linkHref"===t.attributeKey&&null===t.attributeNewValue;for(const t of r.getItems()){if(o&&t.hasAttribute("ckboxLinkId")){e.removeAttribute("ckboxLinkId",t),n=!0;continue}const r=x_(t,i._chosenAssets);for(const i of r){const r="image"===i.type?"ckboxImageId":"ckboxLinkId";i.id!==t.getAttribute(r)&&(e.setAttribute(r,i.id,t),n=!0)}}}return n}}(t)),e.document.registerPostFixer(function(t){return e=>!(t.hasAttribute("linkHref")||!t.hasAttribute("ckboxLinkId"))&&(e.removeSelectionAttribute("ckboxLinkId"),!0)}(n))}}function x_(t,e){const n=t.is("element","imageInline")||t.is("element","imageBlock"),r=t.hasAttribute("linkHref");return[...e].filter((e=>"image"===e.type&&n?e.attributes.imageFallbackUrl===t.getAttribute("src"):"link"===e.type&&r?e.attributes.linkHref===t.getAttribute("linkHref"):void 0))}function E_(t,e){const n=t.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return t.setCustomProperty("link",!0,n),n}function S_(t){return!!t.is("$text")||!(!t.is("element","imageInline")&&!t.is("element","imageBlock"))}function M_(){return!!window.CKBox}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var I_=o(1866),D_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(I_.A,D_),I_.A.locals;class T_ extends Lo{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor,e=t.ui.componentFactory,n=t.t;if(e.add("ckfinder",(t=>{const e=this._createButton(Lf),n=t.t;return e.set({label:n("Insert image or file"),tooltip:!0}),e})),e.add("menuBar:ckfinder",(t=>{const e=this._createButton(Yv),n=t.t;return e.label=n("Image or file"),e})),t.plugins.has("ImageInsertUI")){const e=t.plugins.get("ImageInsertUI");e.registerIntegration({name:"assetManager",observable:()=>t.commands.get("ckfinder"),buttonViewCreator:()=>{const t=this.editor.ui.componentFactory.create("ckfinder");return t.icon=vf.imageAssetManager,t.bind("label").to(e,"isImageSelected",(t=>n(t?"Replace image with file manager":"Insert image with file manager"))),t},formViewCreator:()=>{const t=this.editor.ui.componentFactory.create("ckfinder");return t.icon=vf.imageAssetManager,t.withText=!0,t.bind("label").to(e,"isImageSelected",(t=>n(t?"Replace with file manager":"Insert with file manager"))),t.on("execute",(()=>{e.dropdownView.isOpen=!1})),t}})}}_createButton(t){const e=this.editor,n=new t(e.locale),r=e.commands.get("ckfinder");return n.icon=vf.browseFiles,n.bind("isEnabled").to(r),n.on("execute",(()=>{e.execute("ckfinder"),e.editing.view.focus()})),n}}class O_ extends Ro{constructor(t){super(t),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",(()=>this.refresh()),{priority:"low"})}refresh(){const t=this.editor.commands.get("insertImage"),e=this.editor.commands.get("link");this.isEnabled=t.isEnabled||e.isEnabled}execute(){const t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new _("ckfinder-unknown-openermethod",t);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const r=n.onInit;n.language||(n.language=t.locale.uiLanguage),n.onInit=e=>{r&&r(e),e.on("files:choose",(n=>{const r=n.data.files.toArray(),i=r.filter((t=>!t.isImage())),o=r.filter((t=>t.isImage()));for(const e of i)t.execute("link",e.getUrl());const s=[];for(const t of o){const n=t.getUrl();s.push(n||e.request("file:getProxyUrl",{file:t}))}s.length&&N_(t,s)})),e.on("file:choose:resizedImage",(e=>{const n=e.data.resizedUrl;if(n)N_(t,[n]);else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("Could not obtain resized image URL."),{title:n("Selecting resized image failed"),namespace:"ckfinder"})}}))},window.CKFinder[e](n)}}function N_(t,e){if(t.commands.get("insertImage").isEnabled)t.execute("insertImage",{source:e});else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class P_ extends Lo{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Cm,"LinkEditing"]}init(){const t=this.editor;if(!t.plugins.has("ImageBlockEditing")&&!t.plugins.has("ImageInlineEditing"))throw new _("ckfinder-missing-image-plugin",t);t.commands.add("ckfinder",new O_(t))}}class L_ extends Lo{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",hw]}init(){const t=this.editor,e=t.plugins.get("CloudServices"),n=e.token,r=e.uploadUrl;if(!n)return;const i=t.plugins.get("CloudServicesCore");this._uploadGateway=i.createUploadGateway(n,r),t.plugins.get(hw).createUploadAdapter=t=>new B_(this._uploadGateway,t)}}class B_{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then((t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",((t,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded})),this.fileUploader.send())))}abort(){this.fileUploader.abort()}}class R_ extends Ro{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=qi(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("element","paragraph"),this.isEnabled=!!e&&j_(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document,r=t.selection||n.selection;e.canEditAt(r)&&e.change((t=>{const n=r.getSelectedBlocks();for(const r of n)!r.is("element","paragraph")&&j_(r,e.schema)&&t.rename(r,"paragraph")}))}}function j_(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}class z_ extends Ro{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const e=this.editor.model,n=t.attributes;let r=t.position;e.canEditAt(r)&&e.change((t=>{if(r=this._findPositionToInsertParagraph(r,t),!r)return;const i=t.createElement("paragraph");n&&e.schema.setAllowedAttributes(i,n,t),e.insertContent(i,r),t.setSelection(i,"in")}))}_findPositionToInsertParagraph(t,e){const n=this.editor.model;if(n.schema.checkChild(t,"paragraph"))return t;const r=n.schema.findAllowedParent(t,"paragraph");if(!r)return null;const i=t.parent,o=n.schema.checkChild(i,"$text");return i.isEmpty||o&&t.isAtEnd?n.createPositionAfter(i):!i.isEmpty&&o&&t.isAtStart?n.createPositionBefore(i):e.split(t,r).position}}const F_=class extends Lo{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new R_(t)),t.commands.add("insertParagraph",new z_(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(t,{writer:e})=>F_.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let V_=F_;V_.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class U_ extends Ro{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=qi(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((e=>G_(t,e,this.editor.model.schema)))}execute(t){const e=this.editor.model,n=e.document,r=t.value;e.change((t=>{const i=Array.from(n.selection.getSelectedBlocks()).filter((t=>G_(t,r,e.schema)));for(const e of i)e.is("element",r)||t.rename(e,r)}))}}function G_(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}const H_="paragraph";class $_ extends Lo{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[V_]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const r of e)"paragraph"!==r.model&&(t.model.schema.register(r.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(r),n.push(r.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new U_(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",((e,r)=>{const i=t.model.document.selection.getFirstPosition().parent;n.some((t=>i.is("element",t.model)))&&!i.is("element",H_)&&0===i.childCount&&r.writer.rename(i,H_)}))}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:y.low+1})}}var W_=o(6269),Y_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(W_.A,Y_),W_.A.locals;class q_ extends Lo{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,e=t.t,n=function(t){const e=t.t,n={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return t.config.get("heading.options").map((t=>{const e=n[t.title];return e&&e!=t.title&&(t.title=e),t}))}(t),r=e("Choose heading"),i=e("Heading");t.ui.componentFactory.add("heading",(e=>{const o={},s=new Yi,a=t.commands.get("heading"),c=t.commands.get("paragraph"),l=[a];for(const t of n){const e={type:"button",model:new xm({label:t.title,class:t.class,role:"menuitemradio",withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(c,"value"),e.model.set("commandName","paragraph"),l.push(c)):(e.model.bind("isOn").to(a,"value",(e=>e===t.model)),e.model.set({commandName:"heading",commandValue:t.model})),s.add(e),o[t.model]=t.title}const u=Vp(e);return Hp(u,s,{ariaLabel:i,role:"menu"}),u.buttonView.set({ariaLabel:i,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:i}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(l,"isEnabled",((...t)=>t.some((t=>t)))),u.buttonView.bind("label").to(a,"value",c,"value",((t,e)=>{const n=e?"paragraph":t;return"boolean"==typeof n?r:o[n]?o[n]:r})),u.buttonView.bind("ariaLabel").to(a,"value",c,"value",((t,e)=>{const n=e?"paragraph":t;return"boolean"==typeof n?i:o[n]?`${o[n]}, ${i}`:i})),this.listenTo(u,"execute",(e=>{const{commandName:n,commandValue:r}=e.source;t.execute(n,r?{value:r}:void 0),t.editing.view.focus()})),u})),t.ui.componentFactory.add("menuBar:heading",(r=>{const i=new Gv(r),o=t.commands.get("heading"),s=t.commands.get("paragraph"),a=[o],c=new Hv(r);i.set({class:"ck-heading-dropdown"}),c.set({ariaLabel:e("Heading"),role:"menu"}),i.buttonView.set({label:e("Heading")}),i.panelView.children.add(c);for(const e of n){const n=new pv(r,i),l=new Yv(r);n.children.add(l),c.items.add(n),l.set({label:e.title,role:"menuitemradio",class:e.class}),l.bind("ariaChecked").to(l,"isOn"),l.delegate("execute").to(i),l.on("execute",(()=>{const n="paragraph"===e.model?"paragraph":"heading";t.execute(n,{value:e.model}),t.editing.view.focus()})),"paragraph"===e.model?(l.bind("isOn").to(s,"value"),a.push(s)):l.bind("isOn").to(o,"value",(t=>t===e.model))}return i.bind("isEnabled").toMany(a,"isEnabled",((...t)=>t.some((t=>t)))),i}))}}function X_(t){return t.createContainerElement("figure",{class:"image"},[t.createEmptyElement("img"),t.createSlot("children")])}function K_(t,e){const n=t.plugins.get("ImageUtils"),r=t.plugins.has("ImageInlineEditing")&&t.plugins.has("ImageBlockEditing");return t=>n.isInlineImageView(t)?r&&("block"==t.getStyle("display")||t.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==e?null:i(t):null;function i(t){const e={name:!0};return t.hasAttribute("src")&&(e.attributes=["src"]),e}}function Z_(t,e){const n=qi(e.getSelectedBlocks());return!n||t.isObject(n)||n.isEmpty&&"listItem"!=n.name?"imageBlock":"imageInline"}function Q_(t){return t&&t.endsWith("px")?parseInt(t):null}function J_(t){const e=Q_(t.getStyle("width")),n=Q_(t.getStyle("height"));return!(!e||!n)}var tA=Object.defineProperty,eA=Object.getOwnPropertySymbols,nA=Object.prototype.hasOwnProperty,rA=Object.prototype.propertyIsEnumerable,iA=(t,e,n)=>e in t?tA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oA=(t,e)=>{for(var n in e||(e={}))nA.call(e,n)&&iA(t,n,e[n]);if(eA)for(var n of eA(e))rA.call(e,n)&&iA(t,n,e[n]);return t};const sA=/^(image|image-inline)$/;class aA extends Lo{constructor(){super(...arguments),this._domEmitter=new(Or())}static get pluginName(){return"ImageUtils"}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},e=null,n=null,r={}){const i=this.editor,o=i.model,s=o.document.selection,a=cA(i,e||s,n);t=oA(oA({},Object.fromEntries(s.getAttributes())),t);for(const c in t)o.schema.checkAttribute(a,c)||delete t[c];return o.change((n=>{const{setImageSizes:i=!0}=r,s=n.createElement(a,t);return o.insertObject(s,e,null,{setSelection:"on",findOptimalPosition:e||"imageInline"==a?void 0:"auto"}),s.parent?(i&&this.setImageNaturalSizeAttributes(s),s):null}))}setImageNaturalSizeAttributes(t){const e=t.getAttribute("src");e&&(t.getAttribute("width")||t.getAttribute("height")||this.editor.model.change((n=>{const r=new i.window.Image;this._domEmitter.listenTo(r,"load",(()=>{t.getAttribute("width")||t.getAttribute("height")||this.editor.model.enqueueChange(n.batch,(e=>{e.setAttribute("width",r.naturalWidth,t),e.setAttribute("height",r.naturalHeight,t)})),this._domEmitter.stopListening(r,"load")})),r.src=e})))}getClosestSelectedImageWidget(t){const e=t.getFirstPosition();if(!e)return null;const n=t.getSelectedElement();if(n&&this.isImageWidget(n))return n;let r=e.parent;for(;r;){if(r.is("element")&&this.isImageWidget(r))return r;r=r.parent}return null}getClosestSelectedImageElement(t){const e=t.getSelectedElement();return this.isImage(e)?e:t.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(t){return t.findAncestor({classes:sA})}isImageAllowed(){const t=this.editor.model.document.selection;return function(t,e){const n=cA(t,e,null);if("imageBlock"==n){const n=function(t,e){const n=Jy(t,e),r=n.start.parent;return r.isEmpty&&!r.is("element","$root")?r.parent:r}(e,t.model);if(t.model.schema.checkChild(n,"imageBlock"))return!0}else if(t.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(t){return[...t.focus.getAncestors()].every((t=>!t.is("element","imageBlock")))}(t)}toImageWidget(t,e,n){return e.setCustomProperty("image",!0,t),qy(t,e,{label:()=>{const e=this.findViewImgElement(t).getAttribute("alt");return e?`${e} ${n}`:n}})}isImageWidget(t){return!!t.getCustomProperty("image")&&Yy(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const e=this.editor.editing.view;for(const{item:n}of e.createRangeIn(t))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function cA(t,e,n){const r=t.model.schema,i=t.config.get("image.insert.type");return t.plugins.has("ImageBlockEditing")?t.plugins.has("ImageInlineEditing")?n||("inline"===i?"imageInline":"auto"!==i?"imageBlock":e.is("selection")?Z_(r,e):r.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class lA extends Ro{refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor,n=e.plugins.get("ImageUtils"),r=e.model,i=n.getClosestSelectedImageElement(r.document.selection);r.change((e=>{e.setAttribute("alt",t.newValue,i)}))}}class uA extends Lo{static get requires(){return[aA]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new lA(this.editor))}}var dA=o(4062),hA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(dA.A,hA),dA.A.locals;var fA=o(2722),pA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(fA.A,pA),fA.A.locals;class gA extends Do{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new Xi,this.keystrokes=new Ki,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("Save"),vf.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("Cancel"),vf.cancel,"ck-button-cancel","cancel"),this._focusables=new ro,this._focusCycler=new lp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),No({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,e,n,r){const i=new Lf(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}_createLabeledInputView(){const t=this.locale.t,e=new Xf(this.locale,qp);return e.label=t("Text alternative"),e}}function mA(t){const e=t.editing.view,n=Lg.defaultPositions,r=t.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(e.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}class vA extends Lo{static get requires(){return[Tm]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",(n=>{const r=t.commands.get("imageTextAlternative"),i=new Lf(n);return i.set({label:e("Change image text alternative"),icon:vf.textAlternative,tooltip:!0}),i.bind("isEnabled").to(r,"isEnabled"),i.bind("isOn").to(r,"value",(t=>!!t)),this.listenTo(i,"execute",(()=>{this._showForm()})),i}))}_createForm(){const t=this.editor,e=t.editing.view.document,n=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Oo(gA))(t.locale),this._form.render(),this.listenTo(this._form,"submit",(()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)})),this.listenTo(this._form,"cancel",(()=>{this._hideForm(!0)})),this._form.keystrokes.set("Esc",((t,e)=>{this._hideForm(!0),e()})),this.listenTo(t.ui,"update",(()=>{n.getClosestSelectedImageWidget(e.selection)?this._isVisible&&function(t){const e=t.plugins.get("ContextualBalloon");if(t.plugins.get("ImageUtils").getClosestSelectedImageWidget(t.editing.view.document.selection)){const n=mA(t);e.updatePosition(n)}}(t):this._hideForm(!0)})),To({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:mA(t)}),n.fieldView.value=n.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class bA extends Lo{static get requires(){return[uA,vA]}static get pluginName(){return"ImageTextAlternative"}}function yA(t,e){const n=(e,n,r)=>{if(!r.consumable.consume(n.item,e.name))return;const i=r.writer,o=r.mapper.toViewElement(n.item),s=t.findViewImgElement(o);null===n.attributeNewValue?(i.removeAttribute("srcset",s),i.removeAttribute("sizes",s)):n.attributeNewValue&&(i.setAttribute("srcset",n.attributeNewValue,s),i.setAttribute("sizes","100vw",s))};return t=>{t.on(`attribute:srcset:${e}`,n)}}function kA(t,e,n){const r=(e,n,r)=>{if(!r.consumable.consume(n.item,e.name))return;const i=r.writer,o=r.mapper.toViewElement(n.item),s=t.findViewImgElement(o);i.setAttribute(n.attributeKey,n.attributeNewValue||"",s)};return t=>{t.on(`attribute:${n}:${e}`,r)}}class wA extends oc{observe(t){this.listenTo(t,"load",((t,e)=>{const n=e.target;this.checkShouldIgnoreEventFromTarget(n)||"IMG"==n.tagName&&this._fireEvents(e)}),{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}var _A=Object.defineProperty,AA=Object.getOwnPropertySymbols,CA=Object.prototype.hasOwnProperty,xA=Object.prototype.propertyIsEnumerable,EA=(t,e,n)=>e in t?_A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SA=(t,e)=>{for(var n in e||(e={}))CA.call(e,n)&&EA(t,n,e[n]);if(AA)for(var n of AA(e))xA.call(e,n)&&EA(t,n,e[n]);return t};class MA extends Ro{constructor(t){super(t);const e=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||"block"===e&&A("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||"inline"===e&&A("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const e=_i(t.source),n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(n.getAttributes());e.forEach(((t,e)=>{const o=n.getSelectedElement();if("string"==typeof t&&(t={src:t}),e&&o&&r.isImage(o)){const e=this.editor.model.createPositionAfter(o);r.insertImage(SA(SA({},t),i),e)}else r.insertImage(SA(SA({},t),i))}))}}class IA extends Ro{constructor(t){super(t),this.decorate("cleanupImage")}refresh(){const t=this.editor.plugins.get("ImageUtils"),e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(e),this.value=this.isEnabled?e.getAttribute("src"):null}execute(t){const e=this.editor.model.document.selection.getSelectedElement(),n=this.editor.plugins.get("ImageUtils");this.editor.model.change((r=>{r.setAttribute("src",t.source,e),this.cleanupImage(r,e),n.setImageNaturalSizeAttributes(e)}))}cleanupImage(t,e){t.removeAttribute("srcset",e),t.removeAttribute("sizes",e),t.removeAttribute("sources",e),t.removeAttribute("width",e),t.removeAttribute("height",e),t.removeAttribute("alt",e)}}class DA extends Lo{static get requires(){return[aA]}static get pluginName(){return"ImageEditing"}init(){const t=this.editor,e=t.conversion;t.editing.view.addObserver(wA),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new MA(t),r=new IA(t);t.commands.add("insertImage",n),t.commands.add("replaceImageSource",r),t.commands.add("imageInsert",n)}}class TA extends Lo{static get requires(){return[aA]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(t){const e=this.editor,n=e.plugins.get("ImageUtils"),r="imageBlock"===t?"figure":"img";function i(e,r,i,o){e.on(`attribute:${r}:${t}`,((e,r,s)=>{if(!s.consumable.consume(r.item,e.name))return;const a=s.writer,c=s.mapper.toViewElement(r.item),l=n.findViewImgElement(c);if(null!==r.attributeNewValue?a.setAttribute(i,r.attributeNewValue,l):a.removeAttribute(i,l),r.item.hasAttribute("sources"))return;const u=r.item.hasAttribute("resizedWidth");if("imageInline"===t&&!u&&!o)return;const d=r.item.getAttribute("width"),h=r.item.getAttribute("height");d&&h&&a.setStyle("aspect-ratio",`${d}/${h}`,l)}))}e.conversion.for("upcast").attributeToAttribute({view:{name:r,styles:{width:/.+/}},model:{key:"width",value:t=>J_(t)?Q_(t.getStyle("width")):null}}).attributeToAttribute({view:{name:r,key:"width"},model:"width"}).attributeToAttribute({view:{name:r,styles:{height:/.+/}},model:{key:"height",value:t=>J_(t)?Q_(t.getStyle("height")):null}}).attributeToAttribute({view:{name:r,key:"height"},model:"height"}),e.conversion.for("editingDowncast").add((t=>{i(t,"width","width",!0),i(t,"height","height",!0)})),e.conversion.for("dataDowncast").add((t=>{i(t,"width","width",!1),i(t,"height","height",!1)}))}}class OA extends Ro{constructor(t,e){super(t),this._modelElementName=e}refresh(){const t=this.editor.plugins.get("ImageUtils"),e=t.getClosestSelectedImageElement(this.editor.model.document.selection);"imageBlock"===this._modelElementName?this.isEnabled=t.isInlineImage(e):this.isEnabled=t.isBlockImage(e)}execute(t={}){const e=this.editor,n=this.editor.model,r=e.plugins.get("ImageUtils"),i=r.getClosestSelectedImageElement(n.document.selection),o=Object.fromEntries(i.getAttributes());return o.src||o.uploadId?n.change((e=>{const{setImageSizes:s=!0}=t,a=Array.from(n.markers).filter((t=>t.getRange().containsItem(i))),c=r.insertImage(o,n.createSelection(i,"on"),this._modelElementName,{setImageSizes:s});if(!c)return null;const l=e.createRangeOn(c);for(const t of a){const n=t.getRange(),r="$graveyard"!=n.root.rootName?n.getJoined(l,!0):l;e.updateMarker(t,{range:r})}return{oldElement:i,newElement:c}})):null}}var NA=o(7378),PA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(NA.A,PA),NA.A.locals;class LA extends Lo{static get requires(){return[aA]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const t=this.editor.model.schema;t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["placeholder"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const t=this.editor,e=t.conversion,n=t.plugins.get("ImageUtils");e.for("editingDowncast").add((t=>{t.on("attribute:placeholder",((t,e,r)=>{if(!r.consumable.test(e.item,t.name))return;if(!e.item.is("element","imageBlock")&&!e.item.is("element","imageInline"))return;r.consumable.consume(e.item,t.name);const i=r.writer,o=r.mapper.toViewElement(e.item),s=n.findViewImgElement(o);e.attributeNewValue?(i.addClass("image_placeholder",s),i.setStyle("background-image",`url(${e.attributeNewValue})`,s),i.setCustomProperty("editingPipeline:doNotReuseOnce",!0,s)):(i.removeClass("image_placeholder",s),i.removeStyle("background-image",s))}))}))}_setupLoadListener(){const t=this.editor,e=t.model,n=t.editing,r=n.view,i=t.plugins.get("ImageUtils");r.addObserver(wA),this.listenTo(r.document,"imageLoaded",((t,o)=>{const s=r.domConverter.mapDomToView(o.target);if(!s)return;const a=i.getImageWidgetFromImageView(s);if(!a)return;const c=n.mapper.toModelElement(a);c&&c.hasAttribute("placeholder")&&e.enqueueChange({isUndoable:!1},(t=>{t.removeAttribute("placeholder",c)}))}))}}class BA extends Lo{static get requires(){return[DA,TA,aA,LA,Kb]}static get pluginName(){return"ImageBlockEditing"}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new OA(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,r=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(t,{writer:e})=>X_(e)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(t,{writer:n})=>r.toImageWidget(X_(n),n,e("image widget"))}),n.for("downcast").add(kA(r,"imageBlock","src")).add(kA(r,"imageBlock","alt")).add(yA(r,"imageBlock")),n.for("upcast").elementToElement({view:K_(t,"imageBlock"),model:(t,{writer:e})=>e.createElement("imageBlock",t.hasAttribute("src")?{src:t.getAttribute("src")}:void 0)}).add(function(t){const e=(e,n,r)=>{if(!r.consumable.test(n.viewItem,{name:!0,classes:"image"}))return;const i=t.findViewImgElement(n.viewItem);if(!i||!r.consumable.test(i,{name:!0}))return;r.consumable.consume(n.viewItem,{name:!0,classes:"image"});const o=qi(r.convertItem(i,n.modelCursor).modelRange.getItems());o?(r.convertChildren(n.viewItem,o),r.updateConversionResult(o,n)):r.consumable.revert(n.viewItem,{name:!0,classes:"image"})};return t=>{t.on("element:figure",e)}}(r))}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,r=t.plugins.get("ImageUtils"),i=t.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",((i,o)=>{const s=Array.from(o.content.getChildren());let a;if(!s.every(r.isInlineImageView))return;a=o.targetRanges?t.editing.mapper.toModelRange(o.targetRanges[0]):e.document.selection.getFirstRange();const c=e.createSelection(a);if("imageBlock"===Z_(e.schema,c)){const t=new Jh(n.document),e=s.map((e=>t.createElement("figure",{class:"image"},e)));o.content=t.createDocumentFragment(e)}})),this.listenTo(i,"contentInsertion",((t,n)=>{"paste"===n.method&&e.change((t=>{const e=t.createRangeIn(n.content);for(const n of e.getItems())n.is("element","imageBlock")&&r.setImageNaturalSizeAttributes(n)}))}))}}var RA=o(3350),jA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(RA.A,jA),RA.A.locals;class zA extends Do{constructor(t,e=[]){super(t),this.focusTracker=new Xi,this.keystrokes=new Ki,this._focusables=new ro,this.children=this.createCollection(),this._focusCycler=new lp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const n of e)this.children.add(n),this._focusables.add(n),n instanceof Hf&&this._focusables.addMany(n.children);if(this._focusables.length>1)for(const n of this._focusables)FA(n)&&(n.focusCycler.on("forwardCycle",(t=>{this._focusCycler.focusNext(),t.stop()})),n.focusCycler.on("backwardCycle",(t=>{this._focusCycler.focusPrevious(),t.stop()})));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),No({view:this});for(const e of this._focusables)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element);const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function FA(t){return"focusCycler"in t}class VA extends Lo{constructor(t){super(t),this._integrations=new Map,t.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[aA]}init(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(t.model.document,"change",(()=>{this.isImageSelected=n.isImage(e.getSelectedElement())}));const r=t=>this._createToolbarComponent(t);t.ui.componentFactory.add("insertImage",r),t.ui.componentFactory.add("imageInsert",r)}registerIntegration({name:t,observable:e,buttonViewCreator:n,formViewCreator:r,requiresForm:i}){this._integrations.has(t)&&A("image-insert-integration-exists",{name:t}),this._integrations.set(t,{observable:e,buttonViewCreator:n,formViewCreator:r,requiresForm:!!i})}_createToolbarComponent(t){const e=this.editor,n=t.t,r=this._prepareIntegrations();if(!r.length)return null;let i;const o=r[0];if(1==r.length){if(!o.requiresForm)return o.buttonViewCreator(!0);i=o.buttonViewCreator(!0)}else{const e=o.buttonViewCreator(!1);i=new Bp(t,e),i.tooltip=!0,i.bind("label").to(this,"isImageSelected",(t=>n(t?"Replace image":"Insert image")))}const s=this.dropdownView=Vp(t,i),a=r.map((({observable:t})=>"function"==typeof t?t():t));return s.bind("isEnabled").toMany(a,"isEnabled",((...t)=>t.some((t=>t)))),s.once("change:isOpen",(()=>{const t=r.map((({formViewCreator:t})=>t(1==r.length))),n=new zA(e.locale,t);s.panelView.children.add(n)})),s}_prepareIntegrations(){const t=this.editor.config.get("image.insert.integrations"),e=[];if(!t.length)return A("image-insert-integrations-not-specified"),e;for(const n of t)this._integrations.has(n)?e.push(this._integrations.get(n)):["upload","assetManager","url"].includes(n)||A("image-insert-unknown-integration",{item:n});return e.length||A("image-insert-integrations-not-registered"),e}}var UA=o(265),GA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(UA.A,GA),UA.A.locals;class HA extends Lo{static get requires(){return[BA,gk,bA,VA]}static get pluginName(){return"ImageBlock"}}class $A extends Lo{static get requires(){return[DA,TA,aA,LA,Kb]}static get pluginName(){return"ImageInlineEditing"}init(){const t=this.editor,e=t.model.schema;e.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),e.addChildCheck(((t,e)=>{if(t.endsWith("caption")&&"imageInline"===e.name)return!1})),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new OA(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,r=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(t,{writer:e})=>e.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(t,{writer:n})=>r.toImageWidget(function(t){return t.createContainerElement("span",{class:"image-inline"},t.createEmptyElement("img"))}(n),n,e("image widget"))}),n.for("downcast").add(kA(r,"imageInline","src")).add(kA(r,"imageInline","alt")).add(yA(r,"imageInline")),n.for("upcast").elementToElement({view:K_(t,"imageInline"),model:(t,{writer:e})=>e.createElement("imageInline",t.hasAttribute("src")?{src:t.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,r=t.plugins.get("ImageUtils"),i=t.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",((i,o)=>{const s=Array.from(o.content.getChildren());let a;if(!s.every(r.isBlockImageView))return;a=o.targetRanges?t.editing.mapper.toModelRange(o.targetRanges[0]):e.document.selection.getFirstRange();const c=e.createSelection(a);if("imageInline"===Z_(e.schema,c)){const t=new Jh(n.document),e=s.map((e=>1===e.childCount?(Array.from(e.getAttributes()).forEach((n=>t.setAttribute(...n,r.findViewImgElement(e)))),e.getChild(0)):e));o.content=t.createDocumentFragment(e)}})),this.listenTo(i,"contentInsertion",((t,n)=>{"paste"===n.method&&e.change((t=>{const e=t.createRangeIn(n.content);for(const n of e.getItems())n.is("element","imageInline")&&r.setImageNaturalSizeAttributes(n)}))}))}}class WA extends Lo{static get requires(){return[$A,gk,bA,VA]}static get pluginName(){return"ImageInline"}}class YA extends Lo{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[aA]}getCaptionFromImageModelElement(t){for(const e of t.getChildren())if(e&&e.is("element","caption"))return e;return null}getCaptionFromModelSelection(t){const e=this.editor.plugins.get("ImageUtils"),n=t.getFirstPosition().findAncestor("caption");return n&&e.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(t){const e=this.editor.plugins.get("ImageUtils");return"figcaption"==t.name&&e.isBlockImageView(t.parent)?{name:!0}:null}}class qA extends Ro{refresh(){const t=this.editor,e=t.plugins.get("ImageCaptionUtils"),n=t.plugins.get("ImageUtils");if(!t.plugins.has(BA))return this.isEnabled=!1,void(this.value=!1);const r=t.model.document.selection,i=r.getSelectedElement();if(!i){const t=e.getCaptionFromModelSelection(r);return this.isEnabled=!!t,void(this.value=!!t)}this.isEnabled=n.isImage(i),this.isEnabled?this.value=!!e.getCaptionFromImageModelElement(i):this.value=!1}execute(t={}){const{focusCaptionOnShow:e}=t;this.editor.model.change((t=>{this.value?this._hideImageCaption(t):this._showImageCaption(t,e)}))}_showImageCaption(t,e){const n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageCaptionEditing"),i=this.editor.plugins.get("ImageUtils");let o=n.getSelectedElement();const s=r._getSavedCaption(o);i.isInlineImage(o)&&(this.editor.execute("imageTypeBlock"),o=n.getSelectedElement());const a=s||t.createElement("caption");t.append(a,o),e&&t.setSelection(a,"in")}_hideImageCaption(t){const e=this.editor,n=e.model.document.selection,r=e.plugins.get("ImageCaptionEditing"),i=e.plugins.get("ImageCaptionUtils");let o,s=n.getSelectedElement();s?o=i.getCaptionFromImageModelElement(s):(o=i.getCaptionFromModelSelection(n),s=o.parent),r._saveCaption(s,o),t.setSelection(s,"on"),t.remove(o)}}class XA extends Lo{constructor(t){super(t),this._savedCaptionsMap=new WeakMap}static get requires(){return[aA,YA]}static get pluginName(){return"ImageCaptionEditing"}init(){const t=this.editor,e=t.model.schema;e.isRegistered("caption")?e.extend("caption",{allowIn:"imageBlock"}):e.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new qA(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageUtils"),r=t.plugins.get("ImageCaptionUtils"),i=t.t;t.conversion.for("upcast").elementToElement({view:t=>r.matchImageCaptionViewElement(t),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(t,{writer:e})=>n.isBlockImage(t.parent)?e.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(t,{writer:r})=>{if(!n.isBlockImage(t.parent))return null;const o=r.createEditableElement("figcaption");r.setCustomProperty("imageCaption",!0,o),o.placeholder=i("Enter image caption"),Zo({view:e,element:o,keepOnFocus:!0});const s=t.parent.getAttribute("alt");return Qy(o,r,{label:s?i("Caption for image: %0",[s]):i("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.plugins.get("ImageCaptionUtils"),r=t.commands.get("imageTypeInline"),i=t.commands.get("imageTypeBlock"),o=t=>{if(!t.return)return;const{oldElement:r,newElement:i}=t.return;if(!r)return;if(e.isBlockImage(r)){const t=n.getCaptionFromImageModelElement(r);if(t)return void this._saveCaption(i,t)}const o=this._getSavedCaption(r);o&&this._saveCaption(i,o)};r&&this.listenTo(r,"execute",o,{priority:"low"}),i&&this.listenTo(i,"execute",o,{priority:"low"})}_getSavedCaption(t){const e=this._savedCaptionsMap.get(t);return e?cl.fromJSON(e):null}_saveCaption(t,e){this._savedCaptionsMap.set(t,e.toJSON())}_registerCaptionReconversion(){const t=this.editor,e=t.model,n=t.plugins.get("ImageUtils"),r=t.plugins.get("ImageCaptionUtils");e.document.on("change:data",(()=>{const i=e.document.differ.getChanges();for(const e of i){if("alt"!==e.attributeKey)continue;const i=e.range.start.nodeAfter;if(n.isBlockImage(i)){const e=r.getCaptionFromImageModelElement(i);if(!e)return;t.editing.reconvertItem(e)}}}))}}class KA extends Lo{static get requires(){return[YA]}static get pluginName(){return"ImageCaptionUI"}init(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageCaptionUtils"),r=t.t;t.ui.componentFactory.add("toggleImageCaption",(i=>{const o=t.commands.get("toggleImageCaption"),s=new Lf(i);return s.set({icon:vf.caption,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.bind("label").to(o,"value",(t=>r(t?"Toggle caption off":"Toggle caption on"))),this.listenTo(s,"execute",(()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const r=n.getCaptionFromModelSelection(t.model.document.selection);if(r){const n=t.editing.mapper.toViewElement(r);e.scrollToTheSelection(),e.change((t=>{t.addClass("image__caption_highlighted",n)}))}t.editing.view.focus()})),s}))}}var ZA=o(5247),QA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};function JA(t){const e=t.map((t=>t.replace("+","\\+")));return new RegExp(`^image\\/(${e.join("|")})$`)}function tC(t){return new Promise(((e,n)=>{const r=t.getAttribute("src");fetch(r).then((t=>t.blob())).then((t=>{const n=eC(t,r),i=n.replace("image/",""),o=new File([t],`image.${i}`,{type:n});e(o)})).catch((t=>t&&"TypeError"===t.name?function(t){return function(t){return new Promise(((e,n)=>{const r=i.document.createElement("img");r.addEventListener("load",(()=>{const t=i.document.createElement("canvas");t.width=r.width,t.height=r.height,t.getContext("2d").drawImage(r,0,0),t.toBlob((t=>t?e(t):n()))})),r.addEventListener("error",(()=>n())),r.src=t}))}(t).then((e=>{const n=eC(e,t),r=n.replace("image/","");return new File([e],`image.${r}`,{type:n})}))}(r).then(e).catch(n):n(t)))}))}function eC(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}So()(ZA.A,QA),ZA.A.locals;class nC extends Lo{static get pluginName(){return"ImageUploadUI"}init(){const t=this.editor,e=t.t,n=()=>{const t=this._createButton(zf);return t.set({label:e("Upload image from computer"),tooltip:!0}),t};if(t.ui.componentFactory.add("uploadImage",n),t.ui.componentFactory.add("imageUpload",n),t.ui.componentFactory.add("menuBar:uploadImage",(()=>{const t=this._createButton(qv);return t.label=e("Image from computer"),t})),t.plugins.has("ImageInsertUI")){const n=t.plugins.get("ImageInsertUI");n.registerIntegration({name:"upload",observable:()=>t.commands.get("uploadImage"),buttonViewCreator:()=>{const r=t.ui.componentFactory.create("uploadImage");return r.bind("label").to(n,"isImageSelected",(t=>e(t?"Replace image from computer":"Upload image from computer"))),r},formViewCreator:()=>{const r=t.ui.componentFactory.create("uploadImage");return r.withText=!0,r.bind("label").to(n,"isImageSelected",(t=>e(t?"Replace from computer":"Upload from computer"))),r.on("execute",(()=>{n.dropdownView.isOpen=!1})),r}})}}_createButton(t){const e=this.editor,n=e.locale,r=e.commands.get("uploadImage"),i=e.config.get("image.upload.types"),o=JA(i),s=new t(e.locale),a=n.t;return s.set({acceptedType:i.map((t=>`image/${t}`)).join(","),allowMultipleFiles:!0,label:a("Upload image from computer"),icon:vf.imageUpload}),s.bind("isEnabled").to(r),s.on("done",((t,n)=>{const r=Array.from(n).filter((t=>o.test(t.type)));r.length&&(e.execute("uploadImage",{file:r}),e.editing.view.focus())})),s}}var rC=o(2267),iC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(rC.A,iC),rC.A.locals;var oC=o(7693),sC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(oC.A,sC),oC.A.locals;var aC=o(1559),cC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(aC.A,cC),aC.A.locals;class lC extends Lo{constructor(t){super(t),this.uploadStatusChange=(t,e,n)=>{const r=this.editor,i=e.item,o=i.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const s=r.plugins.get("ImageUtils"),a=r.plugins.get(hw),c=o?e.attributeNewValue:null,l=this.placeholder,u=r.editing.mapper.toViewElement(i),d=n.writer;if("reading"==c)return uC(u,d),void dC(s,l,u,d);if("uploading"==c){const t=a.loaders.get(o);return uC(u,d),void(t?(hC(u,d),function(t,e,n,r){const i=function(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}(e);e.insert(e.createPositionAt(t,"end"),i),n.on("change:uploadedPercent",((t,e,n)=>{r.change((t=>{t.setStyle("width",n+"%",i)}))}))}(u,d,t,r.editing.view),function(t,e,n,r){if(r.data){const i=t.findViewImgElement(e);n.setAttribute("src",r.data,i)}}(s,u,d,t)):dC(s,l,u,d))}"complete"==c&&a.loaders.get(o)&&function(t,e,n){const r=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),r),setTimeout((()=>{n.change((t=>t.remove(t.createRangeOn(r))))}),3e3)}(u,d,r.editing.view),function(t,e){pC(t,e,"progressBar")}(u,d),hC(u,d),function(t,e){e.removeClass("ck-appear",t)}(u,d)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function uC(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function dC(t,e,n,r){n.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",n);const i=t.findViewImgElement(n);i.getAttribute("src")!==e&&r.setAttribute("src",e,i),fC(n,"placeholder")||r.insert(r.createPositionAfter(i),function(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}(r))}function hC(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),pC(t,e,"placeholder")}function fC(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function pC(t,e,n){const r=fC(t,n);r&&e.remove(e.createRangeOn(r))}var gC=Object.defineProperty,mC=Object.defineProperties,vC=Object.getOwnPropertyDescriptors,bC=Object.getOwnPropertySymbols,yC=Object.prototype.hasOwnProperty,kC=Object.prototype.propertyIsEnumerable,wC=(t,e,n)=>e in t?gC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;class _C extends Ro{refresh(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(n)}execute(t){const e=_i(t.file),n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(n.getAttributes());e.forEach(((t,e)=>{const o=n.getSelectedElement();if(e&&o&&r.isImage(o)){const e=this.editor.model.createPositionAfter(o);this._uploadImage(t,i,e)}else this._uploadImage(t,i)}))}_uploadImage(t,e,n){const r=this.editor,i=r.plugins.get(hw).createLoader(t),o=r.plugins.get("ImageUtils");var s,a;i&&o.insertImage((s=((t,e)=>{for(var n in e||(e={}))yC.call(e,n)&&wC(t,n,e[n]);if(bC)for(var n of bC(e))kC.call(e,n)&&wC(t,n,e[n]);return t})({},e),a={uploadId:i.id},mC(s,vC(a))),n)}}class AC extends Lo{constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[hw,Cm,Kb,aA]}static get pluginName(){return"ImageUploadEditing"}init(){const t=this.editor,e=t.model.document,n=t.conversion,r=t.plugins.get(hw),i=t.plugins.get("ImageUtils"),o=t.plugins.get("ClipboardPipeline"),s=JA(t.config.get("image.upload.types")),a=new _C(t);t.commands.add("uploadImage",a),t.commands.add("imageUpload",a),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",((e,n)=>{if(r=n.dataTransfer,Array.from(r.types).includes("text/html")&&""!==r.getData("text/html"))return;var r;const i=Array.from(n.dataTransfer.files).filter((t=>!!t&&s.test(t.type)));i.length&&(e.stop(),t.model.change((e=>{n.targetRanges&&e.setSelection(n.targetRanges.map((e=>t.editing.mapper.toModelRange(e)))),t.execute("uploadImage",{file:i})})))})),this.listenTo(o,"inputTransformation",((e,n)=>{const o=Array.from(t.editing.view.createRangeIn(n.content)).map((t=>t.item)).filter((t=>function(t,e){return!(!t.isInlineImageView(e)||!e.getAttribute("src")||!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!e.getAttribute("src").match(/^blob:/g))}(i,t)&&!t.getAttribute("uploadProcessed"))).map((t=>({promise:tC(t),imageElement:t})));if(!o.length)return;const s=new Jh(t.editing.view.document);for(const t of o){s.setAttribute("uploadProcessed",!0,t.imageElement);const e=r.createLoader(t.promise);e&&(s.setAttribute("src","",t.imageElement),s.setAttribute("uploadId",e.id,t.imageElement))}})),t.editing.view.document.on("dragover",((t,e)=>{e.preventDefault()})),e.on("change",(()=>{const n=e.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),i=new Set;for(const e of n)if("insert"==e.type&&"$text"!=e.name){const n=e.position.nodeAfter,o="$graveyard"==e.position.root.rootName;for(const e of CC(t,n)){const t=e.getAttribute("uploadId");if(!t)continue;const n=r.loaders.get(t);n&&(o?i.has(t)||n.abort():(i.add(t),this._uploadImageElements.set(t,e),"idle"==n.status&&this._readAndUpload(n)))}}})),this.on("uploadComplete",((t,{imageElement:e,data:n})=>{const r=n.urls?n.urls:n;this.editor.model.change((t=>{t.setAttribute("src",r.default,e),this._parseAndSetSrcsetAttributeOnImage(r,e,t),i.setImageNaturalSizeAttributes(e)}))}),{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(t){const e=this.editor,n=e.model,r=e.locale.t,i=e.plugins.get(hw),o=e.plugins.get(Cm),s=e.plugins.get("ImageUtils"),a=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},(e=>{e.setAttribute("uploadStatus","reading",a.get(t.id))})),t.read().then((()=>{const i=t.upload(),o=a.get(t.id);if(l.isSafari){const t=e.editing.mapper.toViewElement(o),n=s.findViewImgElement(t);e.editing.view.once("render",(()=>{if(!n.parent)return;const t=e.editing.view.domConverter.mapViewToDom(n.parent);if(!t)return;const r=t.style.display;t.style.display="none",t._ckHack=t.offsetHeight,t.style.display=r}))}return e.ui&&e.ui.ariaLiveAnnouncer.announce(r("Uploading image")),n.enqueueChange({isUndoable:!1},(t=>{t.setAttribute("uploadStatus","uploading",o)})),i})).then((i=>{n.enqueueChange({isUndoable:!1},(n=>{const o=a.get(t.id);n.setAttribute("uploadStatus","complete",o),e.ui&&e.ui.ariaLiveAnnouncer.announce(r("Image upload complete")),this.fire("uploadComplete",{data:i,imageElement:o})})),c()})).catch((i=>{if(e.ui&&e.ui.ariaLiveAnnouncer.announce(r("Error during image upload")),"error"!==t.status&&"aborted"!==t.status)throw i;"error"==t.status&&i&&o.showWarning(i,{title:r("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},(e=>{e.remove(a.get(t.id))})),c()}));function c(){n.enqueueChange({isUndoable:!1},(e=>{const n=a.get(t.id);e.removeAttribute("uploadId",n),e.removeAttribute("uploadStatus",n),a.delete(t.id)})),i.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let r=0;const i=Object.keys(t).filter((t=>{const e=parseInt(t,10);if(!isNaN(e))return r=Math.max(r,e),!0})).map((e=>`${t[e]} ${e}w`)).join(", ");if(""!=i){const t={srcset:i};e.hasAttribute("width")||e.hasAttribute("height")||(t.width=r),n.setAttributes(t,e)}}}function CC(t,e){const n=t.plugins.get("ImageUtils");return Array.from(t.model.createRangeOn(e)).filter((t=>n.isImage(t.item))).map((t=>t.item))}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var xC=o(4642),EC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(xC.A,EC),xC.A.locals;var SC=o(3469),MC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(SC.A,MC),SC.A.locals;class IC extends Ro{constructor(t,e){super(t),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(e.map((t=>{if(t.isDefault)for(const e of t.modelElements)this._defaultStyles[e]=t.name;return[t.name,t]})))}refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?t.hasAttribute("imageStyle")?this.value=t.getAttribute("imageStyle"):this.value=this._defaultStyles[t.name]:this.value=!1}execute(t={}){const e=this.editor,n=e.model,r=e.plugins.get("ImageUtils");n.change((e=>{const i=t.value,{setImageSizes:o=!0}=t;let s=r.getClosestSelectedImageElement(n.document.selection);i&&this.shouldConvertImageType(i,s)&&(this.editor.execute(r.isBlockImage(s)?"imageTypeInline":"imageTypeBlock",{setImageSizes:o}),s=r.getClosestSelectedImageElement(n.document.selection)),!i||this._styles.get(i).isDefault?e.removeAttribute("imageStyle",s):e.setAttribute("imageStyle",i,s),o&&r.setImageNaturalSizeAttributes(s)}))}shouldConvertImageType(t,e){return!this._styles.get(t).modelElements.includes(e.name)}}var DC=Object.defineProperty,TC=Object.getOwnPropertySymbols,OC=Object.prototype.hasOwnProperty,NC=Object.prototype.propertyIsEnumerable,PC=(t,e,n)=>e in t?DC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LC=(t,e)=>{for(var n in e||(e={}))OC.call(e,n)&&PC(t,n,e[n]);if(TC)for(var n of TC(e))NC.call(e,n)&&PC(t,n,e[n]);return t};const{objectFullWidth:BC,objectInline:RC,objectLeft:jC,objectRight:zC,objectCenter:FC,objectBlockLeft:VC,objectBlockRight:UC}=vf,GC={get inline(){return{name:"inline",title:"In line",icon:RC,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:jC,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:VC,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:FC,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:zC,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:UC,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:FC,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:zC,modelElements:["imageBlock"],className:"image-style-side"}}},HC={full:BC,left:VC,right:UC,center:FC,inlineLeft:jC,inlineRight:zC,inline:RC},$C=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function WC(t){A("image-style-configuration-definition-invalid",t)}const YC={normalizeStyles:function(t){return(t.configuredStyles.options||[]).map((t=>function(t){return t="string"==typeof t?GC[t]?LC({},GC[t]):{name:t}:function(t,e){const n=LC({},e);for(const r in t)Object.prototype.hasOwnProperty.call(e,r)||(n[r]=t[r]);return n}(GC[t.name],t),"string"==typeof t.icon&&(t.icon=HC[t.icon]||t.icon),t}(t))).filter((e=>function(t,{isBlockPluginLoaded:e,isInlinePluginLoaded:n}){const{modelElements:r,name:i}=t;if(!(r&&r.length&&i))return WC({style:t}),!1;{const i=[e?"imageBlock":null,n?"imageInline":null];if(!r.some((t=>i.includes(t))))return A("image-style-missing-dependency",{style:t,missingPlugins:r.map((t=>"imageBlock"===t?"ImageBlockEditing":"ImageInlineEditing"))}),!1}return!0}(e,t)))},getDefaultStylesConfiguration:function(t,e){return t&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:t?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(t){return t.has("ImageBlockEditing")&&t.has("ImageInlineEditing")?[...$C]:[]},warnInvalidStyle:WC,DEFAULT_OPTIONS:GC,DEFAULT_ICONS:HC,DEFAULT_DROPDOWN_DEFINITIONS:$C};function qC(t,e){for(const n of e)if(n.name===t)return n}class XC extends Lo{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[aA]}init(){const{normalizeStyles:t,getDefaultStylesConfiguration:e}=YC,n=this.editor,r=n.plugins.has("ImageBlockEditing"),i=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",e(r,i)),this.normalizedStyles=t({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:r,isInlinePluginLoaded:i}),this._setupConversion(r,i),this._setupPostFixer(),n.commands.add("imageStyle",new IC(n,this.normalizedStyles))}_setupConversion(t,e){const n=this.editor,r=n.model.schema,i=(o=this.normalizedStyles,(t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const r=qC(e.attributeNewValue,o),i=qC(e.attributeOldValue,o),s=n.mapper.toViewElement(e.item),a=n.writer;i&&a.removeClass(i.className,s),r&&a.addClass(r.className,s)});var o;const s=function(t){const e={imageInline:t.filter((t=>!t.isDefault&&t.modelElements.includes("imageInline"))),imageBlock:t.filter((t=>!t.isDefault&&t.modelElements.includes("imageBlock")))};return(t,n,r)=>{if(!n.modelRange)return;const i=n.viewItem,o=qi(n.modelRange.getItems());if(o&&r.schema.checkAttribute(o,"imageStyle"))for(const s of e[o.name])r.consumable.consume(i,{classes:s.className})&&r.writer.setAttribute("imageStyle",s.name,o)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",i),n.data.downcastDispatcher.on("attribute:imageStyle",i),t&&(r.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",s,{priority:"low"})),e&&(r.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",s,{priority:"low"}))}_setupPostFixer(){const t=this.editor,e=t.model.document,n=t.plugins.get(aA),r=new Map(this.normalizedStyles.map((t=>[t.name,t])));e.registerPostFixer((t=>{let i=!1;for(const o of e.differ.getChanges())if("insert"==o.type||"attribute"==o.type&&"imageStyle"==o.attributeKey){let e="insert"==o.type?o.position.nodeAfter:o.range.start.nodeAfter;if(e&&e.is("element","paragraph")&&e.childCount>0&&(e=e.getChild(0)),!n.isImage(e))continue;const s=e.getAttribute("imageStyle");if(!s)continue;const a=r.get(s);a&&a.modelElements.includes(e.name)||(t.removeAttribute("imageStyle",e),i=!0)}return i}))}}var KC=o(6386),ZC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(KC.A,ZC),KC.A.locals;class QC extends Lo{static get requires(){return[XC]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,e=this.editor.config.get("image.toolbar")||[],n=JC(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const i of n)this._createButton(i);const r=JC([...e.filter(V),...YC.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const i of r)this._createDropdown(i,n)}_createDropdown(t,e){const n=this.editor.ui.componentFactory;n.add(t.name,(r=>{let i;const{defaultItem:o,items:s,title:a}=t,c=s.filter((t=>e.find((({name:e})=>tx(e)===t)))).map((t=>{const e=n.create(t);return t===o&&(i=e),e}));s.length!==c.length&&YC.warnInvalidStyle({dropdown:t});const l=Vp(r,Bp),u=l.buttonView,d=u.arrowView;return Up(l,c,{enableActiveItemFocusOnDropdownOpen:!0}),u.set({label:ex(a,i.label),class:null,tooltip:!0}),d.unbind("label"),d.set({label:a}),u.bind("icon").toMany(c,"isOn",((...t)=>{const e=t.findIndex(Di);return e<0?i.icon:c[e].icon})),u.bind("label").toMany(c,"isOn",((...t)=>{const e=t.findIndex(Di);return ex(a,e<0?i.label:c[e].label)})),u.bind("isOn").toMany(c,"isOn",((...t)=>t.some(Di))),u.bind("class").toMany(c,"isOn",((...t)=>t.some(Di)?"ck-splitbutton_flatten":void 0)),u.on("execute",(()=>{c.some((({isOn:t})=>t))?l.isOpen=!l.isOpen:i.fire("execute")})),l.bind("isEnabled").toMany(c,"isEnabled",((...t)=>t.some(Di))),this.listenTo(l,"execute",(()=>{this.editor.editing.view.focus()})),l}))}_createButton(t){const e=t.name;this.editor.ui.componentFactory.add(tx(e),(n=>{const r=this.editor.commands.get("imageStyle"),i=new Lf(n);return i.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(r,"isEnabled"),i.bind("isOn").to(r,"value",(t=>t===e)),i.on("execute",this._executeCommand.bind(this,e)),i}))}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function JC(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}function tx(t){return`imageStyle:${t}`}function ex(t,e){return(t?t+": ":"")+e}class nx extends Lo{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new zo(t)),t.commands.add("outdent",new zo(t))}}class rx extends Lo{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,n=t.t,r="ltr"==e.uiLanguageDirection?vf.indent:vf.outdent,i="ltr"==e.uiLanguageDirection?vf.outdent:vf.indent;this._defineButton("indent",n("Increase indent"),r),this._defineButton("outdent",n("Decrease indent"),i)}_defineButton(t,e,n){const r=this.editor;r.ui.componentFactory.add(t,(()=>{const r=this._createButton(Lf,t,e,n);return r.set({tooltip:!0}),r})),r.ui.componentFactory.add("menuBar:"+t,(()=>this._createButton(Yv,t,e,n)))}_createButton(t,e,n,r){const i=this.editor,o=i.commands.get(e),s=new t(i.locale);return s.set({label:n,icon:r}),s.bind("isEnabled").to(o,"isEnabled"),this.listenTo(s,"execute",(()=>{i.execute(e),i.editing.view.focus()})),s}}class ix{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach((t=>this._definitions.add(t))):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",((t,e,n)=>{if(!n.consumable.test(e.item,"attribute:linkHref"))return;if(!e.item.is("selection")&&!n.schema.isInline(e.item))return;const r=n.writer,i=r.document.selection;for(const o of this._definitions){const t=r.createAttributeElement("a",o.attributes,{priority:5});o.classes&&r.addClass(o.classes,t);for(const e in o.styles)r.setStyle(e,o.styles[e],t);r.setCustomProperty("link",!0,t),o.callback(e.attributeNewValue)?e.item.is("selection")?r.wrap(i.getFirstRange(),t):r.wrap(n.mapper.toViewRange(e.range),t):r.unwrap(n.mapper.toViewRange(e.range),t)}}),{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",((t,e,{writer:n,mapper:r})=>{const i=r.toViewElement(e.item),o=Array.from(i.getChildren()).find((t=>t.is("element","a")));for(const s of this._definitions){const t=Zi(s.attributes);if(s.callback(e.attributeNewValue)){for(const[e,r]of t)"class"===e?n.addClass(r,o):n.setAttribute(e,r,o);s.classes&&n.addClass(s.classes,o);for(const t in s.styles)n.setStyle(t,s.styles[t],o)}else{for(const[e,r]of t)"class"===e?n.removeClass(r,o):n.removeAttribute(e,o);s.classes&&n.removeClass(s.classes,o);for(const t in s.styles)n.removeStyle(t,o)}}}))}}}const ox=function(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Os(t,e,n)};var sx=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const ax=function(t){return sx.test(t)},cx=function(t){return t.split("")};var lx="\\ud800-\\udfff",ux="["+lx+"]",dx="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",hx="\\ud83c[\\udffb-\\udfff]",fx="[^"+lx+"]",px="(?:\\ud83c[\\udde6-\\uddff]){2}",gx="[\\ud800-\\udbff][\\udc00-\\udfff]",mx="(?:"+dx+"|"+hx+")?",vx="[\\ufe0e\\ufe0f]?",bx=vx+mx+"(?:\\u200d(?:"+[fx,px,gx].join("|")+")"+vx+mx+")*",yx="(?:"+[fx+dx+"?",dx,px,gx,ux].join("|")+")",kx=RegExp(hx+"(?="+hx+")|"+yx+bx,"g");const wx=function(t){return t.match(kx)||[]},_x=function(t){return ax(t)?wx(t):cx(t)},Ax=function(t){return function(e){e=Ss(e);var n=ax(e)?_x(e):void 0,r=n?n[0]:e.charAt(0),i=n?ox(n,1).join(""):e.slice(1);return r[t]()+i}}("toUpperCase"),Cx=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,xx=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Ex=/^((\w+:(\/{2,})?)|(\W))/i,Sx=["https?","ftps?","mailto"],Mx="Ctrl+K";function Ix(t,{writer:e}){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function Dx(t,e=Sx){const n=String(t),r=e.join("|");return function(t,e){const n=t.replace(Cx,"");return!!n.match(e)}(n,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",r)}`,"i"))?n:"#"}function Tx(t,e){return!!t&&e.checkAttribute(t.name,"linkHref")}function Ox(t,e){const n=(r=t,xx.test(r)?"mailto:":e);var r;const i=!!n&&!Nx(t);return t&&i?n+t:t}function Nx(t){return Ex.test(t)}function Px(t){window.open(t,"_blank","noopener")}class Lx extends Ro{constructor(){super(...arguments),this.manualDecorators=new Yi,this.automaticDecorators=new ix}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement()||qi(e.getSelectedBlocks());Tx(n,t.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(n,"linkHref")):(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref"));for(const r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}execute(t,e={}){const n=this.editor.model,r=n.document.selection,i=[],o=[];for(const s in e)e[s]?i.push(s):o.push(s);n.change((e=>{if(r.isCollapsed){const s=r.getFirstPosition();if(r.hasAttribute("linkHref")){const a=Bx(r);let c=My(s,"linkHref",r.getAttribute("linkHref"),n);r.getAttribute("linkHref")===a&&(c=this._updateLinkContent(n,e,c,t)),e.setAttribute("linkHref",t,c),i.forEach((t=>{e.setAttribute(t,!0,c)})),o.forEach((t=>{e.removeAttribute(t,c)})),e.setSelection(e.createPositionAfter(c.end.nodeBefore))}else if(""!==t){const o=Zi(r.getAttributes());o.set("linkHref",t),i.forEach((t=>{o.set(t,!0)}));const{end:a}=n.insertContent(e.createText(t,o),s);e.setSelection(a)}["linkHref",...i,...o].forEach((t=>{e.removeSelectionAttribute(t)}))}else{const s=n.schema.getValidRanges(r.getRanges(),"linkHref"),a=[];for(const t of r.getSelectedBlocks())n.schema.checkAttribute(t,"linkHref")&&a.push(e.createRangeOn(t));const c=a.slice();for(const t of s)this._isRangeToUpdate(t,a)&&c.push(t);for(const l of c){let s=l;if(1===c.length){const i=Bx(r);r.getAttribute("linkHref")===i&&(s=this._updateLinkContent(n,e,l,t),e.setSelection(e.createSelection(s)))}e.setAttribute("linkHref",t,s),i.forEach((t=>{e.setAttribute(t,!0,s)})),o.forEach((t=>{e.removeAttribute(t,s)}))}}}))}_getDecoratorStateFromModel(t){const e=this.editor.model,n=e.document.selection,r=n.getSelectedElement();return Tx(r,e.schema)?r.getAttribute(t):n.getAttribute(t)}_isRangeToUpdate(t,e){for(const n of e)if(n.containsRange(t))return!1;return!0}_updateLinkContent(t,e,n,r){const i=e.createText(r,{linkHref:r});return t.insertContent(i,n)}}function Bx(t){if(t.isCollapsed){const e=t.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(t.getFirstRange().getItems());if(e.length>1)return null;const n=e[0];return n.is("$text")||n.is("$textProxy")?n.data:null}}class Rx extends Ro{refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement();Tx(n,t.schema)?this.isEnabled=t.schema.checkAttribute(n,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,n=e.document.selection,r=t.commands.get("link");e.change((t=>{const i=n.isCollapsed?[My(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),e)]:e.schema.getValidRanges(n.getRanges(),"linkHref");for(const e of i)if(t.removeAttribute("linkHref",e),r)for(const n of r.manualDecorators)t.removeAttribute(n.id,e)}))}}class jx extends(q()){constructor({id:t,label:e,attributes:n,classes:r,styles:i,defaultValue:o}){super(),this.id=t,this.set("value",void 0),this.defaultValue=o,this.label=e,this.attributes=n,this.classes=r,this.styles=i}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var zx=o(7719),Fx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(zx.A,Fx),zx.A.locals;var Vx=Object.defineProperty,Ux=Object.getOwnPropertySymbols,Gx=Object.prototype.hasOwnProperty,Hx=Object.prototype.propertyIsEnumerable,$x=(t,e,n)=>e in t?Vx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wx=(t,e)=>{for(var n in e||(e={}))Gx.call(e,n)&&$x(t,n,e[n]);if(Ux)for(var n of Ux(e))Hx.call(e,n)&&$x(t,n,e[n]);return t};const Yx="automatic",qx=/^(https?:)?\/\//;class Xx extends Lo{static get pluginName(){return"LinkEditing"}static get requires(){return[py,ey,Kb]}constructor(t){super(t),t.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const t=this.editor,e=this.editor.config.get("link.allowedProtocols");t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Ix}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,n)=>Ix(Dx(t,e),n)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}}),t.commands.add("link",new Lx(t)),t.commands.add("unlink",new Rx(t));const n=function(t,e){const n={"Open in a new tab":t("Open in a new tab"),Downloadable:t("Downloadable")};return e.forEach((t=>("label"in t&&n[t.label]&&(t.label=n[t.label]),t))),e}(t.t,function(t){const e=[];if(t)for(const[n,r]of Object.entries(t)){const t=Object.assign({},r,{id:`link${Ax(n)}`});e.push(t)}return e}(t.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter((t=>t.mode===Yx))),this._enableManualDecorators(n.filter((t=>"manual"===t.mode))),t.plugins.get(py).registerAttribute("linkHref"),function(t,e,n,r){const i=t.editing.view,o=new Set;i.document.registerPostFixer((i=>{const s=t.model.document.selection;let a=!1;if(s.hasAttribute(e)){const c=My(s.getFirstPosition(),e,s.getAttribute(e),t.model),l=t.editing.mapper.toViewRange(c);for(const t of l.getItems())t.is("element",n)&&!t.hasClass(r)&&(i.addClass(r,t),o.add(t),a=!0)}return a})),t.conversion.for("editingDowncast").add((t=>{function e(){i.change((t=>{for(const e of o.values())t.removeClass(r,e),o.delete(e)}))}t.on("insert",e,{priority:"highest"}),t.on("remove",e,{priority:"highest"}),t.on("attribute",e,{priority:"highest"}),t.on("selection",e,{priority:"highest"})}))}(t,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const e=this.editor,n=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:Yx,callback:t=>!!t&&qx.test(t),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach((t=>{e.model.schema.extend("$text",{allowAttributes:t.id});const r=new jx(t);n.add(r),e.conversion.for("downcast").attributeToElement({model:r.id,view:(t,{writer:e,schema:n},{item:i})=>{if((i.is("selection")||n.isInline(i))&&t){const t=e.createAttributeElement("a",r.attributes,{priority:5});r.classes&&e.addClass(r.classes,t);for(const n in r.styles)e.setStyle(n,r.styles[n],t);return e.setCustomProperty("link",!0,t),t}}}),e.conversion.for("upcast").elementToAttribute({view:Wx({name:"a"},r._createPattern()),model:{key:r.id}})}))}_enableLinkOpen(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",((t,e)=>{if(!(l.isMac?e.domEvent.metaKey:e.domEvent.ctrlKey))return;let n=e.domTarget;if("a"!=n.tagName.toLowerCase()&&(n=n.closest("a")),!n)return;const r=n.getAttribute("href");r&&(t.stop(),e.preventDefault(),Px(r))}),{context:"$capture"}),this.listenTo(e,"keydown",((e,n)=>{const r=t.commands.get("link").value;r&&n.keyCode===mi.enter&&n.altKey&&(e.stop(),Px(r))}))}_enableSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection;this.listenTo(e,"change:attribute",((n,{attributeKeys:r})=>{r.includes("linkHref")&&!e.hasAttribute("linkHref")&&t.change((e=>{var n;!function(t,e){t.removeSelectionAttribute("linkHref");for(const n of e)t.removeSelectionAttribute(n)}(e,(n=t.schema,n.getDefinition("$text").allowAttributes.filter((t=>t.startsWith("link")))))}))}))}_enableClipboardIntegration(){const t=this.editor,e=t.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",((t,r)=>{e.change((t=>{const e=t.createRangeIn(r.content);for(const r of e.getItems())if(r.hasAttribute("linkHref")){const e=Ox(r.getAttribute("linkHref"),n);t.setAttribute("linkHref",e,r)}}))}))}}var Kx=o(3817),Zx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Kx.A,Zx),Kx.A.locals;class Qx extends Do{constructor(t,e,n){super(t),this.focusTracker=new Xi,this.keystrokes=new Ki,this._focusables=new ro;const r=t.t;this._validators=n,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),vf.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),vf.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e.manualDecorators),this._focusCycler=new lp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const i=["ck","ck-link-form","ck-responsive-form"];e.manualDecorators.length&&i.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:i,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce(((t,e)=>(t[e.name]=e.isOn,t)),{})}render(){super.render(),No({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const t=this.locale.t,e=new Xf(this.locale,qp);return e.label=t("Link URL"),e}_createButton(t,e,n,r){const i=new Lf(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t.manualDecorators){const r=new jf(this.locale);r.set({name:n.id,label:n.label,withText:!0}),r.bind("isOn").toMany([n,t],"value",((t,e)=>void 0===e&&void 0===t?!!n.defaultValue:!!t)),r.on("execute",(()=>{n.set("value",!r.isOn)})),e.add(r)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const t=new Do;t.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((t=>({tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}}))),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(t)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}get url(){const{element:t}=this.urlInputView.fieldView;return t?t.value.trim():null}}var Jx=o(8762),tE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(Jx.A,tE),Jx.A.locals;class eE extends Do{constructor(t,e={}){super(t),this.focusTracker=new Xi,this.keystrokes=new Ki,this._focusables=new ro;const n=t.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(n("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(n("Edit link"),vf.pencil,"edit"),this.set("href",void 0),this._linkConfig=e,this._focusCycler=new lp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const r=new Lf(this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.delegate("execute").to(this,n),r}_createPreviewButton(){const t=new Lf(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",(t=>t&&Dx(t,this._linkConfig.allowedProtocols))),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",(t=>t||n("This link has no URL"))),t.bind("isEnabled").to(this,"href",(t=>!!t)),t.template.tag="a",t.template.eventListeners={},t}}const nE="link-ui";class rE extends Lo{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Tm]}static get pluginName(){return"LinkUI"}init(){const t=this.editor,e=this.editor.t;t.editing.view.addObserver(Zh),this._balloon=t.plugins.get(Tm),this._createToolbarLinkButton(),this._enableBalloonActivators(),t.conversion.for("editingDowncast").markerToHighlight({model:nE,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:nE,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Create link"),keystroke:Mx},{label:e("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,e=new eE(t.locale,t.config.get("link")),n=t.commands.get("link"),r=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(e,"edit",(()=>{this._addFormView()})),this.listenTo(e,"unlink",(()=>{t.execute("unlink"),this._hideUI()})),e.keystrokes.set("Esc",((t,e)=>{this._hideUI(),e()})),e.keystrokes.set(Mx,((t,e)=>{this._addFormView(),e()})),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=t.config.get("link.defaultProtocol"),r=new(Oo(Qx))(t.locale,e,function(t){const e=t.t,n=t.config.get("link.allowCreatingEmptyLinks");return[t=>{if(!n&&!t.url.length)return e("Link URL must not be empty.")}]}(t));return r.urlInputView.fieldView.bind("value").to(e,"value"),r.urlInputView.bind("isEnabled").to(e,"isEnabled"),r.saveButtonView.bind("isEnabled").to(e,"isEnabled"),this.listenTo(r,"submit",(()=>{if(r.isValid()){const{value:e}=r.urlInputView.fieldView.element,i=Ox(e,n);t.execute("link",i,r.getDecoratorSwitchesState()),this._closeFormView()}})),this.listenTo(r.urlInputView,"change:errorText",(()=>{t.ui.update()})),this.listenTo(r,"cancel",(()=>{this._closeFormView()})),r.keystrokes.set("Esc",((t,e)=>{this._closeFormView(),e()})),r}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link");t.ui.componentFactory.add("link",(()=>{const t=this._createButton(Lf);return t.set({tooltip:!0,isToggleable:!0}),t.bind("isOn").to(e,"value",(t=>!!t)),t})),t.ui.componentFactory.add("menuBar:link",(()=>this._createButton(Yv)))}_createButton(t){const e=this.editor,n=e.locale,r=e.commands.get("link"),i=new t(e.locale),o=n.t;return i.set({label:o("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:Mx}),i.bind("isEnabled").to(r,"isEnabled"),this.listenTo(i,"execute",(()=>this._showUI(!0))),i}_enableBalloonActivators(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",(()=>{this._getSelectedLinkElement()&&this._showUI()})),t.keystrokes.set(Mx,((e,n)=>{n(),t.commands.get("link").isEnabled&&this._showUI(!0)}))}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",((t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())}),{priority:"high"}),this.editor.keystrokes.set("Esc",((t,e)=>{this._isUIVisible&&(this._hideUI(),e())})),To({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=t.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),r=o();const i=()=>{const t=this._getSelectedLinkElement(),e=o();n&&!t||!n&&e!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=t,r=e};function o(){return e.selection.focus.getAncestors().reverse().find((t=>t.is("element")))}this.listenTo(t.ui,"update",i),this.listenTo(this._balloon,"change:visibleView",i)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return!!this.formView&&t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=this.editor.model,n=t.document;let r;if(e.markers.has(nE)){const e=Array.from(this.editor.editing.mapper.markerNameToElements(nE)),n=t.createRange(t.createPositionBefore(e[0]),t.createPositionAfter(e[e.length-1]));r=t.domConverter.viewRangeToDom(n)}else r=()=>{const e=this._getSelectedLinkElement();return e?t.domConverter.mapViewToDom(e):t.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:r}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection,n=e.getSelectedElement();if(e.isCollapsed||n&&Yy(n))return iE(e.getFirstPosition());{const n=e.getFirstRange().getTrimmed(),r=iE(n.start),i=iE(n.end);return r&&r==i&&t.createRangeIn(r).getTrimmed().isEqual(n)?r:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change((e=>{const n=t.document.selection.getFirstRange();if(t.markers.has(nE))e.updateMarker(nE,{range:n});else if(n.start.isAtEnd){const r=n.start.getLastMatchingPosition((({item:e})=>!t.schema.isContent(e)),{boundaries:n});e.addMarker(nE,{usingOperation:!1,affectsData:!1,range:e.createRange(r,n.end)})}else e.addMarker(nE,{usingOperation:!1,affectsData:!1,range:n})}))}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(nE)&&t.change((t=>{t.removeMarker(nE)}))}}function iE(t){return t.getAncestors().find((t=>{return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e}))||null}const oE=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class sE extends Lo{static get requires(){return[uy,Xx]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(t,e){return e.textNode&&e.textNode.hasAttribute("linkHref")?My(e,"linkHref",e.textNode.getAttribute("linkHref"),t):null}_selectEntireLinks(t,e){const n=this.editor.model,r=n.document.selection,i=r.getFirstPosition(),o=r.getLastPosition();let s=e.getJoined(this._expandLinkRange(n,i)||e);s&&(s=s.getJoined(this._expandLinkRange(n,o)||e)),s&&(s.start.isBefore(i)||s.end.isAfter(o))&&t.setSelection(s)}_enablePasteLinking(){const t=this.editor,e=t.model,n=e.document.selection,r=t.plugins.get("ClipboardPipeline"),i=t.commands.get("link");r.on("inputTransformation",((t,r)=>{if(!this.isEnabled||!i.isEnabled||n.isCollapsed||"paste"!==r.method)return;if(n.rangeCount>1)return;const o=n.getFirstRange(),s=r.dataTransfer.getData("text/plain");if(!s)return;const a=s.match(oE);a&&a[2]===s&&(e.change((t=>{this._selectEntireLinks(t,o),i.execute(s)})),t.stop())}),{priority:"high"})}_enableTypingHandling(){const t=this.editor,e=new fy(t.model,(t=>{if(!function(t){return t.length>4&&" "===t[t.length-1]&&" "!==t[t.length-2]}(t))return;const e=aE(t.substr(0,t.length-1));return e?{url:e}:void 0}));e.on("matched:data",((e,n)=>{const{batch:r,range:i,url:o}=n;if(!r.isTyping)return;const s=i.end.getShiftedBy(-1),a=s.getShiftedBy(-o.length),c=t.model.createRange(a,s);this._applyAutoLink(o,c)})),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("enter");n&&n.on("execute",(()=>{const t=e.document.selection.getFirstPosition();if(!t.parent.previousSibling)return;const n=e.createRangeIn(t.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(n)}))}_enableShiftEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("shiftEnter");n&&n.on("execute",(()=>{const t=e.document.selection.getFirstPosition(),n=e.createRange(e.createPositionAt(t.parent,0),t.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(n)}))}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:n,range:r}=hy(t,e),i=aE(n);if(i){const t=e.createRange(r.end.getShiftedBy(-i.length),r.end);this._applyAutoLink(i,t)}}_applyAutoLink(t,e){const n=this.editor.model,r=Ox(t,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(t,e){return e.schema.checkAttributeInSelection(e.createSelection(t),"linkHref")}(e,n)&&Nx(r)&&!function(t){const e=t.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}(e)&&this._persistAutoLink(r,e)}_persistAutoLink(t,e){const n=this.editor.model,r=this.editor.plugins.get("Delete");n.enqueueChange((i=>{i.setAttribute("linkHref",t,e),n.enqueueChange((()=>{r.requestUndoOnBackspace()}))}))}}function aE(t){const e=oE.exec(t);return e?e[2]:null}var cE=o(4808),lE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(cE.A,lE),cE.A.locals;class uE{constructor(t,e){this._startElement=t,this._referenceIndent=t.getAttribute("listIndent"),this._isForward="forward"==e.direction,this._includeSelf=!!e.includeSelf,this._sameAttributes=_i(e.sameAttributes||[]),this._sameIndent=!!e.sameIndent,this._lowerIndent=!!e.lowerIndent,this._higherIndent=!!e.higherIndent}static first(t,e){return qi(new this(t,e)[Symbol.iterator]())}*[Symbol.iterator](){const t=[];for(const{node:e}of dE(this._getStartNode(),this._isForward?"forward":"backward")){const n=e.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){t.push(e);continue}}else{if(!this._sameIndent){if(this._higherIndent){t.length&&(yield*t,t.length=0);break}continue}if(this._sameAttributes.some((t=>e.getAttribute(t)!==this._startElement.getAttribute(t))))break}t.length&&(yield*t,t.length=0),yield e}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*dE(t,e="forward"){const n="forward"==e,r=[];let i=null;for(;AE(t);){let e=null;if(i){const n=t.getAttribute("listIndent"),o=i.getAttribute("listIndent");n>o?r[o]=i:n<o?(e=r[n],r.length=n):e=i}yield{node:t,previous:i,previousNodeInList:e},i=t,t=n?t.nextSibling:t.previousSibling}}class hE{constructor(t){this._listHead=t}[Symbol.iterator](){return dE(this._listHead,"forward")}}var fE=Object.defineProperty,pE=Object.defineProperties,gE=Object.getOwnPropertyDescriptors,mE=Object.getOwnPropertySymbols,vE=Object.prototype.hasOwnProperty,bE=Object.prototype.propertyIsEnumerable,yE=(t,e,n)=>e in t?fE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kE=(t,e)=>{for(var n in e||(e={}))vE.call(e,n)&&yE(t,n,e[n]);if(mE)for(var n of mE(e))bE.call(e,n)&&yE(t,n,e[n]);return t},wE=(t,e)=>pE(t,gE(e));class _E{static next(){return b()}}function AE(t){return!!t&&t.is("element")&&t.hasAttribute("listItemId")}function CE(t,e={}){return[...xE(t,wE(kE({},e),{direction:"backward"})),...xE(t,wE(kE({},e),{direction:"forward"}))]}function xE(t,e={}){const n="forward"==e.direction,r=Array.from(new uE(t,wE(kE({},e),{includeSelf:n,sameIndent:!0,sameAttributes:"listItemId"})));return n?r:r.reverse()}function EE(t,e){const n=new uE(t,kE({sameIndent:!0,sameAttributes:"listType"},e)),r=new uE(t,kE({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(n).reverse(),...r]}function SE(t){return!uE.first(t,{sameIndent:!0,sameAttributes:"listItemId"})}function ME(t){return!uE.first(t,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function IE(t,e={}){t=_i(t);const n=!1!==e.withNested,r=new Set;for(const i of t)for(const t of CE(i,{higherIndent:n}))r.add(t);return BE(r)}function DE(t){t=_i(t);const e=new Set;for(const n of t)for(const t of EE(n))e.add(t);return BE(e)}function TE(t,e){const n=xE(t,{direction:"forward"}),r=_E.next();for(const i of n)e.setAttribute("listItemId",r,i);return n}function OE(t,e,n){const r={};for(const[o,s]of e.getAttributes())o.startsWith("list")&&(r[o]=s);const i=xE(t,{direction:"forward"});for(const o of i)n.setAttributes(r,o);return i}function NE(t,e,{expand:n,indentBy:r=1}={}){t=_i(t);const i=n?IE(t):t;for(const o of i){const t=o.getAttribute("listIndent")+r;t<0?PE(o,e):e.setAttribute("listIndent",t,o)}return i}function PE(t,e){t=_i(t);for(const n of t)n.is("element","listItem")&&e.rename(n,"paragraph");for(const n of t)for(const t of n.getAttributeKeys())t.startsWith("list")&&e.removeAttribute(t,n);return t}function LE(t){if(!t.length)return!1;const e=t[0].getAttribute("listItemId");return!!e&&!t.some((t=>t.getAttribute("listItemId")!=e))}function BE(t){return Array.from(t).filter((t=>"$graveyard"!==t.root.rootName)).sort(((t,e)=>t.index-e.index))}function RE(t){const e=t.document.selection.getSelectedElement();return e&&t.schema.isObject(e)&&t.schema.isBlock(e)?e:null}function jE(t,e){return e.checkChild(t.parent,"listItem")&&e.checkChild(t,"$text")&&!e.isObject(t)}function zE(t){return"numbered"==t||"customNumbered"==t}function FE(t,e,n){return xE(e,{direction:"forward"}).pop().index>t.index?OE(t,e,n):[]}class VE extends Ro{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=UE(t.document.selection);t.change((t=>{const n=[];LE(e)&&!SE(e[0])?("forward"==this._direction&&n.push(...NE(e,t)),n.push(...TE(e[0],t))):"forward"==this._direction?n.push(...NE(e,t,{expand:!0})):n.push(...function(t,e){const n=IE(t=_i(t)),r=new Set,i=Math.min(...n.map((t=>t.getAttribute("listIndent")))),o=new Map;for(const s of n)o.set(s,uE.first(s,{lowerIndent:!0}));for(const s of n){if(r.has(s))continue;r.add(s);const t=s.getAttribute("listIndent")-1;if(t<0)PE(s,e);else{if(s.getAttribute("listIndent")==i){const t=FE(s,o.get(s),e);for(const e of t)r.add(e);if(t.length)continue}e.setAttribute("listIndent",t,s)}}return BE(r)}(e,t));for(const e of n){if(!e.hasAttribute("listType"))continue;const n=uE.first(e,{sameIndent:!0});n&&t.setAttribute("listType",n.getAttribute("listType"),e)}this._fireAfterExecute(n)}))}_fireAfterExecute(t){this.fire("afterExecute",BE(new Set(t)))}_checkEnabled(){let t=UE(this.editor.model.document.selection),e=t[0];if(!e)return!1;if("backward"==this._direction)return!0;if(LE(t)&&!SE(t[0]))return!0;t=IE(t),e=t[0];const n=uE.first(e,{sameIndent:!0});return!!n&&n.getAttribute("listType")==e.getAttribute("listType")}}function UE(t){const e=Array.from(t.getSelectedBlocks()),n=e.findIndex((t=>!AE(t)));return-1!=n&&(e.length=n),e}var GE=Object.defineProperty,HE=Object.defineProperties,$E=Object.getOwnPropertyDescriptors,WE=Object.getOwnPropertySymbols,YE=Object.prototype.hasOwnProperty,qE=Object.prototype.propertyIsEnumerable,XE=(t,e,n)=>e in t?GE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KE=(t,e)=>{for(var n in e||(e={}))YE.call(e,n)&&XE(t,n,e[n]);if(WE)for(var n of WE(e))qE.call(e,n)&&XE(t,n,e[n]);return t},ZE=(t,e)=>HE(t,$E(e));class QE extends Ro{constructor(t,e,n={}){super(t),this.type=e,this._listWalkerOptions=n.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.document,r=RE(e),i=Array.from(n.selection.getSelectedBlocks()).filter((t=>e.schema.checkAttribute(t,"listType")||jE(t,e.schema))),o=void 0!==t.forceValue?!t.forceValue:this.value;e.change((s=>{if(o){const t=i[i.length-1],e=xE(t,{direction:"forward"}),n=[];e.length>1&&n.push(...TE(e[1],s)),n.push(...PE(i,s)),n.push(...function(t,e){const n=[];let r=Number.POSITIVE_INFINITY;for(const{node:i}of dE(t.nextSibling,"forward")){const t=i.getAttribute("listIndent");if(0==t)break;t<r&&(r=t);const o=t-r;e.setAttribute("listIndent",o,i),n.push(i)}return n}(t,s)),this._fireAfterExecute(n)}else if((r||n.selection.isCollapsed)&&AE(i[0])){const e=EE(r||i[0],this._listWalkerOptions);for(const n of e)s.setAttributes(ZE(KE({},t.additionalAttributes),{listType:this.type}),n);this._fireAfterExecute(e)}else{const n=[];for(const r of i)if(r.hasAttribute("listType"))for(const e of IE(r,{withNested:!1}))e.getAttribute("listType")!=this.type&&(s.setAttributes(ZE(KE({},t.additionalAttributes),{listType:this.type}),e),n.push(e));else!r.is("element","listItem")&&jE(r,e.schema)&&s.rename(r,"listItem"),s.setAttributes(ZE(KE({},t.additionalAttributes),{listIndent:0,listItemId:_E.next(),listType:this.type}),r),n.push(r);this._fireAfterExecute(n)}}))}_fireAfterExecute(t){this.fire("afterExecute",BE(new Set(t)))}_getValue(){const t=this.editor.model.document.selection,e=Array.from(t.getSelectedBlocks());if(!e.length)return!1;for(const n of e)if(n.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const t=this.editor.model,e=t.schema,n=t.document.selection,r=Array.from(n.getSelectedBlocks());if(!r.length)return!1;if(this.value)return!0;for(const i of r)if(e.checkAttribute(i,"listType")||jE(i,e))return!0;return!1}}class JE extends Ro{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:t=!1}={}){const e=this.editor.model,n=e.document.selection,r=[];e.change((i=>{const{firstElement:o,lastElement:s}=this._getMergeSubjectElements(n,t),a=o.getAttribute("listIndent")||0,c=s.getAttribute("listIndent"),l=s.getAttribute("listItemId");if(a!=c){const t=(u=s,Array.from(new uE(u,{direction:"forward",higherIndent:!0})));r.push(...NE([s,...t],i,{indentBy:a-c,expand:a<c}))}var u;if(t){let t=n;n.isCollapsed&&(t=i.createSelection(i.createRange(i.createPositionAt(o,"end"),i.createPositionAt(s,0)))),e.deleteContent(t,{doNotResetEntireContent:n.isCollapsed});const a=t.getLastPosition().parent,c=a.nextSibling;r.push(a),c&&c!==s&&c.getAttribute("listItemId")==l&&r.push(...OE(c,a,i))}else r.push(...OE(s,o,i));this._fireAfterExecute(r)}))}_fireAfterExecute(t){this.fire("afterExecute",BE(new Set(t)))}_checkEnabled(){const t=this.editor.model,e=t.document.selection,n=RE(t);if(e.isCollapsed||n){const t=n||e.getFirstPosition().parent;if(!AE(t))return!1;const r="backward"==this._direction?t.previousSibling:t.nextSibling;if(!r)return!1;if(LE([t,r]))return!1}else{const t=e.getLastPosition(),n=e.getFirstPosition();if(t.parent===n.parent)return!1;if(!AE(t.parent))return!1}return!0}_getMergeSubjectElements(t,e){const n=RE(this.editor.model);let r,i;if(t.isCollapsed||n){const o=n||t.getFirstPosition().parent,s=SE(o);"backward"==this._direction?(i=o,r=s&&!e?uE.first(o,{sameIndent:!0,lowerIndent:!0}):o.previousSibling):(r=o,i=o.nextSibling)}else r=t.getFirstPosition().parent,i=t.getLastPosition().parent;return{firstElement:r,lastElement:i}}}class tS extends Ro{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change((t=>{const e=TE(this._getStartBlock(),t);this._fireAfterExecute(e)}))}_fireAfterExecute(t){this.fire("afterExecute",BE(new Set(t)))}_checkEnabled(){const t=this.editor.model.document.selection,e=this._getStartBlock();return t.isCollapsed&&AE(e)&&!SE(e)}_getStartBlock(){const t=this.editor.model.document.selection.getFirstPosition().parent;return"before"==this._direction?t:t.nextSibling}}class eS extends Lo{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(t){return DE(t)}isFirstBlockOfListItem(t){return SE(t)}isListItemBlock(t){return AE(t)}expandListBlocksToCompleteItems(t,e={}){return IE(t,e)}isNumberedListType(t){return zE(t)}}function nS(t){return t.is("element","ol")||t.is("element","ul")}function rS(t){return t.is("element","li")}function iS(t,e,n,r=aS(n,e)){return t.createAttributeElement(sS(n),null,{priority:2*e/100-100,id:r})}function oS(t,e,n){return t.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:n})}function sS(t){return"numbered"==t||"customNumbered"==t?"ol":"ul"}function aS(t,e){return`list-${t}-${e}`}function cS(t,e){const n=t.nodeBefore;if(AE(n)){let t=n;for(const{node:n}of dE(t,"backward"))if(t=n,e.has(t))return;e.set(n,t)}else{const n=t.nodeAfter;AE(n)&&e.set(n,n)}}function lS(){return(t,e,n)=>{const{writer:r,schema:i}=n;if(!e.modelRange)return;const o=Array.from(e.modelRange.getItems({shallow:!0})).filter((t=>i.checkAttribute(t,"listItemId")));if(!o.length)return;const s=_E.next(),a=function(t){let e=0,n=t.parent;for(;n;){if(rS(n))e++;else{const t=n.previousSibling;t&&rS(t)&&e++}n=n.parent}return e}(e.viewItem);let c=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const l=o[0].getAttribute("listType");l&&(c=l);const u={listItemId:s,listIndent:a,listType:c};for(const d of o)d.hasAttribute("listItemId")||r.setAttributes(u,d);o.length>1&&o[1].getAttribute("listItemId")!=u.listItemId&&n.keepEmptyElement(o[0])}}function uS(){return(t,e,n)=>{if(!n.consumable.test(e.viewItem,{name:!0}))return;const r=new Jh(e.viewItem.document);for(const i of Array.from(e.viewItem.getChildren()))rS(i)||nS(i)||r.remove(i)}}function dS(t,e,n,{dataPipeline:r}={}){const i=function(t){return(e,n)=>{const r=[];for(const i of t)e.hasAttribute(i)&&r.push(`attribute:${i}`);return!!r.every((t=>!1!==n.test(e,t)))&&(r.forEach((t=>n.consume(e,t))),!0)}}(t);return(o,s,a)=>{const{writer:c,mapper:l,consumable:u}=a,d=s.item;if(!t.includes(s.attributeKey))return;if(!i(d,u))return;const h=function(t,e,n){const r=n.createRangeOn(t),i=e.toViewRange(r).getTrimmed();return i.end.nodeBefore}(d,l,n);fS(h,c,l),function(t,e){let n=t.parent;for(;n.is("attributeElement")&&["ul","ol","li"].includes(n.name);){const r=n.parent;e.unwrap(e.createRangeOn(t),n),n=r}}(h,c);const f=function(t,e,n,r,{dataPipeline:i}){let o=r.createRangeOn(e);if(!SE(t))return o;for(const s of n){if("itemMarker"!=s.scope)continue;const n=s.createElement(r,t,{dataPipeline:i});if(!n)continue;if(r.setCustomProperty("listItemMarker",!0,n),s.canInjectMarkerIntoElement&&s.canInjectMarkerIntoElement(t)?r.insert(r.createPositionAt(e,0),n):(r.insert(o.start,n),o=r.createRange(r.createPositionBefore(n),r.createPositionAfter(e))),!s.createWrapperElement||!s.canWrapElement)continue;const a=s.createWrapperElement(r,t,{dataPipeline:i});r.setCustomProperty("listItemWrapper",!0,a),s.canWrapElement(t)?o=r.wrap(o,a):(o=r.wrap(r.createRangeOn(n),a),o=r.createRange(o.start,r.createPositionAfter(e)))}return o}(d,h,e,c,{dataPipeline:r});!function(t,e,n,r){if(!t.hasAttribute("listIndent"))return;const i=t.getAttribute("listIndent");let o=t;for(let s=i;s>=0;s--){const t=oS(r,s,o.getAttribute("listItemId")),i=iS(r,s,o.getAttribute("listType"));for(const e of n)"list"!=e.scope&&"item"!=e.scope||!o.hasAttribute(e.attributeName)||e.setAttributeOnDowncast(r,o.getAttribute(e.attributeName),"list"==e.scope?i:t);if(e=r.wrap(e,t),e=r.wrap(e,i),0==s)break;if(o=uE.first(o,{lowerIndent:!0}),!o)break}}(d,f,e,c)}}function hS(t,{dataPipeline:e}={}){return(n,{writer:r})=>{if(!pS(n,t))return null;if(!e)return r.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const i=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}function fS(t,e,n){for(;t.parent.is("attributeElement")&&t.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(t),t.parent);const r=[];i(e.createPositionBefore(t).getWalker({direction:"backward"})),i(e.createRangeIn(t).getWalker());for(const o of r)e.remove(o);function i(t){for(const{item:e}of t){if(e.is("element")&&n.toModelElement(e))break;e.is("element")&&e.getCustomProperty("listItemMarker")&&r.push(e)}}}function pS(t,e,n=CE(t)){if(!AE(t))return!1;for(const r of t.getAttributeKeys())if(!r.startsWith("selection:")&&!e.includes(r))return!1;return n.length<2}var gS=o(1232),mS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(gS.A,mS),gS.A.locals;var vS=o(6903),bS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(vS.A,bS),vS.A.locals;const yS=["listType","listIndent","listItemId"];class kS extends Lo{constructor(t){super(t),this._downcastStrategies=[],t.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[Ly,uy,eS,Kb]}init(){const t=this.editor,e=t.model,n=t.config.get("list.multiBlock");if(t.plugins.has("LegacyListEditing"))throw new _("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});e.schema.register("$listItem",{allowAttributes:yS}),n?(e.schema.extend("$container",{allowAttributesOf:"$listItem"}),e.schema.extend("$block",{allowAttributesOf:"$listItem"}),e.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):e.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const r of yS)e.schema.setAttributeProperties(r,{copyOnReplace:!0});t.commands.add("numberedList",new QE(t,"numbered")),t.commands.add("bulletedList",new QE(t,"bulleted")),t.commands.add("customNumberedList",new QE(t,"customNumbered",{multiLevel:!0})),t.commands.add("customBulletedList",new QE(t,"customBulleted",{multiLevel:!0})),t.commands.add("indentList",new VE(t,"forward")),t.commands.add("outdentList",new VE(t,"backward")),t.commands.add("splitListItemBefore",new tS(t,"before")),t.commands.add("splitListItemAfter",new tS(t,"after")),n&&(t.commands.add("mergeListItemBackward",new JE(t,"backward")),t.commands.add("mergeListItemForward",new JE(t,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(t.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(t){this._downcastStrategies.push(t)}getListAttributeNames(){return[...yS,...this._downcastStrategies.map((t=>t.attributeName))]}_setupDeleteIntegration(){const t=this.editor,e=t.commands.get("mergeListItemBackward"),n=t.commands.get("mergeListItemForward");this.listenTo(t.editing.view.document,"delete",((r,i)=>{const o=t.model.document.selection;RE(t.model)||t.model.change((()=>{const s=o.getFirstPosition();if(o.isCollapsed&&"backward"==i.direction){if(!s.isAtStart)return;const n=s.parent;if(!AE(n))return;if(uE.first(n,{sameAttributes:"listType",sameIndent:!0})||0!==n.getAttribute("listIndent")){if(!e||!e.isEnabled)return;e.execute({shouldMergeOnBlocksContentLevel:wS(t.model,"backward")})}else ME(n)||t.execute("splitListItemAfter"),t.execute("outdentList");i.preventDefault(),r.stop()}else{if(o.isCollapsed&&!o.getLastPosition().isAtEnd)return;if(!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:wS(t.model,"forward")}),i.preventDefault(),r.stop()}}))}),{context:"li"})}_setupEnterIntegration(){const t=this.editor,e=t.model,n=t.commands,r=n.get("enter");this.listenTo(t.editing.view.document,"enter",((n,r)=>{const i=e.document,o=i.selection.getFirstPosition().parent;if(i.selection.isCollapsed&&AE(o)&&o.isEmpty&&!r.isSoft){const e=SE(o),i=ME(o);e&&i?(t.execute("outdentList"),r.preventDefault(),n.stop()):e&&!i?(t.execute("splitListItemAfter"),r.preventDefault(),n.stop()):i&&(t.execute("splitListItemBefore"),r.preventDefault(),n.stop())}}),{context:"li"}),this.listenTo(r,"afterExecute",(()=>{const e=n.get("splitListItemBefore");e.refresh(),e.isEnabled&&2===CE(t.model.document.selection.getLastPosition().parent).length&&e.execute()}))}_setupTabIntegration(){const t=this.editor;this.listenTo(t.editing.view.document,"tab",((e,n)=>{const r=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(r).isEnabled&&(t.execute(r),n.stopPropagation(),n.preventDefault(),e.stop())}),{context:"li"})}_setupConversion(){const t=this.editor,e=t.model,n=this.getListAttributeNames(),r=t.config.get("list.multiBlock"),i=r?"paragraph":"listItem";t.conversion.for("upcast").elementToElement({view:"li",model:(t,{writer:e})=>e.createElement(i,{listType:""})}).elementToElement({view:"p",model:(t,{writer:e})=>t.parent&&t.parent.is("element","li")?e.createElement(i,{listType:""}):null,converterPriority:"high"}).add((t=>{t.on("element:li",lS()),t.on("element:ul",uS(),{priority:"high"}),t.on("element:ol",uS(),{priority:"high"})})),r||t.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),t.conversion.for("editingDowncast").elementToElement({model:i,view:hS(n),converterPriority:"high"}).add((t=>{var r;t.on("attribute",dS(n,this._downcastStrategies,e)),t.on("remove",(r=e.schema,(t,e,n)=>{const{writer:i,mapper:o}=n,s=t.name.split(":")[1];if(!r.checkAttribute(s,"listItemId"))return;const a=o.toViewPosition(e.position),c=e.position.getShiftedBy(e.length),l=o.toViewPosition(c,{isPhantom:!0}),u=i.createRange(a,l).getTrimmed().end.nodeBefore;u&&fS(u,i,o)}))})),t.conversion.for("dataDowncast").elementToElement({model:i,view:hS(n,{dataPipeline:!0}),converterPriority:"high"}).add((t=>{t.on("attribute",dS(n,this._downcastStrategies,e,{dataPipeline:!0}))}));const o=(s=this._downcastStrategies,a=t.editing.view,(t,e)=>{if(e.modelPosition.offset>0)return;const n=e.modelPosition.parent;if(!AE(n))return;if(!s.some((t=>"itemMarker"==t.scope&&t.canInjectMarkerIntoElement&&t.canInjectMarkerIntoElement(n))))return;const r=e.mapper.toViewElement(n),i=a.createRangeIn(r),o=i.getWalker();let c=i.start;for(const{item:s}of o){if(s.is("element")&&e.mapper.toModelElement(s)||s.is("$textProxy"))break;s.is("element")&&s.getCustomProperty("listItemMarker")&&(c=a.createPositionAfter(s),o.skip((({previousPosition:t})=>!t.isEqual(c))))}e.viewPosition=c});var s,a;t.editing.mapper.on("modelToViewPosition",o),t.data.mapper.on("modelToViewPosition",o),this.listenTo(e.document,"change:data",function(t,e,n,r){return()=>{const r=t.document.differ.getChanges(),s=[],a=new Map,c=new Set;for(const t of r)if("insert"==t.type&&"$text"!=t.name)cS(t.position,a),t.attributes.has("listItemId")?c.add(t.position.nodeAfter):cS(t.position.getShiftedBy(t.length),a);else if("remove"==t.type&&t.attributes.has("listItemId"))cS(t.position,a);else if("attribute"==t.type){const e=t.range.start.nodeAfter;n.includes(t.attributeKey)?(cS(t.range.start,a),null===t.attributeNewValue?(cS(t.range.start.getShiftedBy(1),a),o(e)&&s.push(e)):c.add(e)):AE(e)&&o(e)&&s.push(e)}for(const t of a.values())s.push(...i(t,c));for(const t of new Set(s))e.reconvertItem(t)};function i(t,e){const r=[],i=new Set,a=[];for(const{node:c,previous:l}of dE(t,"forward")){if(i.has(c))continue;const t=c.getAttribute("listIndent");l&&t<l.getAttribute("listIndent")&&(a.length=t+1),a[t]=Object.fromEntries(Array.from(c.getAttributes()).filter((([t])=>n.includes(t))));const u=xE(c,{direction:"forward"});for(const n of u)i.add(n),(o(n,u)||s(n,a,e))&&r.push(n)}return r}function o(t,i){const o=e.mapper.toViewElement(t);if(!o)return!1;if(r.fire("checkElement",{modelElement:t,viewElement:o}))return!0;if(!t.is("element","paragraph")&&!t.is("element","listItem"))return!1;const s=pS(t,n,i);return!(!s||!o.is("element","p"))||!(s||!o.is("element","span"))}function s(t,n,i){if(i.has(t))return!1;const o=e.mapper.toViewElement(t);let s=n.length-1;for(let e=o.parent;!e.is("editableElement");e=e.parent){const t=rS(e),i=nS(e);if(!i&&!t)continue;const o="checkAttributes:"+(t?"item":"list");if(r.fire(o,{viewElement:e,modelAttributes:n[s]}))break;if(i&&(s--,s<0))return!1}return!0}}(e,t.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",((t,{viewElement:e,modelAttributes:n})=>{e.id!=n.listItemId&&(t.return=!0,t.stop())})),this.on("checkAttributes:list",((t,{viewElement:e,modelAttributes:n})=>{e.name==sS(n.listType)&&e.id==aS(n.listType,n.listIndent)||(t.return=!0,t.stop())}))}_setupModelPostFixing(){const t=this.editor.model,e=this.getListAttributeNames();t.document.registerPostFixer((n=>function(t,e,n,r){const i=t.document.differ.getChanges(),o=new Map,s=r.editor.config.get("list.multiBlock");let a=!1;for(const l of i){if("insert"==l.type&&"$text"!=l.name){const r=l.position.nodeAfter;if(!t.schema.checkAttribute(r,"listItemId"))for(const t of Array.from(r.getAttributeKeys()))n.includes(t)&&(e.removeAttribute(t,r),a=!0);cS(l.position,o),l.attributes.has("listItemId")||cS(l.position.getShiftedBy(l.length),o);for(const{item:e,previousPosition:n}of t.createRangeIn(r))AE(e)&&cS(n,o)}else"remove"==l.type?cS(l.position,o):"attribute"==l.type&&n.includes(l.attributeKey)&&(cS(l.range.start,o),null===l.attributeNewValue&&cS(l.range.start.getShiftedBy(1),o));if(!s&&"attribute"==l.type&&yS.includes(l.attributeKey)){const t=l.range.start.nodeAfter;null===l.attributeNewValue&&t&&t.is("element","listItem")?(e.rename(t,"paragraph"),a=!0):null===l.attributeOldValue&&t&&t.is("element")&&"listItem"!=t.name&&(e.rename(t,"listItem"),a=!0)}}const c=new Set;for(const l of o.values())a=r.fire("postFixer",{listNodes:new hE(l),listHead:l,writer:e,seenIds:c})||a;return a}(t,n,e,this))),this.on("postFixer",((t,{listNodes:e,writer:n})=>{t.return=function(t,e){let n=0,r=-1,i=null,o=!1;for(const{node:s}of t){const t=s.getAttribute("listIndent");if(t>n){let a;null===i?(i=t-n,a=n):(i>t&&(i=t),a=t-i),a>r+1&&(a=r+1),e.setAttribute("listIndent",a,s),o=!0,r=a}else i=null,n=t+1,r=t}return o}(e,n)||t.return}),{priority:"high"}),this.on("postFixer",((t,{listNodes:e,writer:n,seenIds:r})=>{t.return=function(t,e,n){const r=new Set;let i=!1;for(const{node:o}of t){if(r.has(o))continue;let t=o.getAttribute("listType"),s=o.getAttribute("listItemId");if(e.has(s)&&(s=_E.next()),e.add(s),o.is("element","listItem"))o.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,o),i=!0);else for(const e of xE(o,{direction:"forward"}))r.add(e),e.getAttribute("listType")!=t&&(s=_E.next(),t=e.getAttribute("listType")),e.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,e),i=!0)}return i}(e,r,n)||t.return}),{priority:"high"})}_setupClipboardIntegration(){const t=this.editor.model,e=this.editor.plugins.get("ClipboardPipeline");this.listenTo(t,"insertContent",function(t){return(e,[n,r])=>{const i=n.is("documentFragment")?Array.from(n.getChildren()):[n];if(!i.length)return;const o=(r?t.createSelection(r):t.document.selection).getFirstPosition();let s;if(AE(o.parent))s=o.parent;else{if(!AE(o.nodeBefore))return;s=o.nodeBefore}t.change((t=>{const e=s.getAttribute("listType"),n=s.getAttribute("listIndent"),r=i[0].getAttribute("listIndent")||0,o=Math.max(n-r,0);for(const a of i){const n=AE(a);s.is("element","listItem")&&a.is("element","paragraph")&&t.rename(a,"listItem"),t.setAttributes({listIndent:(n?a.getAttribute("listIndent"):0)+o,listItemId:n?a.getAttribute("listItemId"):_E.next(),listType:e},a)}}))}}(t),{priority:"high"}),this.listenTo(e,"outputTransformation",((e,n)=>{t.change((t=>{const e=Array.from(n.content.getChildren()),r=e[e.length-1];if(e.length>1&&r.is("element")&&r.isEmpty&&e.slice(0,-1).every(AE)&&t.remove(r),"copy"==n.method||"cut"==n.method){const e=Array.from(n.content.getChildren());LE(e)&&PE(e,t)}}))}))}_setupAccessibilityIntegration(){const t=this.editor,e=t.t;t.accessibility.addKeystrokeInfoGroup({id:"list",label:e("Keystrokes that can be used in a list"),keystrokes:[{label:e("Increase list item indent"),keystroke:"Tab"},{label:e("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function wS(t,e){const n=t.document.selection;if(!n.isCollapsed)return!RE(t);if("forward"===e)return!0;const r=n.getFirstPosition().parent,i=r.previousSibling;return!t.schema.isObject(i)&&(!!i.isEmpty||LE([r,i]))}function _S(t,e,n,r){t.ui.componentFactory.add(e,(()=>{const i=AS(Lf,t,e,n,r);return i.set({tooltip:!0,isToggleable:!0}),i})),t.ui.componentFactory.add(`menuBar:${e}`,(()=>AS(Yv,t,e,n,r)))}function AS(t,e,n,r,i){const o=e.commands.get(n),s=new t(e.locale);return s.set({label:r,icon:i}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.on("execute",(()=>{e.execute(n),e.editing.view.focus()})),s}class CS extends Lo{static get pluginName(){return"ListUI"}init(){const t=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||_S(this.editor,"numberedList",t("Numbered List"),vf.numberedList),this.editor.ui.componentFactory.has("bulletedList")||_S(this.editor,"bulletedList",t("Bulleted List"),vf.bulletedList)}}class xS extends Lo{static get requires(){return[kS,CS]}static get pluginName(){return"List"}}const ES={},SS={},MS={},IS=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:t,typeAttribute:e,listType:n}of IS)ES[t]=n,SS[t]=e,e&&(MS[e]=t);var DS=o(9968),TS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(DS.A,TS),DS.A.locals;var OS=o(7141),NS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(OS.A,NS),OS.A.locals,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,yi("Ctrl+Enter");var PS=o(8991),LS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};function BS(t,e){const n=(n,r,i)=>{if(!i.consumable.consume(r.item,n.name))return;const o=r.attributeNewValue,s=i.writer,a=i.mapper.toViewElement(r.item),c=[...a.getChildren()].find((t=>t.getCustomProperty("media-content")));s.remove(c);const l=t.getMediaViewElement(s,o,e);s.insert(s.createPositionAt(a,0),l)};return t=>{t.on("attribute:url:media",n)}}function RS(t,e,n,r){return t.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(t,n,r),t.createSlot()])}function jS(t){const e=t.getSelectedElement();return e&&e.is("element","media")?e:null}function zS(t,e,n,r){t.change((i=>{const o=i.createElement("media",{url:e});t.insertObject(o,n,null,{setSelection:"on",findOptimalPosition:r?"auto":void 0})}))}So()(PS.A,LS),PS.A.locals,yi("Ctrl+Enter");class FS extends Ro{refresh(){const t=this.editor.model,e=t.document.selection,n=jS(e);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=function(t){const e=t.getSelectedElement();return!!e&&"media"===e.name}(e)||function(t,e){const n=Jy(t,e);let r=n.start.parent;return r.isEmpty&&!e.schema.isLimit(r)&&(r=r.parent),e.schema.checkChild(r,"media")}(e,t)}execute(t){const e=this.editor.model,n=e.document.selection,r=jS(n);r?e.change((e=>{e.setAttribute("url",t,r)})):zS(e,t,n,!0)}}class VS{constructor(t,e){const n=e.providers,r=e.extraProviders||[],i=new Set(e.removeProviders),o=n.concat(r).filter((t=>{const e=t.name;return e?!i.has(e):(A("media-embed-no-provider-name",{provider:t}),!1)}));this.locale=t,this.providerDefinitions=o}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new US(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html,r=_i(e.url);for(const e of r){const r=this._getUrlMatches(t,e);if(r)return new US(this.locale,t,r,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let r=t.replace(/^https?:\/\//,"");return n=r.match(e),n||(r=r.replace(/^www\./,""),n=r.match(e),n||null)}}class US{constructor(t,e,n,r){this.url=this._getValidUrl(e),this._locale=t,this._match=n,this._previewRenderer=r}getViewElement(t,e){const n={};let r;if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const i=this._getPreviewHtml(e);r=t.createRawElement("div",n,((t,e)=>{e.setContentOf(t,i)}))}else this.url&&(n.url=this.url),r=t.createEmptyElement(e.elementName,n);return t.setCustomProperty("media-content",!0,r),r}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new Tf,e=this._locale.t;return t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new io({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":e("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}var GS=o(7048),HS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(GS.A,HS),GS.A.locals;class $S extends Lo{constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const e=t[1],n=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${e}${n?`?start=${n}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new VS(t.locale,t.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const t=this.editor,e=t.model.schema,n=t.t,r=t.conversion,i=t.config.get("mediaEmbed.previewsInData"),o=t.config.get("mediaEmbed.elementName"),s=this.registry;t.commands.add("mediaEmbed",new FS(t)),e.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),r.for("dataDowncast").elementToStructure({model:"media",view:(t,{writer:e})=>{const n=t.getAttribute("url");return RS(e,s,n,{elementName:o,renderMediaPreview:!!n&&i})}}),r.for("dataDowncast").add(BS(s,{elementName:o,renderMediaPreview:i})),r.for("editingDowncast").elementToStructure({model:"media",view:(t,{writer:e})=>{const r=t.getAttribute("url");return function(t,e,n){return e.setCustomProperty("media",!0,t),qy(t,e,{label:n})}(RS(e,s,r,{elementName:o,renderForEditingView:!0}),e,n("media widget"))}}),r.for("editingDowncast").add(BS(s,{elementName:o,renderForEditingView:!0})),r.for("upcast").elementToElement({view:t=>["oembed",o].includes(t.name)&&t.getAttribute("url")?{name:!0}:null,model:(t,{writer:e})=>{const n=t.getAttribute("url");return s.hasMedia(n)?e.createElement("media",{url:n}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(t,{writer:e})=>{const n=t.getAttribute("data-oembed-url");return s.hasMedia(n)?e.createElement("media",{url:n}):null}}).add((t=>{t.on("element:figure",((t,e,n)=>{if(!n.consumable.consume(e.viewItem,{name:!0,classes:"media"}))return;const{modelRange:r,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=r,e.modelCursor=i,qi(r.getItems())||n.consumable.revert(e.viewItem,{name:!0,classes:"media"})}))}))}}const WS=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class YS extends Lo{constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[$k,uy,uw]}static get pluginName(){return"AutoMediaEmbed"}init(){const t=this.editor,e=t.model.document,n=t.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",(()=>{const t=e.selection.getFirstRange(),n=Ud.fromPosition(t.start);n.stickiness="toPrevious";const r=Ud.fromPosition(t.end);r.stickiness="toNext",e.once("change:data",(()=>{this._embedMediaBetweenPositions(n,r),n.detach(),r.detach()}),{priority:"high"})})),t.commands.get("undo").on("execute",(()=>{this._timeoutId&&(i.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)}),{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,r=n.plugins.get($S).registry,o=new Fl(t,e),s=o.getWalker({ignoreElementEnd:!0});let a="";for(const i of s)i.item.is("$textProxy")&&(a+=i.item.data);a=a.trim(),a.match(WS)&&r.hasMedia(a)&&n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Ud.fromPosition(t),this._timeoutId=i.window.setTimeout((()=>{n.model.change((t=>{this._timeoutId=null,t.remove(o),o.detach();let e=null;"$graveyard"!==this._positionToInsert.root.rootName&&(e=this._positionToInsert),zS(n.model,a,e,!1),this._positionToInsert.detach(),this._positionToInsert=null})),n.plugins.get(uy).requestUndoOnBackspace()}),100)):o.detach()}}var qS=o(5651),XS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(qS.A,XS),qS.A.locals;class KS extends Do{constructor(t,e){super(e);const n=e.t;this.focusTracker=new Xi,this.keystrokes=new Ki,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),vf.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),vf.cancel,"ck-button-cancel","cancel"),this._focusables=new ro,this._focusCycler=new lp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),No({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element);const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new Xf(this.locale,qp),n=e.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),e.label=t("Media URL"),e.infoText=this._urlInputViewInfoDefault,n.on("input",(()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()})),e}_createButton(t,e,n,r){const i=new Lf(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}}class ZS extends Lo{static get requires(){return[$S]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,e=t.commands.get("mediaEmbed");t.ui.componentFactory.add("mediaEmbed",(t=>{const n=Vp(t);return this._setUpDropdown(n,e),n}))}_setUpDropdown(t,e){const n=this.editor,r=n.t,i=t.buttonView,o=n.plugins.get($S).registry;t.once("change:isOpen",(()=>{const r=new(Oo(KS))(function(t,e){return[e=>{if(!e.url.length)return t("The URL must not be empty.")},n=>{if(!e.hasMedia(n.url))return t("This media URL is not supported.")}]}(n.t,o),n.locale);t.panelView.children.add(r),i.on("open",(()=>{r.disableCssTransitions(),r.url=e.value||"",r.urlInputView.fieldView.select(),r.enableCssTransitions()}),{priority:"low"}),t.on("submit",(()=>{r.isValid()&&(n.execute("mediaEmbed",r.url),n.editing.view.focus())})),t.on("change:isOpen",(()=>r.resetFormStatus())),t.on("cancel",(()=>{n.editing.view.focus()})),r.delegate("submit","cancel").to(t),r.urlInputView.fieldView.bind("value").to(e,"value"),r.urlInputView.on("change:errorText",(()=>{n.ui.update()})),r.urlInputView.bind("isEnabled").to(e,"isEnabled")})),t.bind("isEnabled").to(e),i.set({label:r("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var QS=o(70),JS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};function tM(t){return void 0!==t&&t.endsWith("px")}function eM(t){return t.toFixed(2).replace(/\.?0+$/,"")+"px"}So()(QS.A,JS),QS.A.locals;var nM=Object.defineProperty,rM=Object.defineProperties,iM=Object.getOwnPropertyDescriptors,oM=Object.getOwnPropertySymbols,sM=Object.prototype.hasOwnProperty,aM=Object.prototype.propertyIsEnumerable,cM=(t,e,n)=>e in t?nM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lM=(t,e)=>{for(var n in e||(e={}))sM.call(e,n)&&cM(t,n,e[n]);if(oM)for(var n of oM(e))aM.call(e,n)&&cM(t,n,e[n]);return t};function uM(t,e,n){if(!t.childCount)return;const r=new Jh(t.document),i=function(t,e){const n=e.createRangeIn(t),r=[],i=new Set;for(const o of n.getItems()){if(!o.is("element")||!o.name.match(/^(p|h\d+|li|div)$/))continue;let t=bM(o);if(void 0===t||0!=parseFloat(t)||Array.from(o.getClassNames()).find((t=>t.startsWith("MsoList")))||(t=void 0),o.hasStyle("mso-list")||void 0!==t&&i.has(t)){const e=mM(o);r.push({element:o,id:e.id,order:e.order,indent:e.indent,marginLeft:t}),void 0!==t&&i.add(t)}else i.clear()}return r}(t,r);if(!i.length)return;const o={},s=[];for(const c of i)if(void 0!==c.indent){dM(c)||(s.length=0);const t=`${c.id}:${c.indent}`,i=Math.min(c.indent-1,s.length);if(i<s.length&&s[i].id!==c.id&&(s.length=i),i<s.length-1)s.length=i+1;else{const l=fM(c,e);if(i>s.length-1||s[i].listElement.name!=l.type){0==i&&"ol"==l.type&&void 0!==c.id&&o[t]&&(l.startIndex=o[t]);const e=gM(l,r,n);if(tM(c.marginLeft)&&(0==i||tM(s[i-1].marginLeft))){let t=c.marginLeft;i>0&&(t=eM(parseFloat(t)-parseFloat(s[i-1].marginLeft))),r.setStyle("padding-left",t,e)}if(0==s.length){const t=c.element.parent,n=t.getChildIndex(c.element)+1;r.insertChild(n,e,t)}else{const t=s[i-1].listItemElements;r.appendChild(e,t[t.length-1])}s[i]=(a=lM({},c),rM(a,iM({listElement:e,listItemElements:[]}))),0==i&&void 0!==c.id&&(o[t]=l.startIndex||1)}}const l="li"==c.element.name?c.element:r.createElement("li");r.appendChild(l,s[i].listElement),s[i].listItemElements.push(l),0==i&&void 0!==c.id&&o[t]++,c.element!=l&&r.appendChild(c.element,l),vM(c.element,r),r.removeStyle("text-indent",c.element),r.removeStyle("margin-left",c.element)}else{const t=s.find((t=>t.marginLeft==c.marginLeft));if(t){const e=t.listItemElements;r.appendChild(c.element,e[e.length-1]),r.removeStyle("margin-left",c.element)}else s.length=0}var a}function dM(t){const e=t.element.previousSibling;return hM(e||t.element.parent)}function hM(t){return t.is("element","ol")||t.is("element","ul")}function fM(t,e){const n=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi"),r=/mso-level-number-format:([^;]{0,100});/gi,i=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,o=new RegExp(`@list\\s+l${t.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),s=new RegExp(`@list l${t.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),a=o.exec(e),c=s.exec(e),l=a&&!c,u=n.exec(e);let d="decimal",h="ol",f=null;if(u&&u[1]){const e=r.exec(u[1]);if(e&&e[1]&&(d=e[1].trim(),h="bullet"!==d&&"image"!==d?"ol":"ul"),"bullet"===d){const e=function(t){if("li"==t.name&&"ul"==t.parent.name&&t.parent.hasAttribute("type"))return t.parent.getAttribute("type");const e=function(t){if(t.getChild(0).is("$text"))return null;for(const e of t.getChildren()){if(!e.is("element","span"))continue;const t=e.getChild(0);if(t)return t.is("$text")?t:t.getChild(0)}return null}(t);if(!e)return null;const n=e._data;return"o"===n?"circle":"·"===n?"disc":"§"===n?"square":null}(t.element);e&&(d=e)}else{const t=i.exec(u[1]);t&&t[1]&&(f=parseInt(t[1]))}l&&(h="ol")}return{type:h,startIndex:f,style:pM(d),isLegalStyleList:l}}function pM(t){if(t.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(t){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return t;default:return null}}function gM(t,e,n){const r=e.createElement(t.type);return t.style&&e.setStyle("list-style-type",t.style,r),t.startIndex&&t.startIndex>1&&e.setAttribute("start",t.startIndex,r),t.isLegalStyleList&&n&&e.addClass("legal-list",r),r}function mM(t){const e=t.getStyle("mso-list");if(void 0===e)return{};const n=e.match(/(^|\s{1,100})l(\d+)/i),r=e.match(/\s{0,100}lfo(\d+)/i),i=e.match(/\s{0,100}level(\d+)/i);return n&&r&&i?{id:n[2],order:r[1],indent:parseInt(i[1])}:{indent:1}}function vM(t,e){const n=new ls({name:"span",styles:{"mso-list":"Ignore"}}),r=e.createRangeIn(t);for(const i of r)"elementStart"===i.type&&n.match(i.item)&&e.remove(i.item)}function bM(t){const e=t.getStyle("margin-left");return void 0===e||e.endsWith("px")?e:function(t){const e=parseFloat(t);return t.endsWith("pt")?eM(96*e/72):t.endsWith("pc")?eM(12*e*96/72):t.endsWith("in")?eM(96*e):t.endsWith("cm")?eM(96*e/2.54):t.endsWith("mm")?eM(e/10*96/2.54):t}(e)}function yM(t,e){if(!t.childCount)return;const n=new Jh(t.document),r=function(t,e){const n=e.createRangeIn(t),r=new ls({name:/v:(.+)/}),i=[];for(const o of n){if("elementStart"!=o.type)continue;const t=o.item,e=t.previousSibling,n=e&&e.is("element")?e.name:null,s=["Chart"],a=r.match(t),c=t.getAttribute("o:gfxdata"),l="v:shapetype"===n,u=c&&s.some((e=>t.getAttribute("id").includes(e)));a&&c&&!l&&!u&&i.push(o.item.getAttribute("id"))}return i}(t,n);!function(t,e,n){const r=n.createRangeIn(e),i=new ls({name:"img"}),o=[];for(const s of r)if(s.item.is("element")&&i.match(s.item)){const e=s.item,n=e.getAttribute("v:shapes")?e.getAttribute("v:shapes").split(" "):[];n.length&&n.every((e=>t.indexOf(e)>-1))?o.push(e):e.getAttribute("src")||o.push(e)}for(const s of o)n.remove(s)}(r,t,n),function(t,e,n){const r=n.createRangeIn(e),i=[];for(const a of r)if("elementStart"==a.type&&a.item.is("element","v:shape")){const e=a.item.getAttribute("id");if(t.includes(e))continue;o(a.item.parent.getChildren(),e)||i.push(a.item)}for(const a of i){const t={src:s(a)};a.hasAttribute("alt")&&(t.alt=a.getAttribute("alt"));const e=n.createElement("img",t);n.insertChild(a.index+1,e,a.parent)}function o(t,e){for(const n of t)if(n.is("element")){if("img"==n.name&&n.getAttribute("v:shapes")==e)return!0;if(o(n.getChildren(),e))return!0}return!1}function s(t){for(const e of t.getChildren())if(e.is("element")&&e.getAttribute("src"))return e.getAttribute("src")}}(r,t,n),function(t,e){const n=e.createRangeIn(t),r=new ls({name:/v:(.+)/}),i=[];for(const o of n)"elementStart"==o.type&&r.match(o.item)&&i.push(o.item);for(const o of i)e.remove(o)}(t,n);const i=function(t,e){const n=e.createRangeIn(t),r=new ls({name:"img"}),i=[];for(const o of n)o.item.is("element")&&r.match(o.item)&&o.item.getAttribute("src").startsWith("file://")&&i.push(o.item);return i}(t,n);i.length&&function(t,e,n){if(t.length===e.length)for(let r=0;r<t.length;r++){const i=`data:${e[r].type};base64,${kM(e[r].hex)}`;n.setAttribute("src",i,t[r])}}(i,function(t){if(!t)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),r=t.match(n),i=[];if(r)for(const o of r){let t=!1;o.includes("\\pngblip")?t="image/png":o.includes("\\jpegblip")&&(t="image/jpeg"),t&&i.push({hex:o.replace(e,"").replace(/[^\da-fA-F]/g,""),type:t})}return i}(e),n)}function kM(t){return btoa(t.match(/\w{2}/g).map((t=>String.fromCharCode(parseInt(t,16)))).join(""))}const wM=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,_M=/xmlns:o="urn:schemas-microsoft-com/i;class AM{constructor(t,e=!1){this.document=t,this.hasMultiLevelListPlugin=e}isActive(t){return wM.test(t)||_M.test(t)}execute(t){const{body:e,stylesString:n}=t._parsedData;uM(e,n,this.hasMultiLevelListPlugin),yM(e,t.dataTransfer.getData("text/rtf")),function(t){const e=[],n=new Jh(t.document);for(const{item:r}of n.createRangeIn(t))if(r.is("element")){for(const t of r.getClassNames())/\bmso/gi.exec(t)&&n.removeClass(t,r);for(const t of r.getStyleNames())/\bmso/gi.exec(t)&&n.removeStyle(t,r);(r.is("element","w:sdt")||r.is("element","w:sdtpr")&&r.isEmpty||r.is("element","o:p")&&r.isEmpty)&&e.push(r)}for(const r of e){const t=r.parent,e=t.getChildIndex(r);n.insertChild(e,r.getChildren(),t),n.remove(r)}}(e),t.content=e}}function CM(t,e,n,{blockElements:r,inlineObjectElements:i}){let o=n.createPositionAt(t,"forward"==e?"after":"before");return o=o.getLastMatchingPosition((({item:t})=>t.is("element")&&!r.includes(t.name)&&!i.includes(t.name)),{direction:e}),"forward"==e?o.nodeAfter:o.nodeBefore}function xM(t,e){return!!t&&t.is("element")&&e.includes(t.name)}const EM=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class SM{constructor(t){this.document=t}isActive(t){return EM.test(t)}execute(t){const e=new Jh(this.document),{body:n}=t._parsedData;!function(t,e){for(const n of t.getChildren())if(n.is("element","b")&&"normal"===n.getStyle("font-weight")){const r=t.getChildIndex(n);e.remove(n),e.insertChild(r,n.getChildren(),t)}}(n,e),function(t,e){for(const n of e.createRangeIn(t)){const t=n.item;if(t.is("element","li")){const n=t.getChild(0);n&&n.is("element","p")&&e.unwrapElement(n)}}}(n,e),function(t,e){const n=new la(e.document.stylesProcessor),r=new tc(n,{renderingMode:"data"}),i=r.blockElements,o=r.inlineObjectElements,s=[];for(const a of e.createRangeIn(t)){const t=a.item;if(t.is("element","br")){const n=CM(t,"forward",e,{blockElements:i,inlineObjectElements:o}),r=CM(t,"backward",e,{blockElements:i,inlineObjectElements:o}),a=xM(n,i);(xM(r,i)||a)&&s.push(t)}}for(const a of s)a.hasClass("Apple-interchange-newline")?e.remove(a):e.replace(a,e.createElement("p"))}(n,e),t.content=n}}const MM=/<google-sheets-html-origin/i;class IM{constructor(t){this.document=t}isActive(t){return MM.test(t)}execute(t){const e=new Jh(this.document),{body:n}=t._parsedData;!function(t,e){for(const n of t.getChildren())if(n.is("element","google-sheets-html-origin")){const r=t.getChildIndex(n);e.remove(n),e.insertChild(r,n.getChildren(),t)}}(n,e),function(t,e){for(const n of t.getChildren())n.is("element","table")&&n.hasAttribute("xmlns")&&e.removeAttribute("xmlns",n)}(n,e),function(t,e){for(const n of t.getChildren())n.is("element","table")&&"0px"===n.getStyle("width")&&e.removeStyle("width",n)}(n,e),function(t,e){for(const n of Array.from(t.getChildren()))n.is("element","style")&&e.remove(n)}(n,e),t.content=n}}function DM(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((t,e)=>1===e.length?" ":Array(e.length+1).join("  ").substr(0,e.length)))}function TM(t,e){const n=new DOMParser,r=function(t){return DM(DM(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(t){const e="</body>",n="</html>",r=t.indexOf(e);if(r<0)return t;const i=t.indexOf(n,r+e.length);return t.substring(0,r+e.length)+(i>=0?t.substring(i):"")}(t=(t=t.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),i=n.parseFromString(r,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach((t=>{const e=t,n=e.innerText.length||0;e.innerText=Array(n+1).join("  ").substr(0,n)}))}(i);const o=i.body.innerHTML,s=function(t,e){const n=new la(e),r=new tc(n,{renderingMode:"data"}),i=t.createDocumentFragment(),o=t.body.childNodes;for(;o.length>0;)i.appendChild(o[0]);return r.domToView(i,{skipComments:!0})}(i,e),a=function(t){const e=[],n=[],r=Array.from(t.getElementsByTagName("style"));for(const i of r)i.sheet&&i.sheet.cssRules&&i.sheet.cssRules.length&&(e.push(i.sheet),n.push(i.innerHTML));return{styles:e,stylesString:n.join(" ")}}(i);return{body:s,bodyString:o,styles:a.styles,stylesString:a.stylesString}}function OM(t,e,n,r,i=1){null!=e&&null!=i&&e>i?r.setAttribute(t,e,n):r.removeAttribute(t,n)}function NM(t,e,n={}){const r=t.createElement("tableCell",n);return t.insertElement("paragraph",r),t.insert(r,e),r}function PM(t,e){const n=e.parent.parent,r=parseInt(n.getAttribute("headingColumns")||"0"),{column:i}=t.getCellLocation(e);return!!r&&i<r}function LM(){return t=>{t.on("element:table",((t,e,n)=>{const r=e.viewItem;if(!n.consumable.test(r,{name:!0}))return;const{rows:i,headingRows:o,headingColumns:s}=function(t){let e,n=0;const r=[],i=[];let o;for(const s of Array.from(t.getChildren())){if("tbody"!==s.name&&"thead"!==s.name&&"tfoot"!==s.name)continue;"thead"!==s.name||o||(o=s);const t=Array.from(s.getChildren()).filter((t=>t.is("element","tr")));for(const a of t)if(o&&s===o||"tbody"===s.name&&Array.from(a.getChildren()).length&&Array.from(a.getChildren()).every((t=>t.is("element","th"))))n++,r.push(a);else{i.push(a);const t=RM(a);(!e||t<e)&&(e=t)}}return{headingRows:n,headingColumns:e||0,rows:[...r,...i]}}(r),a={};s&&(a.headingColumns=s),o&&(a.headingRows=o);const c=n.writer.createElement("table",a);if(n.safeInsert(c,e.modelCursor)){if(n.consumable.consume(r,{name:!0}),i.forEach((t=>n.convertItem(t,n.writer.createPositionAt(c,"end")))),n.convertChildren(r,n.writer.createPositionAt(c,"end")),c.isEmpty){const t=n.writer.createElement("tableRow");n.writer.insert(t,n.writer.createPositionAt(c,"end")),NM(n.writer,n.writer.createPositionAt(t,"end"))}n.updateConversionResult(c,e)}}))}}function BM(t){return e=>{e.on(`element:${t}`,((t,e,{writer:n})=>{if(!e.modelRange)return;const r=e.modelRange.start.nodeAfter,i=n.createPositionAt(r,0);if(e.viewItem.isEmpty)return void n.insertElement("paragraph",i);const o=Array.from(r.getChildren());if(o.every((t=>t.is("element","$marker")))){const t=n.createElement("paragraph");n.insert(t,n.createPositionAt(r,0));for(const e of o)n.move(n.createRangeOn(e),n.createPositionAt(t,"end"))}}),{priority:"low"})}}function RM(t){let e=0,n=0;const r=Array.from(t.getChildren()).filter((t=>"th"===t.name||"td"===t.name));for(;n<r.length&&"th"===r[n].name;){const t=r[n];e+=parseInt(t.getAttribute("colspan")||"1"),n++}return e}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;class jM{constructor(t,e={}){this._jumpedToStartRow=!1,this._table=t,this._startRow=void 0!==e.row?e.row:e.startRow||0,this._endRow=void 0!==e.row?e.row:e.endRow,this._startColumn=void 0!==e.column?e.column:e.startColumn||0,this._endColumn=void 0!==e.column?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(n.cell,n.row,n.column));else{const n=t.getChild(this._cellIndex);if(!n)return this._advanceToNextRow();const r=parseInt(n.getAttribute("colspan")||"1"),i=parseInt(n.getAttribute("rowspan")||"1");(r>1||i>1)&&this._recordSpans(n,i,r),this._shouldSkipSlot()||(e=this._formatOutValue(n)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(t,e=this._row,n=this._column){return{done:!1,value:new zM(this,t,e,n)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),e=this._row<this._startRow,n=this._column<this._startColumn,r=void 0!==this._endColumn&&this._column>this._endColumn;return t||e||n||r}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,n){const r={cell:t,row:this._row,column:this._column};for(let i=this._row;i<this._row+e;i++)for(let t=this._column;t<this._column+n;t++)i==this._row&&t==this._column||this._markSpannedCell(i,t,r)}_markSpannedCell(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const t=this._getRowLength(0);for(let e=this._startRow;!this._jumpedToStartRow;e--)t===this._getRowLength(e)&&(this._row=e,this._rowIndex=e,this._jumpedToStartRow=!0)}_getRowLength(t){return[...this._table.getChild(t).getChildren()].reduce(((t,e)=>t+parseInt(e.getAttribute("colspan")||"1")),0)}}class zM{constructor(t,e,n,r){this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=n,this.cellAnchorColumn=r,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function FM(t,e){return(n,{writer:r})=>{const i=n.getAttribute("headingRows")||0,o=r.createContainerElement("table",null,[]),s=r.createContainerElement("figure",{class:"table"},o);i>0&&r.insert(r.createPositionAt(o,"end"),r.createContainerElement("thead",null,r.createSlot((t=>t.is("element","tableRow")&&t.index<i)))),i<t.getRows(n)&&r.insert(r.createPositionAt(o,"end"),r.createContainerElement("tbody",null,r.createSlot((t=>t.is("element","tableRow")&&t.index>=i))));for(const{positionOffset:t,filter:a}of e.additionalSlots)r.insert(r.createPositionAt(o,t),r.createSlot(a));return r.insert(r.createPositionAt(o,"after"),r.createSlot((t=>!t.is("element","tableRow")&&!e.additionalSlots.some((({filter:e})=>e(t)))))),e.asWidget?function(t,e){return e.setCustomProperty("table",!0,t),qy(t,e,{hasSelectionHandle:!0})}(s,r):s}}function VM(t={}){return(e,{writer:n})=>{const r=e.parent,i=r.parent,o=i.getChildIndex(r),s=new jM(i,{row:o}),a=i.getAttribute("headingRows")||0,c=i.getAttribute("headingColumns")||0;let l=null;for(const u of s)if(u.cell==e){const e=u.row<a||u.column<c?"th":"td";l=t.asWidget?Qy(n.createEditableElement(e),n):n.createContainerElement(e);break}return l}}function UM(t={}){return(e,{writer:n})=>{if(!e.parent.is("element","tableCell"))return null;if(!GM(e))return null;if(t.asWidget)return n.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const t=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,t),t}}}function GM(t){return 1==t.parent.childCount&&!!t.getAttributeKeys().next().done}class HM extends Ro{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema;this.isEnabled=function(t,e){const n=t.getFirstPosition().parent,r=n===n.root?n:n.parent;return e.checkChild(r,"table")}(e,n)}execute(t={}){const e=this.editor,n=e.model,r=e.plugins.get("TableUtils"),i=e.config.get("table.defaultHeadings.rows"),o=e.config.get("table.defaultHeadings.columns");void 0===t.headingRows&&i&&(t.headingRows=i),void 0===t.headingColumns&&o&&(t.headingColumns=o),n.change((e=>{const i=r.createTable(e,t);n.insertObject(i,null,null,{findOptimalPosition:"auto"}),e.setSelection(e.createPositionAt(i.getNodeByPath([0,0,0]),0))}))}}class $M extends Ro{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),r="above"===this.order,i=n.getSelectionAffectedTableCells(e),o=n.getRowIndexes(i),s=r?o.first:o.last,a=i[0].findAncestor("table");n.insertRows(a,{at:r?s:s+1,copyStructureFromAbove:!r})}}class WM extends Ro{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),r="left"===this.order,i=n.getSelectionAffectedTableCells(e),o=n.getColumnIndexes(i),s=r?o.first:o.last,a=i[0].findAncestor("table");n.insertColumns(a,{columns:1,at:r?s:s+1})}}class YM extends Ro{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===t.length}execute(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?t.splitCellHorizontally(e,2):t.splitCellVertically(e,2)}}function qM(t,e,n){const{startRow:r,startColumn:i,endRow:o,endColumn:s}=e,a=n.createElement("table"),c=o-r+1;for(let u=0;u<c;u++)n.insertElement("tableRow",a,"end");const l=[...new jM(t,{startRow:r,endRow:o,startColumn:i,endColumn:s,includeAllSlots:!0})];for(const{row:u,column:d,cell:h,isAnchor:f,cellAnchorRow:p,cellAnchorColumn:g}of l){const t=u-r,e=a.getChild(t);if(f){const t=n.cloneElement(h);n.append(t,e),JM(t,u,d,o,s,n)}else(p<r||g<i)&&NM(n,n.createPositionAt(e,"end"))}return function(t,e,n,r,i){const o=parseInt(e.getAttribute("headingRows")||"0");o>0&&OM("headingRows",o-n,t,i,0);const s=parseInt(e.getAttribute("headingColumns")||"0");s>0&&OM("headingColumns",s-r,t,i,0)}(a,t,r,i,n),a}function XM(t,e,n=0){const r=[],i=new jM(t,{startRow:n,endRow:e-1});for(const o of i){const{row:t,cellHeight:n}=o;t<e&&e<=t+n-1&&r.push(o)}return r}function KM(t,e,n){const r=t.parent,i=r.parent,o=r.index,s=e-o,a={},c=parseInt(t.getAttribute("rowspan"))-s;c>1&&(a.rowspan=c);const l=parseInt(t.getAttribute("colspan")||"1");l>1&&(a.colspan=l);const u=o+s,d=[...new jM(i,{startRow:o,endRow:u,includeAllSlots:!0})];let h,f=null;for(const p of d){const{row:e,column:r,cell:i}=p;i===t&&void 0===h&&(h=r),void 0!==h&&h===r&&e===u&&(f=NM(n,p.getPositionBefore(),a))}return OM("rowspan",s,t,n),f}function ZM(t,e){const n=[],r=new jM(t);for(const i of r){const{column:t,cellWidth:r}=i;t<e&&e<=t+r-1&&n.push(i)}return n}function QM(t,e,n,r){const i=n-e,o={},s=parseInt(t.getAttribute("colspan"))-i;s>1&&(o.colspan=s);const a=parseInt(t.getAttribute("rowspan")||"1");a>1&&(o.rowspan=a);const c=NM(r,r.createPositionAfter(t),o);return OM("colspan",i,t,r),c}function JM(t,e,n,r,i,o){const s=parseInt(t.getAttribute("colspan")||"1"),a=parseInt(t.getAttribute("rowspan")||"1");n+s-1>i&&OM("colspan",i-n+1,t,o,1),e+a-1>r&&OM("rowspan",r-e+1,t,o,1)}function tI(t,e){const n=e.getColumns(t),r=new Array(n).fill(0);for(const{column:o}of new jM(t))r[o]++;const i=r.reduce(((t,e,n)=>e?t:[...t,n]),[]);if(i.length>0){const n=i[i.length-1];return e.removeColumns(t,{at:n}),!0}return!1}function eI(t,e){const n=[],r=e.getRows(t);for(let i=0;i<r;i++)t.getChild(i).isEmpty&&n.push(i);if(n.length>0){const r=n[n.length-1];return e.removeRows(t,{at:r}),!0}return!1}function nI(t,e){tI(t,e)||eI(t,e)}function rI(t,e){const n=Array.from(new jM(t,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(n.every((({cellHeight:t})=>1===t)))return e.lastRow;const r=n[0].cellHeight-1;return e.lastRow+r}function iI(t,e){const n=Array.from(new jM(t,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(n.every((({cellWidth:t})=>1===t)))return e.lastColumn;const r=n[0].cellWidth-1;return e.lastColumn+r}class oI extends Ro{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=t.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(e.selection)[0],r=this.value,i=this.direction;t.change((t=>{const e="right"==i||"down"==i,o=e?n:r,s=e?r:n,a=s.parent;!function(t,e,n){sI(t)||(sI(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}(s,o,t);const c=this.isHorizontal?"colspan":"rowspan",l=parseInt(n.getAttribute(c)||"1"),u=parseInt(r.getAttribute(c)||"1");t.setAttribute(c,l+u,o),t.setSelection(t.createRangeIn(o));const d=this.editor.plugins.get("TableUtils");nI(a.findAncestor("table"),d)}))}_getMergeableCell(){const t=this.editor.model.document,e=this.editor.plugins.get("TableUtils"),n=e.getTableCellsContainingSelection(t.selection)[0];if(!n)return;const r=this.isHorizontal?function(t,e,n){const r=t.parent,i=r.parent,o="right"==e?t.nextSibling:t.previousSibling,s=(i.getAttribute("headingColumns")||0)>0;if(!o)return;const a="right"==e?t:o,c="right"==e?o:t,{column:l}=n.getCellLocation(a),{column:u}=n.getCellLocation(c),d=parseInt(a.getAttribute("colspan")||"1"),h=PM(n,a),f=PM(n,c);return s&&h!=f?void 0:l+d===u?o:void 0}(n,this.direction,e):function(t,e,n){const r=t.parent,i=r.parent,o=i.getChildIndex(r);if("down"==e&&o===n.getRows(i)-1||"up"==e&&0===o)return null;const s=parseInt(t.getAttribute("rowspan")||"1"),a=i.getAttribute("headingRows")||0,c="down"==e&&o+s===a,l="up"==e&&o===a;if(a&&(c||l))return null;const u=parseInt(t.getAttribute("rowspan")||"1"),d="down"==e?o+u:o,h=[...new jM(i,{endRow:d})],f=h.find((e=>e.cell===t)),p=f.column,g=h.find((({row:t,cellHeight:n,column:r})=>r===p&&("down"==e?t===d:d===t+n)));return g&&g.cell?g.cell:null}(n,this.direction,e);if(!r)return;const i=this.isHorizontal?"rowspan":"colspan",o=parseInt(n.getAttribute(i)||"1");return parseInt(r.getAttribute(i)||"1")===o?r:void 0}}function sI(t){const e=t.getChild(0);return 1==t.childCount&&e.is("element","paragraph")&&e.isEmpty}class aI extends Ro{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const r=n.findAncestor("table"),i=t.getRows(r)-1,o=t.getRowIndexes(e),s=0===o.first&&o.last===i;this.isEnabled=!s}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),r=e.getRowIndexes(n),i=n[0],o=i.findAncestor("table"),s=e.getCellLocation(i).column;t.change((t=>{const n=r.last-r.first+1;e.removeRows(o,{at:r.first,rows:n});const i=function(t,e,n,r){const i=t.getChild(Math.min(e,r-1));let o=i.getChild(0),s=0;for(const a of i.getChildren()){if(s>n)return o;o=a,s+=parseInt(a.getAttribute("colspan")||"1")}return o}(o,r.first,s,e.getRows(o));t.setSelection(t.createPositionAt(i,0))}))}}class cI extends Ro{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const r=n.findAncestor("table"),i=t.getColumns(r),{first:o,last:s}=t.getColumnIndexes(e);this.isEnabled=s-o<i-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,n]=function(t,e){const n=e.getSelectionAffectedTableCells(t),r=n[0],i=n.pop(),o=[r,i];return r.isBefore(i)?o:o.reverse()}(this.editor.model.document.selection,t),r=e.parent.parent,i=[...new jM(r)],o={first:i.find((t=>t.cell===e)).column,last:i.find((t=>t.cell===n)).column},s=function(t,e,n,r){const i=parseInt(n.getAttribute("colspan")||"1");return i>1?n:e.previousSibling||n.nextSibling?n.nextSibling||e.previousSibling:r.first?t.reverse().find((({column:t})=>t<r.first)).cell:t.reverse().find((({column:t})=>t>r.last)).cell}(i,e,n,o);this.editor.model.change((e=>{const n=o.last-o.first+1;t.removeColumns(r,{at:o.first,columns:n}),e.setSelection(e.createPositionAt(s,0))}))}}class lI extends Ro{refresh(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),r=n.length>0;this.isEnabled=r,this.value=r&&n.every((t=>this._isInHeading(t,t.parent.parent)))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,r=e.getSelectionAffectedTableCells(n.document.selection),i=r[0].findAncestor("table"),{first:o,last:s}=e.getRowIndexes(r),a=this.value?o:s+1,c=i.getAttribute("headingRows")||0;n.change((t=>{if(a){const e=XM(i,a,a>c?c:0);for(const{cell:n}of e)KM(n,a,t)}OM("headingRows",a,i,t,0)}))}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||"0");return!!n&&t.parent.index<n}}class uI extends Ro{refresh(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),r=n.length>0;this.isEnabled=r,this.value=r&&n.every((t=>PM(e,t)))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,r=e.getSelectionAffectedTableCells(n.document.selection),i=r[0].findAncestor("table"),{first:o,last:s}=e.getColumnIndexes(r),a=this.value?o:s+1;n.change((t=>{if(a){const e=ZM(i,a);for(const{cell:n,column:r}of e)QM(n,r,a,t)}OM("headingColumns",a,i,t,0)}))}}function dI(t){if(t.is("element","tableColumnGroup"))return t;const e=t.getChildren();return Array.from(e).find((t=>t.is("element","tableColumnGroup")))}function hI(t){const e=dI(t);return e?Array.from(e.getChildren()):[]}class fI extends Lo{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,n=e.parent,r=n.getChildIndex(e),i=new jM(n,{row:r});for(const{cell:o,row:s,column:a}of i)if(o===t)return{row:s,column:a}}createTable(t,e){const n=t.createElement("table"),r=e.rows||2,i=e.columns||2;return pI(t,n,0,r,i),e.headingRows&&OM("headingRows",Math.min(e.headingRows,r),n,t,0),e.headingColumns&&OM("headingColumns",Math.min(e.headingColumns,i),n,t,0),n}insertRows(t,e={}){const n=this.editor.model,r=e.at||0,i=e.rows||1,o=void 0!==e.copyStructureFromAbove,s=e.copyStructureFromAbove?r-1:r,a=this.getRows(t),c=this.getColumns(t);if(r>a)throw new _("tableutils-insertrows-insert-out-of-range",this,{options:e});n.change((e=>{const n=t.getAttribute("headingRows")||0;if(n>r&&OM("headingRows",n+i,t,e,0),!o&&(0===r||r===a))return void pI(e,t,r,i,c);const l=o?Math.max(r,s):r,u=new jM(t,{endRow:l}),d=new Array(c).fill(1);for(const{row:t,column:a,cellHeight:c,cellWidth:h,cell:f}of u){const n=t+c-1,l=t<=s&&s<=n;t<r&&r<=n?(e.setAttribute("rowspan",c+i,f),d[a]=-h):o&&l&&(d[a]=h)}for(let o=0;o<i;o++){const n=e.createElement("tableRow");e.insert(n,t,r);for(let t=0;t<d.length;t++){const r=d[t],i=e.createPositionAt(n,"end");r>0&&NM(e,i,r>1?{colspan:r}:void 0),t+=Math.abs(r)-1}}}))}insertColumns(t,e={}){const n=this.editor.model,r=e.at||0,i=e.columns||1;n.change((e=>{const n=t.getAttribute("headingColumns");r<n&&e.setAttribute("headingColumns",n+i,t);const o=this.getColumns(t);if(0===r||o===r){for(const n of t.getChildren())n.is("element","tableRow")&&gI(i,e,e.createPositionAt(n,r?"end":0));return}const s=new jM(t,{column:r,includeAllSlots:!0});for(const t of s){const{row:n,cell:o,cellAnchorColumn:a,cellAnchorRow:c,cellWidth:l,cellHeight:u}=t;if(a<r){e.setAttribute("colspan",l+i,o);const t=c+u-1;for(let e=n;e<=t;e++)s.skipRow(e)}else gI(i,e,t.getPositionBefore())}}))}removeRows(t,e){const n=this.editor.model,r=e.rows||1,i=this.getRows(t),o=e.at,s=o+r-1;if(s>i-1)throw new _("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});n.change((e=>{const n={first:o,last:s},{cellsToMove:r,cellsToTrim:i}=function(t,{first:e,last:n}){const r=new Map,i=[];for(const{row:o,column:s,cellHeight:a,cell:c}of new jM(t,{endRow:n})){const t=o+a-1;if(o>=e&&o<=n&&t>n){const t=a-(n-o+1);r.set(s,{cell:c,rowspan:t})}if(o<e&&t>=e){let r;r=t>=n?n-e+1:t-e+1,i.push({cell:c,rowspan:a-r})}}return{cellsToMove:r,cellsToTrim:i}}(t,n);r.size&&function(t,e,n,r){const i=new jM(t,{includeAllSlots:!0,row:e}),o=[...i],s=t.getChild(e);let a;for(const{column:c,cell:l,isAnchor:u}of o)if(n.has(c)){const{cell:t,rowspan:e}=n.get(c),i=a?r.createPositionAfter(a):r.createPositionAt(s,0);r.move(r.createRangeOn(t),i),OM("rowspan",e,t,r),a=t}else u&&(a=l)}(t,s+1,r,e);for(let a=s;a>=o;a--)e.remove(t.getChild(a));for(const{rowspan:t,cell:o}of i)OM("rowspan",t,o,e);!function(t,{first:e,last:n},r){const i=t.getAttribute("headingRows")||0;e<i&&OM("headingRows",n<i?i-(n-e+1):e,t,r,0)}(t,n,e),tI(t,this)||eI(t,this)}))}removeColumns(t,e){const n=this.editor.model,r=e.at,i=e.columns||1,o=e.at+i-1;n.change((e=>{!function(t,e,n){const r=t.getAttribute("headingColumns")||0;if(r&&e.first<r){const i=Math.min(r-1,e.last)-e.first+1;n.setAttribute("headingColumns",r-i,t)}}(t,{first:r,last:o},e);const n=hI(t);for(let i=o;i>=r;i--){for(const{cell:n,column:r,cellWidth:o}of[...new jM(t)])r<=i&&o>1&&r+o>i?OM("colspan",o-1,n,e):r===i&&e.remove(n);if(n[i]){const t=0===i?n[1]:n[i-1],r=parseFloat(n[i].getAttribute("columnWidth")),o=parseFloat(t.getAttribute("columnWidth"));e.remove(n[i]),e.setAttribute("columnWidth",r+o+"%",t)}}eI(t,this)||tI(t,this)}))}splitCellVertically(t,e=2){const n=this.editor.model,r=t.parent.parent,i=parseInt(t.getAttribute("rowspan")||"1"),o=parseInt(t.getAttribute("colspan")||"1");n.change((n=>{if(o>1){const{newCellsSpan:r,updatedSpan:s}=mI(o,e);OM("colspan",s,t,n);const a={};r>1&&(a.colspan=r),i>1&&(a.rowspan=i),gI(o>e?e-1:o-1,n,n.createPositionAfter(t),a)}if(o<e){const s=e-o,a=[...new jM(r)],{column:c}=a.find((({cell:e})=>e===t)),l=a.filter((({cell:e,cellWidth:n,column:r})=>e!==t&&r===c||r<c&&r+n>c));for(const{cell:t,cellWidth:e}of l)n.setAttribute("colspan",e+s,t);const u={};i>1&&(u.rowspan=i),gI(s,n,n.createPositionAfter(t),u);const d=r.getAttribute("headingColumns")||0;d>c&&OM("headingColumns",d+s,r,n)}}))}splitCellHorizontally(t,e=2){const n=this.editor.model,r=t.parent,i=r.parent,o=i.getChildIndex(r),s=parseInt(t.getAttribute("rowspan")||"1"),a=parseInt(t.getAttribute("colspan")||"1");n.change((n=>{if(s>1){const r=[...new jM(i,{startRow:o,endRow:o+s-1,includeAllSlots:!0})],{newCellsSpan:c,updatedSpan:l}=mI(s,e);OM("rowspan",l,t,n);const{column:u}=r.find((({cell:e})=>e===t)),d={};c>1&&(d.rowspan=c),a>1&&(d.colspan=a);for(const t of r){const{column:e,row:r}=t;r>=o+l&&e===u&&(r+o+l)%c==0&&gI(1,n,t.getPositionBefore(),d)}}if(s<e){const r=e-s,c=[...new jM(i,{startRow:0,endRow:o})];for(const{cell:e,cellHeight:i,row:s}of c)if(e!==t&&s+i>o){const t=i+r;n.setAttribute("rowspan",t,e)}const l={};a>1&&(l.colspan=a),pI(n,i,o+1,r,1,l);const u=i.getAttribute("headingRows")||0;u>o&&OM("headingRows",u+r,i,n)}}))}getColumns(t){return[...t.getChild(0).getChildren()].filter((t=>t.is("element","tableCell"))).reduce(((t,e)=>t+parseInt(e.getAttribute("colspan")||"1")),0)}getRows(t){return Array.from(t.getChildren()).reduce(((t,e)=>e.is("element","tableRow")?t+1:t),0)}createTableWalker(t,e={}){return new jM(t,e)}getSelectedTableCells(t){const e=[];for(const n of this.sortRanges(t.getRanges())){const t=n.getContainedElement();t&&t.is("element","tableCell")&&e.push(t)}return e}getTableCellsContainingSelection(t){const e=[];for(const n of t.getRanges()){const t=n.start.findAncestor("tableCell");t&&e.push(t)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map((t=>t.parent.index));return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),n=[...new jM(e)].filter((e=>t.includes(e.cell))).map((t=>t.column));return this._getFirstLastIndexesObject(n)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,n=new Set;let r=0;for(const o of t){const{row:t,column:i}=this.getCellLocation(o),s=parseInt(o.getAttribute("rowspan"))||1,a=parseInt(o.getAttribute("colspan"))||1;e.add(t),n.add(i),s>1&&e.add(t+s-1),a>1&&n.add(i+a-1),r+=s*a}const i=function(t,e){const n=Array.from(t.values()),r=Array.from(e.values()),i=Math.max(...n),o=Math.min(...n),s=Math.max(...r),a=Math.min(...r);return(i-o+1)*(s-a+1)}(e,n);return i==r}sortRanges(t){return Array.from(t).sort(vI)}_getFirstLastIndexesObject(t){const e=t.sort(((t,e)=>t-e));return{first:e[0],last:e[e.length-1]}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),n=this.getRowIndexes(t),r=parseInt(e.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,r))return!1;const i=this.getColumnIndexes(t),o=parseInt(e.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(i,o)}_areIndexesInSameSection({first:t,last:e},n){return t<n===e<n}}function pI(t,e,n,r,i,o={}){for(let s=0;s<r;s++){const r=t.createElement("tableRow");t.insert(r,e,n),gI(i,t,t.createPositionAt(r,"end"),o)}}function gI(t,e,n,r={}){for(let i=0;i<t;i++)NM(e,n,r)}function mI(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n}}function vI(t,e){const n=t.start,r=e.start;return n.isBefore(r)?-1:1}class bI extends Ro{refresh(){const t=this.editor.plugins.get(fI),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e)}execute(){const t=this.editor.model,e=this.editor.plugins.get(fI);t.change((n=>{const r=e.getSelectedTableCells(t.document.selection),i=r.shift(),{mergeWidth:o,mergeHeight:s}=function(t,e,n){let r=0,i=0;for(const l of e){const{row:t,column:e}=n.getCellLocation(l);r=wI(l,e,r,"colspan"),i=wI(l,t,i,"rowspan")}const{row:o,column:s}=n.getCellLocation(t),a=r-s,c=i-o;return{mergeWidth:a,mergeHeight:c}}(i,r,e);OM("colspan",o,i,n),OM("rowspan",s,i,n);for(const t of r)yI(t,i,n);nI(i.findAncestor("table"),e),n.setSelection(i,"in")}))}}function yI(t,e,n){kI(t)||(kI(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}function kI(t){const e=t.getChild(0);return 1==t.childCount&&e.is("element","paragraph")&&e.isEmpty}function wI(t,e,n,r){const i=parseInt(t.getAttribute(r)||"1");return Math.max(n,e+i)}class _I extends Ro{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),r=e.getRowIndexes(n),i=n[0].findAncestor("table"),o=[];for(let s=r.first;s<=r.last;s++)for(const e of i.getChild(s).getChildren())o.push(t.createRangeOn(e));t.change((t=>{t.setSelection(o)}))}}class AI extends Ro{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),r=n[0],i=n.pop(),o=r.findAncestor("table"),s=t.getCellLocation(r),a=t.getCellLocation(i),c=Math.min(s.column,a.column),l=Math.max(s.column,a.column),u=[];for(const d of new jM(o,{startColumn:c,endColumn:l}))u.push(e.createRangeOn(d.cell));e.change((t=>{t.setSelection(u)}))}}function CI(t){t.document.registerPostFixer((e=>function(t,e){const n=e.document.differ.getChanges();let r=!1;const i=new Set;for(const o of n){let e=null;"insert"==o.type&&"table"==o.name&&(e=o.position.nodeAfter),"insert"!=o.type&&"remove"!=o.type||"tableRow"!=o.name&&"tableCell"!=o.name||(e=o.position.findAncestor("table")),SI(o)&&(e=o.range.start.findAncestor("table")),e&&!i.has(e)&&(r=xI(e,t)||r,r=EI(e,t)||r,i.add(e))}return r}(e,t)))}function xI(t,e){let n=!1;const r=function(t){const e=parseInt(t.getAttribute("headingRows")||"0"),n=Array.from(t.getChildren()).reduce(((t,e)=>e.is("element","tableRow")?t+1:t),0),r=[];for(const{row:i,cell:o,cellHeight:s}of new jM(t)){if(s<2)continue;const t=i<e?e:n;if(i+s>t){const e=t-i;r.push({cell:o,rowspan:e})}}return r}(t);if(r.length){n=!0;for(const t of r)OM("rowspan",t.rowspan,t.cell,e,1)}return n}function EI(t,e){let n=!1;const r=function(t){const e=new Array(t.childCount).fill(0);for(const{rowIndex:n}of new jM(t,{includeAllSlots:!0}))e[n]++;return e}(t),i=[];for(const[a,c]of r.entries())!c&&t.getChild(a).is("element","tableRow")&&i.push(a);if(i.length){n=!0;for(const n of i.reverse())e.remove(t.getChild(n)),r.splice(n,1)}const o=r.filter(((e,n)=>t.getChild(n).is("element","tableRow"))),s=o[0];if(!o.every((t=>t===s))){const r=o.reduce(((t,e)=>e>t?e:t),0);for(const[i,s]of o.entries()){const o=r-s;if(o){for(let n=0;n<o;n++)NM(e,e.createPositionAt(t.getChild(i),"end"));n=!0}}}return n}function SI(t){if("attribute"!==t.type)return!1;const e=t.attributeKey;return"headingRows"===e||"colspan"===e||"rowspan"===e}function MI(t){t.document.registerPostFixer((e=>function(t,e){const n=e.document.differ.getChanges();let r=!1;for(const i of n)"insert"==i.type&&"table"==i.name&&(r=II(i.position.nodeAfter,t)||r),"insert"==i.type&&"tableRow"==i.name&&(r=DI(i.position.nodeAfter,t)||r),"insert"==i.type&&"tableCell"==i.name&&(r=TI(i.position.nodeAfter,t)||r),"remove"!=i.type&&"insert"!=i.type||!OI(i)||(r=TI(i.position.parent,t)||r);return r}(e,t)))}function II(t,e){let n=!1;for(const r of t.getChildren())r.is("element","tableRow")&&(n=DI(r,e)||n);return n}function DI(t,e){let n=!1;for(const r of t.getChildren())n=TI(r,e)||n;return n}function TI(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;const n=Array.from(t.getChildren()).filter((t=>t.is("$text")));for(const r of n)e.wrap(e.createRangeOn(r),"paragraph");return!!n.length}function OI(t){return!!t.position.parent.is("element","tableCell")&&("insert"==t.type&&"$text"==t.name||"remove"==t.type)}function NI(t,e){if(!t.is("element","paragraph"))return!1;const n=e.toViewElement(t);return!!n&&GM(t)!==n.is("element","span")}var PI=o(8137),LI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(PI.A,LI),PI.A.locals;class BI extends Lo{constructor(t){super(t),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[fI]}init(){const t=this.editor,e=t.model,n=e.schema,r=t.conversion,i=t.plugins.get(fI);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),r.for("upcast").add((t=>{t.on("element:figure",((t,e,n)=>{if(!n.consumable.test(e.viewItem,{name:!0,classes:"table"}))return;const r=function(t){for(const e of t.getChildren())if(e.is("element","table"))return e}(e.viewItem);if(!r||!n.consumable.test(r,{name:!0}))return;n.consumable.consume(e.viewItem,{name:!0,classes:"table"});const i=qi(n.convertItem(r,e.modelCursor).modelRange.getItems());i?(n.convertChildren(e.viewItem,n.writer.createPositionAt(i,"end")),n.updateConversionResult(i,e)):n.consumable.revert(e.viewItem,{name:!0,classes:"table"})}))})),r.for("upcast").add(LM()),r.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:FM(i,{asWidget:!0,additionalSlots:this._additionalSlots})}),r.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:FM(i,{additionalSlots:this._additionalSlots})}),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("upcast").add((t=>{t.on("element:tr",((t,e)=>{e.viewItem.isEmpty&&0==e.modelCursor.index&&t.stop()}),{priority:"high"})})),r.for("downcast").elementToElement({model:"tableRow",view:(t,{writer:e})=>t.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}),r.for("upcast").elementToElement({model:"tableCell",view:"td"}),r.for("upcast").elementToElement({model:"tableCell",view:"th"}),r.for("upcast").add(BM("td")),r.for("upcast").add(BM("th")),r.for("editingDowncast").elementToElement({model:"tableCell",view:VM({asWidget:!0})}),r.for("dataDowncast").elementToElement({model:"tableCell",view:VM()}),r.for("editingDowncast").elementToElement({model:"paragraph",view:UM({asWidget:!0}),converterPriority:"high"}),r.for("dataDowncast").elementToElement({model:"paragraph",view:UM(),converterPriority:"high"}),r.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),r.for("upcast").attributeToAttribute({model:{key:"colspan",value:RI("colspan")},view:"colspan"}),r.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("upcast").attributeToAttribute({model:{key:"rowspan",value:RI("rowspan")},view:"rowspan"}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new HM(t)),t.commands.add("insertTableRowAbove",new $M(t,{order:"above"})),t.commands.add("insertTableRowBelow",new $M(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new WM(t,{order:"left"})),t.commands.add("insertTableColumnRight",new WM(t,{order:"right"})),t.commands.add("removeTableRow",new aI(t)),t.commands.add("removeTableColumn",new cI(t)),t.commands.add("splitTableCellVertically",new YM(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new YM(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new bI(t)),t.commands.add("mergeTableCellRight",new oI(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new oI(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new oI(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new oI(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new uI(t)),t.commands.add("setTableRowHeader",new lI(t)),t.commands.add("selectTableRow",new _I(t)),t.commands.add("selectTableColumn",new AI(t)),CI(e),MI(e),this.listenTo(e.document,"change:data",(()=>{!function(t,e){const n=t.document.differ;for(const r of n.getChanges()){let t,n=!1;if("attribute"==r.type){const e=r.range.start.nodeAfter;if(!e||!e.is("element","table"))continue;if("headingRows"!=r.attributeKey&&"headingColumns"!=r.attributeKey)continue;t=e,n="headingRows"==r.attributeKey}else"tableRow"!=r.name&&"tableCell"!=r.name||(t=r.position.findAncestor("table"),n="tableRow"==r.name);if(!t)continue;const i=t.getAttribute("headingRows")||0,o=t.getAttribute("headingColumns")||0,s=new jM(t);for(const r of s){const t=r.row<i||r.column<o?"th":"td",s=e.mapper.toViewElement(r.cell);s&&s.is("element")&&s.name!=t&&e.reconvertItem(n?r.cell.parent:r.cell)}}}(e,t.editing),function(t,e){const n=t.document.differ,r=new Set;for(const i of n.getChanges()){const t="attribute"==i.type?i.range.start.parent:i.position.parent;t.is("element","tableCell")&&r.add(t)}for(const i of r.values()){const t=Array.from(i.getChildren()).filter((t=>NI(t,e.mapper)));for(const n of t)e.reconvertItem(n)}}(e,t.editing)}))}registerAdditionalSlot(t){this._additionalSlots.push(t)}}function RI(t){return e=>{const n=parseInt(e.getAttribute(t));return Number.isNaN(n)||n<=0?null:n}}var jI=o(5032),zI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(jI.A,zI),jI.A.locals;class FI extends Do{constructor(t){super(t);const e=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Ki,this.focusTracker=new Xi,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",((t,e)=>`${e} × ${t}`)),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:e.to("label")}]}],on:{mousedown:e.to((t=>{t.preventDefault()})),click:e.to((()=>{this.fire("execute")}))}}),this.on("boxover",((t,e)=>{const{row:n,column:r}=e.target.dataset;this.items.get(10*(parseInt(n,10)-1)+(parseInt(r,10)-1)).focus()})),this.focusTracker.on("change:focusedElement",((t,e,n)=>{if(!n)return;const{row:r,column:i}=n.dataset;this.set({rows:parseInt(r),columns:parseInt(i)})})),this.on("change:columns",(()=>this._highlightGridBoxes())),this.on("change:rows",(()=>this._highlightGridBoxes()))}render(){super.render(),Po({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map(((n,r)=>{const i=Math.floor(r/10)<t&&r%10<e;n.set("isOn",i)}))}_createGridButton(t,e,n,r){const i=new Lf(t);return i.set({label:r,class:"ck-insert-table-dropdown-grid-box"}),i.extendTemplate({attributes:{"data-row":e,"data-column":n}}),i}_createGridCollection(){const t=[];for(let e=0;e<100;e++){const n=Math.floor(e/10),r=e%10,i=`${n+1} × ${r+1}`;t.push(this._createGridButton(this.locale,n+1,r+1,i))}return this.createCollection(t)}}class VI extends Lo{static get pluginName(){return"TableUI"}init(){const t=this.editor,e=this.editor.t,n="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",(n=>{const r=t.commands.get("insertTable"),i=Vp(n);let o;return i.bind("isEnabled").to(r),i.buttonView.set({icon:vf.table,label:e("Insert table"),tooltip:!0}),i.on("change:isOpen",(()=>{o||(o=new FI(n),i.panelView.children.add(o),o.delegate("execute").to(i),i.on("execute",(()=>{t.execute("insertTable",{rows:o.rows,columns:o.columns}),t.editing.view.focus()})))})),i})),t.ui.componentFactory.add("menuBar:insertTable",(n=>{const r=t.commands.get("insertTable"),i=new Gv(n),o=new FI(n);return o.delegate("execute").to(i),i.on("change:isOpen",((t,e,n)=>{n||o.reset()})),o.on("execute",(()=>{t.execute("insertTable",{rows:o.rows,columns:o.columns}),t.editing.view.focus()})),i.buttonView.set({label:e("Table"),icon:vf.table}),i.panelView.children.add(o),i.bind("isEnabled").to(r),i})),t.ui.componentFactory.add("tableColumn",(t=>{const r=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',r,t)})),t.ui.componentFactory.add("tableRow",(t=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,t)})),t.ui.componentFactory.add("mergeTableCells",(t=>{const r=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',r,t)}))}_prepareDropdown(t,e,n,r){const i=this.editor,o=Vp(r),s=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:t,icon:e,tooltip:!0}),o.bind("isEnabled").toMany(s,"isEnabled",((...t)=>t.some((t=>t)))),this.listenTo(o,"execute",(t=>{i.execute(t.source.commandName),t.source instanceof jf||i.editing.view.focus()})),o}_prepareMergeSplitButtonDropdown(t,e,n,r){const i=this.editor,o=Vp(r,Bp),s="mergeTableCells",a=i.commands.get(s),c=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([a,...c],"isEnabled",((...t)=>t.some((t=>t)))),this.listenTo(o.buttonView,"execute",(()=>{i.execute(s),i.editing.view.focus()})),this.listenTo(o,"execute",(t=>{i.execute(t.source.commandName),i.editing.view.focus()})),o}_fillDropdownWithListOptions(t,e){const n=this.editor,r=[],i=new Yi;for(const o of e)UI(o,n,r,i);return Hp(t,i),r}}function UI(t,e,n,r){if("button"===t.type||"switchbutton"===t.type){const r=t.model=new xm(t.model),{commandName:i,bindIsOn:o}=t.model,s=e.commands.get(i);n.push(s),r.set({commandName:i}),r.bind("isEnabled").to(s),o&&r.bind("isOn").to(s,"value"),r.set({withText:!0})}r.add(t)}var GI=o(8423),HI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(GI.A,HI),GI.A.locals;class $I extends Lo{static get pluginName(){return"TableSelection"}static get requires(){return[fI,fI]}init(){const t=this.editor,e=t.model,n=t.editing.view;this.listenTo(e,"deleteContent",((t,e)=>this._handleDeleteContent(t,e)),{priority:"high"}),this.listenTo(n.document,"insertText",((t,e)=>this._handleInsertTextEvent(t,e)),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(fI),e=this.editor.model.document.selection,n=t.getSelectedTableCells(e);return 0==n.length?null:n}getSelectionAsFragment(){const t=this.editor.plugins.get(fI),e=this.getSelectedTableCells();return e?this.editor.model.change((n=>{const r=n.createDocumentFragment(),{first:i,last:o}=t.getColumnIndexes(e),{first:s,last:a}=t.getRowIndexes(e),c=e[0].findAncestor("table");let l=a,u=o;if(t.isSelectionRectangular(e)){const t={firstColumn:i,lastColumn:o,firstRow:s,lastRow:a};l=rI(c,t),u=iI(c,t)}const d=qM(c,{startRow:s,startColumn:i,endRow:l,endColumn:u},n);return n.insert(d,r,0),r})):null}setCellSelection(t,e){const n=this._getCellsToSelect(t,e);this.editor.model.change((t=>{t.setSelection(n.cells.map((e=>t.createRangeOn(e))),{backward:n.backward})}))}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=qi(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add((t=>t.on("selection",((t,n,r)=>{const i=r.writer;!function(t){for(const n of e)t.removeClass("ck-editor__editable_selected",n);e.clear()}(i);const o=this.getSelectedTableCells();if(!o)return;for(const a of o){const t=r.mapper.toViewElement(a);i.addClass("ck-editor__editable_selected",t),e.add(t)}const s=r.mapper.toViewElement(o[o.length-1]);i.setSelection(s,0)}),{priority:"lowest"})))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",(()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change((n=>{const r=n.createPositionAt(e[0],0),i=t.model.schema.getNearestSelectionRange(r);n.setSelection(i)}))}}))}_handleDeleteContent(t,e){const n=this.editor.plugins.get(fI),r=e[0],i=e[1],o=this.editor.model,s=!i||"backward"==i.direction,a=n.getSelectedTableCells(r);a.length&&(t.stop(),o.change((t=>{const e=a[s?a.length-1:0];o.change((t=>{for(const e of a)o.deleteContent(t.createSelection(e,"in"))}));const n=o.schema.getNearestSelectionRange(t.createPositionAt(e,0));r.is("documentSelection")?t.setSelection(n):r.setTo(n)})))}_handleInsertTextEvent(t,e){const n=this.editor,r=this.getSelectedTableCells();if(!r)return;const i=n.editing.view,o=n.editing.mapper,s=r.map((t=>i.createRangeOn(o.toViewElement(t))));e.selection=i.createSelection(s)}_getCellsToSelect(t,e){const n=this.editor.plugins.get("TableUtils"),r=n.getCellLocation(t),i=n.getCellLocation(e),o=Math.min(r.row,i.row),s=Math.max(r.row,i.row),a=Math.min(r.column,i.column),c=Math.max(r.column,i.column),l=new Array(s-o+1).fill(null).map((()=>[])),u={startRow:o,endRow:s,startColumn:a,endColumn:c};for(const{row:f,cell:p}of new jM(t.findAncestor("table"),u))l[f-o].push(p);const d=i.row<r.row,h=i.column<r.column;return d&&l.reverse(),h&&l.forEach((t=>t.reverse())),{cells:l.flat(),backward:d||h}}}class WI extends Lo{static get pluginName(){return"TableClipboard"}static get requires(){return[Xb,Kb,$I,fI]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",((t,e)=>this._onCopyCut(t,e))),this.listenTo(e,"cut",((t,e)=>this._onCopyCut(t,e))),this.listenTo(t.model,"insertContent",((t,[e,n])=>this._onInsertContent(t,e,n)),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,e){const n=this.editor.editing.view,r=this.editor.plugins.get($I),i=this.editor.plugins.get(Xb);r.getSelectedTableCells()&&("cut"!=t.name||this.editor.model.canEditAt(this.editor.model.document.selection))&&(e.preventDefault(),t.stop(),this.editor.model.enqueueChange({isUndoable:"cut"===t.name},(()=>{const o=i._copySelectedFragmentWithMarkers(t.name,this.editor.model.document.selection,(()=>r.getSelectionAsFragment()));n.document.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:this.editor.data.toView(o),method:t.name})})))}_onInsertContent(t,e,n){if(n&&!n.is("documentSelection"))return;const r=this.editor.model,i=this.editor.plugins.get(fI),o=this.editor.plugins.get(Xb),s=this.getTableIfOnlyTableInContent(e,r);if(!s)return;const a=i.getSelectionAffectedTableCells(r.document.selection);a.length?(t.stop(),e.is("documentFragment")?o._pasteMarkersIntoTransformedElement(e.markers,(t=>this._replaceSelectedCells(s,a,t))):this.editor.model.change((t=>{this._replaceSelectedCells(s,a,t)}))):nI(s,i)}_replaceSelectedCells(t,e,n){const r=this.editor.plugins.get(fI),i={width:r.getColumns(t),height:r.getRows(t)},o=function(t,e,n,r){const i=t[0].findAncestor("table"),o=r.getColumnIndexes(t),s=r.getRowIndexes(t),a={firstColumn:o.first,lastColumn:o.last,firstRow:s.first,lastRow:s.last},c=1===t.length;return c&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,function(t,e,n,r){const i=r.getColumns(t),o=r.getRows(t);n>i&&r.insertColumns(t,{at:i,columns:n-i}),e>o&&r.insertRows(t,{at:o,rows:e-o})}(i,a.lastRow+1,a.lastColumn+1,r)),c||!r.isSelectionRectangular(t)?function(t,e,n){const{firstRow:r,lastRow:i,firstColumn:o,lastColumn:s}=e,a={first:r,last:i},c={first:o,last:s};qI(t,o,a,n),qI(t,s+1,a,n),YI(t,r,c,n),YI(t,i+1,c,n,r)}(i,a,n):(a.lastRow=rI(i,a),a.lastColumn=iI(i,a)),a}(e,i,n,r),s=o.lastRow-o.firstRow+1,a=o.lastColumn-o.firstColumn+1;t=qM(t,{startRow:0,startColumn:0,endRow:Math.min(s,i.height)-1,endColumn:Math.min(a,i.width)-1},n);const c=e[0].findAncestor("table"),l=this._replaceSelectedCellsWithPasted(t,i,c,o,n);if(this.editor.plugins.get("TableSelection").isEnabled){const t=r.sortRanges(l.map((t=>n.createRangeOn(t))));n.setSelection(t)}else n.setSelection(l[0],0);return c}_replaceSelectedCellsWithPasted(t,e,n,r,i){const{width:o,height:s}=e,a=function(t,e,n){const r=new Array(n).fill(null).map((()=>new Array(e).fill(null)));for(const{column:i,row:o,cell:s}of new jM(t))r[o][i]=s;return r}(t,o,s),c=[...new jM(n,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0})],l=[];let u;for(const g of c){const{row:t,column:e}=g;e===r.firstColumn&&(u=g.getPositionBefore());const n=t-r.firstRow,c=e-r.firstColumn,d=a[n%s][c%o],h=d?i.cloneElement(d):null,f=this._replaceTableSlotCell(g,h,u,i);f&&(JM(f,t,e,r.lastRow,r.lastColumn,i),l.push(f),u=i.createPositionAfter(f))}const d=parseInt(n.getAttribute("headingRows")||"0"),h=parseInt(n.getAttribute("headingColumns")||"0"),f=r.firstRow<d&&d<=r.lastRow,p=r.firstColumn<h&&h<=r.lastColumn;if(f){const t=YI(n,d,{first:r.firstColumn,last:r.lastColumn},i,r.firstRow);l.push(...t)}if(p){const t=qI(n,h,{first:r.firstRow,last:r.lastRow},i);l.push(...t)}return l}_replaceTableSlotCell(t,e,n,r){const{cell:i,isAnchor:o}=t;return o&&r.remove(i),e?(r.insert(e,n),e):null}getTableIfOnlyTableInContent(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(1==t.childCount&&t.getChild(0).is("element","table"))return t.getChild(0);const n=e.createRangeIn(t);for(const r of n.getItems())if(r.is("element","table")){const t=e.createRange(n.start,e.createPositionBefore(r));if(e.hasContent(t,{ignoreWhitespaces:!0}))return null;const i=e.createRange(e.createPositionAfter(r),n.end);return e.hasContent(i,{ignoreWhitespaces:!0})?null:r}return null}}function YI(t,e,n,r,i=0){if(!(e<1))return XM(t,e,i).filter((({column:t,cellWidth:e})=>XI(t,e,n))).map((({cell:t})=>KM(t,e,r)))}function qI(t,e,n,r){if(!(e<1))return ZM(t,e).filter((({row:t,cellHeight:e})=>XI(t,e,n))).map((({cell:t,column:n})=>QM(t,n,e,r)))}function XI(t,e,n){const r=t+e-1,{first:i,last:o}=n;return t>=i&&t<=o||t<i&&r>=i}class KI extends Lo{static get pluginName(){return"TableKeyboard"}static get requires(){return[$I,fI]}init(){const t=this.editor,e=t.editing.view.document,n=t.t;this.listenTo(e,"arrowKey",((...t)=>this._onArrowKey(...t)),{context:"table"}),this.listenTo(e,"tab",((...t)=>this._handleTabOnSelectedTable(...t)),{context:"figure"}),this.listenTo(e,"tab",((...t)=>this._handleTab(...t)),{context:["th","td"]}),t.accessibility.addKeystrokeInfoGroup({id:"table",label:n("Keystrokes that can be used in a table cell"),keystrokes:[{label:n("Move the selection to the next cell"),keystroke:"Tab"},{label:n("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:n("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:n("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(t,e){const n=this.editor,r=n.model.document.selection.getSelectedElement();r&&r.is("element","table")&&(e.preventDefault(),e.stopPropagation(),t.stop(),n.model.change((t=>{t.setSelection(t.createRangeIn(r.getChild(0).getChild(0)))})))}_handleTab(t,e){const n=this.editor,r=this.editor.plugins.get(fI),i=this.editor.plugins.get("TableSelection"),o=n.model.document.selection,s=!e.shiftKey;let a=r.getTableCellsContainingSelection(o)[0];if(a||(a=i.getFocusCell()),!a)return;e.preventDefault(),e.stopPropagation(),t.stop();const c=a.parent,l=c.parent,u=l.getChildIndex(c),d=c.getChildIndex(a),h=0===d;if(!s&&h&&0===u)return void n.model.change((t=>{t.setSelection(t.createRangeOn(l))}));const f=d===c.childCount-1,p=u===r.getRows(l)-1;if(s&&p&&f&&(n.execute("insertTableRowBelow"),u===r.getRows(l)-1))return void n.model.change((t=>{t.setSelection(t.createRangeOn(l))}));let g;if(s&&f){const t=l.getChild(u+1);g=t.getChild(0)}else if(!s&&h){const t=l.getChild(u-1);g=t.getChild(t.childCount-1)}else g=c.getChild(d+(s?1:-1));n.model.change((t=>{t.setSelection(t.createRangeIn(g))}))}_onArrowKey(t,e){const n=this.editor,r=wi(e.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(r,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const n=this.editor.plugins.get(fI),r=this.editor.plugins.get("TableSelection"),i=this.editor.model,o=i.document.selection,s=["right","down"].includes(t),a=n.getSelectedTableCells(o);if(a.length){let n;return n=e?r.getFocusCell():s?a[a.length-1]:a[0],this._navigateFromCellInDirection(n,t,e),!0}const c=o.focus.findAncestor("tableCell");if(!c)return!1;if(!o.isCollapsed)if(e){if(o.isBackward==s&&!o.containsEntireContent(c))return!1}else{const t=o.getSelectedElement();if(!t||!i.schema.isObject(t))return!1}return!!this._isSelectionAtCellEdge(o,c,s)&&(this._navigateFromCellInDirection(c,t,e),!0)}_isSelectionAtCellEdge(t,e,n){const r=this.editor.model,i=this.editor.model.schema,o=n?t.getLastPosition():t.getFirstPosition();if(!i.getLimitElement(o).is("element","tableCell"))return r.createPositionAt(e,n?"end":0).isTouching(o);const s=r.createSelection(o);return r.modifySelection(s,{direction:n?"forward":"backward"}),o.isEqual(s.focus)}_navigateFromCellInDirection(t,e,n=!1){const r=this.editor.model,i=t.findAncestor("table"),o=[...new jM(i,{includeAllSlots:!0})],{row:s,column:a}=o[o.length-1],c=o.find((({cell:e})=>e==t));let{row:l,column:u}=c;switch(e){case"left":u--;break;case"up":l--;break;case"right":u+=c.cellWidth;break;case"down":l+=c.cellHeight}if(l<0||l>s||u<0&&l<=0||u>a&&l>=s)return void r.change((t=>{t.setSelection(t.createRangeOn(i))}));u<0?(u=n?0:a,l--):u>a&&(u=n?a:0,l++);const d=o.find((t=>t.row==l&&t.column==u)).cell,h=["right","down"].includes(e),f=this.editor.plugins.get("TableSelection");if(n&&f.isEnabled){const e=f.getAnchorCell()||t;f.setCellSelection(e,d)}else{const t=r.createPositionAt(d,h?0:"end");r.change((e=>{e.setSelection(t)}))}}}class ZI extends cc{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class QI extends Lo{static get pluginName(){return"TableMouse"}static get requires(){return[$I,fI]}init(){this.editor.editing.view.addObserver(ZI),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(fI);let n=!1;const r=t.plugins.get($I);this.listenTo(t.editing.view.document,"mousedown",((i,o)=>{const s=t.model.document.selection;if(!this.isEnabled||!r.isEnabled)return;if(!o.domEvent.shiftKey)return;const a=r.getAnchorCell()||e.getTableCellsContainingSelection(s)[0];if(!a)return;const c=this._getModelTableCellFromDomEvent(o);c&&JI(a,c)&&(n=!0,r.setCellSelection(a,c),o.preventDefault())})),this.listenTo(t.editing.view.document,"mouseup",(()=>{n=!1})),this.listenTo(t.editing.view.document,"selectionChange",(t=>{n&&t.stop()}),{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,n,r=!1,i=!1;const o=t.plugins.get($I);this.listenTo(t.editing.view.document,"mousedown",((t,n)=>{this.isEnabled&&o.isEnabled&&(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(n)))})),this.listenTo(t.editing.view.document,"mousemove",((t,s)=>{if(!s.domEvent.buttons)return;if(!e)return;const a=this._getModelTableCellFromDomEvent(s);a&&JI(e,a)&&(n=a,r||n==e||(r=!0)),r&&(i=!0,o.setCellSelection(e,n),s.preventDefault())})),this.listenTo(t.editing.view.document,"mouseup",(()=>{r=!1,i=!1,e=null,n=null})),this.listenTo(t.editing.view.document,"selectionChange",(t=>{i&&t.stop()}),{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=t.target,n=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function JI(t,e){return t.parent.parent==e.parent.parent}var tD=o(2329),eD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};function nD(t){const e=t.getSelectedElement();return e&&iD(e)?e:null}function rD(t){const e=t.getFirstPosition();if(!e)return null;let n=e.parent;for(;n;){if(n.is("element")&&iD(n))return n;n=n.parent}return null}function iD(t){return!!t.getCustomProperty("table")&&Yy(t)}So()(tD.A,eD),tD.A.locals;var oD=o(5506),sD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(oD.A,sD),oD.A.locals,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var aD=o(2655),cD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(aD.A,cD),aD.A.locals;var lD=o(4043),uD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(lD.A,uD),lD.A.locals;var dD=o(1623),hD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(dD.A,hD),dD.A.locals;var fD=o(8986),pD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(fD.A,pD),fD.A.locals;const gD=Lg.defaultPositions;gD.northArrowSouth,gD.northArrowSouthWest,gD.northArrowSouthEast,gD.southArrowNorth,gD.southArrowNorthWest,gD.southArrowNorthEast,gD.viewportStickyNorth,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var mD=o(5562),vD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(mD.A,vD),mD.A.locals;var bD=o(4143),yD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(bD.A,yD),bD.A.locals;var kD=o(8795),wD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};So()(kD.A,wD),kD.A.locals;var _D=Object.defineProperty,AD=Object.getOwnPropertySymbols,CD=Object.prototype.hasOwnProperty,xD=Object.prototype.propertyIsEnumerable,ED=(t,e,n)=>e in t?_D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SD=(t,e)=>{for(var n in e||(e={}))CD.call(e,n)&&ED(t,n,e[n]);if(AD)for(var n of AD(e))xD.call(e,n)&&ED(t,n,e[n]);return t};const MD={autoRefresh:!0},ID=36e5;class DD extends(q()){constructor(t,e={}){if(super(),!t)throw new _("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),this._refresh="function"==typeof t?t:()=>{return e=t,new Promise(((t,n)=>{const r=new XMLHttpRequest;r.open("GET",e),r.addEventListener("load",(()=>{const e=r.status,i=r.response;return e<200||e>299?n(new _("token-cannot-download-new-token",null)):t(i)})),r.addEventListener("error",(()=>n(new Error("Network Error")))),r.addEventListener("abort",(()=>n(new Error("Abort")))),r.send()}));var e},this._options=SD(SD({},MD),e)}init(){return new Promise(((t,e)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),t(this)):this.refreshToken().then(t).catch(e)}))}refreshToken(){return this._refresh().then((t=>(this._validateTokenValue(t),this.set("value",t),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this)))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(t){const e="string"==typeof t,n=!/^".*"$/.test(t),r=e&&3===t.split(".").length;if(!n||!r)throw new _("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout((()=>{this.refreshToken()}),t)}_getTokenRefreshTimeoutTime(){try{const[,t]=this.value.split("."),{exp:e}=JSON.parse(atob(t));return e?Math.floor((1e3*e-Date.now())/2):ID}catch(r){return ID}}static create(t,e={}){return new DD(t,e).init()}}const TD=/^data:(\S*?);base64,/;class OD extends(N()){constructor(t,e,n){if(super(),!t)throw new _("fileuploader-missing-file",null);if(!e)throw new _("fileuploader-missing-token",null);if(!n)throw new _("fileuploader-missing-api-address",null);this.file=function(t){if("string"!=typeof t)return!1;const e=t.match(TD);return!(!e||!e.length)}(t)?function(t,e=512){try{const n=t.match(TD)[1],r=atob(t.replace(TD,"")),i=[];for(let t=0;t<r.length;t+=e){const n=r.slice(t,t+e),o=new Array(n.length);for(let t=0;t<n.length;t++)o[t]=n.charCodeAt(t);i.push(new Uint8Array(o))}return new Blob(i,{type:n})}catch(t){throw new _("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",((e,n)=>t(n))),this}onError(t){return this.once("error",((e,n)=>t(n))),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this.xhr,e=t=>()=>this.fire("error",t);t.addEventListener("error",e("Network Error")),t.addEventListener("abort",e("Abort")),t.upload&&t.upload.addEventListener("progress",(t=>{t.lengthComputable&&this.fire("progress",{total:t.total,uploaded:t.loaded})})),t.addEventListener("load",(()=>{const e=t.status,n=t.response;if(e<200||e>299)return this.fire("error",n.message||n.error)}))}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise(((n,r)=>{e.addEventListener("load",(()=>{const t=e.status,i=e.response;return t<200||t>299?i.message?r(new _("fileuploader-uploading-data-failed",this,{message:i.message})):r(i.error):n(i)})),e.addEventListener("error",(()=>r(new Error("Network Error")))),e.addEventListener("abort",(()=>r(new Error("Abort")))),e.send(t)}))}}class ND{constructor(t,e){if(!t)throw new _("uploadgateway-missing-token",null);if(!e)throw new _("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=e}upload(t){return new OD(t,this._token,this._apiAddress)}}class PD extends $o{static get pluginName(){return"CloudServicesCore"}createToken(t,e){return new DD(t,e)}createUploadGateway(t,e){return new ND(t,e)}}var LD=(t,e,n)=>new Promise(((r,i)=>{var o=t=>{try{a(n.next(t))}catch(t){i(t)}},s=t=>{try{a(n.throw(t))}catch(t){i(t)}},a=t=>t.done?r(t.value):Promise.resolve(t.value).then(o,s);a((n=n.apply(t,e)).next())}));class BD extends kb{}BD.builtinPlugins=[class extends Lo{static get requires(){return[Ef,$k,Ly,Zk,zy,dy,uw]}static get pluginName(){return"Essentials"}},class extends Lo{static get requires(){return[hw]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(hw).createUploadAdapter=e=>new vw(e,t,this.editor.t))}},class extends Lo{static get requires(){return[uy]}static get pluginName(){return"Autoformat"}afterInit(){const t=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&bw(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&bw(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&bw(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&bw(this.editor,this,/^\[\s?x\s?\]\s$/,(()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")}))}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=ww(this.editor,"bold");yw(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),yw(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=ww(this.editor,"italic");yw(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),yw(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=ww(this.editor,"code");yw(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(t.get("strikethrough")){const t=ww(this.editor,"strikethrough");yw(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter((t=>t.match(/^heading[1-6]$/))).forEach((e=>{const n=e[7],r=new RegExp(`^(#{${n}})\\s$`);bw(this.editor,this,r,(()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})}))}))}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&bw(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const t=this.editor,e=t.model.document.selection;t.commands.get("codeBlock")&&bw(t,this,/^```$/,(()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})}))}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&bw(this.editor,this,/^---$/,"horizontalLine")}},class extends Lo{static get requires(){return[Cw,Sw]}static get pluginName(){return"Bold"}},class extends Lo{static get requires(){return[Tw,Nw]}static get pluginName(){return"Italic"}},class extends Lo{static get requires(){return[jw,Vw]}static get pluginName(){return"BlockQuote"}},class extends Lo{static get pluginName(){return"CKBox"}static get requires(){return[C_,Uw]}},class extends Lo{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",P_,T_]}},class extends $o{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[PD]}init(){return LD(this,null,(function*(){const t=this.context.config.get("cloudServices")||{};for(const[n,r]of Object.entries(t))this[n]=r;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)}))}registerTokenUrl(t){return LD(this,null,(function*(){if(this._tokens.has(t))return this.getTokenFor(t);const e=this.context.plugins.get("CloudServicesCore"),n=yield e.createToken(t).init();return this._tokens.set(t,n),n}))}getTokenFor(t){const e=this._tokens.get(t);if(!e)throw new _("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const t of this._tokens.values())t.destroy()}},class extends Lo{static get pluginName(){return"EasyImage"}static get requires(){return[L_,"ImageUpload"]}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")||t.plugins.has("ImageInlineEditing")||A("easy-image-image-feature-missing",t)}},class extends Lo{static get requires(){return[$_,q_]}static get pluginName(){return"Heading"}},class extends Lo{static get requires(){return[HA,WA]}static get pluginName(){return"Image"}},class extends Lo{static get requires(){return[XA,KA]}static get pluginName(){return"ImageCaption"}},class extends Lo{static get requires(){return[XC,QC]}static get pluginName(){return"ImageStyle"}},class extends Lo{static get requires(){return[vk,aA]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get(vk),r=t.plugins.get("ImageUtils");var i;n.register("image",{ariaLabel:e("Image toolbar"),items:(i=t.config.get("image.toolbar")||[],i.map((t=>V(t)?t.name:t))),getRelatedElement:t=>r.getClosestSelectedImageWidget(t)})}},class extends Lo{static get pluginName(){return"ImageUpload"}static get requires(){return[AC,nC,lC]}},class extends Lo{static get pluginName(){return"Indent"}static get requires(){return[nx,rx]}},class extends Lo{static get requires(){return[Xx,rE,sE]}static get pluginName(){return"Link"}},xS,class extends Lo{static get requires(){return[$S,ZS,YS,gk]}static get pluginName(){return"MediaEmbed"}},V_,class extends Lo{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Kb]}init(){const t=this.editor,e=t.plugins.get("ClipboardPipeline"),n=t.editing.view.document,r=[],i=this.editor.plugins.has("MultiLevelList");r.push(new AM(n,i)),r.push(new SM(n)),r.push(new IM(n)),e.on("inputTransformation",((e,i)=>{if(i._isTransformedWithPasteFromOffice)return;if(t.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const o=i.dataTransfer.getData("text/html"),s=r.find((t=>t.isActive(o)));s&&(i._parsedData||(i._parsedData=TM(o,n.stylesProcessor)),s.execute(i),i._isTransformedWithPasteFromOffice=!0)}),{priority:"high"})}},class extends Lo{static get requires(){return[DA,aA]}static get pluginName(){return"PictureEditing"}afterInit(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),t.plugins.has("ImageInlineEditing")&&t.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const t=this.editor,e=t.conversion,n=t.plugins.get("ImageUtils");e.for("upcast").add(function(t){const e=["srcset","media","type","sizes"],n=(n,r,i)=>{const o=r.viewItem;if(!i.consumable.test(o,{name:!0}))return;const s=new Map;for(const t of o.getChildren())if(t.is("element","source")){const n={};for(const r of e)t.hasAttribute(r)&&i.consumable.test(t,{attributes:r})&&(n[r]=t.getAttribute(r));Object.keys(n).length&&s.set(t,n)}const a=t.findViewImgElement(o);if(!a)return;let c=r.modelCursor.parent;if(!c.is("element","imageBlock")){const t=i.convertItem(a,r.modelCursor);r.modelRange=t.modelRange,r.modelCursor=t.modelCursor,c=qi(t.modelRange.getItems())}i.consumable.consume(o,{name:!0});for(const[t,e]of s)i.consumable.consume(t,{attributes:Object.keys(e)});s.size&&i.writer.setAttribute("sources",Array.from(s.values()),c),i.convertChildren(o,c)};return t=>{t.on("element:picture",n)}}(n)),e.for("downcast").add(function(t){const e=(e,n,r)=>{if(!r.consumable.consume(n.item,e.name))return;const i=r.writer,o=r.mapper.toViewElement(n.item),s=t.findViewImgElement(o),a=n.attributeNewValue;if(a&&a.length){const t=i.createContainerElement("picture",null,a.map((t=>i.createEmptyElement("source",t)))),e=[];let n=s.parent;for(;n&&n.is("attributeElement");){const t=n.parent;i.unwrap(i.createRangeOn(s),n),e.unshift(n),n=t}i.insert(i.createPositionBefore(s),t),i.move(i.createRangeOn(s),i.createPositionAt(t,"end"));for(const r of e)i.wrap(i.createRangeOn(t),r)}else if(s.parent.is("element","picture")){const t=s.parent;i.move(i.createRangeOn(s),i.createPositionBefore(t)),i.remove(t)}};return t=>{t.on("attribute:sources:imageBlock",e),t.on("attribute:sources:imageInline",e)}}(n))}_setupImageUploadEditingIntegration(){const t=this.editor;if(!t.plugins.has("ImageUploadEditing"))return;const e=t.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",((e,{imageElement:n,data:r})=>{const i=r.sources;i&&t.model.change((t=>{t.setAttributes({sources:i},n)}))}))}},class extends Lo{static get requires(){return[BI,VI,$I,QI,KI,WI,gk]}static get pluginName(){return"Table"}},class extends Lo{static get requires(){return[vk]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get(vk),r=t.config.get("table.contentToolbar"),i=t.config.get("table.tableToolbar");r&&n.register("tableContent",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:rD}),i&&n.register("table",{ariaLabel:e("Table toolbar"),items:i,getRelatedElement:nD})}},class extends Lo{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(t){super(t),t.config.define("typing",{transformations:{include:Ay}})}init(){const t=this.editor.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,n=t.plugins.get("Delete"),r=function(t){const e=t.extra||[],n=t.remove||[],r=t=>!n.includes(t);return function(t){const e=new Set;for(const n of t)if("string"==typeof n&&_y[n])for(const t of _y[n])e.add(t);else e.add(n);return Array.from(e)}(t.include.concat(e).filter(r)).filter(r).map((t=>"string"==typeof t&&wy[t]?wy[t]:t)).filter((t=>"object"==typeof t)).map((t=>({from:Cy(t.from),to:xy(t.to)})))}(t.config.get("typing.transformations")),i=new fy(t.model,(t=>{for(const e of r)if(e.from.test(t))return{normalizedTransformation:e}}));i.on("matched:data",((t,r)=>{if(!r.batch.isTyping)return;const{from:i,to:o}=r.normalizedTransformation,s=i.exec(r.text),a=o(s.slice(1)),c=r.range;let l=s.index;e.enqueueChange((t=>{for(let n=1;n<s.length;n++){const r=s[n],i=a[n-1];if(null==i){l+=r.length;continue}const o=c.start.getShiftedBy(l),u=e.createRange(o,o.getShiftedBy(r.length)),d=Ey(o);e.insertContent(t.createText(i,d),u),l+=i.length}e.enqueueChange((()=>{n.requestUndoOnBackspace()}))}))})),i.bind("isEnabled").to(this)}}],BD.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),s.default})()))},7020:function(t,e,n){
/*!
 * @license Copyright (c) 2003-2022, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
!function(e,r){t.exports=r(n(5471))}(window,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(e,n){e.exports=t},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},s=n(1),a="object"==typeof self&&self&&self.Object===Object&&self,c=s.a||a||Function("return this")(),l=function(){return c.Date.now()},u=/\s/,d=function(t){for(var e=t.length;e--&&u.test(t.charAt(e)););return e},h=/^\s+/,f=function(t){return t?t.slice(0,d(t)+1).replace(h,""):t},p=c.Symbol,g=Object.prototype,m=g.hasOwnProperty,v=g.toString,b=p?p.toStringTag:void 0,y=function(t){var e=m.call(t,b),n=t[b];try{t[b]=void 0;var r=!0}catch(t){}var i=v.call(t);return r&&(e?t[b]=n:delete t[b]),i},k=Object.prototype.toString,w=function(t){return k.call(t)},_=p?p.toStringTag:void 0,A=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_&&_ in Object(t)?y(t):w(t)},C=function(t){return null!=t&&"object"==typeof t},x=function(t){return"symbol"==typeof t||C(t)&&"[object Symbol]"==A(t)},E=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,M=/^0o[0-7]+$/i,I=parseInt,D=function(t){if("number"==typeof t)return t;if(x(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=f(t);var n=S.test(t);return n||M.test(t)?I(t.slice(2),n?2:8):E.test(t)?NaN:+t},T=Math.max,O=Math.min,N=function(t,e,n){var r,i,s,a,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=r,o=i;return r=i=void 0,d=e,a=t.apply(o,n)}function m(t){return d=t,c=setTimeout(b,e),h?g(t):a}function v(t){var n=t-u;return void 0===u||n>=e||n<0||f&&t-d>=s}function b(){var t=l();if(v(t))return y(t);c=setTimeout(b,function(t){var n=e-(t-u);return f?O(n,s-(t-d)):n}(t))}function y(t){return c=void 0,p&&r?g(t):(r=i=void 0,a)}function k(){var t=l(),n=v(t);if(r=arguments,i=this,u=t,n){if(void 0===c)return m(u);if(f)return clearTimeout(c),c=setTimeout(b,e),g(u)}return void 0===c&&(c=setTimeout(b,e)),a}return e=D(e)||0,o(n)&&(h=!!n.leading,s=(f="maxWait"in n)?T(D(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),k.cancel=function(){void 0!==c&&clearTimeout(c),d=0,r=u=i=c=void 0},k.flush=function(){return void 0===c?a:y(l())},k},P={name:"ckeditor",created(){const{CKEDITOR_VERSION:t}=window;if(t){const[e]=t.split(".").map(Number);e<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')},render(t){return t(this.tagName)},props:{editor:{type:Function,default:null},value:{type:String,default:""},config:{type:Object,default:()=>({})},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1}},data:()=>({$_instance:null,$_lastEditorData:{type:String,default:""}}),mounted(){const t=Object.assign({},this.config);this.value&&(t.initialData=this.value),this.editor.create(this.$el,t).then((e=>{this.$_instance=e,this.$_setUpEditorEvents(),this.value!==t.initialData&&e.setData(this.value),this.disabled&&e.enableReadOnlyMode("Integration Sample"),this.$emit("ready",e)})).catch((t=>{console.error(t)}))},beforeDestroy(){this.$_instance&&(this.$_instance.destroy(),this.$_instance=null),this.$emit("destroy",this.$_instance)},watch:{value(t){this.$_instance&&t!==this.$_lastEditorData&&this.$_instance.setData(t)},disabled(t){t?this.$_instance.enableReadOnlyMode("Integration Sample"):this.$_instance.disableReadOnlyMode("Integration Sample")}},methods:{$_setUpEditorEvents(){const t=this.$_instance,e=N((e=>{const n=this.$_lastEditorData=t.getData();this.$emit("input",n,e,t)}),300,{leading:!0});t.model.document.on("change:data",e),t.editing.view.document.on("focus",(e=>{this.$emit("focus",e,t)})),t.editing.view.document.on("blur",(e=>{this.$emit("blur",e,t)}))}}};const L=i.a?i.a.version:r.version,[B]=L.split(".").map((t=>parseInt(t,10)));if(2!==B)throw new Error("The CKEditor plugin works only with Vue 2.x. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v2.html");const R={install(t){t.component("ckeditor",P)},component:P};e.default=R}]).default}))},1656:function(t,e,n){"use strict";function r(t,e,n,r,i,o,s,a){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}n.d(e,{A:function(){return r}})},5659:function(t,e,n){var r=n(8156),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var s=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!("channels"in s[a]))throw new Error("missing channels property: "+a);if(!("labels"in s[a]))throw new Error("missing channel labels property: "+a);if(s[a].labels.length!==s[a].channels)throw new Error("channel and label counts mismatch: "+a);var c=s[a].channels,l=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],"channels",{value:c}),Object.defineProperty(s[a],"labels",{value:l})}function u(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}s.rgb.hsl=function(t){var e,n,r,i=t[0]/255,o=t[1]/255,s=t[2]/255,a=Math.min(i,o,s),c=Math.max(i,o,s),l=c-a;return c===a?e=0:i===c?e=(o-s)/l:o===c?e=2+(s-i)/l:s===c&&(e=4+(i-o)/l),e=Math.min(60*e,360),e<0&&(e+=360),r=(a+c)/2,n=c===a?0:r<=.5?l/(c+a):l/(2-c-a),[e,100*n,100*r]},s.rgb.hsv=function(t){var e,n,r,i,o,s=t[0]/255,a=t[1]/255,c=t[2]/255,l=Math.max(s,a,c),u=l-Math.min(s,a,c),d=function(t){return(l-t)/6/u+.5};return 0===u?i=o=0:(o=u/l,e=d(s),n=d(a),r=d(c),s===l?i=r-n:a===l?i=1/3+e-r:c===l&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},s.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2],i=s.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,100*o,100*r]},s.rgb.cmyk=function(t){var e,n,r,i,o=t[0]/255,s=t[1]/255,a=t[2]/255;return i=Math.min(1-o,1-s,1-a),e=(1-o-i)/(1-i)||0,n=(1-s-i)/(1-i)||0,r=(1-a-i)/(1-i)||0,[100*e,100*n,100*r,100*i]},s.rgb.keyword=function(t){var e=i[t];if(e)return e;var n,o=1/0;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],c=u(t,a);c<o&&(o=c,n=s)}return n},s.keyword.rgb=function(t){return r[t]},s.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var i=.4124*e+.3576*n+.1805*r,o=.2126*e+.7152*n+.0722*r,s=.0193*e+.1192*n+.9505*r;return[100*i,100*o,100*s]},s.rgb.lab=function(t){var e,n,r,i=s.rgb.xyz(t),o=i[0],a=i[1],c=i[2];return o/=95.047,a/=100,c/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,c=c>.008856?Math.pow(c,1/3):7.787*c+16/116,e=116*a-16,n=500*(o-a),r=200*(a-c),[e,n,r]},s.hsl.rgb=function(t){var e,n,r,i,o,s=t[0]/360,a=t[1]/100,c=t[2]/100;if(0===a)return o=255*c,[o,o,o];n=c<.5?c*(1+a):c+a-c*a,e=2*c-n,i=[0,0,0];for(var l=0;l<3;l++)r=s+1/3*-(l-1),r<0&&r++,r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[l]=255*o;return i},s.hsl.hsv=function(t){var e,n,r=t[0],i=t[1]/100,o=t[2]/100,s=i,a=Math.max(o,.01);return o*=2,i*=o<=1?o:2-o,s*=a<=1?a:2-a,n=(o+i)/2,e=0===o?2*s/(a+s):2*i/(o+i),[r,100*e,100*n]},s.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),s=255*r*(1-n),a=255*r*(1-n*o),c=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,c,s];case 1:return[a,r,s];case 2:return[s,r,c];case 3:return[s,a,r];case 4:return[c,s,r];case 5:return[r,s,a]}},s.hsv.hsl=function(t){var e,n,r,i=t[0],o=t[1]/100,s=t[2]/100,a=Math.max(s,.01);return r=(2-o)*s,e=(2-o)*a,n=o*a,n/=e<=1?e:2-e,n=n||0,r/=2,[i,100*n,100*r]},s.hwb.rgb=function(t){var e,n,r,i,o,s,a,c=t[0]/360,l=t[1]/100,u=t[2]/100,d=l+u;switch(d>1&&(l/=d,u/=d),e=Math.floor(6*c),n=1-u,r=6*c-e,0!==(1&e)&&(r=1-r),i=l+r*(n-l),e){default:case 6:case 0:o=n,s=i,a=l;break;case 1:o=i,s=n,a=l;break;case 2:o=l,s=n,a=i;break;case 3:o=l,s=i,a=n;break;case 4:o=i,s=l,a=n;break;case 5:o=n,s=l,a=i;break}return[255*o,255*s,255*a]},s.cmyk.rgb=function(t){var e,n,r,i=t[0]/100,o=t[1]/100,s=t[2]/100,a=t[3]/100;return e=1-Math.min(1,i*(1-a)+a),n=1-Math.min(1,o*(1-a)+a),r=1-Math.min(1,s*(1-a)+a),[255*e,255*n,255*r]},s.xyz.rgb=function(t){var e,n,r,i=t[0]/100,o=t[1]/100,s=t[2]/100;return e=3.2406*i+-1.5372*o+-.4986*s,n=-.9689*i+1.8758*o+.0415*s,r=.0557*i+-.204*o+1.057*s,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,e=Math.min(Math.max(0,e),1),n=Math.min(Math.max(0,n),1),r=Math.min(Math.max(0,r),1),[255*e,255*n,255*r]},s.xyz.lab=function(t){var e,n,r,i=t[0],o=t[1],s=t[2];return i/=95.047,o/=100,s/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*o-16,n=500*(i-o),r=200*(o-s),[e,n,r]},s.lab.xyz=function(t){var e,n,r,i=t[0],o=t[1],s=t[2];n=(i+16)/116,e=o/500+n,r=n-s/200;var a=Math.pow(n,3),c=Math.pow(e,3),l=Math.pow(r,3);return n=a>.008856?a:(n-16/116)/7.787,e=c>.008856?c:(e-16/116)/7.787,r=l>.008856?l:(r-16/116)/7.787,e*=95.047,n*=100,r*=108.883,[e,n,r]},s.lab.lch=function(t){var e,n,r,i=t[0],o=t[1],s=t[2];return e=Math.atan2(s,o),n=360*e/2/Math.PI,n<0&&(n+=360),r=Math.sqrt(o*o+s*s),[i,r,n]},s.lch.lab=function(t){var e,n,r,i=t[0],o=t[1],s=t[2];return r=s/360*2*Math.PI,e=o*Math.cos(r),n=o*Math.sin(r),[i,e,n]},s.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],i=1 in arguments?arguments[1]:s.rgb.hsv(t)[2];if(i=Math.round(i/50),0===i)return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===i&&(o+=60),o},s.hsv.ansi16=function(t){return s.rgb.ansi16(s.hsv.rgb(t),t[2])},s.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];if(e===n&&n===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5);return i},s.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var n=.5*(1+~~(t>50)),r=(1&e)*n*255,i=(e>>1&1)*n*255,o=(e>>2&1)*n*255;return[r,i,o]},s.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;t-=16;var r=Math.floor(t/36)/5*255,i=Math.floor((n=t%36)/6)/5*255,o=n%6/5*255;return[r,i,o]},s.rgb.hex=function(t){var e=((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2])),n=e.toString(16).toUpperCase();return"000000".substring(n.length)+n},s.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map((function(t){return t+t})).join(""));var r=parseInt(n,16),i=r>>16&255,o=r>>8&255,s=255&r;return[i,o,s]},s.rgb.hcg=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,s=Math.max(Math.max(r,i),o),a=Math.min(Math.min(r,i),o),c=s-a;return e=c<1?a/(1-c):0,n=c<=0?0:s===r?(i-o)/c%6:s===i?2+(o-r)/c:4+(r-i)/c+4,n/=6,n%=1,[360*n,100*c,100*e]},s.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1,i=0;return r=n<.5?2*e*n:2*e*(1-n),r<1&&(i=(n-.5*r)/(1-r)),[t[0],100*r,100*i]},s.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},s.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];var i=[0,0,0],o=e%1*6,s=o%1,a=1-s,c=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-n)*r,[255*(n*i[0]+c),255*(n*i[1]+c),255*(n*i[2]+c)]},s.hcg.hsv=function(t){var e=t[1]/100,n=t[2]/100,r=e+n*(1-e),i=0;return r>0&&(i=e/r),[t[0],100*i,100*r]},s.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100,r=n*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],100*i,100*r]},s.hcg.hwb=function(t){var e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],100*(r-e),100*(1-r)]},s.hwb.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1-n,i=r-e,o=0;return i<1&&(o=(r-i)/(1-i)),[t[0],100*i,100*o]},s.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},s.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},s.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},s.gray.hsl=s.gray.hsv=function(t){return[0,0,t[0]]},s.gray.hwb=function(t){return[0,100,t[0]]},s.gray.cmyk=function(t){return[0,0,0,t[0]]},s.gray.lab=function(t){return[t[0],0,0]},s.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=(e<<16)+(e<<8)+e,r=n.toString(16).toUpperCase();return"000000".substring(r.length)+r},s.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}},734:function(t,e,n){var r=n(5659),i=n(8507),o={},s=Object.keys(r);function a(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}function c(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"===typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}s.forEach((function(t){o[t]={},Object.defineProperty(o[t],"channels",{value:r[t].channels}),Object.defineProperty(o[t],"labels",{value:r[t].labels});var e=i(t),n=Object.keys(e);n.forEach((function(n){var r=e[n];o[t][n]=c(r),o[t][n].raw=a(r)}))})),t.exports=o},8507:function(t,e,n){var r=n(5659);function i(){for(var t={},e=Object.keys(r),n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}function o(t){var e=i(),n=[t];e[t].distance=0;while(n.length)for(var o=n.pop(),s=Object.keys(r[o]),a=s.length,c=0;c<a;c++){var l=s[c],u=e[l];-1===u.distance&&(u.distance=e[o].distance+1,u.parent=o,n.unshift(l))}return e}function s(t,e){return function(n){return e(t(n))}}function a(t,e){var n=[e[t].parent,t],i=r[e[t].parent][t],o=e[t].parent;while(e[o].parent)n.unshift(e[o].parent),i=s(r[e[o].parent][o],i),o=e[o].parent;return i.conversion=n,i}t.exports=function(t){for(var e=o(t),n={},r=Object.keys(e),i=r.length,s=0;s<i;s++){var c=r[s],l=e[c];null!==l.parent&&(n[c]=a(c,e))}return n}},8156:function(t){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8854:function(t,e,n){var r=n(8156),i=n(9872),o=Object.hasOwnProperty,s=Object.create(null);for(var a in r)o.call(r,a)&&(s[r[a]]=a);var c=t.exports={to:{},get:{}};function l(t,e,n){return Math.min(Math.max(e,t),n)}function u(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}c.get=function(t){var e,n,r=t.substring(0,3).toLowerCase();switch(r){case"hsl":e=c.get.hsl(t),n="hsl";break;case"hwb":e=c.get.hwb(t),n="hwb";break;default:e=c.get.rgb(t),n="rgb";break}return e?{model:n,value:e}:null},c.get.rgb=function(t){if(!t)return null;var e,n,i,s=/^#([a-f0-9]{3,4})$/i,a=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,c=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,u=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^(\w+)$/,h=[0,0,0,1];if(e=t.match(a)){for(i=e[2],e=e[1],n=0;n<3;n++){var f=2*n;h[n]=parseInt(e.slice(f,f+2),16)}i&&(h[3]=parseInt(i,16)/255)}else if(e=t.match(s)){for(e=e[1],i=e[3],n=0;n<3;n++)h[n]=parseInt(e[n]+e[n],16);i&&(h[3]=parseInt(i+i,16)/255)}else if(e=t.match(c)){for(n=0;n<3;n++)h[n]=parseInt(e[n+1],0);e[4]&&(e[5]?h[3]=.01*parseFloat(e[4]):h[3]=parseFloat(e[4]))}else{if(!(e=t.match(u)))return(e=t.match(d))?"transparent"===e[1]?[0,0,0,0]:o.call(r,e[1])?(h=r[e[1]],h[3]=1,h):null:null;for(n=0;n<3;n++)h[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?h[3]=.01*parseFloat(e[4]):h[3]=parseFloat(e[4]))}for(n=0;n<3;n++)h[n]=l(h[n],0,255);return h[3]=l(h[3],0,1),h},c.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=l(parseFloat(n[2]),0,100),s=l(parseFloat(n[3]),0,100),a=l(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null},c.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=l(parseFloat(n[2]),0,100),s=l(parseFloat(n[3]),0,100),a=l(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null},c.to.hex=function(){var t=i(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},c.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},c.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},c.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},c.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},c.to.keyword=function(t){return s[t.slice(0,3)]}},2520:function(t,e,n){"use strict";var r=n(8854),i=n(734),o=[].slice,s=["keyword","gray","hex"],a={};Object.keys(i).forEach((function(t){a[o.call(i[t].labels).sort().join("")]=t}));var c={};function l(t,e){if(!(this instanceof l))return new l(t,e);if(e&&e in s&&(e=null),e&&!(e in i))throw new Error("Unknown model: "+e);var n,u;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"===typeof t){var d=r.get(t);if(null===d)throw new Error("Unable to parse color from string: "+t);this.model=d.model,u=i[this.model].channels,this.color=d.value.slice(0,u),this.valpha="number"===typeof d.value[u]?d.value[u]:1}else if(t.length){this.model=e||"rgb",u=i[this.model].channels;var h=o.call(t,0,u);this.color=g(h,u),this.valpha="number"===typeof t[u]?t[u]:1}else if("number"===typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var f=Object.keys(t);"alpha"in t&&(f.splice(f.indexOf("alpha"),1),this.valpha="number"===typeof t.alpha?t.alpha:0);var p=f.sort().join("");if(!(p in a))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=a[p];var m=i[this.model].labels,v=[];for(n=0;n<m.length;n++)v.push(t[m[n]]);this.color=g(v)}if(c[this.model])for(u=i[this.model].channels,n=0;n<u;n++){var b=c[this.model][n];b&&(this.color[n]=b(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function u(t,e){return Number(t.toFixed(e))}function d(t){return function(e){return u(e,t)}}function h(t,e,n){return t=Array.isArray(t)?t:[t],t.forEach((function(t){(c[t]||(c[t]=[]))[e]=n})),t=t[0],function(r){var i;return arguments.length?(n&&(r=n(r)),i=this[t](),i.color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function f(t){return function(e){return Math.max(0,Math.min(t,e))}}function p(t){return Array.isArray(t)?t:[t]}function g(t,e){for(var n=0;n<e;n++)"number"!==typeof t[n]&&(t[n]=0);return t}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in r.to?this:this.rgb();e=e.round("number"===typeof t?t:1);var n=1===e.valpha?e.color:e.color.concat(this.valpha);return r.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"===typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=i[this.model].channels,n=i[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new l(this.color.map(d(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:h("rgb",0,f(255)),green:h("rgb",1,f(255)),blue:h("rgb",2,f(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:h("hsl",1,f(100)),lightness:h("hsl",2,f(100)),saturationv:h("hsv",1,f(100)),value:h("hsv",2,f(100)),chroma:h("hcg",1,f(100)),gray:h("hcg",2,f(100)),white:h("hwb",1,f(100)),wblack:h("hwb",2,f(100)),cyan:h("cmyk",0,f(100)),magenta:h("cmyk",1,f(100)),yellow:h("cmyk",2,f(100)),black:h("cmyk",3,f(100)),x:h("xyz",0,f(100)),y:h("xyz",1,f(100)),z:h("xyz",2,f(100)),l:h("lab",0,f(100)),a:h("lab",1),b:h("lab",2),keyword:function(t){return arguments.length?new l(t):i[this.model].keyword(this.color)},hex:function(t){return arguments.length?new l(t):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var n=t.rgb(),r=this.rgb(),i=void 0===e?.5:e,o=2*i-1,s=n.alpha()-r.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,c=1-a;return l.rgb(a*n.red()+c*r.red(),a*n.green()+c*r.green(),a*n.blue()+c*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach((function(t){if(-1===s.indexOf(t)){var e=i[t].channels;l.prototype[t]=function(){if(this.model===t)return new l(this);if(arguments.length)return new l(arguments,t);var n="number"===typeof arguments[e]?e:this.valpha;return new l(p(i[this.model][t].raw(this.color)).concat(n),t)},l[t]=function(n){return"number"===typeof n&&(n=g(o.call(arguments),e)),new l(n,t)}}})),t.exports=l},9861:function(t,e,n){"use strict";n.r(e),n.d(e,{BRIDGE_GRAPH_NAME:function(){return a},GraphType:function(){return u},HierarchyNodeType:function(){return d},InclusionType:function(){return l},LAYOUT_CONFIG:function(){return r},NodeType:function(){return c},ROOT_NAME:function(){return s},buildGraph:function(){return sc},flatGraph:function(){return ac},getEdges:function(){return cc},mergeConfig:function(){return i}});const r={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function i(t={},e=r){var n,i,o,s;const a=JSON.parse(JSON.stringify(e)),c=(null===(n=null==t?void 0:t.graph)||void 0===n?void 0:n.meta)||{},l=(null===(i=null==t?void 0:t.subScene)||void 0===i?void 0:i.meta)||{},u=(null===(o=null==t?void 0:t.nodeSize)||void 0===o?void 0:o.meta)||{},d=(null===(s=null==t?void 0:t.nodeSize)||void 0===s?void 0:s.node)||{},h=a.nodeSize.bridge;return{graph:{meta:Object.assign(a.graph.meta,c)},subScene:{meta:Object.assign(a.subScene.meta,l)},nodeSize:{meta:Object.assign(a.nodeSize.meta,u),node:Object.assign(a.nodeSize.node,d),bridge:h}}}function o(t){return`◬${t}◬`}const s=o("ROOT"),a=o("BRIDGE_GRAPH");var c,l,u,d;!function(t){t[t.META=0]="META",t[t.NODE=1]="NODE",t[t.BRIDGE=2]="BRIDGE"}(c||(c={})),function(t){t[t.INCLUDE=0]="INCLUDE",t[t.EXCLUDE=1]="EXCLUDE",t[t.UNSPECIFIED=2]="UNSPECIFIED"}(l||(l={})),function(t){t[t.META=0]="META",t[t.CORE=1]="CORE",t[t.BRIDGE=2]="BRIDGE"}(u||(u={})),function(t){t[t.META=0]="META",t[t.OP=1]="OP",t[t.SERIES=2]="SERIES"}(d||(d={}));var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function f(t,e){return t(e={exports:{}},e.exports),e.exports}var p=function(){this.__data__=[],this.size=0},g=function(t,e){return t===e||t!=t&&e!=e},m=function(t,e){for(var n=t.length;n--;)if(g(t[n][0],e))return n;return-1},v=Array.prototype.splice,b=function(t){var e=this.__data__,n=m(e,t);return!(n<0)&&(n==e.length-1?e.pop():v.call(e,n,1),--this.size,!0)},y=function(t){var e=this.__data__,n=m(e,t);return n<0?void 0:e[n][1]},k=function(t){return m(this.__data__,t)>-1},w=function(t,e){var n=this.__data__,r=m(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function _(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_.prototype.clear=p,_.prototype.delete=b,_.prototype.get=y,_.prototype.has=k,_.prototype.set=w;var A,C=_,x=function(){this.__data__=new C,this.size=0},E=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},S=function(t){return this.__data__.get(t)},M=function(t){return this.__data__.has(t)},I="object"==typeof h&&h&&h.Object===Object&&h,D="object"==typeof self&&self&&self.Object===Object&&self,T=I||D||Function("return this")(),O=T.Symbol,N=Object.prototype,P=N.hasOwnProperty,L=N.toString,B=O?O.toStringTag:void 0,R=function(t){var e=P.call(t,B),n=t[B];try{t[B]=void 0;var r=!0}catch(t){}var i=L.call(t);return r&&(e?t[B]=n:delete t[B]),i},j=Object.prototype.toString,z=function(t){return j.call(t)},F=O?O.toStringTag:void 0,V=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":F&&F in Object(t)?R(t):z(t)},U=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},G=function(t){if(!U(t))return!1;var e=V(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},H=T["__core-js_shared__"],$=(A=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",W=function(t){return!!$&&$ in t},Y=Function.prototype.toString,q=function(t){if(null!=t){try{return Y.call(t)}catch(t){}try{return t+""}catch(t){}}return""},X=/^\[object .+?Constructor\]$/,K=Function.prototype,Z=Object.prototype,Q=K.toString,J=Z.hasOwnProperty,tt=RegExp("^"+Q.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=function(t){return!(!U(t)||W(t))&&(G(t)?tt:X).test(q(t))},nt=function(t,e){return null==t?void 0:t[e]},rt=function(t,e){var n=nt(t,e);return et(n)?n:void 0},it=rt(T,"Map"),ot=rt(Object,"create"),st=function(){this.__data__=ot?ot(null):{},this.size=0},at=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ct=Object.prototype.hasOwnProperty,lt=function(t){var e=this.__data__;if(ot){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ct.call(e,t)?e[t]:void 0},ut=Object.prototype.hasOwnProperty,dt=function(t){var e=this.__data__;return ot?void 0!==e[t]:ut.call(e,t)},ht=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ot&&void 0===e?"__lodash_hash_undefined__":e,this};function ft(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ft.prototype.clear=st,ft.prototype.delete=at,ft.prototype.get=lt,ft.prototype.has=dt,ft.prototype.set=ht;var pt=ft,gt=function(){this.size=0,this.__data__={hash:new pt,map:new(it||C),string:new pt}},mt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},vt=function(t,e){var n=t.__data__;return mt(e)?n["string"==typeof e?"string":"hash"]:n.map},bt=function(t){var e=vt(this,t).delete(t);return this.size-=e?1:0,e},yt=function(t){return vt(this,t).get(t)},kt=function(t){return vt(this,t).has(t)},wt=function(t,e){var n=vt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_t.prototype.clear=gt,_t.prototype.delete=bt,_t.prototype.get=yt,_t.prototype.has=kt,_t.prototype.set=wt;var At=_t,Ct=function(t,e){var n=this.__data__;if(n instanceof C){var r=n.__data__;if(!it||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new At(r)}return n.set(t,e),this.size=n.size,this};function xt(t){var e=this.__data__=new C(t);this.size=e.size}xt.prototype.clear=x,xt.prototype.delete=E,xt.prototype.get=S,xt.prototype.has=M,xt.prototype.set=Ct;var Et=xt,St=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},Mt=function(){try{var t=rt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),It=function(t,e,n){"__proto__"==e&&Mt?Mt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Dt=Object.prototype.hasOwnProperty,Tt=function(t,e,n){var r=t[e];Dt.call(t,e)&&g(r,n)&&(void 0!==n||e in t)||It(t,e,n)},Ot=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?It(n,a,c):Tt(n,a,c)}return n},Nt=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Pt=function(t){return null!=t&&"object"==typeof t},Lt=function(t){return Pt(t)&&"[object Arguments]"==V(t)},Bt=Object.prototype,Rt=Bt.hasOwnProperty,jt=Bt.propertyIsEnumerable,zt=Lt(function(){return arguments}())?Lt:function(t){return Pt(t)&&Rt.call(t,"callee")&&!jt.call(t,"callee")},Ft=Array.isArray,Vt=function(){return!1},Ut=f((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?T.Buffer:void 0,o=(i?i.isBuffer:void 0)||Vt;t.exports=o})),Gt=/^(?:0|[1-9]\d*)$/,Ht=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Gt.test(t))&&t>-1&&t%1==0&&t<e},$t=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Wt={};Wt["[object Float32Array]"]=Wt["[object Float64Array]"]=Wt["[object Int8Array]"]=Wt["[object Int16Array]"]=Wt["[object Int32Array]"]=Wt["[object Uint8Array]"]=Wt["[object Uint8ClampedArray]"]=Wt["[object Uint16Array]"]=Wt["[object Uint32Array]"]=!0,Wt["[object Arguments]"]=Wt["[object Array]"]=Wt["[object ArrayBuffer]"]=Wt["[object Boolean]"]=Wt["[object DataView]"]=Wt["[object Date]"]=Wt["[object Error]"]=Wt["[object Function]"]=Wt["[object Map]"]=Wt["[object Number]"]=Wt["[object Object]"]=Wt["[object RegExp]"]=Wt["[object Set]"]=Wt["[object String]"]=Wt["[object WeakMap]"]=!1;var Yt=function(t){return Pt(t)&&$t(t.length)&&!!Wt[V(t)]},qt=function(t){return function(e){return t(e)}},Xt=f((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n&&I.process,o=function(){try{var t=r&&r.require&&r.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o})),Kt=Xt&&Xt.isTypedArray,Zt=Kt?qt(Kt):Yt,Qt=Object.prototype.hasOwnProperty,Jt=function(t,e){var n=Ft(t),r=!n&&zt(t),i=!n&&!r&&Ut(t),o=!n&&!r&&!i&&Zt(t),s=n||r||i||o,a=s?Nt(t.length,String):[],c=a.length;for(var l in t)!e&&!Qt.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ht(l,c))||a.push(l);return a},te=Object.prototype,ee=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||te)},ne=function(t,e){return function(n){return t(e(n))}},re=ne(Object.keys,Object),ie=Object.prototype.hasOwnProperty,oe=function(t){if(!ee(t))return re(t);var e=[];for(var n in Object(t))ie.call(t,n)&&"constructor"!=n&&e.push(n);return e},se=function(t){return null!=t&&$t(t.length)&&!G(t)},ae=function(t){return se(t)?Jt(t):oe(t)},ce=function(t,e){return t&&Ot(e,ae(e),t)},le=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},ue=Object.prototype.hasOwnProperty,de=function(t){if(!U(t))return le(t);var e=ee(t),n=[];for(var r in t)("constructor"!=r||!e&&ue.call(t,r))&&n.push(r);return n},he=function(t){return se(t)?Jt(t,!0):de(t)},fe=function(t,e){return t&&Ot(e,he(e),t)},pe=f((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?T.Buffer:void 0,o=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=o?o(n):new t.constructor(n);return t.copy(r),r}})),ge=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},me=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o},ve=function(){return[]},be=Object.prototype.propertyIsEnumerable,ye=Object.getOwnPropertySymbols,ke=ye?function(t){return null==t?[]:(t=Object(t),me(ye(t),(function(e){return be.call(t,e)})))}:ve,we=function(t,e){return Ot(t,ke(t),e)},_e=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Ae=ne(Object.getPrototypeOf,Object),Ce=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)_e(e,ke(t)),t=Ae(t);return e}:ve,xe=function(t,e){return Ot(t,Ce(t),e)},Ee=function(t,e,n){var r=e(t);return Ft(t)?r:_e(r,n(t))},Se=function(t){return Ee(t,ae,ke)},Me=function(t){return Ee(t,he,Ce)},Ie=rt(T,"DataView"),De=rt(T,"Promise"),Te=rt(T,"Set"),Oe=rt(T,"WeakMap"),Ne=q(Ie),Pe=q(it),Le=q(De),Be=q(Te),Re=q(Oe),je=V;(Ie&&"[object DataView]"!=je(new Ie(new ArrayBuffer(1)))||it&&"[object Map]"!=je(new it)||De&&"[object Promise]"!=je(De.resolve())||Te&&"[object Set]"!=je(new Te)||Oe&&"[object WeakMap]"!=je(new Oe))&&(je=function(t){var e=V(t),n="[object Object]"==e?t.constructor:void 0,r=n?q(n):"";if(r)switch(r){case Ne:return"[object DataView]";case Pe:return"[object Map]";case Le:return"[object Promise]";case Be:return"[object Set]";case Re:return"[object WeakMap]"}return e});var ze=je,Fe=Object.prototype.hasOwnProperty,Ve=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Fe.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Ue=T.Uint8Array,Ge=function(t){var e=new t.constructor(t.byteLength);return new Ue(e).set(new Ue(t)),e},He=function(t,e){var n=e?Ge(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},$e=/\w*$/,We=function(t){var e=new t.constructor(t.source,$e.exec(t));return e.lastIndex=t.lastIndex,e},Ye=O?O.prototype:void 0,qe=Ye?Ye.valueOf:void 0,Xe=function(t){return qe?Object(qe.call(t)):{}},Ke=function(t,e){var n=e?Ge(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Ze=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Ge(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return He(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ke(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return We(t);case"[object Set]":return new r;case"[object Symbol]":return Xe(t)}},Qe=Object.create,Je=function(){function t(){}return function(e){if(!U(e))return{};if(Qe)return Qe(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),tn=function(t){return"function"!=typeof t.constructor||ee(t)?{}:Je(Ae(t))},en=function(t){return Pt(t)&&"[object Map]"==ze(t)},nn=Xt&&Xt.isMap,rn=nn?qt(nn):en,on=function(t){return Pt(t)&&"[object Set]"==ze(t)},sn=Xt&&Xt.isSet,an=sn?qt(sn):on,cn={};cn["[object Arguments]"]=cn["[object Array]"]=cn["[object ArrayBuffer]"]=cn["[object DataView]"]=cn["[object Boolean]"]=cn["[object Date]"]=cn["[object Float32Array]"]=cn["[object Float64Array]"]=cn["[object Int8Array]"]=cn["[object Int16Array]"]=cn["[object Int32Array]"]=cn["[object Map]"]=cn["[object Number]"]=cn["[object Object]"]=cn["[object RegExp]"]=cn["[object Set]"]=cn["[object String]"]=cn["[object Symbol]"]=cn["[object Uint8Array]"]=cn["[object Uint8ClampedArray]"]=cn["[object Uint16Array]"]=cn["[object Uint32Array]"]=!0,cn["[object Error]"]=cn["[object Function]"]=cn["[object WeakMap]"]=!1;var ln=function t(e,n,r,i,o,s){var a,c=1&n,l=2&n,u=4&n;if(r&&(a=o?r(e,i,o,s):r(e)),void 0!==a)return a;if(!U(e))return e;var d=Ft(e);if(d){if(a=Ve(e),!c)return ge(e,a)}else{var h=ze(e),f="[object Function]"==h||"[object GeneratorFunction]"==h;if(Ut(e))return pe(e,c);if("[object Object]"==h||"[object Arguments]"==h||f&&!o){if(a=l||f?{}:tn(e),!c)return l?xe(e,fe(a,e)):we(e,ce(a,e))}else{if(!cn[h])return o?e:{};a=Ze(e,h,c)}}s||(s=new Et);var p=s.get(e);if(p)return p;s.set(e,a),an(e)?e.forEach((function(i){a.add(t(i,n,r,i,e,s))})):rn(e)&&e.forEach((function(i,o){a.set(o,t(i,n,r,o,e,s))}));var g=d?void 0:(u?l?Me:Se:l?he:ae)(e);return St(g||e,(function(i,o){g&&(i=e[o=i]),Tt(a,o,t(i,n,r,o,e,s))})),a},un=function(t){return ln(t,4)},dn=function(t){return function(){return t}},hn=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}(),fn=function(t,e){return t&&hn(t,e,ae)},pn=function(t,e){return function(n,r){if(null==n)return n;if(!se(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}(fn),gn=function(t){return t},mn=function(t){return"function"==typeof t?t:gn},vn=function(t,e){return(Ft(t)?St:pn)(t,mn(e))},bn=vn,yn=function(t,e){var n=[];return pn(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n},kn=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},wn=function(t){return this.__data__.has(t)};function _n(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new At;++e<n;)this.add(t[e])}_n.prototype.add=_n.prototype.push=kn,_n.prototype.has=wn;var An=_n,Cn=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},xn=function(t,e){return t.has(e)},En=function(t,e,n,r,i,o){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(t),u=o.get(e);if(l&&u)return l==e&&u==t;var d=-1,h=!0,f=2&n?new An:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],g=e[d];if(r)var m=s?r(g,p,d,e,t,o):r(p,g,d,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!Cn(e,(function(t,e){if(!xn(f,e)&&(p===t||i(p,t,n,r,o)))return f.push(e)}))){h=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h},Sn=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},Mn=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},In=O?O.prototype:void 0,Dn=In?In.valueOf:void 0,Tn=function(t,e,n,r,i,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Ue(t),new Ue(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return g(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Sn;case"[object Set]":var c=1&r;if(a||(a=Mn),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;r|=2,s.set(t,e);var u=En(a(t),a(e),r,i,o,s);return s.delete(t),u;case"[object Symbol]":if(Dn)return Dn.call(t)==Dn.call(e)}return!1},On=Object.prototype.hasOwnProperty,Nn=function(t,e,n,r,i,o){var s=1&n,a=Se(t),c=a.length;if(c!=Se(e).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in e:On.call(e,u)))return!1}var d=o.get(t),h=o.get(e);if(d&&h)return d==e&&h==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=s;++l<c;){var g=t[u=a[l]],m=e[u];if(r)var v=s?r(m,g,u,e,t,o):r(g,m,u,t,e,o);if(!(void 0===v?g===m||i(g,m,n,r,o):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var b=t.constructor,y=e.constructor;b==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(t),o.delete(e),f},Pn=Object.prototype.hasOwnProperty,Ln=function(t,e,n,r,i,o){var s=Ft(t),a=Ft(e),c=s?"[object Array]":ze(t),l=a?"[object Array]":ze(e),u="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),d="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h=c==l;if(h&&Ut(t)){if(!Ut(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Et),s||Zt(t)?En(t,e,n,r,i,o):Tn(t,e,c,n,r,i,o);if(!(1&n)){var f=u&&Pn.call(t,"__wrapped__"),p=d&&Pn.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return o||(o=new Et),i(g,m,n,r,o)}}return!!h&&(o||(o=new Et),Nn(t,e,n,r,i,o))},Bn=function t(e,n,r,i,o){return e===n||(null==e||null==n||!Pt(e)&&!Pt(n)?e!=e&&n!=n:Ln(e,n,r,i,t,o))},Rn=function(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var c=(a=n[i])[0],l=t[c],u=a[1];if(s&&a[2]){if(void 0===l&&!(c in t))return!1}else{var d=new Et;if(r)var h=r(l,u,c,t,e,d);if(!(void 0===h?Bn(u,l,3,r,d):h))return!1}}return!0},jn=function(t){return t==t&&!U(t)},zn=function(t){for(var e=ae(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jn(i)]}return e},Fn=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},Vn=function(t){var e=zn(t);return 1==e.length&&e[0][2]?Fn(e[0][0],e[0][1]):function(n){return n===t||Rn(n,t,e)}},Un=function(t){return"symbol"==typeof t||Pt(t)&&"[object Symbol]"==V(t)},Gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hn=/^\w*$/,$n=function(t,e){if(Ft(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Un(t))||Hn.test(t)||!Gn.test(t)||null!=e&&t in Object(e)};function Wn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Wn.Cache||At),n}Wn.Cache=At;var Yn,qn=Wn,Xn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kn=/\\(\\)?/g,Zn=function(t){var e=qn(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Xn,(function(t,n,r,i){e.push(r?i.replace(Kn,"$1"):n||t)})),e})),Qn=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Jn=O?O.prototype:void 0,tr=Jn?Jn.toString:void 0,er=function t(e){if("string"==typeof e)return e;if(Ft(e))return Qn(e,t)+"";if(Un(e))return tr?tr.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},nr=function(t){return null==t?"":er(t)},rr=function(t,e){return Ft(t)?t:$n(t,e)?[t]:Zn(nr(t))},ir=function(t){if("string"==typeof t||Un(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},or=function(t,e){for(var n=0,r=(e=rr(e,t)).length;null!=t&&n<r;)t=t[ir(e[n++])];return n&&n==r?t:void 0},sr=function(t,e,n){var r=null==t?void 0:or(t,e);return void 0===r?n:r},ar=function(t,e){return null!=t&&e in Object(t)},cr=function(t,e,n){for(var r=-1,i=(e=rr(e,t)).length,o=!1;++r<i;){var s=ir(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&$t(i)&&Ht(s,i)&&(Ft(t)||zt(t))},lr=function(t,e){return null!=t&&cr(t,e,ar)},ur=function(t,e){return $n(t)&&jn(e)?Fn(ir(t),e):function(n){var r=sr(n,t);return void 0===r&&r===e?lr(n,t):Bn(e,r,3)}},dr=function(t){return function(e){return null==e?void 0:e[t]}},hr=function(t){return function(e){return or(e,t)}},fr=function(t){return $n(t)?dr(ir(t)):hr(t)},pr=function(t){return"function"==typeof t?t:null==t?gn:"object"==typeof t?Ft(t)?ur(t[0],t[1]):Vn(t):fr(t)},gr=function(t,e){return(Ft(t)?me:yn)(t,pr(e))},mr=Object.prototype.hasOwnProperty,vr=function(t,e){return null!=t&&mr.call(t,e)},br=function(t,e){return null!=t&&cr(t,e,vr)},yr=Object.prototype.hasOwnProperty,kr=function(t){if(null==t)return!0;if(se(t)&&(Ft(t)||"string"==typeof t||"function"==typeof t.splice||Ut(t)||Zt(t)||zt(t)))return!t.length;var e=ze(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(ee(t))return!oe(t).length;for(var n in t)if(yr.call(t,n))return!1;return!0},wr=function(t){return void 0===t},_r=function(t,e){var n=-1,r=se(t)?Array(t.length):[];return pn(t,(function(t,i,o){r[++n]=e(t,i,o)})),r},Ar=function(t,e){return(Ft(t)?Qn:_r)(t,pr(e))},Cr=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n},xr=function(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n},Er=function(t,e,n){var r=Ft(t)?Cr:xr,i=arguments.length<3;return r(t,pr(e),n,i,pn)},Sr=function(t){return"string"==typeof t||!Ft(t)&&Pt(t)&&"[object String]"==V(t)},Mr=dr("length"),Ir=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Dr=function(t){return Ir.test(t)},Tr="[\\ud800-\\udfff]",Or="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Nr="\\ud83c[\\udffb-\\udfff]",Pr="[^\\ud800-\\udfff]",Lr="(?:\\ud83c[\\udde6-\\uddff]){2}",Br="[\\ud800-\\udbff][\\udc00-\\udfff]",Rr="(?:"+Or+"|"+Nr+")?",jr="[\\ufe0e\\ufe0f]?"+Rr+"(?:\\u200d(?:"+[Pr,Lr,Br].join("|")+")[\\ufe0e\\ufe0f]?"+Rr+")*",zr="(?:"+[Pr+Or+"?",Or,Lr,Br,Tr].join("|")+")",Fr=RegExp(Nr+"(?="+Nr+")|"+zr+jr,"g"),Vr=function(t){for(var e=Fr.lastIndex=0;Fr.test(t);)++e;return e},Ur=function(t){return Dr(t)?Vr(t):Mr(t)},Gr=function(t){if(null==t)return 0;if(se(t))return Sr(t)?Ur(t):t.length;var e=ze(t);return"[object Map]"==e||"[object Set]"==e?t.size:oe(t).length},Hr=function(t,e,n){var r=Ft(t),i=r||Ut(t)||Zt(t);if(e=pr(e),null==n){var o=t&&t.constructor;n=i?r?new o:[]:U(t)&&G(o)?Je(Ae(t)):{}}return(i?St:fn)(t,(function(t,r,i){return e(n,t,r,i)})),n},$r=O?O.isConcatSpreadable:void 0,Wr=function(t){return Ft(t)||zt(t)||!!($r&&t&&t[$r])},Yr=function t(e,n,r,i,o){var s=-1,a=e.length;for(r||(r=Wr),o||(o=[]);++s<a;){var c=e[s];n>0&&r(c)?n>1?t(c,n-1,r,i,o):_e(o,c):i||(o[o.length]=c)}return o},qr=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Xr=Math.max,Kr=function(t,e,n){return e=Xr(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Xr(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),qr(t,this,a)}},Zr=Mt?function(t,e){return Mt(t,"toString",{configurable:!0,enumerable:!1,value:dn(e),writable:!0})}:gn,Qr=Date.now,Jr=function(t){var e=0,n=0;return function(){var r=Qr(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Zr),ti=function(t,e){return Jr(Kr(t,e,gn),t+"")},ei=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1},ni=function(t){return t!=t},ri=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1},ii=function(t,e,n){return e==e?ri(t,e,n):ei(t,ni,n)},oi=function(t,e){return!(null==t||!t.length)&&ii(t,e,0)>-1},si=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1},ai=function(){},ci=Te&&1/Mn(new Te([,-0]))[1]==1/0?function(t){return new Te(t)}:ai,li=function(t,e,n){var r=-1,i=oi,o=t.length,s=!0,a=[],c=a;if(n)s=!1,i=si;else if(o>=200){var l=e?null:ci(t);if(l)return Mn(l);s=!1,i=xn,c=new An}else c=e?[]:a;t:for(;++r<o;){var u=t[r],d=e?e(u):u;if(u=n||0!==u?u:0,s&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue t;e&&c.push(d),a.push(u)}else i(c,d,n)||(c!==a&&c.push(d),a.push(u))}return a},ui=function(t){return Pt(t)&&se(t)},di=ti((function(t){return li(Yr(t,1,ui,!0))})),hi=function(t,e){return Qn(e,(function(e){return t[e]}))},fi=function(t){return null==t?[]:hi(t,ae(t))};try{Yn={clone:un,constant:dn,each:bn,filter:gr,has:br,isArray:Ft,isEmpty:kr,isFunction:G,isUndefined:wr,keys:ae,map:Ar,reduce:Er,size:Gr,transform:Hr,union:di,values:fi}}catch(r){}Yn||(Yn=window._);var pi=Yn,gi=mi;function mi(t){this._isDirected=!pi.has(t,"directed")||t.directed,this._isMultigraph=!!pi.has(t,"multigraph")&&t.multigraph,this._isCompound=!!pi.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=pi.constant(void 0),this._defaultEdgeLabelFn=pi.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function vi(t,e){t[e]?t[e]++:t[e]=1}function bi(t,e){--t[e]||delete t[e]}function yi(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}return i+""+o+""+(pi.isUndefined(r)?"\0":r)}function ki(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}var a={v:i,w:o};return r&&(a.name=r),a}function wi(t,e){return yi(t,e.v,e.w,e.name)}mi.prototype._nodeCount=0,mi.prototype._edgeCount=0,mi.prototype.isDirected=function(){return this._isDirected},mi.prototype.isMultigraph=function(){return this._isMultigraph},mi.prototype.isCompound=function(){return this._isCompound},mi.prototype.setGraph=function(t){return this._label=t,this},mi.prototype.graph=function(){return this._label},mi.prototype.setDefaultNodeLabel=function(t){return pi.isFunction(t)||(t=pi.constant(t)),this._defaultNodeLabelFn=t,this},mi.prototype.nodeCount=function(){return this._nodeCount},mi.prototype.nodes=function(){return pi.keys(this._nodes)},mi.prototype.sources=function(){var t=this;return pi.filter(this.nodes(),(function(e){return pi.isEmpty(t._in[e])}))},mi.prototype.sinks=function(){var t=this;return pi.filter(this.nodes(),(function(e){return pi.isEmpty(t._out[e])}))},mi.prototype.setNodes=function(t,e){var n=arguments,r=this;return pi.each(t,(function(t){n.length>1?r.setNode(t,e):r.setNode(t)})),this},mi.prototype.setNode=function(t,e){return pi.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},mi.prototype.node=function(t){return this._nodes[t]},mi.prototype.hasNode=function(t){return pi.has(this._nodes,t)},mi.prototype.removeNode=function(t){var e=this;if(pi.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],pi.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),pi.each(pi.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],pi.each(pi.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},mi.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(pi.isUndefined(e))e="\0";else{for(var n=e+="";!pi.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},mi.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},mi.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\0"!==e)return e}},mi.prototype.children=function(t){if(pi.isUndefined(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return pi.keys(e)}else{if("\0"===t)return this.nodes();if(this.hasNode(t))return[]}},mi.prototype.predecessors=function(t){var e=this._preds[t];if(e)return pi.keys(e)},mi.prototype.successors=function(t){var e=this._sucs[t];if(e)return pi.keys(e)},mi.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return pi.union(e,this.successors(t))},mi.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},mi.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;pi.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),pi.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var r={};function i(t){var o=n.parent(t);return void 0===o||e.hasNode(o)?(r[t]=o,o):o in r?r[o]:i(o)}return this._isCompound&&pi.each(e.nodes(),(function(t){e.setParent(t,i(t))})),e},mi.prototype.setDefaultEdgeLabel=function(t){return pi.isFunction(t)||(t=pi.constant(t)),this._defaultEdgeLabelFn=t,this},mi.prototype.edgeCount=function(){return this._edgeCount},mi.prototype.edges=function(){return pi.values(this._edgeObjs)},mi.prototype.setPath=function(t,e){var n=this,r=arguments;return pi.reduce(t,(function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i})),this},mi.prototype.setEdge=function(){var t,e,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(t=o.v,e=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,pi.isUndefined(n)||(n=""+n);var s=yi(this._isDirected,t,e,n);if(pi.has(this._edgeLabels,s))return i&&(this._edgeLabels[s]=r),this;if(!pi.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=i?r:this._defaultEdgeLabelFn(t,e,n);var a=ki(this._isDirected,t,e,n);return t=a.v,e=a.w,Object.freeze(a),this._edgeObjs[s]=a,vi(this._preds[e],t),vi(this._sucs[t],e),this._in[e][s]=a,this._out[t][s]=a,this._edgeCount++,this},mi.prototype.edge=function(t,e,n){var r=1===arguments.length?wi(this._isDirected,arguments[0]):yi(this._isDirected,t,e,n);return this._edgeLabels[r]},mi.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?wi(this._isDirected,arguments[0]):yi(this._isDirected,t,e,n);return pi.has(this._edgeLabels,r)},mi.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?wi(this._isDirected,arguments[0]):yi(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],bi(this._preds[e],t),bi(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},mi.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=pi.values(n);return e?pi.filter(r,(function(t){return t.v===e})):r}},mi.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=pi.values(n);return e?pi.filter(r,(function(t){return t.w===e})):r}},mi.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};var _i={Graph:gi,version:"2.1.8"},Ai={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:Ci(t),edges:xi(t)};return pi.isUndefined(t.graph())||(e.value=pi.clone(t.graph())),e},read:function(t){var e=new gi(t.options).setGraph(t.value);return pi.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),pi.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}};function Ci(t){return pi.map(t.nodes(),(function(e){var n=t.node(e),r=t.parent(e),i={v:e};return pi.isUndefined(n)||(i.value=n),pi.isUndefined(r)||(i.parent=r),i}))}function xi(t){return pi.map(t.edges(),(function(e){var n=t.edge(e),r={v:e.v,w:e.w};return pi.isUndefined(e.name)||(r.name=e.name),pi.isUndefined(n)||(r.value=n),r}))}var Ei=function(t){var e,n={},r=[];function i(r){pi.has(n,r)||(n[r]=!0,e.push(r),pi.each(t.successors(r),i),pi.each(t.predecessors(r),i))}return pi.each(t.nodes(),(function(t){e=[],i(t),e.length&&r.push(e)})),r},Si=Mi;function Mi(){this._arr=[],this._keyIndices={}}Mi.prototype.size=function(){return this._arr.length},Mi.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},Mi.prototype.has=function(t){return pi.has(this._keyIndices,t)},Mi.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},Mi.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},Mi.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!pi.has(n,t)){var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0}return!1},Mi.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},Mi.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},Mi.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},Mi.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},Mi.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e};var Ii=function(t,e,n,r){return function(t,e,n,r){var i,o,s={},a=new Si,c=function(t){var e=t.v!==i?t.v:t.w,r=s[e],c=n(t),l=o.distance+c;if(c<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+c);l<r.distance&&(r.distance=l,r.predecessor=i,a.decrease(e,l))};for(t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},a.add(t,n)}));a.size()>0&&(i=a.removeMin(),(o=s[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return s}(t,String(e),n||Di,r||function(e){return t.outEdges(e)})},Di=pi.constant(1),Ti=function(t,e,n){return pi.transform(t.nodes(),(function(r,i){r[i]=Ii(t,i,e,n)}),{})},Oi=function(t){var e=0,n=[],r={},i=[];function o(s){var a=r[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach((function(t){pi.has(r,t)?r[t].onStack&&(a.lowlink=Math.min(a.lowlink,r[t].index)):(o(t),a.lowlink=Math.min(a.lowlink,r[t].lowlink))})),a.lowlink===a.index){var c,l=[];do{c=n.pop(),r[c].onStack=!1,l.push(c)}while(s!==c);i.push(l)}}return t.nodes().forEach((function(t){pi.has(r,t)||o(t)})),i},Ni=function(t){return pi.filter(Oi(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))},Pi=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach((function(t){r[t]={},r[t][t]={distance:0},i.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}}))})),i.forEach((function(t){var e=r[t];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[t],i=e[n],s=o[n],a=r.distance+i.distance;a<s.distance&&(s.distance=a,s.predecessor=i.predecessor)}))}))})),r}(t,e||Li,n||function(e){return t.outEdges(e)})},Li=pi.constant(1),Bi=Ri;function Ri(t){var e={},n={},r=[];if(pi.each(t.sinks(),(function i(o){if(pi.has(n,o))throw new ji;pi.has(e,o)||(n[o]=!0,e[o]=!0,pi.each(t.predecessors(o),i),delete n[o],r.push(o))})),pi.size(e)!==t.nodeCount())throw new ji;return r}function ji(){}Ri.CycleException=ji,ji.prototype=new Error;var zi=function(t,e,n){pi.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return pi.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);Fi(t,e,"post"===n,o,r,i)})),i};function Fi(t,e,n,r,i,o){pi.has(r,e)||(r[e]=!0,n||o.push(e),pi.each(i(e),(function(e){Fi(t,e,n,r,i,o)})),n&&o.push(e))}var Vi,Ui={Graph:_i.Graph,json:Ai,alg:{components:Ei,dijkstra:Ii,dijkstraAll:Ti,findCycles:Ni,floydWarshall:Pi,isAcyclic:function(t){try{Bi(t)}catch(t){if(t instanceof Bi.CycleException)return!1;throw t}return!0},postorder:function(t,e){return zi(t,e,"post")},preorder:function(t,e){return zi(t,e,"pre")},prim:function(t,e){var n,r=new gi,i={},o=new Si;function s(t){var r=t.v===n?t.w:t.v,s=o.priority(r);if(void 0!==s){var a=e(t);a<s&&(i[r]=n,o.decrease(r,a))}}if(0===t.nodeCount())return r;pi.each(t.nodes(),(function(t){o.add(t,Number.POSITIVE_INFINITY),r.setNode(t)})),o.decrease(t.nodes()[0],0);for(var a=!1;o.size()>0;){if(n=o.removeMin(),pi.has(i,n))r.setEdge(n,i[n]);else{if(a)throw new Error("Input graph is not connected: "+t);a=!0}t.nodeEdges(n).forEach(s)}return r},tarjan:Oi,topsort:Bi},version:_i.version};try{Vi=Ui}catch(r){}Vi||(Vi=window.graphlib);var Gi,Hi=Vi,$i=function(t){return ln(t,5)},Wi=function(t,e,n){if(!U(n))return!1;var r=typeof e;return!!("number"==r?se(n)&&Ht(e,n.length):"string"==r&&e in n)&&g(n[e],t)},Yi=Object.prototype,qi=Yi.hasOwnProperty,Xi=ti((function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Wi(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=he(o),a=-1,c=s.length;++a<c;){var l=s[a],u=t[l];(void 0===u||g(u,Yi[l])&&!qi.call(t,l))&&(t[l]=o[l])}return t})),Ki=function(t){return function(e,n,r){var i=Object(e);if(!se(e)){var o=pr(n);e=ae(e),n=function(t){return o(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}},Zi=/^\s+|\s+$/g,Qi=/^[-+]0x[0-9a-f]+$/i,Ji=/^0b[01]+$/i,to=/^0o[0-7]+$/i,eo=parseInt,no=function(t){if("number"==typeof t)return t;if(Un(t))return NaN;if(U(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=U(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Zi,"");var n=Ji.test(t);return n||to.test(t)?eo(t.slice(2),n?2:8):Qi.test(t)?NaN:+t},ro=function(t){return t?1/0===(t=no(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},io=function(t){var e=ro(t),n=e%1;return e==e?n?e-n:e:0},oo=Math.max,so=Ki((function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:io(n);return i<0&&(i=oo(r+i,0)),ei(t,pr(e),i)})),ao=function(t){return null!=t&&t.length?Yr(t,1):[]},co=function(t,e){return null==t?t:hn(t,mn(e),he)},lo=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},uo=function(t,e){var n={};return e=pr(e),fn(t,(function(t,r,i){It(n,r,e(t,r,i))})),n},ho=function(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(void 0===a?s==s&&!Un(s):n(s,a)))var a=s,c=o}return c},fo=function(t,e){return t>e},po=function(t){return t&&t.length?ho(t,gn,fo):void 0},go=function(t,e,n){(void 0!==n&&!g(t[e],n)||void 0===n&&!(e in t))&&It(t,e,n)},mo=Function.prototype,vo=Object.prototype,bo=mo.toString,yo=vo.hasOwnProperty,ko=bo.call(Object),wo=function(t){if(!Pt(t)||"[object Object]"!=V(t))return!1;var e=Ae(t);if(null===e)return!0;var n=yo.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bo.call(n)==ko},_o=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Ao=function(t){return Ot(t,he(t))},Co=function(t,e,n,r,i,o,s){var a=_o(t,n),c=_o(e,n),l=s.get(c);if(l)go(t,n,l);else{var u=o?o(a,c,n+"",t,e,s):void 0,d=void 0===u;if(d){var h=Ft(c),f=!h&&Ut(c),p=!h&&!f&&Zt(c);u=c,h||f||p?Ft(a)?u=a:ui(a)?u=ge(a):f?(d=!1,u=pe(c,!0)):p?(d=!1,u=Ke(c,!0)):u=[]:wo(c)||zt(c)?(u=a,zt(a)?u=Ao(a):U(a)&&!G(a)||(u=tn(c))):d=!1}d&&(s.set(c,u),i(u,c,r,o,s),s.delete(c)),go(t,n,u)}},xo=function t(e,n,r,i,o){e!==n&&hn(n,(function(s,a){if(o||(o=new Et),U(s))Co(e,n,a,r,t,i,o);else{var c=i?i(_o(e,a),s,a+"",e,n,o):void 0;void 0===c&&(c=s),go(e,a,c)}}),he)},Eo=function(t){return ti((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&Wi(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e}))}((function(t,e,n){xo(t,e,n)})),So=function(t,e){return t<e},Mo=function(t){return t&&t.length?ho(t,gn,So):void 0},Io=function(t,e){return t&&t.length?ho(t,pr(e),So):void 0},Do=function(){return T.Date.now()},To=function(t,e,n,r){if(!U(t))return t;for(var i=-1,o=(e=rr(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var c=ir(e[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var u=a[c];void 0===(l=r?r(u,c,a):void 0)&&(l=U(u)?u:Ht(e[i+1])?[]:{})}Tt(a,c,l),a=a[c]}return t},Oo=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=or(t,s);n(a,s)&&To(o,rr(s,t),a)}return o},No=function(t,e){return Oo(t,e,(function(e,n){return lr(t,n)}))},Po=function(t){return Jr(Kr(t,void 0,ao),t+"")}((function(t,e){return null==t?{}:No(t,e)})),Lo=Math.ceil,Bo=Math.max,Ro=function(t,e,n,r){for(var i=-1,o=Bo(Lo((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s},jo=function(t){return function(e,n,r){return r&&"number"!=typeof r&&Wi(e,n,r)&&(n=r=void 0),e=ro(e),void 0===n?(n=e,e=0):n=ro(n),r=void 0===r?e<n?1:-1:ro(r),Ro(e,n,r,t)}}(),zo=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t},Fo=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Un(t),s=void 0!==e,a=null===e,c=e==e,l=Un(e);if(!a&&!l&&!o&&t>e||o&&s&&c&&!a&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!c)return-1}return 0},Vo=function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var c=Fo(i[r],o[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return t.index-e.index},Uo=function(t,e,n){e=e.length?Qn(e,(function(t){return Ft(t)?function(e){return or(e,1===t.length?t[0]:t)}:t})):[gn];var r=-1;e=Qn(e,qt(pr));var i=_r(t,(function(t,n,i){return{criteria:Qn(e,(function(e){return e(t)})),index:++r,value:t}}));return zo(i,(function(t,e){return Vo(t,e,n)}))},Go=ti((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Wi(t,e[0],e[1])?e=[]:n>2&&Wi(e[0],e[1],e[2])&&(e=[e[0]]),Uo(t,Yr(e,1),[])})),Ho=0,$o=function(t){var e=++Ho;return nr(t)+e},Wo=function(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;){var a=r<o?e[r]:void 0;n(s,t[r],a)}return s},Yo=function(t,e){return Wo(t||[],e||[],Tt)};try{Gi={cloneDeep:$i,constant:dn,defaults:Xi,each:bn,filter:gr,find:so,flatten:ao,forEach:vn,forIn:co,has:br,isUndefined:wr,last:lo,map:Ar,mapValues:uo,max:po,merge:Eo,min:Mo,minBy:Io,now:Do,pick:Po,range:jo,reduce:Er,sortBy:Go,uniqueId:$o,values:fi,zipObject:Yo}}catch(r){}Gi||(Gi=window._);var qo=Gi,Xo=Ko;function Ko(){var t={};t._next=t._prev=t,this._sentinel=t}function Zo(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function Qo(t,e){if("_next"!==t&&"_prev"!==t)return e}Ko.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return Zo(e),e},Ko.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&Zo(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},Ko.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,Qo)),n=n._prev;return"["+t.join(", ")+"]"};var Jo=Hi.Graph,ts=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new Jo,r=0,i=0;qo.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),qo.forEach(t.edges(),(function(t){var o=n.edge(t.v,t.w)||0,s=e(t),a=o+s;n.setEdge(t.v,t.w,a),i=Math.max(i,n.node(t.v).out+=s),r=Math.max(r,n.node(t.w).in+=s)}));var o=qo.range(i+r+3).map((function(){return new Xo})),s=r+1;return qo.forEach(n.nodes(),(function(t){rs(o,s,n.node(t))})),{graph:n,buckets:o,zeroIdx:s}}(t,e||es),r=function(t,e,n){for(var r,i=[],o=e[e.length-1],s=e[0];t.nodeCount();){for(;r=s.dequeue();)ns(t,e,n,r);for(;r=o.dequeue();)ns(t,e,n,r);if(t.nodeCount())for(var a=e.length-2;a>0;--a)if(r=e[a].dequeue()){i=i.concat(ns(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return qo.flatten(qo.map(r,(function(e){return t.outEdges(e.v,e.w)})),!0)},es=qo.constant(1);function ns(t,e,n,r,i){var o=i?[]:void 0;return qo.forEach(t.inEdges(r.v),(function(r){var s=t.edge(r),a=t.node(r.v);i&&o.push({v:r.v,w:r.w}),a.out-=s,rs(e,n,a)})),qo.forEach(t.outEdges(r.v),(function(r){var i=t.edge(r),o=r.w,s=t.node(o);s.in-=i,rs(e,n,s)})),t.removeNode(r.v),o}function rs(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var is={run:function(t){var e="greedy"===t.graph().acyclicer?ts(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},r={};function i(o){qo.has(r,o)||(r[o]=!0,n[o]=!0,qo.forEach(t.outEdges(o),(function(t){qo.has(n,t.w)?e.push(t):i(t.w)})),delete n[o])}return qo.forEach(t.nodes(),i),e}(t);qo.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,qo.uniqueId("rev"))}))},undo:function(t){qo.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}},os=Hi.Graph,ss={addDummyNode:as,simplify:function(t){var e=(new os).setGraph(t.graph());return qo.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),qo.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),e},asNonCompoundGraph:function(t){var e=new os({multigraph:t.isMultigraph()}).setGraph(t.graph());return qo.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),qo.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=qo.map(t.nodes(),(function(e){var n={};return qo.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return qo.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=qo.map(t.nodes(),(function(e){var n={};return qo.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return qo.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,s=e.x-i,a=e.y-o,c=t.width/2,l=t.height/2;if(!s&&!a)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(a)*c>Math.abs(s)*l?(a<0&&(l=-l),n=l*s/a,r=l):(s<0&&(c=-c),n=c,r=c*a/s),{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=qo.map(qo.range(cs(t)+1),(function(){return[]}));return qo.forEach(t.nodes(),(function(n){var r=t.node(n),i=r.rank;qo.isUndefined(i)||(e[i][r.order]=n)})),e},normalizeRanks:function(t){var e=qo.min(qo.map(t.nodes(),(function(e){return t.node(e).rank})));qo.forEach(t.nodes(),(function(n){var r=t.node(n);qo.has(r,"rank")&&(r.rank-=e)}))},removeEmptyRanks:function(t){var e=qo.min(qo.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];qo.forEach(t.nodes(),(function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)}));var r=0,i=t.graph().nodeRankFactor;qo.forEach(n,(function(e,n){qo.isUndefined(e)&&n%i!=0?--r:r&&qo.forEach(e,(function(e){t.node(e).rank+=r}))}))},addBorderNode:function(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),as(t,"border",i,e)},maxRank:cs,partition:function(t,e){var n={lhs:[],rhs:[]};return qo.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=qo.now();try{return e()}finally{console.log(t+" time: "+(qo.now()-n)+"ms")}},notime:function(t,e){return e()}};function as(t,e,n,r){var i;do{i=qo.uniqueId(r)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function cs(t){return qo.max(qo.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!qo.isUndefined(n))return n})))}var ls={run:function(t){t.graph().dummyChains=[],qo.forEach(t.edges(),(function(e){!function(t,e){var n,r,i,o=e.v,s=t.node(o).rank,a=e.w,c=t.node(a).rank,l=e.name,u=t.edge(e),d=u.labelRank;if(c!==s+1){for(t.removeEdge(e),i=0,++s;s<c;++i,++s)u.points=[],r={width:0,height:0,edgeLabel:u,edgeObj:e,rank:s},n=ss.addDummyNode(t,"edge",r,"_d"),s===d&&(r.width=u.width,r.height=u.height,r.dummy="edge-label",r.labelpos=u.labelpos),t.setEdge(o,n,{weight:u.weight},l),0===i&&t.graph().dummyChains.push(n),o=n;t.setEdge(o,a,{weight:u.weight},l)}}(t,e)}))},undo:function(t){qo.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)}))}},us=function(t){var e={};qo.forEach(t.sources(),(function n(r){var i=t.node(r);if(qo.has(e,r))return i.rank;e[r]=!0;var o=qo.min(qo.map(t.outEdges(r),(function(e){return n(e.w)-t.edge(e).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o}))},ds=function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen},hs=Hi.Graph,fs=ds,ps=function(t){var e,n,r=new hs({directed:!1}),i=t.nodes()[0],o=t.nodeCount();for(r.setNode(i,{});gs(r,t)<o;)e=ms(r,t),n=r.hasNode(e.v)?fs(t,e):-fs(t,e),vs(r,t,n);return r};function gs(t,e){return qo.forEach(t.nodes(),(function n(r){qo.forEach(e.nodeEdges(r),(function(i){var o=i.v,s=r===o?i.w:o;t.hasNode(s)||fs(e,i)||(t.setNode(s,{}),t.setEdge(r,s,{}),n(s))}))})),t.nodeCount()}function ms(t,e){return qo.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return fs(e,n)}))}function vs(t,e,n){qo.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}var bs=ds,ys=us,ks=Hi.alg.preorder,ws=Hi.alg.postorder,_s=ss.simplify,As=Cs;function Cs(t){t=_s(t),ys(t);var e,n=ps(t);for(Ss(n),xs(n,t);e=Is(n);)Ts(n,t,e,Ds(n,t,e))}function xs(t,e){var n=ws(t,t.nodes());n=n.slice(0,n.length-1),qo.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=Es(t,e,n)}(t,e,n)}))}function Es(t,e,n){var r=t.node(n).parent,i=!0,o=e.edge(n,r),s=0;return o||(i=!1,o=e.edge(r,n)),s=o.weight,qo.forEach(e.nodeEdges(n),(function(o){var a,c,l=o.v===n,u=l?o.w:o.v;if(u!==r){var d=l===i,h=e.edge(o).weight;if(s+=d?h:-h,a=n,c=u,t.hasEdge(a,c)){var f=t.edge(n,u).cutvalue;s+=d?-f:f}}})),s}function Ss(t,e){arguments.length<2&&(e=t.nodes()[0]),Ms(t,{},1,e)}function Ms(t,e,n,r,i){var o=n,s=t.node(r);return e[r]=!0,qo.forEach(t.neighbors(r),(function(i){qo.has(e,i)||(n=Ms(t,e,n,i,r))})),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function Is(t){return qo.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function Ds(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),s=t.node(i),a=o,c=!1;o.lim>s.lim&&(a=s,c=!0);var l=qo.filter(e.edges(),(function(e){return c===Os(t,t.node(e.v),a)&&c!==Os(t,t.node(e.w),a)}));return qo.minBy(l,(function(t){return bs(e,t)}))}function Ts(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),Ss(t),xs(t,e),function(t,e){var n=qo.find(t.nodes(),(function(t){return!e.node(t).parent})),r=ks(t,n);r=r.slice(1),qo.forEach(r,(function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)}))}(t,e)}function Os(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}Cs.initLowLimValues=Ss,Cs.initCutValues=xs,Cs.calcCutValue=Es,Cs.leaveEdge=Is,Cs.enterEdge=Ds,Cs.exchangeEdges=Ts;var Ns=us,Ps=function(t){switch(t.graph().ranker){case"network-simplex":Bs(t);break;case"tight-tree":!function(t){Ns(t),ps(t)}(t);break;case"longest-path":Ls(t);break;default:Bs(t)}},Ls=Ns;function Bs(t){As(t)}var Rs=function(t){var e=function(t){var e={},n=0;function r(i){var o=n;qo.forEach(t.children(i),r),e[i]={low:o,lim:n++}}return qo.forEach(t.children(),r),e}(t);qo.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,s=[],a=[],c=Math.min(e[n].low,e[r].low),l=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),s.push(i)}while(i&&(e[i].low>c||l>e[i].lim));for(o=i,i=r;(i=t.parent(i))!==o;)a.push(i);return{path:s.concat(a.reverse()),lca:o}}(t,e,i.v,i.w),s=o.path,a=o.lca,c=0,l=s[c],u=!0;n!==i.w;){if(r=t.node(n),u){for(;(l=s[c])!==a&&t.node(l).maxRank<r.rank;)c++;l===a&&(u=!1)}if(!u){for(;c<s.length-1&&t.node(l=s[c+1]).minRank<=r.rank;)c++;l=s[c]}t.setParent(n,l),n=t.successors(n)[0]}}))},js={run:function(t){var e=ss.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};function n(r,i){var o=t.children(r);o&&o.length&&qo.forEach(o,(function(t){n(t,i+1)})),e[r]=i}return qo.forEach(t.children(),(function(t){n(t,1)})),e}(t),r=qo.max(qo.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,qo.forEach(t.edges(),(function(e){t.edge(e).minlen*=i}));var o=function(t){return qo.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;qo.forEach(t.children(),(function(s){zs(t,e,i,o,r,n,s)})),t.graph().nodeRankFactor=i},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,qo.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}};function zs(t,e,n,r,i,o,s){var a=t.children(s);if(a.length){var c=ss.addBorderNode(t,"_bt"),l=ss.addBorderNode(t,"_bb"),u=t.node(s);t.setParent(c,s),u.borderTop=c,t.setParent(l,s),u.borderBottom=l,qo.forEach(a,(function(a){zs(t,e,n,r,i,o,a);var u=t.node(a),d=u.borderTop?u.borderTop:a,h=u.borderBottom?u.borderBottom:a,f=u.borderTop?r:2*r,p=d!==h?1:i-o[s]+1;t.setEdge(c,d,{weight:f,minlen:p,nestingEdge:!0}),t.setEdge(h,l,{weight:f,minlen:p,nestingEdge:!0})})),t.parent(s)||t.setEdge(e,c,{weight:0,minlen:i+o[s]})}else s!==e&&t.setEdge(e,s,{weight:0,minlen:n})}var Fs=function(t){qo.forEach(t.children(),(function e(n){var r=t.children(n),i=t.node(n);if(r.length&&qo.forEach(r,e),qo.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)Vs(t,"borderLeft","_bl",n,i,o),Vs(t,"borderRight","_br",n,i,o)}}))};function Vs(t,e,n,r,i,o){var s={width:0,height:0,rank:o,borderType:e},a=i[e][o-1],c=ss.addDummyNode(t,"border",s,n);i[e][o]=c,t.setParent(c,r),a&&t.setEdge(a,c,{weight:1})}var Us={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||Gs(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){qo.forEach(t.nodes(),(function(e){$s(t.node(e))})),qo.forEach(t.edges(),(function(e){var n=t.edge(e);qo.forEach(n.points,$s),qo.has(n,"y")&&$s(n)}))}(t),"lr"!==e&&"rl"!==e||(function(t){qo.forEach(t.nodes(),(function(e){Ws(t.node(e))})),qo.forEach(t.edges(),(function(e){var n=t.edge(e);qo.forEach(n.points,Ws),qo.has(n,"x")&&Ws(n)}))}(t),Gs(t))}};function Gs(t){qo.forEach(t.nodes(),(function(e){Hs(t.node(e))})),qo.forEach(t.edges(),(function(e){Hs(t.edge(e))}))}function Hs(t){var e=t.width;t.width=t.height,t.height=e}function $s(t){t.y=-t.y}function Ws(t){var e=t.x;t.x=t.y,t.y=e}var Ys=function(t){var e={},n=qo.filter(t.nodes(),(function(e){return!t.children(e).length})),r=qo.max(qo.map(n,(function(e){return t.node(e).rank}))),i=qo.map(qo.range(r+1),(function(){return[]}));function o(n){if(!qo.has(e,n)){e[n]=!0;var r=t.node(n);i[r.rank].push(n),qo.forEach(t.successors(n),o)}}var s=qo.sortBy(n,(function(e){return t.node(e).rank}));return qo.forEach(s,o),i},qs=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=Xs(t,e[r-1],e[r]);return n};function Xs(t,e,n){for(var r=qo.zipObject(n,qo.map(n,(function(t,e){return e}))),i=qo.flatten(qo.map(e,(function(e){return qo.sortBy(qo.map(t.outEdges(e),(function(e){return{pos:r[e.w],weight:t.edge(e).weight}})),"pos")})),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=qo.map(new Array(s),(function(){return 0})),c=0;return qo.forEach(i.forEach((function(t){var e=t.pos+o;a[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=a[e+1]),a[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}var Ks=function(t,e){return qo.map(e,(function(e){var n=t.inEdges(e);if(n.length){var r=qo.reduce(n,(function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:r.sum/r.weight,weight:r.weight}}return{v:e}}))},Zs=function(t,e){var n={};return qo.forEach(t,(function(t,e){var r=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};qo.isUndefined(t.barycenter)||(r.barycenter=t.barycenter,r.weight=t.weight)})),qo.forEach(e.edges(),(function(t){var e=n[t.v],r=n[t.w];qo.isUndefined(e)||qo.isUndefined(r)||(r.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(qo.isUndefined(e.barycenter)||qo.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function r(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),qo.forEach(i.in.reverse(),n(i)),qo.forEach(i.out,r(i))}return qo.map(qo.filter(e,(function(t){return!t.merged})),(function(t){return qo.pick(t,["vs","i","barycenter","weight"])}))}(qo.filter(n,(function(t){return!t.indegree})))},Qs=function(t,e){var n,r=ss.partition(t,(function(t){return qo.has(t,"barycenter")})),i=r.lhs,o=qo.sortBy(r.rhs,(function(t){return-t.i})),s=[],a=0,c=0,l=0;i.sort((n=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i})),l=Js(s,o,l),qo.forEach(i,(function(t){l+=t.vs.length,s.push(t.vs),a+=t.barycenter*t.weight,c+=t.weight,l=Js(s,o,l)}));var u={vs:qo.flatten(s,!0)};return c&&(u.barycenter=a/c,u.weight=c),u};function Js(t,e,n){for(var r;e.length&&(r=qo.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}var ta=function t(e,n,r,i){var o=e.children(n),s=e.node(n),a=s?s.borderLeft:void 0,c=s?s.borderRight:void 0,l={};a&&(o=qo.filter(o,(function(t){return t!==a&&t!==c})));var u=Ks(e,o);qo.forEach(u,(function(n){if(e.children(n.v).length){var o=t(e,n.v,r,i);l[n.v]=o,qo.has(o,"barycenter")&&(s=n,a=o,qo.isUndefined(s.barycenter)?(s.barycenter=a.barycenter,s.weight=a.weight):(s.barycenter=(s.barycenter*s.weight+a.barycenter*a.weight)/(s.weight+a.weight),s.weight+=a.weight))}var s,a}));var d=Zs(u,r);!function(t,e){qo.forEach(t,(function(t){t.vs=qo.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(d,l);var h=Qs(d,i);if(a&&(h.vs=qo.flatten([a,h.vs,c],!0),e.predecessors(a).length)){var f=e.node(e.predecessors(a)[0]),p=e.node(e.predecessors(c)[0]);qo.has(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+f.order+p.order)/(h.weight+2),h.weight+=2}return h},ea=Hi.Graph,na=function(t,e,n){var r=function(t){for(var e;t.hasNode(e=qo.uniqueId("_root")););return e}(t),i=new ea({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(e){return t.node(e)}));return qo.forEach(t.nodes(),(function(o){var s=t.node(o),a=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),qo.forEach(t[n](o),(function(e){var n=e.v===o?e.w:e.v,r=i.edge(n,o),s=qo.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:t.edge(e).weight+s})})),qo.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),i},ra=function(t,e,n){var r,i={};qo.forEach(n,(function(n){for(var o,s,a=t.parent(n);a;){if((o=t.parent(a))?(s=i[o],i[o]=a):(s=r,r=a),s&&s!==a)return void e.setEdge(s,a);a=o}}))},ia=Hi.Graph,oa=function(t){var e=ss.maxRank(t),n=sa(t,qo.range(1,e+1),"inEdges"),r=sa(t,qo.range(e-1,-1,-1),"outEdges"),i=Ys(t);ca(t,i);for(var o,s=Number.POSITIVE_INFINITY,a=0,c=0;c<4;++a,++c){aa(a%2?n:r,a%4>=2),i=ss.buildLayerMatrix(t);var l=qs(t,i);l<s&&(c=0,o=qo.cloneDeep(i),s=l)}ca(t,o)};function sa(t,e,n){return qo.map(e,(function(e){return na(t,e,n)}))}function aa(t,e){var n=new ia;qo.forEach(t,(function(t){var r=t.graph().root,i=ta(t,r,n,e);qo.forEach(i.vs,(function(e,n){t.node(e).order=n})),ra(t,n,i.vs)}))}function ca(t,e){qo.forEach(e,(function(e){qo.forEach(e,(function(e,n){t.node(e).order=n}))}))}var la=Hi.Graph,ua=function(t){var e,n=ss.buildLayerMatrix(t),r=qo.merge(da(t,n),ha(t,n)),i={};qo.forEach(["u","d"],(function(o){e="u"===o?n:qo.values(n).reverse(),qo.forEach(["l","r"],(function(n){"r"===n&&(e=qo.map(e,(function(t){return qo.values(t).reverse()})));var s=("u"===o?t.predecessors:t.successors).bind(t),a=ga(t,e,r,s),c=ma(t,e,a.root,a.align,"r"===n);"r"===n&&(c=qo.mapValues(c,(function(t){return-t}))),i[o+n]=c}))}));var o=va(t,i);return ba(i,o),ya(i,t.graph().align)};function da(t,e){var n={};return qo.reduce(e,(function(e,r){var i=0,o=0,s=e.length,a=qo.last(r);return qo.forEach(r,(function(e,c){var l=function(t,e){if(t.node(e).dummy)return qo.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),u=l?t.node(l).order:s;(l||e===a)&&(qo.forEach(r.slice(o,c+1),(function(e){qo.forEach(t.predecessors(e),(function(r){var o=t.node(r),s=o.order;!(s<i||u<s)||o.dummy&&t.node(e).dummy||fa(n,r,e)}))})),o=c+1,i=u)})),r})),n}function ha(t,e){var n={};function r(e,r,i,o,s){var a;qo.forEach(qo.range(r,i),(function(r){a=e[r],t.node(a).dummy&&qo.forEach(t.predecessors(a),(function(e){var r=t.node(e);r.dummy&&(r.order<o||r.order>s)&&fa(n,e,a)}))}))}return qo.reduce(e,(function(e,n){var i,o=-1,s=0;return qo.forEach(n,(function(a,c){if("border"===t.node(a).dummy){var l=t.predecessors(a);l.length&&(i=t.node(l[0]).order,r(n,s,c,o,i),s=c,o=i)}r(n,s,n.length,i,e.length)})),n})),n}function fa(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function pa(t,e,n){if(e>n){var r=e;e=n,n=r}return qo.has(t[e],n)}function ga(t,e,n,r){var i={},o={},s={};return qo.forEach(e,(function(t){qo.forEach(t,(function(t,e){i[t]=t,o[t]=t,s[t]=e}))})),qo.forEach(e,(function(t){var e=-1;qo.forEach(t,(function(t){var a=r(t);if(a.length)for(var c=((a=qo.sortBy(a,(function(t){return s[t]}))).length-1)/2,l=Math.floor(c),u=Math.ceil(c);l<=u;++l){var d=a[l];o[t]===t&&e<s[d]&&!pa(n,t,d)&&(o[d]=t,o[t]=i[t]=i[d],e=s[d])}}))})),{root:i,align:o}}function ma(t,e,n,r,i){var o={},s=function(t,e,n,r){var i=new la,o=t.graph(),s=function(t,e,n){return function(r,i,o){var s,a=r.node(i),c=r.node(o),l=0;if(l+=a.width/2,qo.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":s=-a.width/2;break;case"r":s=a.width/2}if(s&&(l+=n?s:-s),s=0,l+=(a.dummy?e:t)/2,l+=(c.dummy?e:t)/2,l+=c.width/2,qo.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(l+=n?s:-s),s=0,l}}(o.nodesep,o.edgesep,r);return qo.forEach(e,(function(e){var r;qo.forEach(e,(function(e){var o=n[e];if(i.setNode(o),r){var a=n[r],c=i.edge(a,o);i.setEdge(a,o,Math.max(s(t,e,r),c||0))}r=e}))})),i}(t,e,n,i),a=i?"borderLeft":"borderRight";function c(t,e){for(var n=s.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return c((function(t){o[t]=s.inEdges(t).reduce((function(t,e){return Math.max(t,o[e.v]+s.edge(e))}),0)}),s.predecessors.bind(s)),c((function(e){var n=s.outEdges(e).reduce((function(t,e){return Math.min(t,o[e.w]-s.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==a&&(o[e]=Math.max(o[e],n))}),s.successors.bind(s)),qo.forEach(r,(function(t){o[t]=o[n[t]]})),o}function va(t,e){return qo.minBy(qo.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return qo.forIn(e,(function(e,i){var o=function(t,e){return t.node(e).width}(t,i)/2;n=Math.max(e+o,n),r=Math.min(e-o,r)})),n-r}))}function ba(t,e){var n=qo.values(e),r=qo.min(n),i=qo.max(n);qo.forEach(["u","d"],(function(n){qo.forEach(["l","r"],(function(o){var s,a=n+o,c=t[a];if(c!==e){var l=qo.values(c);(s="l"===o?r-qo.min(l):i-qo.max(l))&&(t[a]=qo.mapValues(c,(function(t){return t+s})))}}))}))}function ya(t,e){return qo.mapValues(t.ul,(function(n,r){if(e)return t[e.toLowerCase()][r];var i=qo.sortBy(qo.map(t,r));return(i[1]+i[2])/2}))}var ka=ua,wa=function(t){(function(t){var e=ss.buildLayerMatrix(t),n=t.graph().ranksep,r=0;qo.forEach(e,(function(e){var i=qo.max(qo.map(e,(function(e){return t.node(e).height})));qo.forEach(e,(function(e){t.node(e).y=r+i/2})),r+=i+n}))})(t=ss.asNonCompoundGraph(t)),qo.forEach(ka(t),(function(e,n){t.node(n).x=e}))},_a=ss.normalizeRanks,Aa=ss.removeEmptyRanks,Ca=ss,xa=Hi.Graph,Ea=function(t,e){var n=e&&e.debugTiming?Ca.time:Ca.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new xa({multigraph:!0,compound:!0}),n=Ba(t.graph());return e.setGraph(qo.merge({},Ma,La(n,Sa),qo.pick(n,Ia))),qo.forEach(t.nodes(),(function(n){var r=Ba(t.node(n));e.setNode(n,qo.defaults(La(r,Da),Ta)),e.setParent(n,t.parent(n))})),qo.forEach(t.edges(),(function(n){var r=Ba(t.edge(n));e.setEdge(n,qo.merge({},Na,La(r,Oa),qo.pick(r,Pa)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,qo.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){qo.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){is.run(t)})),e("    nestingGraph.run",(function(){js.run(t)})),e("    rank",(function(){Ps(Ca.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){qo.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};Ca.addDummyNode(t,"edge-proxy",i,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){Aa(t)})),e("    nestingGraph.cleanup",(function(){js.cleanup(t)})),e("    normalizeRanks",(function(){_a(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;qo.forEach(t.nodes(),(function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=qo.max(e,r.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){qo.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){ls.run(t)})),e("    parentDummyChains",(function(){Rs(t)})),e("    addBorderSegments",(function(){Fs(t)})),e("    order",(function(){oa(t)})),e("    insertSelfEdges",(function(){!function(t){var e=Ca.buildLayerMatrix(t);qo.forEach(e,(function(e){var n=0;qo.forEach(e,(function(e,r){var i=t.node(e);i.order=r+n,qo.forEach(i.selfEdges,(function(e){Ca.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:r+ ++n,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){Us.adjust(t)})),e("    position",(function(){wa(t)})),e("    positionSelfEdges",(function(){!function(t){qo.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){qo.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(qo.last(n.borderLeft)),s=t.node(qo.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}})),qo.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){ls.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){qo.forEach(t.edges(),(function(e){var n=t.edge(e);if(qo.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){Us.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),s=o.marginx||0,a=o.marginy||0;function c(t){var o=t.x,s=t.y,a=t.width,c=t.height;e=Math.min(e,o-a/2),n=Math.max(n,o+a/2),r=Math.min(r,s-c/2),i=Math.max(i,s+c/2)}qo.forEach(t.nodes(),(function(e){c(t.node(e))})),qo.forEach(t.edges(),(function(e){var n=t.edge(e);qo.has(n,"x")&&c(n)})),e-=s,r-=a,qo.forEach(t.nodes(),(function(n){var i=t.node(n);i.x-=e,i.y-=r})),qo.forEach(t.edges(),(function(n){var i=t.edge(n);qo.forEach(i.points,(function(t){t.x-=e,t.y-=r})),qo.has(i,"x")&&(i.x-=e),qo.has(i,"y")&&(i.y-=r)})),o.width=n-e+s,o.height=i-r+a}(t)})),e("    assignNodeIntersects",(function(){!function(t){qo.forEach(t.edges(),(function(e){var n,r,i=t.edge(e),o=t.node(e.v),s=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=s,r=o),i.points.unshift(Ca.intersectRect(o,n)),i.points.push(Ca.intersectRect(s,r))}))}(t)})),e("    reversePoints",(function(){!function(t){qo.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){is.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){qo.forEach(t.nodes(),(function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))})),qo.forEach(t.edges(),(function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,qo.has(i,"x")&&(r.x=i.x,r.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))},Sa=["nodesep","edgesep","ranksep","marginx","marginy"],Ma={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Ia=["acyclicer","ranker","rankdir","align"],Da=["width","height"],Ta={width:0,height:0},Oa=["minlen","weight","width","height","labeloffset"],Na={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Pa=["labelpos"];function La(t,e){return qo.mapValues(qo.pick(t,e),Number)}function Ba(t){var e={};return qo.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}var Ra=Hi.Graph,ja={graphlib:Hi,layout:Ea,debug:{debugOrdering:function(t){var e=ss.buildLayerMatrix(t),n=new Ra({compound:!0,multigraph:!0}).setGraph({});return qo.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),qo.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),qo.forEach(e,(function(t,e){var r="layer"+e;n.setNode(r,{rank:"same"}),qo.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}},util:{time:ss.time,notime:ss.notime},version:"0.8.5"},za=ja.graphlib,Fa=ja.layout;class Va{constructor(t){this.cardinality=1,this.include=l.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=c.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height}}class Ua{constructor(){this.nodes={},this.edges=[],this.nodes={},this.edges=[]}}function Ga(t){const e=new Ua;return t.nodes.map((t=>new Va(t))).forEach((t=>{e.nodes[t.name]=t,t.inputs.forEach((n=>{!function(t,e,n){n.name!==e.name&&t.edges.push(Object.assign(Object.assign({},n.attr),{v:n.name,w:e.name}))}(e,t,n)}))})),e}class Ha{constructor(t,e={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=l.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=c.META,this.path=[],this.name=t,this.metaGraph=qa(t,u.META,e)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map((t=>this.metaGraph.node(t)))}leaves(){let t,e=[],n=[this];for(;n.length;){let r=n.shift();r.isGroupNode?(t=r.metaGraph,t.nodes().forEach((e=>n.push(t.node(e))))):e.push(r.name)}return e}}class $a{constructor(t,e){this.v=t,this.w=e,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(t,e){this.baseEdgeList.push(t)}}function Wa(t,e={}){return new Ha(t,e)}function Ya(t,e){return new $a(t,e)}function qa(t,e,n){const r=n||{},i=new za.Graph(r);return i.setGraph({name:t,rankdir:r.rankdir,type:e,align:r.align}),i}class Xa{constructor(t={}){this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=Wa(s,this.graphOptions),this.index[s]=this.root}getNodeMap(){return this.index}node(t){return this.index[t]}setNode(t,e){this.index[t]=e}getBridgeGraph(t){const e=this.index[t];if(!e)throw Error("Could not find node in hierarchy: "+t);if(!("metaGraph"in e))return null;const n=e;if(n.bridgeGraph)return n.bridgeGraph;const r=qa(a,u.BRIDGE,this.graphOptions);if(n.bridgeGraph=r,!e.parentNode||!("metaGraph"in e.parentNode))return r;const i=e.parentNode;return[i.metaGraph,this.getBridgeGraph(i.name)].forEach((e=>{e.edges().filter((e=>e.v===t||e.w===t)).forEach((n=>{const i=n.w===t;e.edge(n).baseEdgeList.forEach((e=>{const[o,s]=i?[e.w,n.v]:[e.v,n.w],a=this.getChildName(t,o),c={v:i?s:a,w:i?a:s};let l=r.edge(c);l||(l=Ya(c.v,c.w),l.inbound=i,r.setEdge(c.v,c.w,l)),l.addBaseEdge(e,this)}))}))})),r}getChildName(t,e){let n=this.index[e];for(;n;){if(n.parentNode&&n.parentNode.name===t)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+e)}getPredecessors(t){const e=this.index[t];if(!e)throw Error("Could not find node with name: "+t);return this.getOneWayEdges(e,!0)}getSuccessors(t){const e=this.index[t];if(!e)throw Error("Could not find node with name: "+t);return this.getOneWayEdges(e,!1)}getOneWayEdges(t,e){const n=[];if(!t.parentNode||!t.parentNode.isGroupNode)return n;const r=t.parentNode,i=r.metaGraph,o=this.getBridgeGraph(r.name);return Za(i,t,e,n),Za(o,t,e,n),n}}function Ka(t,e){const{rankDirection:n,align:r}=e,i=new Xa({rankdir:n,align:r});return function(t,e){Object.keys(e.nodes).forEach((n=>{const r=e.nodes[n],i=r.path;let o=t.root;o.depth=Math.max(i.length,o.depth);for(let e=0;e<i.length&&(o.depth=Math.max(o.depth,i.length-e),o.cardinality+=r.cardinality,e!==i.length-1);e++){const n=i[e];let s=t.node(n);s||(s=Wa(n,t.graphOptions),s.path=r.path.slice(0,e+1),s.parentNode=o,t.setNode(n,s),o.metaGraph.setNode(n,s)),o=s}t.setNode(r.name,r),r.parentNode=o,o.metaGraph.setNode(r.name,r)}))}(i,t),function(t,e){const n=t.getNodeMap();let r=[],i=[];const o=(t,e)=>{let n=0;for(;t;)e[n++]=t.name,t=t.parentNode;return n-1};e.edges.forEach((s=>{r=[],i=[];let a=o(e.nodes[s.v],r),c=o(e.nodes[s.w],i);for(;r[a]===i[c];)if(a--,c--,a<0||c<0)throw Error("No difference found between ancestor paths.");const l=n[r[a+1]],u=r[a],d=i[c];let h=l.metaGraph.edge(u,d);h||(h=Ya(u,d),l.metaGraph.setEdge(u,d,h)),h.addBaseEdge(s,t)}))}(i,t),i}function Za(t,e,n,r){(n?t.inEdges(e.name):t.outEdges(e.name)).forEach((e=>{const n=t.edge(e);r.push(n)}))}class Qa{constructor(t){this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new ec(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(t){if(t in this.hasSubHierarchy)return;this.hasSubHierarchy[t]=!0;const e=this.index[t];if(e.node.type!==c.META)return;const n=e,r=n.node.metaGraph,i=n.coreGraph;r.nodes().forEach((t=>{const e=this.getOrCreateRenderNodeByName(t);i.setNode(t,e)})),r.edges().forEach((t=>{const e=r.edge(t),n=new tc(e);i.setEdge(t.v,t.w,n)}));const o=n.node.parentNode;if(!o)return;const s=this.getRenderNodeByName(o.name),a=(t,...e)=>e.concat([t?"IN":"OUT"]).join("~~"),u=this.hierarchy.getBridgeGraph(t);u.edges().forEach((e=>{const n=u.edge(e),d=!!r.node(e.w),[h,f]=d?[e.w,e.v]:[e.v,e.w],p=e=>{const n=d?{v:e,w:t}:{v:t,w:e};return s.coreGraph.edge(n)};let g=p(f);g||(g=p(a(d,f,o.name)));const m=a(d,t),v=a(d,f,t);let b=i.node(v);if(!b){let t=i.node(m);if(!t){const e={name:m,type:c.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:l.UNSPECIFIED,inbound:d,attr:{}};t=new Ja(e),this.index[m]=t,i.setNode(m,t)}const e={name:v,type:c.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:l.UNSPECIFIED,inbound:d,attr:{}};b=new Ja(e),this.index[v]=b,i.setNode(v,b),i.setParent(v,m),t.node.cardinality++}const y=new tc(n);y.adjoiningMetaEdge=g,d?i.setEdge(v,h,y):i.setEdge(h,v,y)}))}getOrCreateRenderNodeByName(t){if(!t)return null;if(t in this.index)return this.index[t];const e=this.getNodeByName(t);return e?(this.index[t]=e.isGroupNode?new ec(e,this.hierarchy.graphOptions):new Ja(e),this.index[t]):null}getRenderNodeByName(t){return this.index[t]}getNodeByName(t){return this.hierarchy.node(t)}}class Ja{constructor(t){this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr}}class tc{constructor(t){this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}}class ec extends Ja{constructor(t,e){super(t);const n=t.metaGraph.graph();e.compound=!0,this.coreGraph=qa(n.name,u.CORE,e)}}function nc(t,e){t.node.isGroupNode&&function(t,e){const n=i(e);t.coreGraph.nodes().map((e=>t.coreGraph.node(e))).forEach((t=>{var r,i,o,s,a,l;const{height:u,width:d}=t;switch(t.node.type){case c.NODE:Object.assign(t,n.nodeSize.node),t.height=u||n.nodeSize.node.height,t.width=d||n.nodeSize.node.width;break;case c.BRIDGE:Object.assign(t,n.nodeSize.bridge);break;case c.META:t.expanded?nc(t,e):(Object.assign(t,n.nodeSize.meta),t.height=n.nodeSize.meta.height,t.width=n.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+t.node.type)}if(!t.expanded){const n=t.attr;!function(t,e=!1){if(t.coreBox.width=t.width,t.coreBox.height=t.height,!e){const e=`${t.displayName}`.length,n=3;t.width=Math.max(t.coreBox.width,e*n)}}(t,e&&(0===t.node.type&&!!(null===(i=null===(r=null==e?void 0:e.nodeSize)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.width)||1===t.node.type&&(!!(null===(s=null===(o=null==e?void 0:e.nodeSize)||void 0===o?void 0:o.node)||void 0===s?void 0:s.width)||!!n.width)||2===t.node.type&&!!(null===(l=null===(a=null==e?void 0:e.nodeSize)||void 0===a?void 0:a.bridge)||void 0===l?void 0:l.width)))}}))}(t,e),t.node.type===c.META&&function(t,e){const n=i(e),r=n.subScene.meta;Object.assign(t,r);const{nodeSep:o,rankSep:s,edgeSep:a,align:l}=n.graph.meta,u={nodesep:o,ranksep:s,edgesep:a,align:l};Object.assign(t.coreBox,function(t,e){const{ranksep:n,nodesep:r,edgesep:i,align:o}=e;Object.assign(t.graph(),{ranksep:n,nodesep:r,edgesep:i,align:o});const s=[];if(t.nodes().forEach((e=>{t.node(e).node.type!==c.BRIDGE&&s.push(e)})),!s.length)return{width:0,height:0};Fa(t);let a=1/0,l=1/0,u=-1/0,d=-1/0;return s.forEach((e=>{const n=t.node(e),r=.5*n.width,i=n.x-r,o=n.x+r;a=i<a?i:a,u=o>u?o:u;const s=.5*n.height,c=n.y-s,h=n.y+s;l=c<l?c:l,d=h>d?h:d})),t.edges().forEach((e=>{const n=t.edge(e),r=t.node(n.metaEdge.v),i=t.node(n.metaEdge.w);if(3===n.points.length&&function(t){let e=rc(t[0],t[1]);for(let n=1;n<t.length-1;n++){const r=rc(t[n],t[n+1]);if(Math.abs(r-e)>1)return!1;e=r}return!0}(n.points)){if(null!=r){const t=r.expanded?r.x:ic(r);n.points[0].x=t}if(null!=i){const t=i.expanded?i.x:ic(i);n.points[2].x=t}n.points=[n.points[0],n.points[1]]}const o=n.points[n.points.length-2];null!=i&&(n.points[n.points.length-1]=oc(o,i));const s=n.points[1];null!=r&&(n.points[0]=oc(s,r)),n.points.forEach((t=>{a=t.x<a?t.x:a,u=t.x>u?t.x:u,l=t.y<l?t.y:l,d=t.y>d?t.y:d}))})),t.nodes().forEach((e=>{const n=t.node(e);n.x-=a,n.y-=l})),t.edges().forEach((e=>{t.edge(e).points.forEach((t=>{t.x-=a,t.y-=l}))})),{width:u-a,height:d-l}}(t.coreGraph,u));let d=0;t.coreGraph.nodeCount()>0&&d++;const h=d<=1?0:d;t.coreBox.width+=h+h,t.coreBox.height=r.labelHeight+t.coreBox.height,t.width=t.coreBox.width+r.paddingLeft+r.paddingRight,t.height=t.paddingTop+t.coreBox.height+t.paddingBottom}(t,e)}function rc(t,e){const n=e.x-t.x,r=e.y-t.y;return 180*Math.atan(r/n)/Math.PI}function ic(t){return t.expanded?t.x:t.x-t.width/2+0+t.coreBox.width/2}function oc(t,e){const n=e.expanded?e.x:ic(e),r=e.y,i=t.x-n,o=t.y-r;let s,a,c=e.expanded?e.width:e.coreBox.width,l=e.expanded?e.height:e.coreBox.height;return Math.abs(o)*c/2>Math.abs(i)*l/2?(o<0&&(l=-l),s=0===o?0:l/2*i/o,a=l/2):(i<0&&(c=-c),s=c/2,a=0===i?0:c/2*o/i),{x:n+s,y:r+a}}function sc(t,e,n){var i,o,s,a;const c=t.nodes.filter(((t,e,n)=>n.findIndex((e=>e.id===t.id))!==e)).map((t=>t.id));if(c.length)throw new Error(`Duplicated ids found: ${c.join(", ")}`);const l=function(t){const e={nodes:[]},n=t.compound,r=Object.keys(n||{}),i=new Map,o=(t,e=[])=>{if(i.has(t))return i.get(t);for(let i=0;i<r.length;i++){let s=r[i];if(n&&-1!==n[s].indexOf(t))return e.unshift(s),o(s,e)}return 0===e.length&&i.set(t,e),e},s=e=>t.edges.filter((t=>t.w===e)).map((t=>({name:t.v})));return t.nodes.forEach((t=>{const n=t.id,r=[...o(n),n];let i=s(n);e.nodes.push({name:n,path:r,inputs:i,width:t.width,height:t.height,attr:Object.assign({},t)})})),e}(t),u=function(t,e){const n=(t,e)=>{for(let n of e.values())if(n.includes(t))return!0;return!1},r=(t,e=[])=>{if(0===Object.keys(t).length)return[...new Set(e)];const i=new Map(Object.keys(t).map((e=>[e,t[e]]))),o={};for(let[r,s]of i)n(r,i)?o[r]=s:e=e.concat(r,s);return r(o,e)};return r(t).filter((t=>e.includes(t)))}(t.compound||{},(null==e?void 0:e.expanded)||[]),d=function(t,e){return function(t){return new Qa(t)}(Ka(Ga(t),e))}(l,{rankDirection:(null===(o=null===(i=null==n?void 0:n.graph)||void 0===i?void 0:i.meta)||void 0===o?void 0:o.rankDir)||(null==e?void 0:e.rankDirection)||r.graph.meta.rankDir,align:(null===(a=null===(s=null==n?void 0:n.graph)||void 0===s?void 0:s.meta)||void 0===a?void 0:a.align)||r.graph.meta.align});return function(t,e){e.forEach((e=>{const n=t.getRenderInfoNodes().find((t=>t.displayName===e));let r=n&&n.node&&n.node.name||"";const i=t.getRenderNodeByName(r);if(!i)throw new Error(`No nodes found: ${r}`);i.expanded=!0,t.buildSubHierarchy(r)}))}(d,u),nc(d.root,n),lc(d.root)}function ac(t,e=!1){const n=JSON.parse(JSON.stringify(t)),r={nodes:[n],edges:[...n.edges]};return n.nodes.forEach((function t(e){(0===e.type||1===e.type)&&r.nodes.push(e),0===e.type&&(r.edges=r.edges.concat(e.edges)),Array.isArray(e.nodes)&&e.nodes.forEach(t)})),e&&r.nodes.forEach((t=>{const e=r.nodes.find((e=>e.id===t.parentNodeName));if(e){const n=e.x-e.width/2+e.paddingLeft,r=e.y-e.height/2+e.labelHeight+e.paddingTop;e.id!==s&&(t.x+=n,t.y+=r),0===t.type&&t.edges.forEach((e=>{e.points.forEach((e=>{e.x+=t.x-t.width/2+t.paddingLeft,e.y+=t.y-t.height/2+t.labelHeight+t.paddingTop}))}))}})),r}function cc(t,e,n,r){var i,o;let a=[];const c=(null===(i=n.find((e=>e.id===t)))||void 0===i?void 0:i.path)||[],l=(null===(o=n.find((t=>t.id===e)))||void 0===o?void 0:o.path)||[],u=[s,...c].slice(0,c.length).reverse(),d=[s,...l].slice(0,l.length);return u.forEach((i=>{const o=n.find((t=>t.id===i));a=a.concat(o.edges.filter((n=>n.baseEdgeList.some((n=>n.v===((null==r?void 0:r.v)||t)&&n.w===((null==r?void 0:r.w)||e))))))})),d.filter((t=>!u.includes(t))).forEach((i=>{const o=n.find((t=>t.id===i));a=a.concat(o.edges.filter((n=>n.baseEdgeList.some((n=>n.v===((null==r?void 0:r.v)||t)&&n.w===((null==r?void 0:r.w)||e))))))})),a}function lc(t){const e=t.coreGraph.nodes().map((e=>t.coreGraph.node(e)));return Object.assign(Object.assign({},uc(t)),{expanded:t.expanded,nodes:t.expanded?(n=e,n.map((t=>t.node.type===c.META?lc(t):uc(t)))):[],edges:t.expanded?dc(t):[]});var n}function uc(t){return{id:t.node.name,name:t.node.name,type:t.node.type,cardinality:t.node.cardinality,attr:t.attr,parentNodeName:t.node.parentNode?t.node.parentNode.name:null,coreBox:Object.assign({},t.coreBox),x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius,labelHeight:t.labelHeight,labelOffset:t.labelOffset,outboxWidth:t.outboxWidth,paddingLeft:t.paddingLeft,paddingTop:t.paddingTop,paddingRight:t.paddingRight,paddingBottom:t.paddingBottom,path:t.node.path}}function dc(t){return t.coreGraph.edges().map((e=>({renderInfoEdge:t.coreGraph.edge(e),edge:e}))).filter((({renderInfoEdge:t})=>t.metaEdge)).map((({edge:e,renderInfoEdge:n})=>{const r=function(t,e){const n=e.points.map((t=>Object.assign({},t)));if(e.adjoiningMetaEdge){const r=e.adjoiningMetaEdge.points,i=e.metaEdge.inbound,o=i?r[r.length-1]:r[0],s=n[i?0:n.length-1],a=t.x-t.width/2,c=t.y-t.height/2,l=o.x-a,u=o.y-c,d=-t.paddingLeft,h=-(t.paddingTop+t.labelHeight);s.x=l+d,s.y=u+h}return n}(t,n);return{adjoiningEdge:n.adjoiningMetaEdge?{w:n.adjoiningMetaEdge.metaEdge.w,v:n.adjoiningMetaEdge.metaEdge.v}:null,inbound:n.metaEdge.inbound,w:e.w,v:e.v,points:r,weight:n.weight,baseEdgeList:n.metaEdge.baseEdgeList,parentNodeName:t.node.name}}))}},7823:function(t,e,n){"use strict";n.r(e),n.d(e,{ARRAY_TYPE:function(){return i},EPSILON:function(){return r},RANDOM:function(){return o},equals:function(){return l},setMatrixArrayType:function(){return s},toRadian:function(){return c}});var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array,o=Math.random;function s(t){i=t}var a=Math.PI/180;function c(t){return t*a}function l(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))}Math.hypot||(Math.hypot=function(){var t=0,e=arguments.length;while(e--)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},3298:function(t,e,n){"use strict";n.r(e),n.d(e,{glMatrix:function(){return l},mat2:function(){return r},mat2d:function(){return i},mat3:function(){return at},mat4:function(){return o},quat:function(){return a},quat2:function(){return c},vec2:function(){return br},vec3:function(){return oe},vec4:function(){return s}});var r={};n.r(r),n.d(r,{LDU:function(){return S},add:function(){return M},adjoint:function(){return b},clone:function(){return d},copy:function(){return h},create:function(){return u},determinant:function(){return y},equals:function(){return T},exactEquals:function(){return D},frob:function(){return E},fromRotation:function(){return A},fromScaling:function(){return C},fromValues:function(){return p},identity:function(){return f},invert:function(){return v},mul:function(){return P},multiply:function(){return k},multiplyScalar:function(){return O},multiplyScalarAndAdd:function(){return N},rotate:function(){return w},scale:function(){return _},set:function(){return g},str:function(){return x},sub:function(){return L},subtract:function(){return I},transpose:function(){return m}});var i={};n.r(i),n.d(i,{add:function(){return J},clone:function(){return R},copy:function(){return j},create:function(){return B},determinant:function(){return G},equals:function(){return it},exactEquals:function(){return rt},frob:function(){return Q},fromRotation:function(){return q},fromScaling:function(){return X},fromTranslation:function(){return K},fromValues:function(){return F},identity:function(){return z},invert:function(){return U},mul:function(){return ot},multiply:function(){return H},multiplyScalar:function(){return et},multiplyScalarAndAdd:function(){return nt},rotate:function(){return $},scale:function(){return W},set:function(){return V},str:function(){return Z},sub:function(){return st},subtract:function(){return tt},translate:function(){return Y}});var o={};n.r(o),n.d(o,{add:function(){return Zt},adjoint:function(){return mt},clone:function(){return lt},copy:function(){return ut},create:function(){return ct},determinant:function(){return vt},equals:function(){return ne},exactEquals:function(){return ee},frob:function(){return Kt},fromQuat:function(){return jt},fromQuat2:function(){return Ot},fromRotation:function(){return St},fromRotationTranslation:function(){return Tt},fromRotationTranslationScale:function(){return Bt},fromRotationTranslationScaleOrigin:function(){return Rt},fromScaling:function(){return Et},fromTranslation:function(){return xt},fromValues:function(){return dt},fromXRotation:function(){return Mt},fromYRotation:function(){return It},fromZRotation:function(){return Dt},frustum:function(){return zt},getRotation:function(){return Lt},getScaling:function(){return Pt},getTranslation:function(){return Nt},identity:function(){return ft},invert:function(){return gt},lookAt:function(){return Yt},mul:function(){return re},multiply:function(){return bt},multiplyScalar:function(){return Jt},multiplyScalarAndAdd:function(){return te},ortho:function(){return $t},orthoNO:function(){return Ht},orthoZO:function(){return Wt},perspective:function(){return Vt},perspectiveFromFieldOfView:function(){return Gt},perspectiveNO:function(){return Ft},perspectiveZO:function(){return Ut},rotate:function(){return wt},rotateX:function(){return _t},rotateY:function(){return At},rotateZ:function(){return Ct},scale:function(){return kt},set:function(){return ht},str:function(){return Xt},sub:function(){return ie},subtract:function(){return Qt},targetTo:function(){return qt},translate:function(){return yt},transpose:function(){return pt}});var s={};n.r(s),n.d(s,{add:function(){return de},ceil:function(){return ge},clone:function(){return ae},copy:function(){return le},create:function(){return se},cross:function(){return De},dist:function(){return Ue},distance:function(){return _e},div:function(){return Ve},divide:function(){return pe},dot:function(){return Ie},equals:function(){return je},exactEquals:function(){return Re},floor:function(){return me},forEach:function(){return We},fromValues:function(){return ce},inverse:function(){return Se},len:function(){return He},length:function(){return Ce},lerp:function(){return Te},max:function(){return be},min:function(){return ve},mul:function(){return Fe},multiply:function(){return fe},negate:function(){return Ee},normalize:function(){return Me},random:function(){return Oe},round:function(){return ye},scale:function(){return ke},scaleAndAdd:function(){return we},set:function(){return ue},sqrDist:function(){return Ge},sqrLen:function(){return $e},squaredDistance:function(){return Ae},squaredLength:function(){return xe},str:function(){return Be},sub:function(){return ze},subtract:function(){return he},transformMat4:function(){return Ne},transformQuat:function(){return Pe},zero:function(){return Le}});var a={};n.r(a),n.d(a,{add:function(){return bn},calculateW:function(){return nn},clone:function(){return pn},conjugate:function(){return un},copy:function(){return mn},create:function(){return Ye},dot:function(){return wn},equals:function(){return In},exactEquals:function(){return Mn},exp:function(){return rn},fromEuler:function(){return hn},fromMat3:function(){return dn},fromValues:function(){return gn},getAngle:function(){return Ze},getAxisAngle:function(){return Ke},identity:function(){return qe},invert:function(){return ln},len:function(){return Cn},length:function(){return An},lerp:function(){return _n},ln:function(){return on},mul:function(){return yn},multiply:function(){return Qe},normalize:function(){return Sn},pow:function(){return sn},random:function(){return cn},rotateX:function(){return Je},rotateY:function(){return tn},rotateZ:function(){return en},rotationTo:function(){return Dn},scale:function(){return kn},set:function(){return vn},setAxes:function(){return On},setAxisAngle:function(){return Xe},slerp:function(){return an},sqlerp:function(){return Tn},sqrLen:function(){return En},squaredLength:function(){return xn},str:function(){return fn}});var c={};n.r(c),n.d(c,{add:function(){return nr},clone:function(){return Pn},conjugate:function(){return lr},copy:function(){return Vn},create:function(){return Nn},dot:function(){return sr},equals:function(){return vr},exactEquals:function(){return mr},fromMat4:function(){return Fn},fromRotation:function(){return zn},fromRotationTranslation:function(){return Rn},fromRotationTranslationValues:function(){return Bn},fromTranslation:function(){return jn},fromValues:function(){return Ln},getDual:function(){return $n},getReal:function(){return Hn},getTranslation:function(){return qn},identity:function(){return Un},invert:function(){return cr},len:function(){return dr},length:function(){return ur},lerp:function(){return ar},mul:function(){return ir},multiply:function(){return rr},normalize:function(){return pr},rotateAroundAxis:function(){return er},rotateByQuatAppend:function(){return Jn},rotateByQuatPrepend:function(){return tr},rotateX:function(){return Kn},rotateY:function(){return Zn},rotateZ:function(){return Qn},scale:function(){return or},set:function(){return Gn},setDual:function(){return Yn},setReal:function(){return Wn},sqrLen:function(){return fr},squaredLength:function(){return hr},str:function(){return gr},translate:function(){return Xn}});var l=n(7823);function u(){var t=new l.ARRAY_TYPE(4);return l.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function d(t){var e=new l.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function p(t,e,n,r){var i=new l.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function g(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function m(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function v(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n*o-i*r;return s?(s=1/s,t[0]=o*s,t[1]=-r*s,t[2]=-i*s,t[3]=n*s,t):null}function b(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function y(t){return t[0]*t[3]-t[2]*t[1]}function k(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=n[0],c=n[1],l=n[2],u=n[3];return t[0]=r*a+o*c,t[1]=i*a+s*c,t[2]=r*l+o*u,t[3]=i*l+s*u,t}function w(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*a,t[1]=i*c+s*a,t[2]=r*-a+o*c,t[3]=i*-a+s*c,t}function _(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=n[0],c=n[1];return t[0]=r*a,t[1]=i*a,t[2]=o*c,t[3]=s*c,t}function A(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function C(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function x(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function E(t){return Math.hypot(t[0],t[1],t[2],t[3])}function S(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function M(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function I(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function D(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function T(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],s=e[0],a=e[1],c=e[2],u=e[3];return Math.abs(n-s)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-a)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-c)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-u)<=l.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))}function O(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function N(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}var P=k,L=I;function B(){var t=new l.ARRAY_TYPE(6);return l.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function R(t){var e=new l.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function j(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function z(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function F(t,e,n,r,i,o){var s=new l.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=r,s[4]=i,s[5]=o,s}function V(t,e,n,r,i,o,s){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t}function U(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=n*o-r*i;return c?(c=1/c,t[0]=o*c,t[1]=-r*c,t[2]=-i*c,t[3]=n*c,t[4]=(i*a-o*s)*c,t[5]=(r*s-n*a)*c,t):null}function G(t){return t[0]*t[3]-t[1]*t[2]}function H(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=n[0],u=n[1],d=n[2],h=n[3],f=n[4],p=n[5];return t[0]=r*l+o*u,t[1]=i*l+s*u,t[2]=r*d+o*h,t[3]=i*d+s*h,t[4]=r*f+o*p+a,t[5]=i*f+s*p+c,t}function $(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*l,t[1]=i*u+s*l,t[2]=r*-l+o*u,t[3]=i*-l+s*u,t[4]=a,t[5]=c,t}function W(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=n[0],u=n[1];return t[0]=r*l,t[1]=i*l,t[2]=o*u,t[3]=s*u,t[4]=a,t[5]=c,t}function Y(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=n[0],u=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=s,t[4]=r*l+o*u+a,t[5]=i*l+s*u+c,t}function q(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function X(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function K(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function Z(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function Q(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function J(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function tt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function et(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function nt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function rt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function it(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=e[0],u=e[1],d=e[2],h=e[3],f=e[4],p=e[5];return Math.abs(n-c)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-u)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-d)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-h)<=l.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-f)<=l.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-p)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))}var ot=H,st=tt,at=n(1409);function ct(){var t=new l.ARRAY_TYPE(16);return l.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function lt(t){var e=new l.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ut(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function dt(t,e,n,r,i,o,s,a,c,u,d,h,f,p,g,m){var v=new l.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=r,v[4]=i,v[5]=o,v[6]=s,v[7]=a,v[8]=c,v[9]=u,v[10]=d,v[11]=h,v[12]=f,v[13]=p,v[14]=g,v[15]=m,v}function ht(t,e,n,r,i,o,s,a,c,l,u,d,h,f,p,g,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t[6]=a,t[7]=c,t[8]=l,t[9]=u,t[10]=d,t[11]=h,t[12]=f,t[13]=p,t[14]=g,t[15]=m,t}function ft(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pt(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],s=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=s,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function gt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15],b=n*a-r*s,y=n*c-i*s,k=n*l-o*s,w=r*c-i*a,_=r*l-o*a,A=i*l-o*c,C=u*g-d*p,x=u*m-h*p,E=u*v-f*p,S=d*m-h*g,M=d*v-f*g,I=h*v-f*m,D=b*I-y*M+k*S+w*E-_*x+A*C;return D?(D=1/D,t[0]=(a*I-c*M+l*S)*D,t[1]=(i*M-r*I-o*S)*D,t[2]=(g*A-m*_+v*w)*D,t[3]=(h*_-d*A-f*w)*D,t[4]=(c*E-s*I-l*x)*D,t[5]=(n*I-i*E+o*x)*D,t[6]=(m*k-p*A-v*y)*D,t[7]=(u*A-h*k+f*y)*D,t[8]=(s*M-a*E+l*C)*D,t[9]=(r*E-n*M-o*C)*D,t[10]=(p*_-g*k+v*b)*D,t[11]=(d*k-u*_-f*b)*D,t[12]=(a*x-s*S-c*C)*D,t[13]=(n*S-r*x+i*C)*D,t[14]=(g*y-p*w-m*b)*D,t[15]=(u*w-d*y+h*b)*D,t):null}function mt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15];return t[0]=a*(h*v-f*m)-d*(c*v-l*m)+g*(c*f-l*h),t[1]=-(r*(h*v-f*m)-d*(i*v-o*m)+g*(i*f-o*h)),t[2]=r*(c*v-l*m)-a*(i*v-o*m)+g*(i*l-o*c),t[3]=-(r*(c*f-l*h)-a*(i*f-o*h)+d*(i*l-o*c)),t[4]=-(s*(h*v-f*m)-u*(c*v-l*m)+p*(c*f-l*h)),t[5]=n*(h*v-f*m)-u*(i*v-o*m)+p*(i*f-o*h),t[6]=-(n*(c*v-l*m)-s*(i*v-o*m)+p*(i*l-o*c)),t[7]=n*(c*f-l*h)-s*(i*f-o*h)+u*(i*l-o*c),t[8]=s*(d*v-f*g)-u*(a*v-l*g)+p*(a*f-l*d),t[9]=-(n*(d*v-f*g)-u*(r*v-o*g)+p*(r*f-o*d)),t[10]=n*(a*v-l*g)-s*(r*v-o*g)+p*(r*l-o*a),t[11]=-(n*(a*f-l*d)-s*(r*f-o*d)+u*(r*l-o*a)),t[12]=-(s*(d*m-h*g)-u*(a*m-c*g)+p*(a*h-c*d)),t[13]=n*(d*m-h*g)-u*(r*m-i*g)+p*(r*h-i*d),t[14]=-(n*(a*m-c*g)-s*(r*m-i*g)+p*(r*c-i*a)),t[15]=n*(a*h-c*d)-s*(r*h-i*d)+u*(r*c-i*a),t}function vt(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],c=t[7],l=t[8],u=t[9],d=t[10],h=t[11],f=t[12],p=t[13],g=t[14],m=t[15],v=e*s-n*o,b=e*a-r*o,y=e*c-i*o,k=n*a-r*s,w=n*c-i*s,_=r*c-i*a,A=l*p-u*f,C=l*g-d*f,x=l*m-h*f,E=u*g-d*p,S=u*m-h*p,M=d*m-h*g;return v*M-b*S+y*E+k*x-w*C+_*A}function bt(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],d=e[8],h=e[9],f=e[10],p=e[11],g=e[12],m=e[13],v=e[14],b=e[15],y=n[0],k=n[1],w=n[2],_=n[3];return t[0]=y*r+k*a+w*d+_*g,t[1]=y*i+k*c+w*h+_*m,t[2]=y*o+k*l+w*f+_*v,t[3]=y*s+k*u+w*p+_*b,y=n[4],k=n[5],w=n[6],_=n[7],t[4]=y*r+k*a+w*d+_*g,t[5]=y*i+k*c+w*h+_*m,t[6]=y*o+k*l+w*f+_*v,t[7]=y*s+k*u+w*p+_*b,y=n[8],k=n[9],w=n[10],_=n[11],t[8]=y*r+k*a+w*d+_*g,t[9]=y*i+k*c+w*h+_*m,t[10]=y*o+k*l+w*f+_*v,t[11]=y*s+k*u+w*p+_*b,y=n[12],k=n[13],w=n[14],_=n[15],t[12]=y*r+k*a+w*d+_*g,t[13]=y*i+k*c+w*h+_*m,t[14]=y*o+k*l+w*f+_*v,t[15]=y*s+k*u+w*p+_*b,t}function yt(t,e,n){var r,i,o,s,a,c,l,u,d,h,f,p,g=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],d=e[8],h=e[9],f=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=s,t[4]=a,t[5]=c,t[6]=l,t[7]=u,t[8]=d,t[9]=h,t[10]=f,t[11]=p,t[12]=r*g+a*m+d*v+e[12],t[13]=i*g+c*m+h*v+e[13],t[14]=o*g+l*m+f*v+e[14],t[15]=s*g+u*m+p*v+e[15]),t}function kt(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function wt(t,e,n,r){var i,o,s,a,c,u,d,h,f,p,g,m,v,b,y,k,w,_,A,C,x,E,S,M,I=r[0],D=r[1],T=r[2],O=Math.hypot(I,D,T);return O<l.EPSILON?null:(O=1/O,I*=O,D*=O,T*=O,i=Math.sin(n),o=Math.cos(n),s=1-o,a=e[0],c=e[1],u=e[2],d=e[3],h=e[4],f=e[5],p=e[6],g=e[7],m=e[8],v=e[9],b=e[10],y=e[11],k=I*I*s+o,w=D*I*s+T*i,_=T*I*s-D*i,A=I*D*s-T*i,C=D*D*s+o,x=T*D*s+I*i,E=I*T*s+D*i,S=D*T*s-I*i,M=T*T*s+o,t[0]=a*k+h*w+m*_,t[1]=c*k+f*w+v*_,t[2]=u*k+p*w+b*_,t[3]=d*k+g*w+y*_,t[4]=a*A+h*C+m*x,t[5]=c*A+f*C+v*x,t[6]=u*A+p*C+b*x,t[7]=d*A+g*C+y*x,t[8]=a*E+h*S+m*M,t[9]=c*E+f*S+v*M,t[10]=u*E+p*S+b*M,t[11]=d*E+g*S+y*M,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function _t(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],s=e[5],a=e[6],c=e[7],l=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=s*i+u*r,t[6]=a*i+d*r,t[7]=c*i+h*r,t[8]=l*i-o*r,t[9]=u*i-s*r,t[10]=d*i-a*r,t[11]=h*i-c*r,t}function At(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],s=e[1],a=e[2],c=e[3],l=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*r,t[1]=s*i-u*r,t[2]=a*i-d*r,t[3]=c*i-h*r,t[8]=o*r+l*i,t[9]=s*r+u*i,t[10]=a*r+d*i,t[11]=c*r+h*i,t}function Ct(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],s=e[1],a=e[2],c=e[3],l=e[4],u=e[5],d=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=s*i+u*r,t[2]=a*i+d*r,t[3]=c*i+h*r,t[4]=l*i-o*r,t[5]=u*i-s*r,t[6]=d*i-a*r,t[7]=h*i-c*r,t}function xt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Et(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function St(t,e,n){var r,i,o,s=n[0],a=n[1],c=n[2],u=Math.hypot(s,a,c);return u<l.EPSILON?null:(u=1/u,s*=u,a*=u,c*=u,r=Math.sin(e),i=Math.cos(e),o=1-i,t[0]=s*s*o+i,t[1]=a*s*o+c*r,t[2]=c*s*o-a*r,t[3]=0,t[4]=s*a*o-c*r,t[5]=a*a*o+i,t[6]=c*a*o+s*r,t[7]=0,t[8]=s*c*o+a*r,t[9]=a*c*o-s*r,t[10]=c*c*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Mt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function It(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Dt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Tt(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=r+r,c=i+i,l=o+o,u=r*a,d=r*c,h=r*l,f=i*c,p=i*l,g=o*l,m=s*a,v=s*c,b=s*l;return t[0]=1-(f+g),t[1]=d+b,t[2]=h-v,t[3]=0,t[4]=d-b,t[5]=1-(u+g),t[6]=p+m,t[7]=0,t[8]=h+v,t[9]=p-m,t[10]=1-(u+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Ot(t,e){var n=new l.ARRAY_TYPE(3),r=-e[0],i=-e[1],o=-e[2],s=e[3],a=e[4],c=e[5],u=e[6],d=e[7],h=r*r+i*i+o*o+s*s;return h>0?(n[0]=2*(a*s+d*r+c*o-u*i)/h,n[1]=2*(c*s+d*i+u*r-a*o)/h,n[2]=2*(u*s+d*o+a*i-c*r)/h):(n[0]=2*(a*s+d*r+c*o-u*i),n[1]=2*(c*s+d*i+u*r-a*o),n[2]=2*(u*s+d*o+a*i-c*r)),Tt(t,e,n),t}function Nt(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Pt(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],s=e[5],a=e[6],c=e[8],l=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,s,a),t[2]=Math.hypot(c,l,u),t}function Lt(t,e){var n=new l.ARRAY_TYPE(3);Pt(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],s=e[0]*r,a=e[1]*i,c=e[2]*o,u=e[4]*r,d=e[5]*i,h=e[6]*o,f=e[8]*r,p=e[9]*i,g=e[10]*o,m=s+d+g,v=0;return m>0?(v=2*Math.sqrt(m+1),t[3]=.25*v,t[0]=(h-p)/v,t[1]=(f-c)/v,t[2]=(a-u)/v):s>d&&s>g?(v=2*Math.sqrt(1+s-d-g),t[3]=(h-p)/v,t[0]=.25*v,t[1]=(a+u)/v,t[2]=(f+c)/v):d>g?(v=2*Math.sqrt(1+d-s-g),t[3]=(f-c)/v,t[0]=(a+u)/v,t[1]=.25*v,t[2]=(h+p)/v):(v=2*Math.sqrt(1+g-s-d),t[3]=(a-u)/v,t[0]=(f+c)/v,t[1]=(h+p)/v,t[2]=.25*v),t}function Bt(t,e,n,r){var i=e[0],o=e[1],s=e[2],a=e[3],c=i+i,l=o+o,u=s+s,d=i*c,h=i*l,f=i*u,p=o*l,g=o*u,m=s*u,v=a*c,b=a*l,y=a*u,k=r[0],w=r[1],_=r[2];return t[0]=(1-(p+m))*k,t[1]=(h+y)*k,t[2]=(f-b)*k,t[3]=0,t[4]=(h-y)*w,t[5]=(1-(d+m))*w,t[6]=(g+v)*w,t[7]=0,t[8]=(f+b)*_,t[9]=(g-v)*_,t[10]=(1-(d+p))*_,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Rt(t,e,n,r,i){var o=e[0],s=e[1],a=e[2],c=e[3],l=o+o,u=s+s,d=a+a,h=o*l,f=o*u,p=o*d,g=s*u,m=s*d,v=a*d,b=c*l,y=c*u,k=c*d,w=r[0],_=r[1],A=r[2],C=i[0],x=i[1],E=i[2],S=(1-(g+v))*w,M=(f+k)*w,I=(p-y)*w,D=(f-k)*_,T=(1-(h+v))*_,O=(m+b)*_,N=(p+y)*A,P=(m-b)*A,L=(1-(h+g))*A;return t[0]=S,t[1]=M,t[2]=I,t[3]=0,t[4]=D,t[5]=T,t[6]=O,t[7]=0,t[8]=N,t[9]=P,t[10]=L,t[11]=0,t[12]=n[0]+C-(S*C+D*x+N*E),t[13]=n[1]+x-(M*C+T*x+P*E),t[14]=n[2]+E-(I*C+O*x+L*E),t[15]=1,t}function jt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n+n,a=r+r,c=i+i,l=n*s,u=r*s,d=r*a,h=i*s,f=i*a,p=i*c,g=o*s,m=o*a,v=o*c;return t[0]=1-d-p,t[1]=u+v,t[2]=h-m,t[3]=0,t[4]=u-v,t[5]=1-l-p,t[6]=f+g,t[7]=0,t[8]=h+m,t[9]=f-g,t[10]=1-l-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function zt(t,e,n,r,i,o,s){var a=1/(n-e),c=1/(i-r),l=1/(o-s);return t[0]=2*o*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*c,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(i+r)*c,t[10]=(s+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*l,t[15]=0,t}function Ft(t,e,n,r,i){var o,s=1/Math.tan(e/2);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}var Vt=Ft;function Ut(t,e,n,r,i){var o,s=1/Math.tan(e/2);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t}function Gt(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),c=2/(s+a),l=2/(i+o);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(s-a)*c*.5,t[9]=(i-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Ht(t,e,n,r,i,o,s){var a=1/(e-n),c=1/(r-i),l=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*c,t[14]=(s+o)*l,t[15]=1,t}var $t=Ht;function Wt(t,e,n,r,i,o,s){var a=1/(e-n),c=1/(r-i),l=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*c,t[14]=o*l,t[15]=1,t}function Yt(t,e,n,r){var i,o,s,a,c,u,d,h,f,p,g=e[0],m=e[1],v=e[2],b=r[0],y=r[1],k=r[2],w=n[0],_=n[1],A=n[2];return Math.abs(g-w)<l.EPSILON&&Math.abs(m-_)<l.EPSILON&&Math.abs(v-A)<l.EPSILON?ft(t):(d=g-w,h=m-_,f=v-A,p=1/Math.hypot(d,h,f),d*=p,h*=p,f*=p,i=y*f-k*h,o=k*d-b*f,s=b*h-y*d,p=Math.hypot(i,o,s),p?(p=1/p,i*=p,o*=p,s*=p):(i=0,o=0,s=0),a=h*s-f*o,c=f*i-d*s,u=d*o-h*i,p=Math.hypot(a,c,u),p?(p=1/p,a*=p,c*=p,u*=p):(a=0,c=0,u=0),t[0]=i,t[1]=a,t[2]=d,t[3]=0,t[4]=o,t[5]=c,t[6]=h,t[7]=0,t[8]=s,t[9]=u,t[10]=f,t[11]=0,t[12]=-(i*g+o*m+s*v),t[13]=-(a*g+c*m+u*v),t[14]=-(d*g+h*m+f*v),t[15]=1,t)}function qt(t,e,n,r){var i=e[0],o=e[1],s=e[2],a=r[0],c=r[1],l=r[2],u=i-n[0],d=o-n[1],h=s-n[2],f=u*u+d*d+h*h;f>0&&(f=1/Math.sqrt(f),u*=f,d*=f,h*=f);var p=c*h-l*d,g=l*u-a*h,m=a*d-c*u;return f=p*p+g*g+m*m,f>0&&(f=1/Math.sqrt(f),p*=f,g*=f,m*=f),t[0]=p,t[1]=g,t[2]=m,t[3]=0,t[4]=d*m-h*g,t[5]=h*p-u*m,t[6]=u*g-d*p,t[7]=0,t[8]=u,t[9]=d,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=s,t[15]=1,t}function Xt(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Kt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Zt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Qt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Jt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function te(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function ee(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function ne(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],u=t[7],d=t[8],h=t[9],f=t[10],p=t[11],g=t[12],m=t[13],v=t[14],b=t[15],y=e[0],k=e[1],w=e[2],_=e[3],A=e[4],C=e[5],x=e[6],E=e[7],S=e[8],M=e[9],I=e[10],D=e[11],T=e[12],O=e[13],N=e[14],P=e[15];return Math.abs(n-y)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-k)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(k))&&Math.abs(i-w)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-_)<=l.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(s-A)<=l.EPSILON*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(a-C)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(C))&&Math.abs(c-x)<=l.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(u-E)<=l.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(d-S)<=l.EPSILON*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(h-M)<=l.EPSILON*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(f-I)<=l.EPSILON*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(p-D)<=l.EPSILON*Math.max(1,Math.abs(p),Math.abs(D))&&Math.abs(g-T)<=l.EPSILON*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(m-O)<=l.EPSILON*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(v-N)<=l.EPSILON*Math.max(1,Math.abs(v),Math.abs(N))&&Math.abs(b-P)<=l.EPSILON*Math.max(1,Math.abs(b),Math.abs(P))}var re=bt,ie=Qt,oe=n(329);function se(){var t=new l.ARRAY_TYPE(4);return l.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function ae(t){var e=new l.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function ce(t,e,n,r){var i=new l.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function le(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function ue(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function de(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function he(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function fe(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function pe(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function ge(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function me(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function ve(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function be(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function ye(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function ke(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function we(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function _e(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.hypot(n,r,i,o)}function Ae(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function Ce(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function xe(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function Ee(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function Se(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function Me(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s)),t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=o*s,t}function Ie(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function De(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],s=n[0]*r[3]-n[3]*r[0],a=n[1]*r[2]-n[2]*r[1],c=n[1]*r[3]-n[3]*r[1],l=n[2]*r[3]-n[3]*r[2],u=e[0],d=e[1],h=e[2],f=e[3];return t[0]=d*l-h*c+f*a,t[1]=-u*l+h*s-f*o,t[2]=u*c-d*s+f*i,t[3]=-u*a+d*o-h*i,t}function Te(t,e,n,r){var i=e[0],o=e[1],s=e[2],a=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=s+r*(n[2]-s),t[3]=a+r*(n[3]-a),t}function Oe(t,e){var n,r,i,o,s,a;e=e||1;do{n=2*l.RANDOM()-1,r=2*l.RANDOM()-1,s=n*n+r*r}while(s>=1);do{i=2*l.RANDOM()-1,o=2*l.RANDOM()-1,a=i*i+o*o}while(a>=1);var c=Math.sqrt((1-s)/a);return t[0]=e*n,t[1]=e*r,t[2]=e*i*c,t[3]=e*o*c,t}function Ne(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,t}function Pe(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],c=n[2],l=n[3],u=l*r+a*o-c*i,d=l*i+c*r-s*o,h=l*o+s*i-a*r,f=-s*r-a*i-c*o;return t[0]=u*l+f*-s+d*-c-h*-a,t[1]=d*l+f*-a+h*-s-u*-c,t[2]=h*l+f*-c+u*-a-d*-s,t[3]=e[3],t}function Le(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Be(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Re(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function je(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],s=e[0],a=e[1],c=e[2],u=e[3];return Math.abs(n-s)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-a)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-c)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-u)<=l.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))}var ze=he,Fe=fe,Ve=pe,Ue=_e,Ge=Ae,He=Ce,$e=xe,We=function(){var t=se();return function(e,n,r,i,o,s){var a,c;for(n||(n=4),r||(r=0),c=i?Math.min(i*n+r,e.length):e.length,a=r;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}}();function Ye(){var t=new l.ARRAY_TYPE(4);return l.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function qe(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Xe(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Ke(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>l.EPSILON?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Ze(t,e){var n=wn(t,e);return Math.acos(2*n*n-1)}function Qe(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=n[0],c=n[1],l=n[2],u=n[3];return t[0]=r*u+s*a+i*l-o*c,t[1]=i*u+s*c+o*a-r*l,t[2]=o*u+s*l+r*c-i*a,t[3]=s*u-r*a-i*c-o*l,t}function Je(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),c=Math.cos(n);return t[0]=r*c+s*a,t[1]=i*c+o*a,t[2]=o*c-i*a,t[3]=s*c-r*a,t}function tn(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),c=Math.cos(n);return t[0]=r*c-o*a,t[1]=i*c+s*a,t[2]=o*c+r*a,t[3]=s*c-i*a,t}function en(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),c=Math.cos(n);return t[0]=r*c+i*a,t[1]=i*c-r*a,t[2]=o*c+s*a,t[3]=s*c-o*a,t}function nn(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function rn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=Math.sqrt(n*n+r*r+i*i),a=Math.exp(o),c=s>0?a*Math.sin(s)/s:0;return t[0]=n*c,t[1]=r*c,t[2]=i*c,t[3]=a*Math.cos(s),t}function on(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=Math.sqrt(n*n+r*r+i*i),a=s>0?Math.atan2(s,o)/s:0;return t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=.5*Math.log(n*n+r*r+i*i+o*o),t}function sn(t,e,n){return on(t,e),kn(t,t,n),rn(t,t),t}function an(t,e,n,r){var i,o,s,a,c,u=e[0],d=e[1],h=e[2],f=e[3],p=n[0],g=n[1],m=n[2],v=n[3];return o=u*p+d*g+h*m+f*v,o<0&&(o=-o,p=-p,g=-g,m=-m,v=-v),1-o>l.EPSILON?(i=Math.acos(o),s=Math.sin(i),a=Math.sin((1-r)*i)/s,c=Math.sin(r*i)/s):(a=1-r,c=r),t[0]=a*u+c*p,t[1]=a*d+c*g,t[2]=a*h+c*m,t[3]=a*f+c*v,t}function cn(t){var e=l.RANDOM(),n=l.RANDOM(),r=l.RANDOM(),i=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*r),t[3]=o*Math.cos(2*Math.PI*r),t}function ln(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o,a=s?1/s:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=o*a,t}function un(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function dn(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,s=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*s+s]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+s]-e[3*s+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[s]=(e[3*s+i]+e[3*i+s])*n}return t}function hn(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),s=Math.cos(e),a=Math.sin(n),c=Math.cos(n),l=Math.sin(r),u=Math.cos(r);return t[0]=o*c*u-s*a*l,t[1]=s*a*u+o*c*l,t[2]=s*c*l-o*a*u,t[3]=s*c*u+o*a*l,t}function fn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var pn=ae,gn=ce,mn=le,vn=ue,bn=de,yn=Qe,kn=ke,wn=Ie,_n=Te,An=Ce,Cn=An,xn=xe,En=xn,Sn=Me,Mn=Re,In=je,Dn=function(){var t=oe.create(),e=oe.fromValues(1,0,0),n=oe.fromValues(0,1,0);return function(r,i,o){var s=oe.dot(i,o);return s<-.999999?(oe.cross(t,e,i),oe.len(t)<1e-6&&oe.cross(t,n,i),oe.normalize(t,t),Xe(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(oe.cross(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,Sn(r,r))}}(),Tn=function(){var t=Ye(),e=Ye();return function(n,r,i,o,s,a){return an(t,r,s,a),an(e,i,o,a),an(n,t,e,2*a*(1-a)),n}}(),On=function(){var t=at.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],Sn(e,dn(e,t))}}();function Nn(){var t=new l.ARRAY_TYPE(8);return l.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function Pn(t){var e=new l.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Ln(t,e,n,r,i,o,s,a){var c=new l.ARRAY_TYPE(8);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=s,c[7]=a,c}function Bn(t,e,n,r,i,o,s){var a=new l.ARRAY_TYPE(8);a[0]=t,a[1]=e,a[2]=n,a[3]=r;var c=.5*i,u=.5*o,d=.5*s;return a[4]=c*r+u*n-d*e,a[5]=u*r+d*t-c*n,a[6]=d*r+c*e-u*t,a[7]=-c*t-u*e-d*n,a}function Rn(t,e,n){var r=.5*n[0],i=.5*n[1],o=.5*n[2],s=e[0],a=e[1],c=e[2],l=e[3];return t[0]=s,t[1]=a,t[2]=c,t[3]=l,t[4]=r*l+i*c-o*a,t[5]=i*l+o*s-r*c,t[6]=o*l+r*a-i*s,t[7]=-r*s-i*a-o*c,t}function jn(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function zn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Fn(t,e){var n=Ye();Lt(n,e);var r=new l.ARRAY_TYPE(3);return Nt(r,e),Rn(t,n,r),t}function Vn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Un(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Gn(t,e,n,r,i,o,s,a,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t[6]=a,t[7]=c,t}var Hn=mn;function $n(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Wn=mn;function Yn(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function qn(t,e){var n=e[4],r=e[5],i=e[6],o=e[7],s=-e[0],a=-e[1],c=-e[2],l=e[3];return t[0]=2*(n*l+o*s+r*c-i*a),t[1]=2*(r*l+o*a+i*s-n*c),t[2]=2*(i*l+o*c+n*a-r*s),t}function Xn(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=.5*n[0],c=.5*n[1],l=.5*n[2],u=e[4],d=e[5],h=e[6],f=e[7];return t[0]=r,t[1]=i,t[2]=o,t[3]=s,t[4]=s*a+i*l-o*c+u,t[5]=s*c+o*a-r*l+d,t[6]=s*l+r*c-i*a+h,t[7]=-r*a-i*c-o*l+f,t}function Kn(t,e,n){var r=-e[0],i=-e[1],o=-e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],d=a*s+u*r+c*o-l*i,h=c*s+u*i+l*r-a*o,f=l*s+u*o+a*i-c*r,p=u*s-a*r-c*i-l*o;return Je(t,e,n),r=t[0],i=t[1],o=t[2],s=t[3],t[4]=d*s+p*r+h*o-f*i,t[5]=h*s+p*i+f*r-d*o,t[6]=f*s+p*o+d*i-h*r,t[7]=p*s-d*r-h*i-f*o,t}function Zn(t,e,n){var r=-e[0],i=-e[1],o=-e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],d=a*s+u*r+c*o-l*i,h=c*s+u*i+l*r-a*o,f=l*s+u*o+a*i-c*r,p=u*s-a*r-c*i-l*o;return tn(t,e,n),r=t[0],i=t[1],o=t[2],s=t[3],t[4]=d*s+p*r+h*o-f*i,t[5]=h*s+p*i+f*r-d*o,t[6]=f*s+p*o+d*i-h*r,t[7]=p*s-d*r-h*i-f*o,t}function Qn(t,e,n){var r=-e[0],i=-e[1],o=-e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],d=a*s+u*r+c*o-l*i,h=c*s+u*i+l*r-a*o,f=l*s+u*o+a*i-c*r,p=u*s-a*r-c*i-l*o;return en(t,e,n),r=t[0],i=t[1],o=t[2],s=t[3],t[4]=d*s+p*r+h*o-f*i,t[5]=h*s+p*i+f*r-d*o,t[6]=f*s+p*o+d*i-h*r,t[7]=p*s-d*r-h*i-f*o,t}function Jn(t,e,n){var r=n[0],i=n[1],o=n[2],s=n[3],a=e[0],c=e[1],l=e[2],u=e[3];return t[0]=a*s+u*r+c*o-l*i,t[1]=c*s+u*i+l*r-a*o,t[2]=l*s+u*o+a*i-c*r,t[3]=u*s-a*r-c*i-l*o,a=e[4],c=e[5],l=e[6],u=e[7],t[4]=a*s+u*r+c*o-l*i,t[5]=c*s+u*i+l*r-a*o,t[6]=l*s+u*o+a*i-c*r,t[7]=u*s-a*r-c*i-l*o,t}function tr(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=n[0],c=n[1],l=n[2],u=n[3];return t[0]=r*u+s*a+i*l-o*c,t[1]=i*u+s*c+o*a-r*l,t[2]=o*u+s*l+r*c-i*a,t[3]=s*u-r*a-i*c-o*l,a=n[4],c=n[5],l=n[6],u=n[7],t[4]=r*u+s*a+i*l-o*c,t[5]=i*u+s*c+o*a-r*l,t[6]=o*u+s*l+r*c-i*a,t[7]=s*u-r*a-i*c-o*l,t}function er(t,e,n,r){if(Math.abs(r)<l.EPSILON)return Vn(t,e);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var o=Math.sin(r),s=o*n[0]/i,a=o*n[1]/i,c=o*n[2]/i,u=Math.cos(r),d=e[0],h=e[1],f=e[2],p=e[3];t[0]=d*u+p*s+h*c-f*a,t[1]=h*u+p*a+f*s-d*c,t[2]=f*u+p*c+d*a-h*s,t[3]=p*u-d*s-h*a-f*c;var g=e[4],m=e[5],v=e[6],b=e[7];return t[4]=g*u+b*s+m*c-v*a,t[5]=m*u+b*a+v*s-g*c,t[6]=v*u+b*c+g*a-m*s,t[7]=b*u-g*s-m*a-v*c,t}function nr(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function rr(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=n[4],c=n[5],l=n[6],u=n[7],d=e[4],h=e[5],f=e[6],p=e[7],g=n[0],m=n[1],v=n[2],b=n[3];return t[0]=r*b+s*g+i*v-o*m,t[1]=i*b+s*m+o*g-r*v,t[2]=o*b+s*v+r*m-i*g,t[3]=s*b-r*g-i*m-o*v,t[4]=r*u+s*a+i*l-o*c+d*b+p*g+h*v-f*m,t[5]=i*u+s*c+o*a-r*l+h*b+p*m+f*g-d*v,t[6]=o*u+s*l+r*c-i*a+f*b+p*v+d*m-h*g,t[7]=s*u-r*a-i*c-o*l+p*b-d*g-h*m-f*v,t}var ir=rr;function or(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var sr=wn;function ar(t,e,n,r){var i=1-r;return sr(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t}function cr(t,e){var n=hr(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function lr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var ur=An,dr=ur,hr=xn,fr=hr;function pr(t,e){var n=hr(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,o=e[2]/n,s=e[3]/n,a=e[4],c=e[5],l=e[6],u=e[7],d=r*a+i*c+o*l+s*u;t[0]=r,t[1]=i,t[2]=o,t[3]=s,t[4]=(a-r*d)/n,t[5]=(c-i*d)/n,t[6]=(l-o*d)/n,t[7]=(u-s*d)/n}return t}function gr(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function mr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function vr(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],u=t[7],d=e[0],h=e[1],f=e[2],p=e[3],g=e[4],m=e[5],v=e[6],b=e[7];return Math.abs(n-d)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-h)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-f)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-p)<=l.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-g)<=l.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(a-m)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(c-v)<=l.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(u-b)<=l.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))}var br=n(842)},1409:function(t,e,n){"use strict";n.r(e),n.d(e,{add:function(){return M},adjoint:function(){return f},clone:function(){return s},copy:function(){return a},create:function(){return i},determinant:function(){return p},equals:function(){return N},exactEquals:function(){return O},frob:function(){return S},fromMat2d:function(){return _},fromMat4:function(){return o},fromQuat:function(){return A},fromRotation:function(){return k},fromScaling:function(){return w},fromTranslation:function(){return y},fromValues:function(){return c},identity:function(){return u},invert:function(){return h},mul:function(){return P},multiply:function(){return g},multiplyScalar:function(){return D},multiplyScalarAndAdd:function(){return T},normalFromMat4:function(){return C},projection:function(){return x},rotate:function(){return v},scale:function(){return b},set:function(){return l},str:function(){return E},sub:function(){return L},subtract:function(){return I},translate:function(){return m},transpose:function(){return d}});var r=n(7823);function i(){var t=new r.ARRAY_TYPE(9);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function s(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function c(t,e,n,i,o,s,a,c,l){var u=new r.ARRAY_TYPE(9);return u[0]=t,u[1]=e,u[2]=n,u[3]=i,u[4]=o,u[5]=s,u[6]=a,u[7]=c,u[8]=l,u}function l(t,e,n,r,i,o,s,a,c,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t[6]=a,t[7]=c,t[8]=l,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function d(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function h(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],u=e[8],d=u*s-a*l,h=-u*o+a*c,f=l*o-s*c,p=n*d+r*h+i*f;return p?(p=1/p,t[0]=d*p,t[1]=(-u*r+i*l)*p,t[2]=(a*r-i*s)*p,t[3]=h*p,t[4]=(u*n-i*c)*p,t[5]=(-a*n+i*o)*p,t[6]=f*p,t[7]=(-l*n+r*c)*p,t[8]=(s*n-r*o)*p,t):null}function f(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],u=e[8];return t[0]=s*u-a*l,t[1]=i*l-r*u,t[2]=r*a-i*s,t[3]=a*c-o*u,t[4]=n*u-i*c,t[5]=i*o-n*a,t[6]=o*l-s*c,t[7]=r*c-n*l,t[8]=n*s-r*o,t}function p(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],c=t[7],l=t[8];return e*(l*o-s*c)+n*(-l*i+s*a)+r*(c*i-o*a)}function g(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],d=e[8],h=n[0],f=n[1],p=n[2],g=n[3],m=n[4],v=n[5],b=n[6],y=n[7],k=n[8];return t[0]=h*r+f*s+p*l,t[1]=h*i+f*a+p*u,t[2]=h*o+f*c+p*d,t[3]=g*r+m*s+v*l,t[4]=g*i+m*a+v*u,t[5]=g*o+m*c+v*d,t[6]=b*r+y*s+k*l,t[7]=b*i+y*a+k*u,t[8]=b*o+y*c+k*d,t}function m(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],d=e[8],h=n[0],f=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=s,t[4]=a,t[5]=c,t[6]=h*r+f*s+l,t[7]=h*i+f*a+u,t[8]=h*o+f*c+d,t}function v(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],u=e[7],d=e[8],h=Math.sin(n),f=Math.cos(n);return t[0]=f*r+h*s,t[1]=f*i+h*a,t[2]=f*o+h*c,t[3]=f*s-h*r,t[4]=f*a-h*i,t[5]=f*c-h*o,t[6]=l,t[7]=u,t[8]=d,t}function b(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function y(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function k(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function A(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n+n,a=r+r,c=i+i,l=n*s,u=r*s,d=r*a,h=i*s,f=i*a,p=i*c,g=o*s,m=o*a,v=o*c;return t[0]=1-d-p,t[3]=u-v,t[6]=h+m,t[1]=u+v,t[4]=1-l-p,t[7]=f-g,t[2]=h-m,t[5]=f+g,t[8]=1-l-d,t}function C(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15],b=n*a-r*s,y=n*c-i*s,k=n*l-o*s,w=r*c-i*a,_=r*l-o*a,A=i*l-o*c,C=u*g-d*p,x=u*m-h*p,E=u*v-f*p,S=d*m-h*g,M=d*v-f*g,I=h*v-f*m,D=b*I-y*M+k*S+w*E-_*x+A*C;return D?(D=1/D,t[0]=(a*I-c*M+l*S)*D,t[1]=(c*E-s*I-l*x)*D,t[2]=(s*M-a*E+l*C)*D,t[3]=(i*M-r*I-o*S)*D,t[4]=(n*I-i*E+o*x)*D,t[5]=(r*E-n*M-o*C)*D,t[6]=(g*A-m*_+v*w)*D,t[7]=(m*k-p*A-v*y)*D,t[8]=(p*_-g*k+v*b)*D,t):null}function x(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function E(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function S(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function M(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function I(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function D(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function T(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function O(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function N(t,e){var n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],l=t[6],u=t[7],d=t[8],h=e[0],f=e[1],p=e[2],g=e[3],m=e[4],v=e[5],b=e[6],y=e[7],k=e[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-g)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(a-m)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(c-v)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(l-b)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(u-y)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(d-k)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(k))}var P=g,L=I},842:function(t,e,n){"use strict";n.r(e),n.d(e,{add:function(){return l},angle:function(){return B},ceil:function(){return f},clone:function(){return o},copy:function(){return a},create:function(){return i},cross:function(){return M},dist:function(){return $},distance:function(){return k},div:function(){return H},divide:function(){return h},dot:function(){return S},equals:function(){return F},exactEquals:function(){return z},floor:function(){return p},forEach:function(){return q},fromValues:function(){return s},inverse:function(){return x},len:function(){return V},length:function(){return _},lerp:function(){return I},max:function(){return m},min:function(){return g},mul:function(){return G},multiply:function(){return d},negate:function(){return C},normalize:function(){return E},random:function(){return D},rotate:function(){return L},round:function(){return v},scale:function(){return b},scaleAndAdd:function(){return y},set:function(){return c},sqrDist:function(){return W},sqrLen:function(){return Y},squaredDistance:function(){return w},squaredLength:function(){return A},str:function(){return j},sub:function(){return U},subtract:function(){return u},transformMat2:function(){return T},transformMat2d:function(){return O},transformMat3:function(){return N},transformMat4:function(){return P},zero:function(){return R}});var r=n(7823);function i(){var t=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function s(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function a(t,e){return t[0]=e[0],t[1]=e[1],t}function c(t,e,n){return t[0]=e,t[1]=n,t}function l(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function d(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function h(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function b(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function y(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function k(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function _(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function A(t){var e=t[0],n=t[1];return e*e+n*n}function C(t,e){return t[0]=-e[0],t[1]=-e[1],t}function x(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function E(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function S(t,e){return t[0]*e[0]+t[1]*e[1]}function M(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function I(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function D(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function T(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function O(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function N(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function P(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function L(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],s=Math.sin(r),a=Math.cos(r);return t[0]=i*a-o*s+n[0],t[1]=i*s+o*a+n[1],t}function B(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),a=s&&(n*i+r*o)/s;return Math.acos(Math.min(Math.max(a,-1),1))}function R(t){return t[0]=0,t[1]=0,t}function j(t){return"vec2("+t[0]+", "+t[1]+")"}function z(t,e){return t[0]===e[0]&&t[1]===e[1]}function F(t,e){var n=t[0],i=t[1],o=e[0],s=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))}var V=_,U=u,G=d,H=h,$=k,W=w,Y=A,q=function(){var t=i();return function(e,n,r,i,o,s){var a,c;for(n||(n=2),r||(r=0),c=i?Math.min(i*n+r,e.length):e.length,a=r;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],o(t,t,s),e[a]=t[0],e[a+1]=t[1];return e}}()},329:function(t,e,n){"use strict";n.r(e),n.d(e,{add:function(){return u},angle:function(){return z},bezier:function(){return T},ceil:function(){return p},clone:function(){return o},copy:function(){return c},create:function(){return i},cross:function(){return M},dist:function(){return Y},distance:function(){return w},div:function(){return W},divide:function(){return f},dot:function(){return S},equals:function(){return G},exactEquals:function(){return U},floor:function(){return g},forEach:function(){return Z},fromValues:function(){return a},hermite:function(){return D},inverse:function(){return x},len:function(){return X},length:function(){return s},lerp:function(){return I},max:function(){return v},min:function(){return m},mul:function(){return $},multiply:function(){return h},negate:function(){return C},normalize:function(){return E},random:function(){return O},rotateX:function(){return B},rotateY:function(){return R},rotateZ:function(){return j},round:function(){return b},scale:function(){return y},scaleAndAdd:function(){return k},set:function(){return l},sqrDist:function(){return q},sqrLen:function(){return K},squaredDistance:function(){return _},squaredLength:function(){return A},str:function(){return V},sub:function(){return H},subtract:function(){return d},transformMat3:function(){return P},transformMat4:function(){return N},transformQuat:function(){return L},zero:function(){return F}});var r=n(7823);function i(){var t=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function a(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function l(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function d(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function h(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function g(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function m(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function b(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function y(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function k(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function _(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function A(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function C(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function x(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function E(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function S(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function M(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],c=n[2];return t[0]=i*c-o*a,t[1]=o*s-r*c,t[2]=r*a-i*s,t}function I(t,e,n,r){var i=e[0],o=e[1],s=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=s+r*(n[2]-s),t}function D(t,e,n,r,i,o){var s=o*o,a=s*(2*o-3)+1,c=s*(o-2)+o,l=s*(o-1),u=s*(3-2*o);return t[0]=e[0]*a+n[0]*c+r[0]*l+i[0]*u,t[1]=e[1]*a+n[1]*c+r[1]*l+i[1]*u,t[2]=e[2]*a+n[2]*c+r[2]*l+i[2]*u,t}function T(t,e,n,r,i,o){var s=1-o,a=s*s,c=o*o,l=a*s,u=3*o*a,d=3*c*s,h=c*o;return t[0]=e[0]*l+n[0]*u+r[0]*d+i[0]*h,t[1]=e[1]*l+n[1]*u+r[1]*d+i[1]*h,t[2]=e[2]*l+n[2]*u+r[2]*d+i[2]*h,t}function O(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t}function N(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return s=s||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/s,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/s,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/s,t}function P(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function L(t,e,n){var r=n[0],i=n[1],o=n[2],s=n[3],a=e[0],c=e[1],l=e[2],u=i*l-o*c,d=o*a-r*l,h=r*c-i*a,f=i*h-o*d,p=o*u-r*h,g=r*d-i*u,m=2*s;return u*=m,d*=m,h*=m,f*=2,p*=2,g*=2,t[0]=a+u+f,t[1]=c+d+p,t[2]=l+h+g,t}function B(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function R(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function j(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function z(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],s=e[1],a=e[2],c=Math.sqrt(n*n+r*r+i*i),l=Math.sqrt(o*o+s*s+a*a),u=c*l,d=u&&S(t,e)/u;return Math.acos(Math.min(Math.max(d,-1),1))}function F(t){return t[0]=0,t[1]=0,t[2]=0,t}function V(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function U(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function G(t,e){var n=t[0],i=t[1],o=t[2],s=e[0],a=e[1],c=e[2];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}var H=d,$=h,W=f,Y=w,q=_,X=s,K=A,Z=function(){var t=i();return function(e,n,r,i,o,s){var a,c;for(n||(n=3),r||(r=0),c=i?Math.min(i*n+r,e.length):e.length,a=r;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}}()},9238:function(t){var e=[],n=[],r="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function i(t,i){if(i=i||{},void 0===t)throw new Error(r);var s,a=!0===i.prepend?"prepend":"append",c=void 0!==i.container?i.container:document.querySelector("head"),l=e.indexOf(c);return-1===l&&(l=e.push(c)-1,n[l]={}),void 0!==n[l]&&void 0!==n[l][a]?s=n[l][a]:(s=n[l][a]=o(),"prepend"===a?c.insertBefore(s,c.childNodes[0]):c.appendChild(s)),65279===t.charCodeAt(0)&&(t=t.substr(1,t.length)),s.styleSheet?s.styleSheet.cssText+=t:s.textContent+=t,s}function o(){var t=document.createElement("style");return t.setAttribute("type","text/css"),t}t.exports=i,t.exports.insertCss=i},1873:function(t,e,n){var r=n(9325),i=r.Symbol;t.exports=i},2552:function(t,e,n){var r=n(1873),i=n(659),o=n(9350),s="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;function l(t){return null==t?void 0===t?a:s:c&&c in Object(t)?i(t):o(t)}t.exports=l},7282:function(t,e,n){var r=n(2552),i=n(294),o=n(346),s="[object Arguments]",a="[object Array]",c="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",k="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",A="[object Int8Array]",C="[object Int16Array]",x="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",M="[object Uint16Array]",I="[object Uint32Array]",D={};function T(t){return o(t)&&i(t.length)&&!!D[r(t)]}D[w]=D[_]=D[A]=D[C]=D[x]=D[E]=D[S]=D[M]=D[I]=!0,D[s]=D[a]=D[y]=D[c]=D[k]=D[l]=D[u]=D[d]=D[h]=D[f]=D[p]=D[g]=D[m]=D[v]=D[b]=!1,t.exports=T},7301:function(t){function e(t){return function(e){return t(e)}}t.exports=e},4840:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8879:function(t,e,n){var r=n(4335),i=r(Object.getPrototypeOf,Object);t.exports=i},659:function(t,e,n){var r=n(1873),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;function c(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(c){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}t.exports=c},6009:function(t,e,n){t=n.nmd(t);var r=n(4840),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s&&r.process,c=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=c},9350:function(t){var e=Object.prototype,n=e.toString;function r(t){return n.call(t)}t.exports=r},4335:function(t){function e(t,e){return function(n){return t(e(n))}}t.exports=e},9325:function(t,e,n){var r=n(4840),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},8830:function(t){var e=Array.isArray;t.exports=e},294:function(t){var e=9007199254740991;function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}t.exports=n},8023:function(t,e,n){var r=n(2552),i=n(346),o="[object Number]";function s(t){return"number"==typeof t||i(t)&&r(t)==o}t.exports=s},346:function(t){function e(t){return null!=t&&"object"==typeof t}t.exports=e},1331:function(t,e,n){var r=n(2552),i=n(8879),o=n(346),s="[object Object]",a=Function.prototype,c=Object.prototype,l=a.toString,u=c.hasOwnProperty,d=l.call(Object);function h(t){if(!o(t)||r(t)!=s)return!1;var e=i(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}t.exports=h},7167:function(t,e,n){var r=n(7282),i=n(7301),o=n(6009),s=o&&o.isTypedArray,a=s?i(s):r;t.exports=a},125:function(){},158:function(){},8245:function(){},364:function(t){(function(e,n){t.exports=n()})(0,(function(){"use strict";var t=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},e=function(t,e){for(var n=Object.keys(e),r=0;r<n.length;++r)t[n[r]]=e[n[r]];return t},n="\n";function r(t){return"undefined"!==typeof atob?atob(t):"base64:"+t}function i(t){var e=new Error("(regl) "+t);throw console.error(e),e}function o(t,e){t||i(e)}function s(t){return t?": "+t:""}function a(t,e,n){t in e||i("unknown parameter ("+t+")"+s(n)+". possible values: "+Object.keys(e).join())}function c(e,n){t(e)||i("invalid parameter type"+s(n)+". must be a typed array")}function l(t,e){switch(e){case"number":return"number"===typeof t;case"object":return"object"===typeof t;case"string":return"string"===typeof t;case"boolean":return"boolean"===typeof t;case"function":return"function"===typeof t;case"undefined":return"undefined"===typeof t;case"symbol":return"symbol"===typeof t}}function u(t,e,n){l(t,e)||i("invalid parameter type"+s(n)+". expected "+e+", got "+typeof t)}function d(t,e){t>=0&&(0|t)===t||i("invalid parameter type, ("+t+")"+s(e)+". must be a nonnegative integer")}function h(t,e,n){e.indexOf(t)<0&&i("invalid value"+s(n)+". must be one of: "+e)}var f=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(t){Object.keys(t).forEach((function(t){f.indexOf(t)<0&&i('invalid regl constructor argument "'+t+'". must be one of '+f)}))}function g(t,e){t+="";while(t.length<e)t=" "+t;return t}function m(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function v(t,e){this.number=t,this.line=e,this.errors=[]}function b(t,e,n){this.file=t,this.line=e,this.message=n}function y(){var t=new Error,e=(t.stack||t).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e);return r?r[1]:"unknown"}function k(){var t=new Error,e=(t.stack||t).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e);return r?r[1]:"unknown"}function w(t,e){var n=t.split("\n"),i=1,o=0,s={unknown:new m,0:new m};s.unknown.name=s[0].name=e||y(),s.unknown.lines.push(new v(0,""));for(var a=0;a<n.length;++a){var c=n[a],l=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(c);if(l)switch(l[1]){case"line":var u=/(\d+)(\s+\d+)?/.exec(l[2]);u&&(i=0|u[1],u[2]&&(o=0|u[2],o in s||(s[o]=new m)));break;case"define":var d=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);d&&(s[o].name=d[1]?r(d[2]):d[2]);break}s[o].lines.push(new v(i++,c))}return Object.keys(s).forEach((function(t){var e=s[t];e.lines.forEach((function(t){e.index[t.number]=t}))})),s}function _(t){var e=[];return t.split("\n").forEach((function(t){if(!(t.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(t);n?e.push(new b(0|n[1],0|n[2],n[3].trim())):t.length>0&&e.push(new b("unknown",0,t))}})),e}function A(t,e){e.forEach((function(e){var n=t[e.file];if(n){var r=n.index[e.line];if(r)return r.errors.push(e),void(n.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(e)}))}function C(t,e,r,i,s){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(e),c=i===t.FRAGMENT_SHADER?"fragment":"vertex";T(r,"string",c+" shader source must be a string",s);var l=w(r,s),u=_(a);A(l,u),Object.keys(l).forEach((function(t){var e=l[t];if(e.hasErrors){var r=[""],i=[""];o("file number "+t+": "+e.name+"\n","color:red;text-decoration:underline;font-weight:bold"),e.lines.forEach((function(t){if(t.errors.length>0){o(g(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(t.line+n,"color:red; background-color:yellow; font-weight:bold");var e=0;t.errors.forEach((function(r){var i=r.message,s=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(s){var a=s[1];switch(i=s[2],a){case"assign":a="=";break}e=Math.max(t.line.indexOf(a,e),0)}else e=0;o(g("| ",6)),o(g("^^^",e+3)+n,"font-weight:bold"),o(g("| ",6)),o(i+n,"font-weight:bold")})),o(g("| ",6)+n)}else o(g(t.number,4)+"|  "),o(t.line+n,"color:red")})),"undefined"===typeof document||window.chrome?console.log(r.join("")):(i[0]=r.join("%c"),console.log.apply(console,i))}function o(t,e){r.push(t),i.push(e||"")}})),o.raise("Error compiling "+c+" shader, "+l[0].name)}}function x(t,e,r,i,s){if(!t.getProgramParameter(e,t.LINK_STATUS)){var a=t.getProgramInfoLog(e),c=w(r,s),l=w(i,s),u='Error linking program with vertex shader, "'+l[0].name+'", and fragment shader "'+c[0].name+'"';"undefined"!==typeof document?console.log("%c"+u+n+"%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(u+n+a),o.raise(u)}}function E(t){t._commandRef=y()}function S(t,e,n,r){function i(t){return t?r.id(t):0}function o(t,e){Object.keys(e).forEach((function(e){t[r.id(e)]=!0}))}E(t),t._fragId=i(t.static.frag),t._vertId=i(t.static.vert);var s=t._uniformSet={};o(s,e.static),o(s,e.dynamic);var a=t._attributeSet={};o(a,n.static),o(a,n.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic}function M(t,e){var n=k();i(t+" in command "+(e||y())+("unknown"===n?"":" called from "+n))}function I(t,e,n){t||M(e,n||y())}function D(t,e,n,r){t in e||M("unknown parameter ("+t+")"+s(n)+". possible values: "+Object.keys(e).join(),r||y())}function T(t,e,n,r){l(t,e)||M("invalid parameter type"+s(n)+". expected "+e+", got "+typeof t,r||y())}function O(t){t()}function N(t,e,n){t.texture?h(t.texture._texture.internalformat,e,"unsupported texture format for attachment"):h(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var P=33071,L=9728,B=9984,R=9985,j=9986,z=9987,F=5120,V=5121,U=5122,G=5123,H=5124,$=5125,W=5126,Y=32819,q=32820,X=33635,K=34042,Z=36193,Q={};function J(t,e){return t===q||t===Y||t===X?2:t===K?4:Q[t]*e}function tt(t){return!(t&t-1)&&!!t}function et(t,e,n){var r,i=e.width,s=e.height,a=e.channels;o(i>0&&i<=n.maxTextureSize&&s>0&&s<=n.maxTextureSize,"invalid texture shape"),t.wrapS===P&&t.wrapT===P||o(tt(i)&&tt(s),"incompatible wrap mode for texture, both width and height must be power of 2"),1===e.mipmask?1!==i&&1!==s&&o(t.minFilter!==B&&t.minFilter!==j&&t.minFilter!==R&&t.minFilter!==z,"min filter requires mipmap"):(o(tt(i)&&tt(s),"texture must be a square power of 2 to support mipmapping"),o(e.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),e.type===W&&(n.extensions.indexOf("oes_texture_float_linear")<0&&o(t.minFilter===L&&t.magFilter===L,"filter not supported, must enable oes_texture_float_linear"),o(!t.genMipmaps,"mipmap generation not supported with float textures"));var c=e.images;for(r=0;r<16;++r)if(c[r]){var l=i>>r,u=s>>r;o(e.mipmask&1<<r,"missing mipmap data");var d=c[r];if(o(d.width===l&&d.height===u,"invalid shape for mip images"),o(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed);else if(d.data){var h=Math.ceil(J(d.type,a)*l/d.unpackAlignment)*d.unpackAlignment;o(d.data.byteLength===h*u,"invalid data for image, buffer size is inconsistent with image format")}else d.element||d.copy}else t.genMipmaps||o(0===(e.mipmask&1<<r),"extra mipmap data");e.compressed&&o(!t.genMipmaps,"mipmap generation for compressed images not supported")}function nt(t,e,n,r){var i=t.width,s=t.height,a=t.channels;o(i>0&&i<=r.maxTextureSize&&s>0&&s<=r.maxTextureSize,"invalid texture shape"),o(i===s,"cube map must be square"),o(e.wrapS===P&&e.wrapT===P,"wrap mode not supported by cube map");for(var c=0;c<n.length;++c){var l=n[c];o(l.width===i&&l.height===s,"inconsistent cube map face shape"),e.genMipmaps&&(o(!l.compressed,"can not generate mipmap for compressed textures"),o(1===l.mipmask,"can not specify mipmaps and generate mipmaps"));for(var u=l.images,d=0;d<16;++d){var h=u[d];if(h){var f=i>>d,p=s>>d;o(l.mipmask&1<<d,"missing mipmap data"),o(h.width===f&&h.height===p,"invalid shape for mip images"),o(h.format===t.format&&h.internalformat===t.internalformat&&h.type===t.type,"incompatible type for mip image"),h.compressed||(h.data?o(h.data.byteLength===f*p*Math.max(J(h.type,a),h.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):h.element||h.copy)}}}}Q[F]=Q[V]=1,Q[U]=Q[G]=Q[Z]=Q[X]=Q[Y]=Q[q]=2,Q[H]=Q[$]=Q[W]=Q[K]=4;var rt=e(o,{optional:O,raise:i,commandRaise:M,command:I,parameter:a,commandParameter:D,constructor:p,type:u,commandType:T,isTypedArray:c,nni:d,oneOf:h,shaderError:C,linkError:x,callSite:k,saveCommandRef:E,saveDrawInfo:S,framebufferFormat:N,guessCommand:y,texture2D:et,textureCube:nt}),it=0,ot=0,st=5,at=6;function ct(t,e){this.id=it++,this.type=t,this.data=e}function lt(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ut(t){if(0===t.length)return[];var e=t.charAt(0),n=t.charAt(t.length-1);if(t.length>1&&e===n&&('"'===e||"'"===e))return['"'+lt(t.substr(1,t.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(r)return ut(t.substr(0,r.index)).concat(ut(r[1])).concat(ut(t.substr(r.index+r[0].length)));var i=t.split(".");if(1===i.length)return['"'+lt(t)+'"'];for(var o=[],s=0;s<i.length;++s)o=o.concat(ut(i[s]));return o}function dt(t){return"["+ut(t).join("][")+"]"}function ht(t,e){return new ct(t,dt(e+""))}function ft(t){return"function"===typeof t&&!t._reglType||t instanceof ct}function pt(t,e){return"function"===typeof t?new ct(ot,t):"number"===typeof t||"boolean"===typeof t?new ct(st,t):Array.isArray(t)?new ct(at,t.map(((t,n)=>pt(t,e+"["+n+"]")))):t instanceof ct?t:void rt(!1,"invalid option type in uniform "+e)}var gt={DynamicVariable:ct,define:ht,isDynamic:ft,unbox:pt,accessor:dt},mt={next:"function"===typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"===typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},vt="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function bt(){var t={"":0},e=[""];return{id:function(n){var r=t[n];return r||(r=t[n]=e.length,e.push(n),r)},str:function(t){return e[t]}}}function yt(t,n,r){var i,o=document.createElement("canvas");function s(){var n=window.innerWidth,i=window.innerHeight;if(t!==document.body){var s=t.getBoundingClientRect();n=s.right-s.left,i=s.bottom-s.top}o.width=r*n,o.height=r*i,e(o.style,{width:n+"px",height:i+"px"})}function a(){i?i.disconnect():window.removeEventListener("resize",s),t.removeChild(o)}return e(o.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(o),t===document.body&&(o.style.position="absolute",e(t.style,{margin:0,padding:0})),t!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(s)})),i.observe(t)):window.addEventListener("resize",s,!1),s(),{canvas:o,onDestroy:a}}function kt(t,e){function n(n){try{return t.getContext(n,e)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function wt(t){return"string"===typeof t.nodeName&&"function"===typeof t.appendChild&&"function"===typeof t.getBoundingClientRect}function _t(t){return"function"===typeof t.drawArrays||"function"===typeof t.drawElements}function At(t){return"string"===typeof t?t.split():(rt(Array.isArray(t),"invalid extension array"),t)}function Ct(t){return"string"===typeof t?(rt("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function xt(t){var e,n,r,i,o=t||{},s={},a=[],c=[],l="undefined"===typeof window?1:window.devicePixelRatio,u=!1,d=function(t){t&&rt.raise(t)},h=function(){};if("string"===typeof o?(rt("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),e=document.querySelector(o),rt(e,"invalid query string for element")):"object"===typeof o?wt(o)?e=o:_t(o)?(i=o,r=i.canvas):(rt.constructor(o),"gl"in o?i=o.gl:"canvas"in o?r=Ct(o.canvas):"container"in o&&(n=Ct(o.container)),"attributes"in o&&(s=o.attributes,rt.type(s,"object","invalid context attributes")),"extensions"in o&&(a=At(o.extensions)),"optionalExtensions"in o&&(c=At(o.optionalExtensions)),"onDone"in o&&(rt.type(o.onDone,"function","invalid or missing onDone callback"),d=o.onDone),"profile"in o&&(u=!!o.profile),"pixelRatio"in o&&(l=+o.pixelRatio,rt(l>0,"invalid pixel ratio"))):rt.raise("invalid arguments to regl"),e&&("canvas"===e.nodeName.toLowerCase()?r=e:n=e),!i){if(!r){rt("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var f=yt(n||document.body,d,l);if(!f)return null;r=f.canvas,h=f.onDestroy}void 0===s.premultipliedAlpha&&(s.premultipliedAlpha=!0),i=kt(r,s)}return i?{gl:i,canvas:r,container:n,extensions:a,optionalExtensions:c,pixelRatio:l,profile:u,onDone:d,onDestroy:h}:(h(),d("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Et(t,e){var n={};function r(e){rt.type(e,"string","extension name must be string");var r,i=e.toLowerCase();try{r=n[i]=t.getExtension(i)}catch(o){}return!!r}for(var i=0;i<e.extensions.length;++i){var o=e.extensions[i];if(!r(o))return e.onDestroy(),e.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(t){if(n[t]&&!r(t))throw new Error("(regl): error restoring extension "+t)}))}}}function St(t,e){for(var n=Array(t),r=0;r<t;++r)n[r]=e(r);return n}var Mt=5120,It=5121,Dt=5122,Tt=5123,Ot=5124,Nt=5125,Pt=5126;function Lt(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}function Bt(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,e|=n,e|t>>1}function Rt(){var t=St(8,(function(){return[]}));function e(e){var n=Lt(e),r=t[Bt(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(e){t[Bt(e.byteLength)>>2].push(e)}function r(t,n){var r=null;switch(t){case Mt:r=new Int8Array(e(n),0,n);break;case It:r=new Uint8Array(e(n),0,n);break;case Dt:r=new Int16Array(e(2*n),0,n);break;case Tt:r=new Uint16Array(e(2*n),0,n);break;case Ot:r=new Int32Array(e(4*n),0,n);break;case Nt:r=new Uint32Array(e(4*n),0,n);break;case Pt:r=new Float32Array(e(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(t){n(t.buffer)}return{alloc:e,free:n,allocType:r,freeType:i}}var jt=Rt();jt.zero=Rt();var zt=3408,Ft=3410,Vt=3411,Ut=3412,Gt=3413,Ht=3414,$t=3415,Wt=33901,Yt=33902,qt=3379,Xt=3386,Kt=34921,Zt=36347,Qt=36348,Jt=35661,te=35660,ee=34930,ne=36349,re=34076,ie=34024,oe=7936,se=7937,ae=7938,ce=35724,le=34047,ue=36063,de=34852,he=3553,fe=34067,pe=34069,ge=33984,me=6408,ve=5126,be=5121,ye=36160,ke=36053,we=36064,_e=16384,Ae=function(t,e){var n=1;e.ext_texture_filter_anisotropic&&(n=t.getParameter(le));var r=1,i=1;e.webgl_draw_buffers&&(r=t.getParameter(de),i=t.getParameter(ue));var o=!!e.oes_texture_float;if(o){var s=t.createTexture();t.bindTexture(he,s),t.texImage2D(he,0,me,1,1,0,me,ve,null);var a=t.createFramebuffer();if(t.bindFramebuffer(ye,a),t.framebufferTexture2D(ye,we,he,s,0),t.bindTexture(he,null),t.checkFramebufferStatus(ye)!==ke)o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(_e);var c=jt.allocType(ve,4);t.readPixels(0,0,1,1,me,ve,c),t.getError()?o=!1:(t.deleteFramebuffer(a),t.deleteTexture(s),o=1===c[0]),jt.freeType(c)}}var l="undefined"!==typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),u=!0;if(!l){var d=t.createTexture(),h=jt.allocType(be,36);t.activeTexture(ge),t.bindTexture(fe,d),t.texImage2D(pe,0,me,3,3,0,me,be,h),jt.freeType(h),t.bindTexture(fe,null),t.deleteTexture(d),u=!t.getError()}return{colorBits:[t.getParameter(Ft),t.getParameter(Vt),t.getParameter(Ut),t.getParameter(Gt)],depthBits:t.getParameter(Ht),stencilBits:t.getParameter($t),subpixelBits:t.getParameter(zt),extensions:Object.keys(e).filter((function(t){return!!e[t]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:t.getParameter(Wt),lineWidthDims:t.getParameter(Yt),maxViewportDims:t.getParameter(Xt),maxCombinedTextureUnits:t.getParameter(Jt),maxCubeMapSize:t.getParameter(re),maxRenderbufferSize:t.getParameter(ie),maxTextureUnits:t.getParameter(ee),maxTextureSize:t.getParameter(qt),maxAttributes:t.getParameter(Kt),maxVertexUniforms:t.getParameter(Zt),maxVertexTextureUnits:t.getParameter(te),maxVaryingVectors:t.getParameter(Qt),maxFragmentUniforms:t.getParameter(ne),glsl:t.getParameter(ce),renderer:t.getParameter(se),vendor:t.getParameter(oe),version:t.getParameter(ae),readFloat:o,npotTextureCube:u}};function Ce(e){return!!e&&"object"===typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"===typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||t(e.data))}var xe=function(t){return Object.keys(t).map((function(e){return t[e]}))},Ee={shape:Oe,flatten:Te};function Se(t,e,n){for(var r=0;r<e;++r)n[r]=t[r]}function Me(t,e,n,r){for(var i=0,o=0;o<e;++o)for(var s=t[o],a=0;a<n;++a)r[i++]=s[a]}function Ie(t,e,n,r,i,o){for(var s=o,a=0;a<e;++a)for(var c=t[a],l=0;l<n;++l)for(var u=c[l],d=0;d<r;++d)i[s++]=u[d]}function De(t,e,n,r,i){for(var o=1,s=n+1;s<e.length;++s)o*=e[s];var a=e[n];if(e.length-n===4){var c=e[n+1],l=e[n+2],u=e[n+3];for(s=0;s<a;++s)Ie(t[s],c,l,u,r,i),i+=o}else for(s=0;s<a;++s)De(t[s],e,n+1,r,i),i+=o}function Te(t,e,n,r){var i=1;if(e.length)for(var o=0;o<e.length;++o)i*=e[o];else i=0;var s=r||jt.allocType(n,i);switch(e.length){case 0:break;case 1:Se(t,e[0],s);break;case 2:Me(t,e[0],e[1],s);break;case 3:Ie(t,e[0],e[1],e[2],s,0);break;default:De(t,e,0,s,0)}return s}function Oe(t){for(var e=[],n=t;n.length;n=n[0])e.push(n.length);return e}var Ne={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Pe=5120,Le=5122,Be=5124,Re=5121,je=5123,ze=5125,Fe=5126,Ve=5126,Ue={int8:Pe,int16:Le,int32:Be,uint8:Re,uint16:je,uint32:ze,float:Fe,float32:Ve},Ge=35048,He=35040,$e={dynamic:Ge,stream:He,static:35044},We=Ee.flatten,Ye=Ee.shape,qe=35044,Xe=35040,Ke=5121,Ze=5126,Qe=[];function Je(t){return 0|Ne[Object.prototype.toString.call(t)]}function tn(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function en(t,e,n,r,i,o,s){for(var a=0,c=0;c<n;++c)for(var l=0;l<r;++l)t[a++]=e[i*c+o*l+s]}function nn(e,n,r,i){var o=0,s={};function a(t){this.id=o++,this.buffer=e.createBuffer(),this.type=t,this.usage=qe,this.byteLength=0,this.dimension=1,this.dtype=Ke,this.persistentData=null,r.profile&&(this.stats={size:0})}a.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},a.prototype.destroy=function(){f(this)};var c=[];function l(t,e){var n=c.pop();return n||(n=new a(t)),n.bind(),h(n,e,Xe,0,1,!1),n}function u(t){c.push(t)}function d(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function h(e,n,r,i,o,s){var a,c;if(e.usage=r,Array.isArray(n)){if(e.dtype=i||Ze,n.length>0)if(Array.isArray(n[0])){a=Ye(n);for(var l=1,u=1;u<a.length;++u)l*=a[u];e.dimension=l,c=We(n,a,e.dtype),d(e,c,r),s?e.persistentData=c:jt.freeType(c)}else if("number"===typeof n[0]){e.dimension=o;var h=jt.allocType(e.dtype,n.length);tn(h,n),d(e,h,r),s?e.persistentData=h:jt.freeType(h)}else t(n[0])?(e.dimension=n[0].length,e.dtype=i||Je(n[0])||Ze,c=We(n,[n.length,n[0].length],e.dtype),d(e,c,r),s?e.persistentData=c:jt.freeType(c)):rt.raise("invalid buffer data")}else if(t(n))e.dtype=i||Je(n),e.dimension=o,d(e,n,r),s&&(e.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(Ce(n)){a=n.shape;var f=n.stride,p=n.offset,g=0,m=0,v=0,b=0;1===a.length?(g=a[0],m=1,v=f[0],b=0):2===a.length?(g=a[0],m=a[1],v=f[0],b=f[1]):rt.raise("invalid shape"),e.dtype=i||Je(n.data)||Ze,e.dimension=m;var y=jt.allocType(e.dtype,g*m);en(y,n.data,g,m,v,b,p),d(e,y,r),s?e.persistentData=y:jt.freeType(y)}else n instanceof ArrayBuffer?(e.dtype=Ke,e.dimension=o,d(e,n,r),s&&(e.persistentData=new Uint8Array(new Uint8Array(n)))):rt.raise("invalid buffer data")}function f(t){n.bufferCount--,i(t);var r=t.buffer;rt(r,"buffer must not be deleted already"),e.deleteBuffer(r),t.buffer=null,delete s[t.id]}function p(i,o,c,l){n.bufferCount++;var u=new a(o);function d(n){var i=qe,o=null,s=0,a=0,c=1;return Array.isArray(n)||t(n)||Ce(n)||n instanceof ArrayBuffer?o=n:"number"===typeof n?s=0|n:n&&(rt.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(rt(null===o||Array.isArray(o)||t(o)||Ce(o),"invalid data for buffer"),o=n.data),"usage"in n&&(rt.parameter(n.usage,$e,"invalid buffer usage"),i=$e[n.usage]),"type"in n&&(rt.parameter(n.type,Ue,"invalid buffer type"),a=Ue[n.type]),"dimension"in n&&(rt.type(n.dimension,"number","invalid dimension"),c=0|n.dimension),"length"in n&&(rt.nni(s,"buffer length must be a nonnegative integer"),s=0|n.length)),u.bind(),o?h(u,o,i,a,c,l):(s&&e.bufferData(u.type,s,i),u.dtype=a||Ke,u.usage=i,u.dimension=c,u.byteLength=s),r.profile&&(u.stats.size=u.byteLength*Qe[u.dtype]),d}function p(t,n){rt(n+t.byteLength<=u.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+n+" to a buffer of size "+u.byteLength),e.bufferSubData(u.type,n,t)}function g(e,n){var r,i=0|(n||0);if(u.bind(),t(e)||e instanceof ArrayBuffer)p(e,i);else if(Array.isArray(e)){if(e.length>0)if("number"===typeof e[0]){var o=jt.allocType(u.dtype,e.length);tn(o,e),p(o,i),jt.freeType(o)}else if(Array.isArray(e[0])||t(e[0])){r=Ye(e);var s=We(e,r,u.dtype);p(s,i),jt.freeType(s)}else rt.raise("invalid buffer data")}else if(Ce(e)){r=e.shape;var a=e.stride,c=0,l=0,h=0,f=0;1===r.length?(c=r[0],l=1,h=a[0],f=0):2===r.length?(c=r[0],l=r[1],h=a[0],f=a[1]):rt.raise("invalid shape");var g=Array.isArray(e.data)?u.dtype:Je(e.data),m=jt.allocType(g,c*l);en(m,e.data,c,l,h,f,e.offset),p(m,i),jt.freeType(m)}else rt.raise("invalid data for buffer subdata");return d}return s[u.id]=u,c||d(i),d._reglType="buffer",d._buffer=u,d.subdata=g,r.profile&&(d.stats=u.stats),d.destroy=function(){f(u)},d}function g(){xe(s).forEach((function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var t=0;return Object.keys(s).forEach((function(e){t+=s[e].stats.size})),t}),{create:p,createStream:l,destroyStream:u,clear:function(){xe(s).forEach(f),c.forEach(f)},getBuffer:function(t){return t&&t._buffer instanceof a?t._buffer:null},restore:g,_initBuffer:h}}Qe[5120]=1,Qe[5122]=2,Qe[5124]=4,Qe[5121]=1,Qe[5123]=2,Qe[5125]=4,Qe[5126]=4;var rn=0,on=0,sn=1,an=1,cn=4,ln=4,un={points:rn,point:on,lines:sn,line:an,triangles:cn,triangle:ln,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},dn=0,hn=1,fn=4,pn=5120,gn=5121,mn=5122,vn=5123,bn=5124,yn=5125,kn=34963,wn=35040,_n=35044;function An(e,n,r,i){var o={},s=0,a={uint8:gn,uint16:vn};function c(t){this.id=s++,o[this.id]=this,this.buffer=t,this.primType=fn,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(a.uint32=yn),c.prototype.bind=function(){this.buffer.bind()};var l=[];function u(t){var e=l.pop();return e||(e=new c(r.create(null,kn,!0,!1)._buffer)),h(e,t,wn,-1,-1,0,0),e}function d(t){l.push(t)}function h(i,o,s,a,c,l,u){var d;if(i.buffer.bind(),o){var h=u;u||t(o)&&(!Ce(o)||t(o.data))||(h=n.oes_element_index_uint?yn:vn),r._initBuffer(i.buffer,o,s,h,3)}else e.bufferData(kn,l,s),i.buffer.dtype=d||gn,i.buffer.usage=s,i.buffer.dimension=3,i.buffer.byteLength=l;if(d=u,!u){switch(i.buffer.dtype){case gn:case pn:d=gn;break;case vn:case mn:d=vn;break;case yn:case bn:d=yn;break;default:rt.raise("unsupported type for element array")}i.buffer.dtype=d}i.type=d,rt(d!==yn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var f=c;f<0&&(f=i.buffer.byteLength,d===vn?f>>=1:d===yn&&(f>>=2)),i.vertCount=f;var p=a;if(a<0){p=fn;var g=i.buffer.dimension;1===g&&(p=dn),2===g&&(p=hn),3===g&&(p=fn)}i.primType=p}function f(t){i.elementsCount--,rt(null!==t.buffer,"must not double destroy elements"),delete o[t.id],t.buffer.destroy(),t.buffer=null}function p(e,n){var o=r.create(null,kn,!0),s=new c(o._buffer);function l(e){if(e)if("number"===typeof e)o(e),s.primType=fn,s.vertCount=0|e,s.type=gn;else{var n=null,r=_n,i=-1,c=-1,u=0,d=0;Array.isArray(e)||t(e)||Ce(e)?n=e:(rt.type(e,"object","invalid arguments for elements"),"data"in e&&(n=e.data,rt(Array.isArray(n)||t(n)||Ce(n),"invalid data for element buffer")),"usage"in e&&(rt.parameter(e.usage,$e,"invalid element buffer usage"),r=$e[e.usage]),"primitive"in e&&(rt.parameter(e.primitive,un,"invalid element buffer primitive"),i=un[e.primitive]),"count"in e&&(rt("number"===typeof e.count&&e.count>=0,"invalid vertex count for elements"),c=0|e.count),"type"in e&&(rt.parameter(e.type,a,"invalid buffer type"),d=a[e.type]),"length"in e?u=0|e.length:(u=c,d===vn||d===mn?u*=2:d!==yn&&d!==bn||(u*=4))),h(s,n,r,i,c,u,d)}else o(),s.primType=fn,s.vertCount=0,s.type=gn;return l}return i.elementsCount++,l(e),l._reglType="elements",l._elements=s,l.subdata=function(t,e){return o.subdata(t,e),l},l.destroy=function(){f(s)},l}return{create:p,createStream:u,destroyStream:d,getElements:function(t){return"function"===typeof t&&t._elements instanceof c?t._elements:null},clear:function(){xe(o).forEach(f)}}}var Cn=new Float32Array(1),xn=new Uint32Array(Cn.buffer),En=5123;function Sn(t){for(var e=jt.allocType(En,t.length),n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(t[n]===1/0)e[n]=31744;else if(t[n]===-1/0)e[n]=64512;else{Cn[0]=t[n];var r=xn[0],i=r>>>31<<15,o=(r<<1>>>24)-127,s=r>>13&1023;if(o<-24)e[n]=i;else if(o<-14){var a=-14-o;e[n]=i+(s+1024>>a)}else e[n]=o>15?i+31744:i+(o+15<<10)+s}return e}function Mn(e){return Array.isArray(e)||t(e)}var In=function(t){return!(t&t-1)&&!!t},Dn=34467,Tn=3553,On=34067,Nn=34069,Pn=6408,Ln=6406,Bn=6407,Rn=6409,jn=6410,zn=32854,Fn=32855,Vn=36194,Un=32819,Gn=32820,Hn=33635,$n=34042,Wn=6402,Yn=34041,qn=35904,Xn=35906,Kn=36193,Zn=33776,Qn=33777,Jn=33778,tr=33779,er=35986,nr=35987,rr=34798,ir=35840,or=35841,sr=35842,ar=35843,cr=36196,lr=5121,ur=5123,dr=5125,hr=5126,fr=10242,pr=10243,gr=10497,mr=33071,vr=33648,br=10240,yr=10241,kr=9728,wr=9729,_r=9984,Ar=9985,Cr=9986,xr=9987,Er=33170,Sr=4352,Mr=4353,Ir=4354,Dr=34046,Tr=3317,Or=37440,Nr=37441,Pr=37443,Lr=37444,Br=33984,Rr=[_r,Cr,Ar,xr],jr=[0,Rn,jn,Bn,Pn],zr={};function Fr(t){return"[object "+t+"]"}zr[Rn]=zr[Ln]=zr[Wn]=1,zr[Yn]=zr[jn]=2,zr[Bn]=zr[qn]=3,zr[Pn]=zr[Xn]=4;var Vr=Fr("HTMLCanvasElement"),Ur=Fr("OffscreenCanvas"),Gr=Fr("CanvasRenderingContext2D"),Hr=Fr("ImageBitmap"),$r=Fr("HTMLImageElement"),Wr=Fr("HTMLVideoElement"),Yr=Object.keys(Ne).concat([Vr,Ur,Gr,Hr,$r,Wr]),qr=[];qr[lr]=1,qr[hr]=4,qr[Kn]=2,qr[ur]=2,qr[dr]=4;var Xr=[];function Kr(t){return Array.isArray(t)&&(0===t.length||"number"===typeof t[0])}function Zr(t){if(!Array.isArray(t))return!1;var e=t.length;return!(0===e||!Mn(t[0]))}function Qr(t){return Object.prototype.toString.call(t)}function Jr(t){return Qr(t)===Vr}function ti(t){return Qr(t)===Ur}function ei(t){return Qr(t)===Gr}function ni(t){return Qr(t)===Hr}function ri(t){return Qr(t)===$r}function ii(t){return Qr(t)===Wr}function oi(t){if(!t)return!1;var e=Qr(t);return Yr.indexOf(e)>=0||(Kr(t)||Zr(t)||Ce(t))}function si(t){return 0|Ne[Object.prototype.toString.call(t)]}function ai(t,e){var n=e.length;switch(t.type){case lr:case ur:case dr:case hr:var r=jt.allocType(t.type,n);r.set(e),t.data=r;break;case Kn:t.data=Sn(e);break;default:rt.raise("unsupported texture type, must specify a typed array")}}function ci(t,e){return jt.allocType(t.type===Kn?hr:t.type,e)}function li(t,e){t.type===Kn?(t.data=Sn(e),jt.freeType(e)):t.data=e}function ui(t,e,n,r,i,o){for(var s=t.width,a=t.height,c=t.channels,l=s*a*c,u=ci(t,l),d=0,h=0;h<a;++h)for(var f=0;f<s;++f)for(var p=0;p<c;++p)u[d++]=e[n*f+r*h+i*p+o];li(t,u)}function di(t,e,n,r,i,o){var s;if(s="undefined"!==typeof Xr[t]?Xr[t]:zr[t]*qr[e],o&&(s*=6),i){var a=0,c=n;while(c>=1)a+=s*c*c,c/=2;return a}return s*n*r}function hi(n,r,i,o,s,a,c){var l={"don't care":Sr,"dont care":Sr,nice:Ir,fast:Mr},u={repeat:gr,clamp:mr,mirror:vr},d={nearest:kr,linear:wr},h=e({mipmap:xr,"nearest mipmap nearest":_r,"linear mipmap nearest":Ar,"nearest mipmap linear":Cr,"linear mipmap linear":xr},d),f={none:0,browser:Lr},p={uint8:lr,rgba4:Un,rgb565:Hn,"rgb5 a1":Gn},g={alpha:Ln,luminance:Rn,"luminance alpha":jn,rgb:Bn,rgba:Pn,rgba4:zn,"rgb5 a1":Fn,rgb565:Vn},m={};r.ext_srgb&&(g.srgb=qn,g.srgba=Xn),r.oes_texture_float&&(p.float32=p.float=hr),r.oes_texture_half_float&&(p["float16"]=p["half float"]=Kn),r.webgl_depth_texture&&(e(g,{depth:Wn,"depth stencil":Yn}),e(p,{uint16:ur,uint32:dr,"depth stencil":$n})),r.webgl_compressed_texture_s3tc&&e(m,{"rgb s3tc dxt1":Zn,"rgba s3tc dxt1":Qn,"rgba s3tc dxt3":Jn,"rgba s3tc dxt5":tr}),r.webgl_compressed_texture_atc&&e(m,{"rgb atc":er,"rgba atc explicit alpha":nr,"rgba atc interpolated alpha":rr}),r.webgl_compressed_texture_pvrtc&&e(m,{"rgb pvrtc 4bppv1":ir,"rgb pvrtc 2bppv1":or,"rgba pvrtc 4bppv1":sr,"rgba pvrtc 2bppv1":ar}),r.webgl_compressed_texture_etc1&&(m["rgb etc1"]=cr);var v=Array.prototype.slice.call(n.getParameter(Dn));Object.keys(m).forEach((function(t){var e=m[t];v.indexOf(e)>=0&&(g[t]=e)}));var b=Object.keys(g);i.textureFormats=b;var y=[];Object.keys(g).forEach((function(t){var e=g[t];y[e]=t}));var k=[];Object.keys(p).forEach((function(t){var e=p[t];k[e]=t}));var w=[];Object.keys(d).forEach((function(t){var e=d[t];w[e]=t}));var _=[];Object.keys(h).forEach((function(t){var e=h[t];_[e]=t}));var A=[];Object.keys(u).forEach((function(t){var e=u[t];A[e]=t}));var C=b.reduce((function(t,e){var n=g[e];return n===Rn||n===Ln||n===Rn||n===jn||n===Wn||n===Yn||r.ext_srgb&&(n===qn||n===Xn)?t[n]=n:n===Fn||e.indexOf("rgba")>=0?t[n]=Pn:t[n]=Bn,t}),{});function x(){this.internalformat=Pn,this.format=Pn,this.type=lr,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Lr,this.width=0,this.height=0,this.channels=0}function E(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function S(t,e){if("object"===typeof e&&e){if("premultiplyAlpha"in e&&(rt.type(e.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(rt.type(e.flipY,"boolean","invalid texture flip"),t.flipY=e.flipY),"alignment"in e&&(rt.oneOf(e.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=e.alignment),"colorSpace"in e&&(rt.parameter(e.colorSpace,f,"invalid colorSpace"),t.colorSpace=f[e.colorSpace]),"type"in e){var n=e.type;rt(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),rt(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),rt(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),rt.parameter(n,p,"invalid texture type"),t.type=p[n]}var o=t.width,s=t.height,a=t.channels,c=!1;"shape"in e?(rt(Array.isArray(e.shape)&&e.shape.length>=2,"shape must be an array"),o=e.shape[0],s=e.shape[1],3===e.shape.length&&(a=e.shape[2],rt(a>0&&a<=4,"invalid number of channels"),c=!0),rt(o>=0&&o<=i.maxTextureSize,"invalid width"),rt(s>=0&&s<=i.maxTextureSize,"invalid height")):("radius"in e&&(o=s=e.radius,rt(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in e&&(o=e.width,rt(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in e&&(s=e.height,rt(s>=0&&s<=i.maxTextureSize,"invalid height")),"channels"in e&&(a=e.channels,rt(a>0&&a<=4,"invalid number of channels"),c=!0)),t.width=0|o,t.height=0|s,t.channels=0|a;var l=!1;if("format"in e){var u=e.format;rt(r.webgl_depth_texture||!("depth"===u||"depth stencil"===u),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),rt.parameter(u,g,"invalid texture format");var d=t.internalformat=g[u];t.format=C[d],u in p&&("type"in e||(t.type=p[u])),u in m&&(t.compressed=!0),l=!0}!c&&l?t.channels=zr[t.format]:c&&!l?t.channels!==jr[t.format]&&(t.format=t.internalformat=jr[t.channels]):l&&c&&rt(t.channels===zr[t.format],"number of channels inconsistent with specified format")}}function M(t){n.pixelStorei(Or,t.flipY),n.pixelStorei(Nr,t.premultiplyAlpha),n.pixelStorei(Pr,t.colorSpace),n.pixelStorei(Tr,t.unpackAlignment)}function I(){x.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function D(e,n){var r=null;if(oi(n)?r=n:n&&(rt.type(n,"object","invalid pixel data type"),S(e,n),"x"in n&&(e.xOffset=0|n.x),"y"in n&&(e.yOffset=0|n.y),oi(n.data)&&(r=n.data)),rt(!e.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){rt(!r,"can not specify copy and data field for the same texture");var o=s.viewportWidth,a=s.viewportHeight;e.width=e.width||o-e.xOffset,e.height=e.height||a-e.yOffset,e.needsCopy=!0,rt(e.xOffset>=0&&e.xOffset<o&&e.yOffset>=0&&e.yOffset<a&&e.width>0&&e.width<=o&&e.height>0&&e.height<=a,"copy texture read out of bounds")}else if(r){if(t(r))e.channels=e.channels||4,e.data=r,"type"in n||e.type!==lr||(e.type=si(r));else if(Kr(r))e.channels=e.channels||4,ai(e,r),e.alignment=1,e.needsFree=!0;else if(Ce(r)){var c=r.data;Array.isArray(c)||e.type!==lr||(e.type=si(c));var l,u,d,h,f,p,g=r.shape,m=r.stride;3===g.length?(d=g[2],p=m[2]):(rt(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),d=1,p=1),l=g[0],u=g[1],h=m[0],f=m[1],e.alignment=1,e.width=l,e.height=u,e.channels=d,e.format=e.internalformat=jr[d],e.needsFree=!0,ui(e,c,h,f,p,r.offset)}else if(Jr(r)||ti(r)||ei(r))Jr(r)||ti(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(ni(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(ri(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(ii(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if(Zr(r)){var v=e.width||r[0].length,b=e.height||r.length,y=e.channels;y=Mn(r[0][0])?y||r[0][0].length:y||1;for(var k=Ee.shape(r),w=1,_=0;_<k.length;++_)w*=k[_];var A=ci(e,w);Ee.flatten(r,k,"",A),li(e,A),e.alignment=1,e.width=v,e.height=b,e.channels=y,e.format=e.internalformat=jr[y],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===hr?rt(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):e.type===Kn&&rt(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function T(t,e,r){var i=t.element,s=t.data,a=t.internalformat,c=t.format,l=t.type,u=t.width,d=t.height;M(t),i?n.texImage2D(e,r,c,c,l,i):t.compressed?n.compressedTexImage2D(e,r,a,u,d,0,s):t.needsCopy?(o(),n.copyTexImage2D(e,r,c,t.xOffset,t.yOffset,u,d,0)):n.texImage2D(e,r,c,u,d,0,c,l,s||null)}function O(t,e,r,i,s){var a=t.element,c=t.data,l=t.internalformat,u=t.format,d=t.type,h=t.width,f=t.height;M(t),a?n.texSubImage2D(e,s,r,i,u,d,a):t.compressed?n.compressedTexSubImage2D(e,s,r,i,l,h,f,c):t.needsCopy?(o(),n.copyTexSubImage2D(e,s,r,i,t.xOffset,t.yOffset,h,f)):n.texSubImage2D(e,s,r,i,h,f,u,d,c)}var N=[];function P(){return N.pop()||new I}function L(t){t.needsFree&&jt.freeType(t.data),I.call(t),N.push(t)}function B(){x.call(this),this.genMipmaps=!1,this.mipmapHint=Sr,this.mipmask=0,this.images=Array(16)}function R(t,e,n){var r=t.images[0]=P();t.mipmask=1,r.width=t.width=e,r.height=t.height=n,r.channels=t.channels=4}function j(t,e){var n=null;if(oi(e))n=t.images[0]=P(),E(n,t),D(n,e),t.mipmask=1;else if(S(t,e),Array.isArray(e.mipmap))for(var r=e.mipmap,i=0;i<r.length;++i)n=t.images[i]=P(),E(n,t),n.width>>=i,n.height>>=i,D(n,r[i]),t.mipmask|=1<<i;else n=t.images[0]=P(),E(n,t),D(n,e),t.mipmask=1;E(t,t.images[0]),!t.compressed||t.internalformat!==Zn&&t.internalformat!==Qn&&t.internalformat!==Jn&&t.internalformat!==tr||rt(t.width%4===0&&t.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function z(t,e){for(var n=t.images,r=0;r<n.length;++r){if(!n[r])return;T(n[r],e,r)}}var F=[];function V(){var t=F.pop()||new B;x.call(t),t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function U(t){for(var e=t.images,n=0;n<e.length;++n)e[n]&&L(e[n]),e[n]=null;F.push(t)}function G(){this.minFilter=kr,this.magFilter=kr,this.wrapS=mr,this.wrapT=mr,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Sr}function H(t,e){if("min"in e){var n=e.min;rt.parameter(n,h),t.minFilter=h[n],Rr.indexOf(t.minFilter)>=0&&!("faces"in e)&&(t.genMipmaps=!0)}if("mag"in e){var r=e.mag;rt.parameter(r,d),t.magFilter=d[r]}var o=t.wrapS,s=t.wrapT;if("wrap"in e){var a=e.wrap;"string"===typeof a?(rt.parameter(a,u),o=s=u[a]):Array.isArray(a)&&(rt.parameter(a[0],u),rt.parameter(a[1],u),o=u[a[0]],s=u[a[1]])}else{if("wrapS"in e){var c=e.wrapS;rt.parameter(c,u),o=u[c]}if("wrapT"in e){var f=e.wrapT;rt.parameter(f,u),s=u[f]}}if(t.wrapS=o,t.wrapT=s,"anisotropic"in e){var p=e.anisotropic;rt("number"===typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=e.anisotropic}if("mipmap"in e){var g=!1;switch(typeof e.mipmap){case"string":rt.parameter(e.mipmap,l,"invalid mipmap hint"),t.mipmapHint=l[e.mipmap],t.genMipmaps=!0,g=!0;break;case"boolean":g=t.genMipmaps=e.mipmap;break;case"object":rt(Array.isArray(e.mipmap),"invalid mipmap type"),t.genMipmaps=!1,g=!0;break;default:rt.raise("invalid mipmap type")}g&&!("min"in e)&&(t.minFilter=_r)}}function $(t,e){n.texParameteri(e,yr,t.minFilter),n.texParameteri(e,br,t.magFilter),n.texParameteri(e,fr,t.wrapS),n.texParameteri(e,pr,t.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(e,Dr,t.anisotropic),t.genMipmaps&&(n.hint(Er,t.mipmapHint),n.generateMipmap(e))}var W=0,Y={},q=i.maxTextureUnits,X=Array(q).map((function(){return null}));function K(t){x.call(this),this.mipmask=0,this.internalformat=Pn,this.id=W++,this.refCount=1,this.target=t,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new G,c.profile&&(this.stats={size:0})}function Z(t){n.activeTexture(Br),n.bindTexture(t.target,t.texture)}function Q(){var t=X[0];t?n.bindTexture(t.target,t.texture):n.bindTexture(Tn,null)}function J(t){var e=t.texture;rt(e,"must not double destroy texture");var r=t.unit,i=t.target;r>=0&&(n.activeTexture(Br+r),n.bindTexture(i,null),X[r]=null),n.deleteTexture(e),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete Y[t.id],a.textureCount--}function tt(t,e){var r=new K(Tn);function o(t,e){var n=r.texInfo;G.call(n);var s=V();return"number"===typeof t?R(s,0|t,"number"===typeof e?0|e:0|t):t?(rt.type(t,"object","invalid arguments to regl.texture"),H(n,t),j(s,t)):R(s,1,1),n.genMipmaps&&(s.mipmask=(s.width<<1)-1),r.mipmask=s.mipmask,E(r,s),rt.texture2D(n,s,i),r.internalformat=s.internalformat,o.width=s.width,o.height=s.height,Z(r),z(s,Tn),$(n,Tn),Q(),U(s),c.profile&&(r.stats.size=di(r.internalformat,r.type,s.width,s.height,n.genMipmaps,!1)),o.format=y[r.internalformat],o.type=k[r.type],o.mag=w[n.magFilter],o.min=_[n.minFilter],o.wrapS=A[n.wrapS],o.wrapT=A[n.wrapT],o}function s(t,e,n,i){rt(!!t,"must specify image data");var s=0|e,a=0|n,c=0|i,l=P();return E(l,r),l.width=0,l.height=0,D(l,t),l.width=l.width||(r.width>>c)-s,l.height=l.height||(r.height>>c)-a,rt(r.type===l.type&&r.format===l.format&&r.internalformat===l.internalformat,"incompatible format for texture.subimage"),rt(s>=0&&a>=0&&s+l.width<=r.width&&a+l.height<=r.height,"texture.subimage write out of bounds"),rt(r.mipmask&1<<c,"missing mipmap data"),rt(l.data||l.element||l.needsCopy,"missing image data"),Z(r),O(l,Tn,s,a,c),Q(),L(l),o}function l(t,e){var i=0|t,s=0|e||i;if(i===r.width&&s===r.height)return o;o.width=r.width=i,o.height=r.height=s,Z(r);for(var a=0;r.mipmask>>a;++a){var l=i>>a,u=s>>a;if(!l||!u)break;n.texImage2D(Tn,a,r.format,l,u,0,r.format,r.type,null)}return Q(),c.profile&&(r.stats.size=di(r.internalformat,r.type,i,s,!1,!1)),o}return Y[r.id]=r,a.textureCount++,o(t,e),o.subimage=s,o.resize=l,o._reglType="texture2d",o._texture=r,c.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o}function et(t,e,r,o,s,l){var u=new K(On);Y[u.id]=u,a.cubeCount++;var d=new Array(6);function h(t,e,n,r,o,s){var a,l=u.texInfo;for(G.call(l),a=0;a<6;++a)d[a]=V();if("number"!==typeof t&&t)if("object"===typeof t)if(e)j(d[0],t),j(d[1],e),j(d[2],n),j(d[3],r),j(d[4],o),j(d[5],s);else if(H(l,t),S(u,t),"faces"in t){var f=t.faces;for(rt(Array.isArray(f)&&6===f.length,"cube faces must be a length 6 array"),a=0;a<6;++a)rt("object"===typeof f[a]&&!!f[a],"invalid input for cube map face"),E(d[a],u),j(d[a],f[a])}else for(a=0;a<6;++a)j(d[a],t);else rt.raise("invalid arguments to cube map");else{var p=0|t||1;for(a=0;a<6;++a)R(d[a],p,p)}for(E(u,d[0]),i.npotTextureCube||rt(In(u.width)&&In(u.height),"your browser does not support non power or two texture dimensions"),l.genMipmaps?u.mipmask=(d[0].width<<1)-1:u.mipmask=d[0].mipmask,rt.textureCube(u,l,d,i),u.internalformat=d[0].internalformat,h.width=d[0].width,h.height=d[0].height,Z(u),a=0;a<6;++a)z(d[a],Nn+a);for($(l,On),Q(),c.profile&&(u.stats.size=di(u.internalformat,u.type,h.width,h.height,l.genMipmaps,!0)),h.format=y[u.internalformat],h.type=k[u.type],h.mag=w[l.magFilter],h.min=_[l.minFilter],h.wrapS=A[l.wrapS],h.wrapT=A[l.wrapT],a=0;a<6;++a)U(d[a]);return h}function f(t,e,n,r,i){rt(!!e,"must specify image data"),rt("number"===typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var o=0|n,s=0|r,a=0|i,c=P();return E(c,u),c.width=0,c.height=0,D(c,e),c.width=c.width||(u.width>>a)-o,c.height=c.height||(u.height>>a)-s,rt(u.type===c.type&&u.format===c.format&&u.internalformat===c.internalformat,"incompatible format for texture.subimage"),rt(o>=0&&s>=0&&o+c.width<=u.width&&s+c.height<=u.height,"texture.subimage write out of bounds"),rt(u.mipmask&1<<a,"missing mipmap data"),rt(c.data||c.element||c.needsCopy,"missing image data"),Z(u),O(c,Nn+t,o,s,a),Q(),L(c),h}function p(t){var e=0|t;if(e!==u.width){h.width=u.width=e,h.height=u.height=e,Z(u);for(var r=0;r<6;++r)for(var i=0;u.mipmask>>i;++i)n.texImage2D(Nn+r,i,u.format,e>>i,e>>i,0,u.format,u.type,null);return Q(),c.profile&&(u.stats.size=di(u.internalformat,u.type,h.width,h.height,!1,!0)),h}}return h(t,e,r,o,s,l),h.subimage=f,h.resize=p,h._reglType="textureCube",h._texture=u,c.profile&&(h.stats=u.stats),h.destroy=function(){u.decRef()},h}function nt(){for(var t=0;t<q;++t)n.activeTexture(Br+t),n.bindTexture(Tn,null),X[t]=null;xe(Y).forEach(J),a.cubeCount=0,a.textureCount=0}function it(){for(var t=0;t<q;++t){var e=X[t];e&&(e.bindCount=0,e.unit=-1,X[t]=null)}xe(Y).forEach((function(t){t.texture=n.createTexture(),n.bindTexture(t.target,t.texture);for(var e=0;e<32;++e)if(0!==(t.mipmask&1<<e))if(t.target===Tn)n.texImage2D(Tn,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)n.texImage2D(Nn+r,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);$(t.texInfo,t.target)}))}function ot(){for(var t=0;t<q;++t){var e=X[t];e&&(e.bindCount=0,e.unit=-1,X[t]=null),n.activeTexture(Br+t),n.bindTexture(Tn,null),n.bindTexture(On,null)}}return e(K.prototype,{bind:function(){var t=this;t.bindCount+=1;var e=t.unit;if(e<0){for(var r=0;r<q;++r){var i=X[r];if(i){if(i.bindCount>0)continue;i.unit=-1}X[r]=t,e=r;break}e>=q&&rt.raise("insufficient number of texture units"),c.profile&&a.maxTextureUnits<e+1&&(a.maxTextureUnits=e+1),t.unit=e,n.activeTexture(Br+e),n.bindTexture(t.target,t.texture)}return e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&J(this)}}),c.profile&&(a.getTotalTextureSize=function(){var t=0;return Object.keys(Y).forEach((function(e){t+=Y[e].stats.size})),t}),{create2D:tt,createCube:et,clear:nt,getTexture:function(t){return null},restore:it,refresh:ot}}Xr[zn]=2,Xr[Fn]=2,Xr[Vn]=2,Xr[Yn]=4,Xr[Zn]=.5,Xr[Qn]=.5,Xr[Jn]=1,Xr[tr]=1,Xr[er]=.5,Xr[nr]=1,Xr[rr]=1,Xr[ir]=.5,Xr[or]=.25,Xr[sr]=.5,Xr[ar]=.25,Xr[cr]=.5;var fi=36161,pi=32854,gi=32855,mi=36194,vi=33189,bi=36168,yi=34041,ki=35907,wi=34836,_i=34842,Ai=34843,Ci=[];function xi(t,e,n){return Ci[t]*e*n}Ci[pi]=2,Ci[gi]=2,Ci[mi]=2,Ci[vi]=2,Ci[bi]=1,Ci[yi]=4,Ci[ki]=4,Ci[wi]=16,Ci[_i]=8,Ci[Ai]=6;var Ei=function(t,e,n,r,i){var o={rgba4:pi,rgb565:mi,"rgb5 a1":gi,depth:vi,stencil:bi,"depth stencil":yi};e.ext_srgb&&(o["srgba"]=ki),e.ext_color_buffer_half_float&&(o["rgba16f"]=_i,o["rgb16f"]=Ai),e.webgl_color_buffer_float&&(o["rgba32f"]=wi);var s=[];Object.keys(o).forEach((function(t){var e=o[t];s[e]=t}));var a=0,c={};function l(t){this.id=a++,this.refCount=1,this.renderbuffer=t,this.format=pi,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function u(e){var n=e.renderbuffer;rt(n,"must not double destroy renderbuffer"),t.bindRenderbuffer(fi,null),t.deleteRenderbuffer(n),e.renderbuffer=null,e.refCount=0,delete c[e.id],r.renderbufferCount--}function d(e,a){var u=new l(t.createRenderbuffer());function d(e,r){var a=0,c=0,l=pi;if("object"===typeof e&&e){var h=e;if("shape"in h){var f=h.shape;rt(Array.isArray(f)&&f.length>=2,"invalid renderbuffer shape"),a=0|f[0],c=0|f[1]}else"radius"in h&&(a=c=0|h.radius),"width"in h&&(a=0|h.width),"height"in h&&(c=0|h.height);"format"in h&&(rt.parameter(h.format,o,"invalid renderbuffer format"),l=o[h.format])}else"number"===typeof e?(a=0|e,c="number"===typeof r?0|r:a):e?rt.raise("invalid arguments to renderbuffer constructor"):a=c=1;if(rt(a>0&&c>0&&a<=n.maxRenderbufferSize&&c<=n.maxRenderbufferSize,"invalid renderbuffer size"),a!==u.width||c!==u.height||l!==u.format)return d.width=u.width=a,d.height=u.height=c,u.format=l,t.bindRenderbuffer(fi,u.renderbuffer),t.renderbufferStorage(fi,l,a,c),rt(0===t.getError(),"invalid render buffer format"),i.profile&&(u.stats.size=xi(u.format,u.width,u.height)),d.format=s[u.format],d}function h(e,r){var o=0|e,s=0|r||o;return o===u.width&&s===u.height||(rt(o>0&&s>0&&o<=n.maxRenderbufferSize&&s<=n.maxRenderbufferSize,"invalid renderbuffer size"),d.width=u.width=o,d.height=u.height=s,t.bindRenderbuffer(fi,u.renderbuffer),t.renderbufferStorage(fi,u.format,o,s),rt(0===t.getError(),"invalid render buffer format"),i.profile&&(u.stats.size=xi(u.format,u.width,u.height))),d}return c[u.id]=u,r.renderbufferCount++,d(e,a),d.resize=h,d._reglType="renderbuffer",d._renderbuffer=u,i.profile&&(d.stats=u.stats),d.destroy=function(){u.decRef()},d}function h(){xe(c).forEach((function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(fi,e.renderbuffer),t.renderbufferStorage(fi,e.format,e.width,e.height)})),t.bindRenderbuffer(fi,null)}return l.prototype.decRef=function(){--this.refCount<=0&&u(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(c).forEach((function(e){t+=c[e].stats.size})),t}),{create:d,clear:function(){xe(c).forEach(u)},restore:h}},Si=36160,Mi=36161,Ii=3553,Di=34069,Ti=36064,Oi=36096,Ni=36128,Pi=33306,Li=36053,Bi=36054,Ri=36055,ji=36057,zi=36061,Fi=36193,Vi=5121,Ui=5126,Gi=6407,Hi=6408,$i=6402,Wi=[Gi,Hi],Yi=[];Yi[Hi]=4,Yi[Gi]=3;var qi=[];qi[Vi]=1,qi[Ui]=4,qi[Fi]=2;var Xi=32854,Ki=32855,Zi=36194,Qi=33189,Ji=36168,to=34041,eo=35907,no=34836,ro=34842,io=34843,oo=[Xi,Ki,Zi,eo,ro,io,no],so={};function ao(t,n,r,i,o,s){var a={cur:null,next:null,dirty:!1,setFBO:null},c=["rgba"],l=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&l.push("srgba"),n.ext_color_buffer_half_float&&l.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&l.push("rgba32f");var u=["uint8"];function d(t,e,n){this.target=t,this.texture=e,this.renderbuffer=n;var r=0,i=0;e?(r=e.width,i=e.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function h(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function f(t,e,n){if(t)if(t.texture){var r=t.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);rt(i===e&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var s=t.renderbuffer._renderbuffer;rt(s.width===e&&s.height===n,"inconsistent width/height for renderbuffer"),s.refCount+=1}}function p(e,n){n&&(n.texture?t.framebufferTexture2D(Si,e,n.target,n.texture._texture.texture,0):t.framebufferRenderbuffer(Si,e,Mi,n.renderbuffer._renderbuffer.renderbuffer))}function g(t){var e=Ii,n=null,r=null,i=t;"object"===typeof t&&(i=t.data,"target"in t&&(e=0|t.target)),rt.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,rt(e===Ii)):"textureCube"===o?(n=i,rt(e>=Di&&e<Di+6,"invalid cube map target")):"renderbuffer"===o?(r=i,e=Mi):rt.raise("invalid regl object for attachment"),new d(e,n,r)}function m(t,e,n,r,s){if(n){var a=i.create2D({width:t,height:e,format:r,type:s});return a._texture.refCount=0,new d(Ii,a,null)}var c=o.create({width:t,height:e,format:r});return c._renderbuffer.refCount=0,new d(Mi,null,c)}function v(t){return t&&(t.texture||t.renderbuffer)}function b(t,e,n){t&&(t.texture?t.texture.resize(e,n):t.renderbuffer&&t.renderbuffer.resize(e,n),t.width=e,t.height=n)}n.oes_texture_half_float&&u.push("half float","float16"),n.oes_texture_float&&u.push("float","float32");var y=0,k={};function w(){this.id=y++,k[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function _(t){t.colorAttachments.forEach(h),h(t.depthAttachment),h(t.stencilAttachment),h(t.depthStencilAttachment)}function A(e){var n=e.framebuffer;rt(n,"must not double destroy framebuffer"),t.deleteFramebuffer(n),e.framebuffer=null,s.framebufferCount--,delete k[e.id]}function C(e){var n;t.bindFramebuffer(Si,e.framebuffer);var i=e.colorAttachments;for(n=0;n<i.length;++n)p(Ti+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)t.framebufferTexture2D(Si,Ti+n,Ii,null,0);t.framebufferTexture2D(Si,Pi,Ii,null,0),t.framebufferTexture2D(Si,Oi,Ii,null,0),t.framebufferTexture2D(Si,Ni,Ii,null,0),p(Oi,e.depthAttachment),p(Ni,e.stencilAttachment),p(Pi,e.depthStencilAttachment);var o=t.checkFramebufferStatus(Si);t.isContextLost()||o===Li||rt.raise("framebuffer configuration not supported, status = "+so[o]),t.bindFramebuffer(Si,a.next?a.next.framebuffer:null),a.cur=a.next,t.getError()}function x(t,i){var o=new w;function d(t,e){var i;rt(a.next!==o,"can not update framebuffer which is currently in use");var s=0,h=0,p=!0,b=!0,y=null,k=!0,w="rgba",A="uint8",x=1,E=null,S=null,M=null,I=!1;if("number"===typeof t)s=0|t,h=0|e||s;else if(t){rt.type(t,"object","invalid arguments for framebuffer");var D=t;if("shape"in D){var T=D.shape;rt(Array.isArray(T)&&T.length>=2,"invalid shape for framebuffer"),s=T[0],h=T[1]}else"radius"in D&&(s=h=D.radius),"width"in D&&(s=D.width),"height"in D&&(h=D.height);("color"in D||"colors"in D)&&(y=D.color||D.colors,Array.isArray(y)&&rt(1===y.length||n.webgl_draw_buffers,"multiple render targets not supported")),y||("colorCount"in D&&(x=0|D.colorCount,rt(x>0,"invalid color buffer count")),"colorTexture"in D&&(k=!!D.colorTexture,w="rgba4"),"colorType"in D&&(A=D.colorType,k?(rt(n.oes_texture_float||!("float"===A||"float32"===A),"you must enable OES_texture_float in order to use floating point framebuffer objects"),rt(n.oes_texture_half_float||!("half float"===A||"float16"===A),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===A||"float16"===A?(rt(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==A&&"float32"!==A||(rt(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),rt.oneOf(A,u,"invalid color type")),"colorFormat"in D&&(w=D.colorFormat,c.indexOf(w)>=0?k=!0:l.indexOf(w)>=0?k=!1:k?rt.oneOf(D.colorFormat,c,"invalid color format for texture"):rt.oneOf(D.colorFormat,l,"invalid color format for renderbuffer"))),("depthTexture"in D||"depthStencilTexture"in D)&&(I=!(!D.depthTexture&&!D.depthStencilTexture),rt(!I||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in D&&("boolean"===typeof D.depth?p=D.depth:(E=D.depth,b=!1)),"stencil"in D&&("boolean"===typeof D.stencil?b=D.stencil:(S=D.stencil,p=!1)),"depthStencil"in D&&("boolean"===typeof D.depthStencil?p=b=D.depthStencil:(M=D.depthStencil,p=!1,b=!1))}else s=h=1;var O=null,N=null,P=null,L=null;if(Array.isArray(y))O=y.map(g);else if(y)O=[g(y)];else for(O=new Array(x),i=0;i<x;++i)O[i]=m(s,h,k,w,A);rt(n.webgl_draw_buffers||O.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),rt(O.length<=r.maxColorAttachments,"too many color attachments, not supported"),s=s||O[0].width,h=h||O[0].height,E?N=g(E):p&&!b&&(N=m(s,h,I,"depth","uint32")),S?P=g(S):b&&!p&&(P=m(s,h,!1,"stencil","uint8")),M?L=g(M):!E&&!S&&b&&p&&(L=m(s,h,I,"depth stencil","depth stencil")),rt(!!E+!!S+!!M<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var B=null;for(i=0;i<O.length;++i)if(f(O[i],s,h),rt(!O[i]||O[i].texture&&Wi.indexOf(O[i].texture._texture.format)>=0||O[i].renderbuffer&&oo.indexOf(O[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),O[i]&&O[i].texture){var R=Yi[O[i].texture._texture.format]*qi[O[i].texture._texture.type];null===B?B=R:rt(B===R,"all color attachments much have the same number of bits per pixel.")}return f(N,s,h),rt(!N||N.texture&&N.texture._texture.format===$i||N.renderbuffer&&N.renderbuffer._renderbuffer.format===Qi,"invalid depth attachment for framebuffer object"),f(P,s,h),rt(!P||P.renderbuffer&&P.renderbuffer._renderbuffer.format===Ji,"invalid stencil attachment for framebuffer object"),f(L,s,h),rt(!L||L.texture&&L.texture._texture.format===to||L.renderbuffer&&L.renderbuffer._renderbuffer.format===to,"invalid depth-stencil attachment for framebuffer object"),_(o),o.width=s,o.height=h,o.colorAttachments=O,o.depthAttachment=N,o.stencilAttachment=P,o.depthStencilAttachment=L,d.color=O.map(v),d.depth=v(N),d.stencil=v(P),d.depthStencil=v(L),d.width=o.width,d.height=o.height,C(o),d}function h(t,e){rt(a.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|t,1),r=Math.max(0|e||n,1);if(n===o.width&&r===o.height)return d;for(var i=o.colorAttachments,s=0;s<i.length;++s)b(i[s],n,r);return b(o.depthAttachment,n,r),b(o.stencilAttachment,n,r),b(o.depthStencilAttachment,n,r),o.width=d.width=n,o.height=d.height=r,C(o),d}return s.framebufferCount++,d(t,i),e(d,{resize:h,_reglType:"framebuffer",_framebuffer:o,destroy:function(){A(o),_(o)},use:function(t){a.setFBO({framebuffer:d},t)}})}function E(t){var o=Array(6);function s(t){var r;rt(o.indexOf(a.next)<0,"can not update framebuffer which is currently in use");var l,d={color:null},h=0,f=null,p="rgba",g="uint8",m=1;if("number"===typeof t)h=0|t;else if(t){rt.type(t,"object","invalid arguments for framebuffer");var v=t;if("shape"in v){var b=v.shape;rt(Array.isArray(b)&&b.length>=2,"invalid shape for framebuffer"),rt(b[0]===b[1],"cube framebuffer must be square"),h=b[0]}else"radius"in v&&(h=0|v.radius),"width"in v?(h=0|v.width,"height"in v&&rt(v.height===h,"must be square")):"height"in v&&(h=0|v.height);("color"in v||"colors"in v)&&(f=v.color||v.colors,Array.isArray(f)&&rt(1===f.length||n.webgl_draw_buffers,"multiple render targets not supported")),f||("colorCount"in v&&(m=0|v.colorCount,rt(m>0,"invalid color buffer count")),"colorType"in v&&(rt.oneOf(v.colorType,u,"invalid color type"),g=v.colorType),"colorFormat"in v&&(p=v.colorFormat,rt.oneOf(v.colorFormat,c,"invalid color format for texture"))),"depth"in v&&(d.depth=v.depth),"stencil"in v&&(d.stencil=v.stencil),"depthStencil"in v&&(d.depthStencil=v.depthStencil)}else h=1;if(f)if(Array.isArray(f))for(l=[],r=0;r<f.length;++r)l[r]=f[r];else l=[f];else{l=Array(m);var y={radius:h,format:p,type:g};for(r=0;r<m;++r)l[r]=i.createCube(y)}for(d.color=Array(l.length),r=0;r<l.length;++r){var k=l[r];rt("function"===typeof k&&"textureCube"===k._reglType,"invalid cube map"),h=h||k.width,rt(k.width===h&&k.height===h,"invalid cube map shape"),d.color[r]={target:Di,data:l[r]}}for(r=0;r<6;++r){for(var w=0;w<l.length;++w)d.color[w].target=Di+r;r>0&&(d.depth=o[0].depth,d.stencil=o[0].stencil,d.depthStencil=o[0].depthStencil),o[r]?o[r](d):o[r]=x(d)}return e(s,{width:h,height:h,color:l})}function l(t){var e,n=0|t;if(rt(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===s.width)return s;var i=s.color;for(e=0;e<i.length;++e)i[e].resize(n);for(e=0;e<6;++e)o[e].resize(n);return s.width=s.height=n,s}return s(t),e(s,{faces:o,resize:l,_reglType:"framebufferCube",destroy:function(){o.forEach((function(t){t.destroy()}))}})}function S(){a.cur=null,a.next=null,a.dirty=!0,xe(k).forEach((function(e){e.framebuffer=t.createFramebuffer(),C(e)}))}return e(a,{getFramebuffer:function(t){if("function"===typeof t&&"framebuffer"===t._reglType){var e=t._framebuffer;if(e instanceof w)return e}return null},create:x,createCube:E,clear:function(){xe(k).forEach(A)},restore:S})}so[Li]="complete",so[Bi]="incomplete attachment",so[ji]="incomplete dimensions",so[Ri]="incomplete, missing attachment",so[zi]="unsupported";var co=5126,lo=34962;function uo(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=co,this.offset=0,this.stride=0,this.divisor=0}function ho(e,n,r,i,o){for(var s=r.maxAttributes,a=new Array(s),c=0;c<s;++c)a[c]=new uo;var l=0,u={},d={Record:uo,scope:{},state:a,currentVAO:null,targetVAO:null,restore:f()?k:function(){},createVAO:w,getVAO:g,destroyBuffer:h,setVAO:f()?m:v,clear:f()?b:function(){}};function h(t){for(var n=0;n<a.length;++n){var r=a[n];r.buffer===t&&(e.disableVertexAttribArray(n),r.buffer=null)}}function f(){return n.oes_vertex_array_object}function p(){return n.angle_instanced_arrays}function g(t){return"function"===typeof t&&t._vao?t._vao:null}function m(t){if(t!==d.currentVAO){var e=f();t?e.bindVertexArrayOES(t.vao):e.bindVertexArrayOES(null),d.currentVAO=t}}function v(t){if(t!==d.currentVAO){if(t)t.bindAttrs();else for(var n=p(),r=0;r<a.length;++r){var i=a[r];i.buffer?(e.enableVertexAttribArray(r),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}d.currentVAO=t}}function b(){xe(u).forEach((function(t){t.destroy()}))}function y(){this.id=++l,this.attributes=[];var t=f();this.vao=t?t.createVertexArrayOES():null,u[this.id]=this,this.buffers=[]}function k(){var t=f();t&&xe(u).forEach((function(t){t.refresh()}))}function w(e){var r=new y;function a(e){rt(Array.isArray(e),"arguments to vertex array constructor must be an array"),rt(e.length<s,"too many attributes"),rt(e.length>0,"must specify at least one attribute");var i={},c=r.attributes;c.length=e.length;for(var l=0;l<e.length;++l){var u,d=e[l],h=c[l]=new uo,f=d.data||d;if(Array.isArray(f)||t(f)||Ce(f))r.buffers[l]&&(u=r.buffers[l],t(f)&&u._buffer.byteLength>=f.byteLength?u.subdata(f):(u.destroy(),r.buffers[l]=null)),r.buffers[l]||(u=r.buffers[l]=o.create(d,lo,!1,!0)),h.buffer=o.getBuffer(u),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1,i[l]=1;else o.getBuffer(d)?(h.buffer=o.getBuffer(d),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1):o.getBuffer(d.buffer)?(h.buffer=o.getBuffer(d.buffer),h.size=0|(+d.size||h.buffer.dimension),h.normalized=!!d.normalized||!1,"type"in d?(rt.parameter(d.type,Ue,"invalid buffer type"),h.type=Ue[d.type]):h.type=h.buffer.dtype,h.offset=0|(d.offset||0),h.stride=0|(d.stride||0),h.divisor=0|(d.divisor||0),h.state=1,rt(h.size>=1&&h.size<=4,"size must be between 1 and 4"),rt(h.offset>=0,"invalid offset"),rt(h.stride>=0&&h.stride<=255,"stride must be between 0 and 255"),rt(h.divisor>=0,"divisor must be positive"),rt(!h.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in d?(rt(l>0,"first attribute must not be a constant"),h.x=+d.x||0,h.y=+d.y||0,h.z=+d.z||0,h.w=+d.w||0,h.state=2):rt(!1,"invalid attribute spec for location "+l)}for(var p=0;p<r.buffers.length;++p)!i[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),a}return i.vaoCount+=1,a.destroy=function(){for(var t=0;t<r.buffers.length;++t)r.buffers[t]&&r.buffers[t].destroy();r.buffers.length=0,r.destroy()},a._vao=r,a._reglType="vao",a(e)}return y.prototype.bindAttrs=function(){for(var t=p(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(e.enableVertexAttribArray(r),e.bindBuffer(lo,i.buffer.buffer),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),t&&i.divisor&&t.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<s;++o)e.disableVertexAttribArray(o)},y.prototype.refresh=function(){var t=f();t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),d.currentVAO=this)},y.prototype.destroy=function(){if(this.vao){var t=f();this===d.currentVAO&&(d.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null}u[this.id]&&(delete u[this.id],i.vaoCount-=1)},d}var fo=35632,po=35633,go=35718,mo=35721;function vo(t,n,r,i){var o={},s={};function a(t,e,n,r){this.name=t,this.id=e,this.location=n,this.info=r}function c(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id)return void(t[n].location=e.location);t.push(e)}function l(e,r,i){var a=e===fo?o:s,c=a[r];if(!c){var l=n.str(r);c=t.createShader(e),t.shaderSource(c,l),t.compileShader(c),rt.shaderError(t,c,l,e,i),a[r]=c}return c}var u={},d=[],h=0;function f(t,e){this.id=h++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(e,r,o){var s,u,d=l(fo,e.fragId),h=l(po,e.vertId),f=e.program=t.createProgram();if(t.attachShader(f,d),t.attachShader(f,h),o)for(s=0;s<o.length;++s){var p=o[s];t.bindAttribLocation(f,p[0],p[1])}t.linkProgram(f),rt.linkError(t,f,n.str(e.fragId),n.str(e.vertId),r);var g=t.getProgramParameter(f,go);i.profile&&(e.stats.uniformsCount=g);var m=e.uniforms;for(s=0;s<g;++s)if(u=t.getActiveUniform(f,s),u)if(u.size>1)for(var v=0;v<u.size;++v){var b=u.name.replace("[0]","["+v+"]");c(m,new a(b,n.id(b),t.getUniformLocation(f,b),u))}else c(m,new a(u.name,n.id(u.name),t.getUniformLocation(f,u.name),u));var y=t.getProgramParameter(f,mo);i.profile&&(e.stats.attributesCount=y);var k=e.attributes;for(s=0;s<y;++s)u=t.getActiveAttrib(f,s),u&&c(k,new a(u.name,n.id(u.name),t.getAttribLocation(f,u.name),u))}function g(){o={},s={};for(var t=0;t<d.length;++t)p(d[t],null,d[t].attributes.map((function(t){return[t.location,t.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var t=0;return d.forEach((function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)})),t},r.getMaxAttributesCount=function(){var t=0;return d.forEach((function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)})),t}),{clear:function(){var e=t.deleteShader.bind(t);xe(o).forEach(e),o={},xe(s).forEach(e),s={},d.forEach((function(e){t.deleteProgram(e.program)})),d.length=0,u={},r.shaderCount=0},program:function(n,i,a,c){rt.command(n>=0,"missing vertex shader",a),rt.command(i>=0,"missing fragment shader",a);var l=u[i];l||(l=u[i]={});var h=l[n];if(h&&(h.refCount++,!c))return h;var g=new f(i,n);return r.shaderCount++,p(g,a,c),h||(l[n]=g),d.push(g),e(g,{destroy:function(){if(g.refCount--,g.refCount<=0){t.deleteProgram(g.program);var e=d.indexOf(g);d.splice(e,1),r.shaderCount--}l[g.vertId].refCount<=0&&(t.deleteShader(s[g.vertId]),delete s[g.vertId],delete u[g.fragId][g.vertId]),Object.keys(u[g.fragId]).length||(t.deleteShader(o[g.fragId]),delete o[g.fragId],delete u[g.fragId])}})},restore:g,shader:l,frag:-1,vert:-1}}var bo=6408,yo=5121,ko=3333,wo=5126;function _o(e,n,r,i,o,s,a){function c(c){var l;null===n.next?(rt(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),l=yo):(rt(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),l=n.next.colorAttachments[0].texture._texture.type,s.oes_texture_float?(rt(l===yo||l===wo,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),l===wo&&rt(a.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):rt(l===yo,"Reading from a framebuffer is only allowed for the type 'uint8'"));var u=0,d=0,h=i.framebufferWidth,f=i.framebufferHeight,p=null;t(c)?p=c:c&&(rt.type(c,"object","invalid arguments to regl.read()"),u=0|c.x,d=0|c.y,rt(u>=0&&u<i.framebufferWidth,"invalid x offset for regl.read"),rt(d>=0&&d<i.framebufferHeight,"invalid y offset for regl.read"),h=0|(c.width||i.framebufferWidth-u),f=0|(c.height||i.framebufferHeight-d),p=c.data||null),p&&(l===yo?rt(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):l===wo&&rt(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),rt(h>0&&h+u<=i.framebufferWidth,"invalid width for read pixels"),rt(f>0&&f+d<=i.framebufferHeight,"invalid height for read pixels"),r();var g=h*f*4;return p||(l===yo?p=new Uint8Array(g):l===wo&&(p=p||new Float32Array(g))),rt.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),rt(p.byteLength>=g,"data buffer for regl.read() too small"),e.pixelStorei(ko,4),e.readPixels(u,d,h,f,bo,l,p),p}function l(t){var e;return n.setFBO({framebuffer:t.framebuffer},(function(){e=c(t)})),e}function u(t){return t&&"framebuffer"in t?l(t):c(t)}return u}function Ao(t){return Array.prototype.slice.call(t)}function Co(t){return Ao(t).join("")}function xo(){var t=0,n=[],r=[];function i(e){for(var i=0;i<r.length;++i)if(r[i]===e)return n[i];var o="g"+t++;return n.push(o),r.push(e),o}function o(){var n=[];function r(){n.push.apply(n,Ao(arguments))}var i=[];function o(){var e="v"+t++;return i.push(e),arguments.length>0&&(n.push(e,"="),n.push.apply(n,Ao(arguments)),n.push(";")),e}return e(r,{def:o,toString:function(){return Co([i.length>0?"var "+i.join(",")+";":"",Co(n)])}})}function s(){var t=o(),n=o(),r=t.toString,i=n.toString;function s(e,r){n(e,r,"=",t.def(e,r),";")}return e((function(){t.apply(t,Ao(arguments))}),{def:t.def,entry:t,exit:n,save:s,set:function(e,n,r){s(e,n),t(e,n,"=",r,";")},toString:function(){return r()+i()}})}function a(){var t=Co(arguments),n=s(),r=s(),i=n.toString,o=r.toString;return e(n,{then:function(){return n.apply(n,Ao(arguments)),this},else:function(){return r.apply(r,Ao(arguments)),this},toString:function(){var e=o();return e&&(e="else{"+e+"}"),Co(["if(",t,"){",i(),"}",e])}})}var c=o(),l={};function u(t,n){var r=[];function i(){var t="a"+r.length;return r.push(t),t}n=n||0;for(var o=0;o<n;++o)i();var a=s(),c=a.toString,u=l[t]=e(a,{arg:i,toString:function(){return Co(["function(",r.join(),"){",c(),"}"])}});return u}function d(){var t=['"use strict";',c,"return {"];Object.keys(l).forEach((function(e){t.push('"',e,'":',l[e].toString(),",")})),t.push("}");var e=Co(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n"),i=Function.apply(null,n.concat(e));return i.apply(null,r)}return{global:c,link:i,block:o,proc:u,scope:s,cond:a,compile:d}}var Eo="xyzw".split(""),So=5121,Mo=1,Io=2,Do=0,To=1,Oo=2,No=3,Po=4,Lo=5,Bo=6,Ro="dither",jo="blend.enable",zo="blend.color",Fo="blend.equation",Vo="blend.func",Uo="depth.enable",Go="depth.func",Ho="depth.range",$o="depth.mask",Wo="colorMask",Yo="cull.enable",qo="cull.face",Xo="frontFace",Ko="lineWidth",Zo="polygonOffset.enable",Qo="polygonOffset.offset",Jo="sample.alpha",ts="sample.enable",es="sample.coverage",ns="stencil.enable",rs="stencil.mask",is="stencil.func",os="stencil.opFront",ss="stencil.opBack",as="scissor.enable",cs="scissor.box",ls="viewport",us="profile",ds="framebuffer",hs="vert",fs="frag",ps="elements",gs="primitive",ms="count",vs="offset",bs="instances",ys="vao",ks="Width",ws="Height",_s=ds+ks,As=ds+ws,Cs=ls+ks,xs=ls+ws,Es="drawingBuffer",Ss=Es+ks,Ms=Es+ws,Is=[Vo,Fo,is,os,ss,es,ls,cs,Qo],Ds=34962,Ts=34963,Os=35632,Ns=35633,Ps=3553,Ls=34067,Bs=2884,Rs=3042,js=3024,zs=2960,Fs=2929,Vs=3089,Us=32823,Gs=32926,Hs=32928,$s=5126,Ws=35664,Ys=35665,qs=35666,Xs=5124,Ks=35667,Zs=35668,Qs=35669,Js=35670,ta=35671,ea=35672,na=35673,ra=35674,ia=35675,oa=35676,sa=35678,aa=35680,ca=4,la=1028,ua=1029,da=2304,ha=2305,fa=32775,pa=32776,ga=519,ma=7680,va=0,ba=1,ya=32774,ka=513,wa=36160,_a=36064,Aa={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ca=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],xa={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ea={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Sa={frag:Os,vert:Ns},Ma={cw:da,ccw:ha};function Ia(e){return Array.isArray(e)||t(e)||Ce(e)}function Da(t){return t.sort((function(t,e){return t===ls?-1:e===ls?1:t<e?-1:1}))}function Ta(t,e,n,r){this.thisDep=t,this.contextDep=e,this.propDep=n,this.append=r}function Oa(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function Na(t){return new Ta(!1,!1,!1,t)}function Pa(t,e){var n=t.type;if(n===Do){var r=t.data.length;return new Ta(!0,r>=1,r>=2,e)}if(n===Po){var i=t.data;return new Ta(i.thisDep,i.contextDep,i.propDep,e)}if(n===Lo)return new Ta(!1,!1,!1,e);if(n===Bo){for(var o=!1,s=!1,a=!1,c=0;c<t.data.length;++c){var l=t.data[c];if(l.type===To)a=!0;else if(l.type===Oo)s=!0;else if(l.type===No)o=!0;else if(l.type===Do){o=!0;var u=l.data;u>=1&&(s=!0),u>=2&&(a=!0)}else l.type===Po&&(o=o||l.data.thisDep,s=s||l.data.contextDep,a=a||l.data.propDep)}return new Ta(o,s,a,e)}return new Ta(n===No,n===Oo,n===To,e)}var La=new Ta(!1,!1,!1,(function(){}));function Ba(t,n,r,i,o,s,a,c,l,u,d,h,f,p,g){var m=u.Record,v={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(v.min=fa,v.max=pa);var b=r.angle_instanced_arrays,y=r.webgl_draw_buffers,k={dirty:!0,profile:g.profile},w={},_=[],A={},C={};function x(t){return t.replace(".","_")}function E(t,e,n){var r=x(t);_.push(t),w[r]=k[r]=!!n,A[r]=e}function S(t,e,n){var r=x(t);_.push(t),Array.isArray(n)?(k[r]=n.slice(),w[r]=n.slice()):k[r]=w[r]=n,C[r]=e}E(Ro,js),E(jo,Rs),S(zo,"blendColor",[0,0,0,0]),S(Fo,"blendEquationSeparate",[ya,ya]),S(Vo,"blendFuncSeparate",[ba,va,ba,va]),E(Uo,Fs,!0),S(Go,"depthFunc",ka),S(Ho,"depthRange",[0,1]),S($o,"depthMask",!0),S(Wo,Wo,[!0,!0,!0,!0]),E(Yo,Bs),S(qo,"cullFace",ua),S(Xo,Xo,ha),S(Ko,Ko,1),E(Zo,Us),S(Qo,"polygonOffset",[0,0]),E(Jo,Gs),E(ts,Hs),S(es,"sampleCoverage",[1,!1]),E(ns,zs),S(rs,"stencilMask",-1),S(is,"stencilFunc",[ga,0,-1]),S(os,"stencilOpSeparate",[la,ma,ma,ma]),S(ss,"stencilOpSeparate",[ua,ma,ma,ma]),E(as,Vs),S(cs,"scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),S(ls,ls,[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var M={gl:t,context:f,strings:n,next:w,current:k,draw:h,elements:s,buffer:o,shader:d,attributes:u.state,vao:u,uniforms:l,framebuffer:c,extensions:r,timer:p,isBufferArgs:Ia},I={primTypes:un,compareFuncs:xa,blendFuncs:Aa,blendEquations:v,stencilOps:Ea,glTypes:Ue,orientationType:Ma};rt.optional((function(){M.isArrayLike=Mn})),y&&(I.backBuffer=[ua],I.drawBuffer=St(i.maxDrawbuffers,(function(t){return 0===t?[0]:St(t,(function(t){return _a+t}))})));var D=0;function T(){var t=xo(),e=t.link,r=t.global;t.id=D++,t.batchId="0";var i=e(M),o=t.shared={props:"a0"};Object.keys(M).forEach((function(t){o[t]=r.def(i,".",t)})),rt.optional((function(){t.CHECK=e(rt),t.commandStr=rt.guessCommand(),t.command=e(t.commandStr),t.assert=function(t,n,r){t("if(!(",n,"))",this.CHECK,".commandRaise(",e(r),",",this.command,");")},I.invalidBlendCombinations=Ca}));var s=t.next={},a=t.current={};Object.keys(C).forEach((function(t){Array.isArray(k[t])&&(s[t]=r.def(o.next,".",t),a[t]=r.def(o.current,".",t))}));var c=t.constants={};Object.keys(I).forEach((function(t){c[t]=r.def(JSON.stringify(I[t]))})),t.invoke=function(n,r){switch(r.type){case Do:var i=["this",o.context,o.props,t.batchId];return n.def(e(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case To:return n.def(o.props,r.data);case Oo:return n.def(o.context,r.data);case No:return n.def("this",r.data);case Po:return r.data.append(t,n),r.data.ref;case Lo:return r.data.toString();case Bo:return r.data.map((function(e){return t.invoke(n,e)}))}},t.attribCache={};var l={};return t.scopeAttrib=function(t){var r=n.id(t);if(r in l)return l[r];var i=u.scope[r];i||(i=u.scope[r]=new m);var o=l[r]=e(i);return o},t}function O(t){var e,n=t.static,r=t.dynamic;if(us in n){var i=!!n[us];e=Na((function(t,e){return i})),e.enable=i}else if(us in r){var o=r[us];e=Pa(o,(function(t,e){return t.invoke(e,o)}))}return e}function N(t,e){var n=t.static,r=t.dynamic;if(ds in n){var i=n[ds];return i?(i=c.getFramebuffer(i),rt.command(i,"invalid framebuffer object"),Na((function(t,e){var n=t.link(i),r=t.shared;e.set(r.framebuffer,".next",n);var o=r.context;return e.set(o,"."+_s,n+".width"),e.set(o,"."+As,n+".height"),n}))):Na((function(t,e){var n=t.shared;e.set(n.framebuffer,".next","null");var r=n.context;return e.set(r,"."+_s,r+"."+Ss),e.set(r,"."+As,r+"."+Ms),"null"}))}if(ds in r){var o=r[ds];return Pa(o,(function(t,e){var n=t.invoke(e,o),r=t.shared,i=r.framebuffer,s=e.def(i,".getFramebuffer(",n,")");rt.optional((function(){t.assert(e,"!"+n+"||"+s,"invalid framebuffer object")})),e.set(i,".next",s);var a=r.context;return e.set(a,"."+_s,s+"?"+s+".width:"+a+"."+Ss),e.set(a,"."+As,s+"?"+s+".height:"+a+"."+Ms),s}))}return null}function P(t,e,n){var r=t.static,i=t.dynamic;function o(t){if(t in r){var o=r[t];rt.commandType(o,"object","invalid "+t,n.commandStr);var s,a,c=!0,l=0|o.x,u=0|o.y;return"width"in o?(s=0|o.width,rt.command(s>=0,"invalid "+t,n.commandStr)):c=!1,"height"in o?(a=0|o.height,rt.command(a>=0,"invalid "+t,n.commandStr)):c=!1,new Ta(!c&&e&&e.thisDep,!c&&e&&e.contextDep,!c&&e&&e.propDep,(function(t,e){var n=t.shared.context,r=s;"width"in o||(r=e.def(n,".",_s,"-",l));var i=a;return"height"in o||(i=e.def(n,".",As,"-",u)),[l,u,r,i]}))}if(t in i){var d=i[t],h=Pa(d,(function(e,n){var r=e.invoke(n,d);rt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)}));var i=e.shared.context,o=n.def(r,".x|0"),s=n.def(r,".y|0"),a=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",_s,"-",o,")"),c=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",As,"-",s,")");return rt.optional((function(){e.assert(n,a+">=0&&"+c+">=0","invalid "+t)})),[o,s,a,c]}));return e&&(h.thisDep=h.thisDep||e.thisDep,h.contextDep=h.contextDep||e.contextDep,h.propDep=h.propDep||e.propDep),h}return e?new Ta(e.thisDep,e.contextDep,e.propDep,(function(t,e){var n=t.shared.context;return[0,0,e.def(n,".",_s),e.def(n,".",As)]})):null}var s=o(ls);if(s){var a=s;s=new Ta(s.thisDep,s.contextDep,s.propDep,(function(t,e){var n=a.append(t,e),r=t.shared.context;return e.set(r,"."+Cs,n[2]),e.set(r,"."+xs,n[3]),n}))}return{viewport:s,scissor_box:o(cs)}}function L(t,e){var n=t.static,r="string"===typeof n[fs]&&"string"===typeof n[hs];if(r){if(Object.keys(e.dynamic).length>0)return null;var i=e.static,o=Object.keys(i);if(o.length>0&&"number"===typeof i[o[0]]){for(var s=[],a=0;a<o.length;++a)rt("number"===typeof i[o[a]],"must specify all vertex attribute locations when using vaos"),s.push([0|i[o[a]],o[a]]);return s}}return null}function B(t,e,r){var i=t.static,o=t.dynamic;function s(t){if(t in i){var e=n.id(i[t]);rt.optional((function(){d.shader(Sa[t],e,rt.guessCommand())}));var r=Na((function(){return e}));return r.id=e,r}if(t in o){var s=o[t];return Pa(s,(function(e,n){var r=e.invoke(n,s),i=n.def(e.shared.strings,".id(",r,")");return rt.optional((function(){n(e.shared.shader,".shader(",Sa[t],",",i,",",e.command,");")})),i}))}return null}var a,c=s(fs),l=s(hs),u=null;return Oa(c)&&Oa(l)?(u=d.program(l.id,c.id,null,r),a=Na((function(t,e){return t.link(u)}))):a=new Ta(c&&c.thisDep||l&&l.thisDep,c&&c.contextDep||l&&l.contextDep,c&&c.propDep||l&&l.propDep,(function(t,e){var n,r,i=t.shared.shader;n=c?c.append(t,e):e.def(i,".",fs),r=l?l.append(t,e):e.def(i,".",hs);var o=i+".program("+r+","+n;return rt.optional((function(){o+=","+t.command})),e.def(o+")")})),{frag:c,vert:l,progVar:a,program:u}}function R(t,e){var n=t.static,r=t.dynamic;function i(){if(ps in n){var t=n[ps];Ia(t)?t=s.getElements(s.create(t,!0)):t&&(t=s.getElements(t),rt.command(t,"invalid elements",e.commandStr));var i=Na((function(e,n){if(t){var r=e.link(t);return e.ELEMENTS=r,r}return e.ELEMENTS=null,null}));return i.value=t,i}if(ps in r){var o=r[ps];return Pa(o,(function(t,e){var n=t.shared,r=n.isBufferArgs,i=n.elements,s=t.invoke(e,o),a=e.def("null"),c=e.def(r,"(",s,")"),l=t.cond(c).then(a,"=",i,".createStream(",s,");").else(a,"=",i,".getElements(",s,");");return rt.optional((function(){t.assert(l.else,"!"+s+"||"+a,"invalid elements")})),e.entry(l),e.exit(t.cond(c).then(i,".destroyStream(",a,");")),t.ELEMENTS=a,a}))}return null}var o=i();function a(){if(gs in n){var t=n[gs];return rt.commandParameter(t,un,"invalid primitve",e.commandStr),Na((function(e,n){return un[t]}))}if(gs in r){var i=r[gs];return Pa(i,(function(t,e){var n=t.constants.primTypes,r=t.invoke(e,i);return rt.optional((function(){t.assert(e,r+" in "+n,"invalid primitive, must be one of "+Object.keys(un))})),e.def(n,"[",r,"]")}))}return o?Oa(o)?o.value?Na((function(t,e){return e.def(t.ELEMENTS,".primType")})):Na((function(){return ca})):new Ta(o.thisDep,o.contextDep,o.propDep,(function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",ca)})):null}function c(t,i){if(t in n){var s=0|n[t];return rt.command(!i||s>=0,"invalid "+t,e.commandStr),Na((function(t,e){return i&&(t.OFFSET=s),s}))}if(t in r){var a=r[t];return Pa(a,(function(e,n){var r=e.invoke(n,a);return i&&(e.OFFSET=r,rt.optional((function(){e.assert(n,r+">=0","invalid "+t)}))),r}))}return i&&o?Na((function(t,e){return t.OFFSET="0",0})):null}var l=c(vs,!0);function u(){if(ms in n){var t=0|n[ms];return rt.command("number"===typeof t&&t>=0,"invalid vertex count",e.commandStr),Na((function(){return t}))}if(ms in r){var i=r[ms];return Pa(i,(function(t,e){var n=t.invoke(e,i);return rt.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(Oa(o)){if(o)return l?new Ta(l.thisDep,l.contextDep,l.propDep,(function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);return rt.optional((function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")})),n})):Na((function(t,e){return e.def(t.ELEMENTS,".vertCount")}));var s=Na((function(){return-1}));return rt.optional((function(){s.MISSING=!0})),s}var a=new Ta(o.thisDep||l.thisDep,o.contextDep||l.contextDep,o.propDep||l.propDep,(function(t,e){var n=t.ELEMENTS;return t.OFFSET?e.def(n,"?",n,".vertCount-",t.OFFSET,":-1"):e.def(n,"?",n,".vertCount:-1")}));return rt.optional((function(){a.DYNAMIC=!0})),a}return null}return{elements:o,primitive:a(),count:u(),instances:c(bs,!1),offset:l}}function j(t,e){var n=t.static,r=t.dynamic,o={};return _.forEach((function(t){var s=x(t);function a(e,i){if(t in n){var a=e(n[t]);o[s]=Na((function(){return a}))}else if(t in r){var c=r[t];o[s]=Pa(c,(function(t,e){return i(t,e,t.invoke(e,c))}))}}switch(t){case Yo:case jo:case Ro:case ns:case Uo:case as:case Zo:case Jo:case ts:case $o:return a((function(n){return rt.commandType(n,"boolean",t,e.commandStr),n}),(function(e,n,r){return rt.optional((function(){e.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+t,e.commandStr)})),r}));case Go:return a((function(n){return rt.commandParameter(n,xa,"invalid "+t,e.commandStr),xa[n]}),(function(e,n,r){var i=e.constants.compareFuncs;return rt.optional((function(){e.assert(n,r+" in "+i,"invalid "+t+", must be one of "+Object.keys(xa))})),n.def(i,"[",r,"]")}));case Ho:return a((function(t){return rt.command(Mn(t)&&2===t.length&&"number"===typeof t[0]&&"number"===typeof t[1]&&t[0]<=t[1],"depth range is 2d array",e.commandStr),t}),(function(t,e,n){rt.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}));var r=e.def("+",n,"[0]"),i=e.def("+",n,"[1]");return[r,i]}));case Vo:return a((function(t){rt.commandType(t,"object","blend.func",e.commandStr);var n="srcRGB"in t?t.srcRGB:t.src,r="srcAlpha"in t?t.srcAlpha:t.src,i="dstRGB"in t?t.dstRGB:t.dst,o="dstAlpha"in t?t.dstAlpha:t.dst;return rt.commandParameter(n,Aa,s+".srcRGB",e.commandStr),rt.commandParameter(r,Aa,s+".srcAlpha",e.commandStr),rt.commandParameter(i,Aa,s+".dstRGB",e.commandStr),rt.commandParameter(o,Aa,s+".dstAlpha",e.commandStr),rt.command(-1===Ca.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",e.commandStr),[Aa[n],Aa[i],Aa[r],Aa[o]]}),(function(e,n,r){var i=e.constants.blendFuncs;function o(o,s){var a=n.def('"',o,s,'" in ',r,"?",r,".",o,s,":",r,".",o);return rt.optional((function(){e.assert(n,a+" in "+i,"invalid "+t+"."+o+s+", must be one of "+Object.keys(Aa))})),a}rt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var s=o("src","RGB"),a=o("dst","RGB");rt.optional((function(){var t=e.constants.invalidBlendCombinations;e.assert(n,t+".indexOf("+s+'+", "+'+a+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var c=n.def(i,"[",s,"]"),l=n.def(i,"[",o("src","Alpha"),"]"),u=n.def(i,"[",a,"]"),d=n.def(i,"[",o("dst","Alpha"),"]");return[c,u,l,d]}));case Fo:return a((function(n){return"string"===typeof n?(rt.commandParameter(n,v,"invalid "+t,e.commandStr),[v[n],v[n]]):"object"===typeof n?(rt.commandParameter(n.rgb,v,t+".rgb",e.commandStr),rt.commandParameter(n.alpha,v,t+".alpha",e.commandStr),[v[n.rgb],v[n.alpha]]):void rt.commandRaise("invalid blend.equation",e.commandStr)}),(function(e,n,r){var i=e.constants.blendEquations,o=n.def(),s=n.def(),a=e.cond("typeof ",r,'==="string"');return rt.optional((function(){function n(t,n,r){e.assert(t,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(v))}n(a.then,t,r),e.assert(a.else,r+"&&typeof "+r+'==="object"',"invalid "+t),n(a.else,t+".rgb",r+".rgb"),n(a.else,t+".alpha",r+".alpha")})),a.then(o,"=",s,"=",i,"[",r,"];"),a.else(o,"=",i,"[",r,".rgb];",s,"=",i,"[",r,".alpha];"),n(a),[o,s]}));case zo:return a((function(t){return rt.command(Mn(t)&&4===t.length,"blend.color must be a 4d array",e.commandStr),St(4,(function(e){return+t[e]}))}),(function(t,e,n){return rt.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),St(4,(function(t){return e.def("+",n,"[",t,"]")}))}));case rs:return a((function(t){return rt.commandType(t,"number",s,e.commandStr),0|t}),(function(t,e,n){return rt.optional((function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")})),e.def(n,"|0")}));case is:return a((function(n){rt.commandType(n,"object",s,e.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return rt.commandParameter(r,xa,t+".cmp",e.commandStr),rt.commandType(i,"number",t+".ref",e.commandStr),rt.commandType(o,"number",t+".mask",e.commandStr),[xa[r],i,o]}),(function(t,e,n){var r=t.constants.compareFuncs;rt.optional((function(){function i(){t.assert(e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")}));var i=e.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",ma),o=e.def(n,".ref|0"),s=e.def('"mask" in ',n,"?",n,".mask|0:-1");return[i,o,s]}));case os:case ss:return a((function(n){rt.commandType(n,"object",s,e.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return rt.commandParameter(r,Ea,t+".fail",e.commandStr),rt.commandParameter(i,Ea,t+".zfail",e.commandStr),rt.commandParameter(o,Ea,t+".zpass",e.commandStr),[t===ss?ua:la,Ea[r],Ea[i],Ea[o]]}),(function(e,n,r){var i=e.constants.stencilOps;function o(o){return rt.optional((function(){e.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+t+"."+o+", must be one of "+Object.keys(Ea))})),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",ma)}return rt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)})),[t===ss?ua:la,o("fail"),o("zfail"),o("zpass")]}));case Qo:return a((function(t){rt.commandType(t,"object",s,e.commandStr);var n=0|t.factor,r=0|t.units;return rt.commandType(n,"number",s+".factor",e.commandStr),rt.commandType(r,"number",s+".units",e.commandStr),[n,r]}),(function(e,n,r){rt.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)}));var i=n.def(r,".factor|0"),o=n.def(r,".units|0");return[i,o]}));case qo:return a((function(t){var n=0;return"front"===t?n=la:"back"===t&&(n=ua),rt.command(!!n,s,e.commandStr),n}),(function(t,e,n){return rt.optional((function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),e.def(n,'==="front"?',la,":",ua)}));case Ko:return a((function(t){return rt.command("number"===typeof t&&t>=i.lineWidthDims[0]&&t<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],e.commandStr),t}),(function(t,e,n){return rt.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case Xo:return a((function(t){return rt.commandParameter(t,Ma,s,e.commandStr),Ma[t]}),(function(t,e,n){return rt.optional((function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),e.def(n+'==="cw"?'+da+":"+ha)}));case Wo:return a((function(t){return rt.command(Mn(t)&&4===t.length,"color.mask must be length 4 array",e.commandStr),t.map((function(t){return!!t}))}),(function(t,e,n){return rt.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),St(4,(function(t){return"!!"+n+"["+t+"]"}))}));case es:return a((function(t){rt.command("object"===typeof t&&t,s,e.commandStr);var n="value"in t?t.value:1,r=!!t.invert;return rt.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",e.commandStr),[n,r]}),(function(t,e,n){rt.optional((function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}));var r=e.def('"value" in ',n,"?+",n,".value:1"),i=e.def("!!",n,".invert");return[r,i]}))}})),o}function z(t,e){var n=t.static,r=t.dynamic,i={};return Object.keys(n).forEach((function(t){var r,o=n[t];if("number"===typeof o||"boolean"===typeof o)r=Na((function(){return o}));else if("function"===typeof o){var s=o._reglType;"texture2d"===s||"textureCube"===s?r=Na((function(t){return t.link(o)})):"framebuffer"===s||"framebufferCube"===s?(rt.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',e.commandStr),r=Na((function(t){return t.link(o.color[0])}))):rt.commandRaise('invalid data for uniform "'+t+'"',e.commandStr)}else Mn(o)?r=Na((function(e){var n=e.global.def("[",St(o.length,(function(n){return rt.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+t,e.commandStr),o[n]})),"]");return n})):rt.commandRaise('invalid or missing data for uniform "'+t+'"',e.commandStr);r.value=o,i[t]=r})),Object.keys(r).forEach((function(t){var e=r[t];i[t]=Pa(e,(function(t,n){return t.invoke(n,e)}))})),i}function F(t,e){var r=t.static,i=t.dynamic,s={};return Object.keys(r).forEach((function(t){var i=r[t],a=n.id(t),c=new m;if(Ia(i))c.state=Mo,c.buffer=o.getBuffer(o.create(i,Ds,!1,!0)),c.type=0;else{var l=o.getBuffer(i);if(l)c.state=Mo,c.buffer=l,c.type=0;else if(rt.command("object"===typeof i&&i,"invalid data for attribute "+t,e.commandStr),"constant"in i){var u=i.constant;c.buffer="null",c.state=Io,"number"===typeof u?c.x=u:(rt.command(Mn(u)&&u.length>0&&u.length<=4,"invalid constant for attribute "+t,e.commandStr),Eo.forEach((function(t,e){e<u.length&&(c[t]=u[e])})))}else{l=Ia(i.buffer)?o.getBuffer(o.create(i.buffer,Ds,!1,!0)):o.getBuffer(i.buffer),rt.command(!!l,'missing buffer for attribute "'+t+'"',e.commandStr);var d=0|i.offset;rt.command(d>=0,'invalid offset for attribute "'+t+'"',e.commandStr);var h=0|i.stride;rt.command(h>=0&&h<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',e.commandStr);var f=0|i.size;rt.command(!("size"in i)||f>0&&f<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',e.commandStr);var p=!!i.normalized,g=0;"type"in i&&(rt.commandParameter(i.type,Ue,"invalid type for attribute "+t,e.commandStr),g=Ue[i.type]);var v=0|i.divisor;"divisor"in i&&(rt.command(0===v||b,'cannot specify divisor for attribute "'+t+'", instancing not supported',e.commandStr),rt.command(v>=0,'invalid divisor for attribute "'+t+'"',e.commandStr)),rt.optional((function(){var n=e.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(e){rt.command(r.indexOf(e)>=0,'unknown parameter "'+e+'" for attribute pointer "'+t+'" (valid parameters are '+r+")",n)}))})),c.buffer=l,c.state=Mo,c.size=f,c.normalized=p,c.type=g||l.dtype,c.offset=d,c.stride=h,c.divisor=v}}s[t]=Na((function(t,e){var n=t.attribCache;if(a in n)return n[a];var r={isStream:!1};return Object.keys(c).forEach((function(t){r[t]=c[t]})),c.buffer&&(r.buffer=t.link(c.buffer),r.type=r.type||r.buffer+".dtype"),n[a]=r,r}))})),Object.keys(i).forEach((function(t){var e=i[t];function n(n,r){var i=n.invoke(r,e),o=n.shared,s=n.constants,a=o.isBufferArgs,c=o.buffer;rt.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+a+"("+i+")||"+c+".getBuffer("+i+")||"+c+".getBuffer("+i+".buffer)||"+a+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+t+'"')}));var l={isStream:r.def(!1)},u=new m;u.state=Mo,Object.keys(u).forEach((function(t){l[t]=r.def(""+u[t])}));var d=l.buffer,h=l.type;function f(t){r(l[t],"=",i,".",t,"|0;")}return r("if(",a,"(",i,")){",l.isStream,"=true;",d,"=",c,".createStream(",Ds,",",i,");",h,"=",d,".dtype;","}else{",d,"=",c,".getBuffer(",i,");","if(",d,"){",h,"=",d,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",Io,";","if(typeof "+i+'.constant === "number"){',l[Eo[0]],"=",i,".constant;",Eo.slice(1).map((function(t){return l[t]})).join("="),"=0;","}else{",Eo.map((function(t,e){return l[t]+"="+i+".constant.length>"+e+"?"+i+".constant["+e+"]:0;"})).join(""),"}}else{","if(",a,"(",i,".buffer)){",d,"=",c,".createStream(",Ds,",",i,".buffer);","}else{",d,"=",c,".getBuffer(",i,".buffer);","}",h,'="type" in ',i,"?",s.glTypes,"[",i,".type]:",d,".dtype;",l.normalized,"=!!",i,".normalized;"),f("size"),f("offset"),f("stride"),f("divisor"),r("}}"),r.exit("if(",l.isStream,"){",c,".destroyStream(",d,");","}"),l}s[t]=Pa(e,n)})),s}function V(t,e){var n=t.static,r=t.dynamic;if(ys in n){var i=n[ys];return null!==i&&null===u.getVAO(i)&&(i=u.createVAO(i)),Na((function(t){return t.link(u.getVAO(i))}))}if(ys in r){var o=r[ys];return Pa(o,(function(t,e){var n=t.invoke(e,o);return e.def(t.shared.vao+".getVAO("+n+")")}))}return null}function U(t){var e=t.static,n=t.dynamic,r={};return Object.keys(e).forEach((function(t){var n=e[t];r[t]=Na((function(t,e){return"number"===typeof n||"boolean"===typeof n?""+n:t.link(n)}))})),Object.keys(n).forEach((function(t){var e=n[t];r[t]=Pa(e,(function(t,n){return t.invoke(n,e)}))})),r}function G(t,e,n,i,o){var s=t.static,a=t.dynamic;rt.optional((function(){var t=[ds,hs,fs,ps,gs,vs,ms,bs,us,ys].concat(_);function e(e){Object.keys(e).forEach((function(e){rt.command(t.indexOf(e)>=0,'unknown parameter "'+e+'"',o.commandStr)}))}e(s),e(a)}));var c=L(t,e),l=N(t,o),d=P(t,l,o),h=R(t,o),f=j(t,o),p=B(t,o,c);function g(t){var e=d[t];e&&(f[t]=e)}g(ls),g(x(cs));var m=Object.keys(f).length>0,v={framebuffer:l,draw:h,shader:p,state:f,dirty:m,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(v.profile=O(t,o),v.uniforms=z(n,o),v.drawVAO=v.scopeVAO=V(t,o),!v.drawVAO&&p.program&&!c&&r.angle_instanced_arrays){var b=!0,y=p.program.attributes.map((function(t){var n=e.static[t];return b=b&&!!n,n}));if(b&&y.length>0){var k=u.getVAO(u.createVAO(y));v.drawVAO=new Ta(null,null,null,(function(t,e){return t.link(k)})),v.useVAO=!0}}return c?v.useVAO=!0:v.attributes=F(e,o),v.context=U(i,o),v}function H(t,e,n){var r=t.shared,i=r.context,o=t.scope();Object.keys(n).forEach((function(r){e.save(i,"."+r);var s=n[r],a=s.append(t,e);Array.isArray(a)?o(i,".",r,"=[",a.join(),"];"):o(i,".",r,"=",a,";")})),e(o)}function $(t,e,n,r){var i,o=t.shared,s=o.gl,a=o.framebuffer;y&&(i=e.def(o.extensions,".webgl_draw_buffers"));var c,l=t.constants,u=l.drawBuffer,d=l.backBuffer;c=n?n.append(t,e):e.def(a,".next"),r||e("if(",c,"!==",a,".cur){"),e("if(",c,"){",s,".bindFramebuffer(",wa,",",c,".framebuffer);"),y&&e(i,".drawBuffersWEBGL(",u,"[",c,".colorAttachments.length]);"),e("}else{",s,".bindFramebuffer(",wa,",null);"),y&&e(i,".drawBuffersWEBGL(",d,");"),e("}",a,".cur=",c,";"),r||e("}")}function W(t,e,n){var r=t.shared,i=r.gl,o=t.current,s=t.next,a=r.current,c=r.next,l=t.cond(a,".dirty");_.forEach((function(e){var r,u,d=x(e);if(!(d in n.state))if(d in s){r=s[d],u=o[d];var h=St(k[d].length,(function(t){return l.def(r,"[",t,"]")}));l(t.cond(h.map((function(t,e){return t+"!=="+u+"["+e+"]"})).join("||")).then(i,".",C[d],"(",h,");",h.map((function(t,e){return u+"["+e+"]="+t})).join(";"),";"))}else{r=l.def(c,".",d);var f=t.cond(r,"!==",a,".",d);l(f),d in A?f(t.cond(r).then(i,".enable(",A[d],");").else(i,".disable(",A[d],");"),a,".",d,"=",r,";"):f(i,".",C[d],"(",r,");",a,".",d,"=",r,";")}})),0===Object.keys(n.state).length&&l(a,".dirty=false;"),e(l)}function Y(t,e,n,r){var i=t.shared,o=t.current,s=i.current,a=i.gl;Da(Object.keys(n)).forEach((function(i){var c=n[i];if(!r||r(c)){var l=c.append(t,e);if(A[i]){var u=A[i];Oa(c)?e(a,l?".enable(":".disable(",u,");"):e(t.cond(l).then(a,".enable(",u,");").else(a,".disable(",u,");")),e(s,".",i,"=",l,";")}else if(Mn(l)){var d=o[i];e(a,".",C[i],"(",l,");",l.map((function(t,e){return d+"["+e+"]="+t})).join(";"),";")}else e(a,".",C[i],"(",l,");",s,".",i,"=",l,";")}}))}function q(t,e){b&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function X(t,e,n,r,i){var o,s,a,c=t.shared,l=t.stats,u=c.current,d=c.timer,h=n.profile;function f(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function g(t){o=e.def(),t(o,"=",f(),";"),"string"===typeof i?t(l,".count+=",i,";"):t(l,".count++;"),p&&(r?(s=e.def(),t(s,"=",d,".getNumPendingQueries();")):t(d,".beginQuery(",l,");"))}function m(t){t(l,".cpuTime+=",f(),"-",o,";"),p&&(r?t(d,".pushScopeStats(",s,",",d,".getNumPendingQueries(),",l,");"):t(d,".endQuery();"))}function v(t){var n=e.def(u,".profile");e(u,".profile=",t,";"),e.exit(u,".profile=",n,";")}if(h){if(Oa(h))return void(h.enable?(g(e),m(e.exit),v("true")):v("false"));a=h.append(t,e),v(a)}else a=e.def(u,".profile");var b=t.block();g(b),e("if(",a,"){",b,"}");var y=t.block();m(y),e.exit("if(",a,"){",y,"}")}function K(t,e,n,r,i){var o=t.shared;function s(t){switch(t){case Ws:case Ks:case ta:return 2;case Ys:case Zs:case ea:return 3;case qs:case Qs:case na:return 4;default:return 1}}function a(n,r,i){var s=o.gl,a=e.def(n,".location"),c=e.def(o.attributes,"[",a,"]"),l=i.state,u=i.buffer,d=[i.x,i.y,i.z,i.w],h=["buffer","normalized","offset","stride"];function f(){e("if(!",c,".buffer){",s,".enableVertexAttribArray(",a,");}");var n,o=i.type;if(n=i.size?e.def(i.size,"||",r):r,e("if(",c,".type!==",o,"||",c,".size!==",n,"||",h.map((function(t){return c+"."+t+"!=="+i[t]})).join("||"),"){",s,".bindBuffer(",Ds,",",u,".buffer);",s,".vertexAttribPointer(",[a,n,o,i.normalized,i.stride,i.offset],");",c,".type=",o,";",c,".size=",n,";",h.map((function(t){return c+"."+t+"="+i[t]+";"})).join(""),"}"),b){var l=i.divisor;e("if(",c,".divisor!==",l,"){",t.instancing,".vertexAttribDivisorANGLE(",[a,l],");",c,".divisor=",l,";}")}}function p(){e("if(",c,".buffer){",s,".disableVertexAttribArray(",a,");",c,".buffer=null;","}if(",Eo.map((function(t,e){return c+"."+t+"!=="+d[e]})).join("||"),"){",s,".vertexAttrib4f(",a,",",d,");",Eo.map((function(t,e){return c+"."+t+"="+d[e]+";"})).join(""),"}")}l===Mo?f():l===Io?p():(e("if(",l,"===",Mo,"){"),f(),e("}else{"),p(),e("}"))}r.forEach((function(r){var o,c=r.name,l=n.attributes[c];if(l){if(!i(l))return;o=l.append(t,e)}else{if(!i(La))return;var u=t.scopeAttrib(c);rt.optional((function(){t.assert(e,u+".state","missing attribute "+c)})),o={},Object.keys(new m).forEach((function(t){o[t]=e.def(u,".",t)}))}a(t.link(r),s(r.info.type),o)}))}function Z(t,e,r,i,o){for(var s,a=t.shared,c=a.gl,l=0;l<i.length;++l){var u,d=i[l],h=d.name,f=d.info.type,p=r.uniforms[h],g=t.link(d),m=g+".location";if(p){if(!o(p))continue;if(Oa(p)){var v=p.value;if(rt.command(null!==v&&"undefined"!==typeof v,'missing uniform "'+h+'"',t.commandStr),f===sa||f===aa){rt.command("function"===typeof v&&(f===sa&&("texture2d"===v._reglType||"framebuffer"===v._reglType)||f===aa&&("textureCube"===v._reglType||"framebufferCube"===v._reglType)),"invalid texture for uniform "+h,t.commandStr);var b=t.link(v._texture||v.color[0]._texture);e(c,".uniform1i(",m,",",b+".bind());"),e.exit(b,".unbind();")}else if(f===ra||f===ia||f===oa){rt.optional((function(){rt.command(Mn(v),"invalid matrix for uniform "+h,t.commandStr),rt.command(f===ra&&4===v.length||f===ia&&9===v.length||f===oa&&16===v.length,"invalid length for matrix uniform "+h,t.commandStr)}));var y=t.global.def("new Float32Array(["+Array.prototype.slice.call(v)+"])"),k=2;f===ia?k=3:f===oa&&(k=4),e(c,".uniformMatrix",k,"fv(",m,",false,",y,");")}else{switch(f){case $s:rt.commandType(v,"number","uniform "+h,t.commandStr),s="1f";break;case Ws:rt.command(Mn(v)&&2===v.length,"uniform "+h,t.commandStr),s="2f";break;case Ys:rt.command(Mn(v)&&3===v.length,"uniform "+h,t.commandStr),s="3f";break;case qs:rt.command(Mn(v)&&4===v.length,"uniform "+h,t.commandStr),s="4f";break;case Js:rt.commandType(v,"boolean","uniform "+h,t.commandStr),s="1i";break;case Xs:rt.commandType(v,"number","uniform "+h,t.commandStr),s="1i";break;case ta:rt.command(Mn(v)&&2===v.length,"uniform "+h,t.commandStr),s="2i";break;case Ks:rt.command(Mn(v)&&2===v.length,"uniform "+h,t.commandStr),s="2i";break;case ea:rt.command(Mn(v)&&3===v.length,"uniform "+h,t.commandStr),s="3i";break;case Zs:rt.command(Mn(v)&&3===v.length,"uniform "+h,t.commandStr),s="3i";break;case na:rt.command(Mn(v)&&4===v.length,"uniform "+h,t.commandStr),s="4i";break;case Qs:rt.command(Mn(v)&&4===v.length,"uniform "+h,t.commandStr),s="4i";break}e(c,".uniform",s,"(",m,",",Mn(v)?Array.prototype.slice.call(v):v,");")}continue}u=p.append(t,e)}else{if(!o(La))continue;u=e.def(a.uniforms,"[",n.id(h),"]")}f===sa?(rt(!Array.isArray(u),"must specify a scalar prop for textures"),e("if(",u,"&&",u,'._reglType==="framebuffer"){',u,"=",u,".color[0];","}")):f===aa&&(rt(!Array.isArray(u),"must specify a scalar prop for cube maps"),e("if(",u,"&&",u,'._reglType==="framebufferCube"){',u,"=",u,".color[0];","}")),rt.optional((function(){function n(n,r){t.assert(e,n,'bad data or missing for uniform "'+h+'".  '+r)}function r(t){rt(!Array.isArray(u),"must not specify an array type for uniform"),n("typeof "+u+'==="'+t+'"',"invalid type, expected "+t)}function i(e,r){Array.isArray(u)?rt(u.length===e,"must have length "+e):n(a.isArrayLike+"("+u+")&&"+u+".length==="+e,"invalid vector, should have length "+e,t.commandStr)}function o(e){rt(!Array.isArray(u),"must not specify a value type"),n("typeof "+u+'==="function"&&'+u+'._reglType==="texture'+(e===Ps?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(f){case Xs:r("number");break;case Ks:i(2,"number");break;case Zs:i(3,"number");break;case Qs:i(4,"number");break;case $s:r("number");break;case Ws:i(2,"number");break;case Ys:i(3,"number");break;case qs:i(4,"number");break;case Js:r("boolean");break;case ta:i(2,"boolean");break;case ea:i(3,"boolean");break;case na:i(4,"boolean");break;case ra:i(4,"number");break;case ia:i(9,"number");break;case oa:i(16,"number");break;case sa:o(Ps);break;case aa:o(Ls);break}}));var w=1;switch(f){case sa:case aa:var _=e.def(u,"._texture");e(c,".uniform1i(",m,",",_,".bind());"),e.exit(_,".unbind();");continue;case Xs:case Js:s="1i";break;case Ks:case ta:s="2i",w=2;break;case Zs:case ea:s="3i",w=3;break;case Qs:case na:s="4i",w=4;break;case $s:s="1f";break;case Ws:s="2f",w=2;break;case Ys:s="3f",w=3;break;case qs:s="4f",w=4;break;case ra:s="Matrix2fv";break;case ia:s="Matrix3fv";break;case oa:s="Matrix4fv";break}if(e(c,".uniform",s,"(",m,","),"M"===s.charAt(0)){var A=Math.pow(f-ra+2,2),C=t.global.def("new Float32Array(",A,")");Array.isArray(u)?e("false,(",St(A,(function(t){return C+"["+t+"]="+u[t]})),",",C,")"):e("false,(Array.isArray(",u,")||",u," instanceof Float32Array)?",u,":(",St(A,(function(t){return C+"["+t+"]="+u+"["+t+"]"})),",",C,")")}else w>1?e(St(w,(function(t){return Array.isArray(u)?u[t]:u+"["+t+"]"}))):(rt(!Array.isArray(u),"uniform value must not be an array"),e(u));e(");")}}function Q(t,e,n,r){var i=t.shared,o=i.gl,s=i.draw,a=r.draw;function c(){var i,c=a.elements,l=e;return c?((c.contextDep&&r.contextDynamic||c.propDep)&&(l=n),i=c.append(t,l)):i=l.def(s,".",ps),i&&l("if("+i+")"+o+".bindBuffer("+Ts+","+i+".buffer.buffer);"),i}function l(){var i,o=a.count,c=e;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(c=n),i=o.append(t,c),rt.optional((function(){o.MISSING&&t.assert(e,"false","missing vertex count"),o.DYNAMIC&&t.assert(c,i+">=0","missing vertex count")}))):(i=c.def(s,".",ms),rt.optional((function(){t.assert(c,i+">=0","missing vertex count")}))),i}var u=c();function d(i){var o=a[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(t,n):o.append(t,e):e.def(s,".",i)}var h,f,p=d(gs),g=d(vs),m=l();if("number"===typeof m){if(0===m)return}else n("if(",m,"){"),n.exit("}");b&&(h=d(bs),f=t.instancing);var v=u+".type",y=a.elements&&Oa(a.elements);function k(){function t(){n(f,".drawElementsInstancedANGLE(",[p,m,v,g+"<<(("+v+"-"+So+")>>1)",h],");")}function e(){n(f,".drawArraysInstancedANGLE(",[p,g,m,h],");")}u?y?t():(n("if(",u,"){"),t(),n("}else{"),e(),n("}")):e()}function w(){function t(){n(o+".drawElements("+[p,m,v,g+"<<(("+v+"-"+So+")>>1)"]+");")}function e(){n(o+".drawArrays("+[p,g,m]+");")}u?y?t():(n("if(",u,"){"),t(),n("}else{"),e(),n("}")):e()}b&&("number"!==typeof h||h>=0)?"string"===typeof h?(n("if(",h,">0){"),k(),n("}else if(",h,"<0){"),w(),n("}")):k():w()}function J(t,e,n,r,i){var o=T(),s=o.proc("body",i);return rt.optional((function(){o.commandStr=e.commandStr,o.command=o.link(e.commandStr)})),b&&(o.instancing=s.def(o.shared.extensions,".angle_instanced_arrays")),t(o,s,n,r),o.compile().body}function tt(t,e,n,r){q(t,e),n.useVAO?n.drawVAO?e(t.shared.vao,".setVAO(",n.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),K(t,e,n,r.attributes,(function(){return!0}))),Z(t,e,n,r.uniforms,(function(){return!0})),Q(t,e,e,n)}function et(t,e){var n=t.proc("draw",1);q(t,n),H(t,n,e.context),$(t,n,e.framebuffer),W(t,n,e),Y(t,n,e.state),X(t,n,e,!1,!0);var r=e.shader.progVar.append(t,n);if(n(t.shared.gl,".useProgram(",r,".program);"),e.shader.program)tt(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var i=t.global.def("{}"),o=n.def(r,".id"),s=n.def(i,"[",o,"]");n(t.cond(s).then(s,".call(this,a0);").else(s,"=",i,"[",o,"]=",t.link((function(n){return J(tt,t,e,n,1)})),"(",r,");",s,".call(this,a0);"))}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}function nt(t,e,n,r){function i(){return!0}t.batchId="a1",q(t,e),K(t,e,n,r.attributes,i),Z(t,e,n,r.uniforms,i),Q(t,e,e,n)}function it(t,e,n,r){q(t,e);var i=n.contextDep,o=e.def(),s="a0",a="a1",c=e.def();t.shared.props=c,t.batchId=o;var l=t.scope(),u=t.scope();function d(t){return t.contextDep&&i||t.propDep}function h(t){return!d(t)}if(e(l.entry,"for(",o,"=0;",o,"<",a,";++",o,"){",c,"=",s,"[",o,"];",u,"}",l.exit),n.needsContext&&H(t,u,n.context),n.needsFramebuffer&&$(t,u,n.framebuffer),Y(t,u,n.state,d),n.profile&&d(n.profile)&&X(t,u,n,!1,!0),r)n.useVAO?n.drawVAO?d(n.drawVAO)?u(t.shared.vao,".setVAO(",n.drawVAO.append(t,u),");"):l(t.shared.vao,".setVAO(",n.drawVAO.append(t,l),");"):l(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(l(t.shared.vao,".setVAO(null);"),K(t,l,n,r.attributes,h),K(t,u,n,r.attributes,d)),Z(t,l,n,r.uniforms,h),Z(t,u,n,r.uniforms,d),Q(t,l,u,n);else{var f=t.global.def("{}"),p=n.shader.progVar.append(t,u),g=u.def(p,".id"),m=u.def(f,"[",g,"]");u(t.shared.gl,".useProgram(",p,".program);","if(!",m,"){",m,"=",f,"[",g,"]=",t.link((function(e){return J(nt,t,n,e,2)})),"(",p,");}",m,".call(this,a0[",o,"],",o,");")}}function ot(t,e){var n=t.proc("batch",2);t.batchId="0",q(t,n);var r=!1,i=!0;Object.keys(e.context).forEach((function(t){r=r||e.context[t].propDep})),r||(H(t,n,e.context),i=!1);var o=e.framebuffer,s=!1;function a(t){return t.contextDep&&r||t.propDep}o?(o.propDep?r=s=!0:o.contextDep&&r&&(s=!0),s||$(t,n,o)):$(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(r=!0),W(t,n,e),Y(t,n,e.state,(function(t){return!a(t)})),e.profile&&a(e.profile)||X(t,n,e,!1,"a1"),e.contextDep=r,e.needsContext=i,e.needsFramebuffer=s;var c=e.shader.progVar;if(c.contextDep&&r||c.propDep)it(t,n,e,null);else{var l=c.append(t,n);if(n(t.shared.gl,".useProgram(",l,".program);"),e.shader.program)it(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var u=t.global.def("{}"),d=n.def(l,".id"),h=n.def(u,"[",d,"]");n(t.cond(h).then(h,".call(this,a0,a1);").else(h,"=",u,"[",d,"]=",t.link((function(n){return J(it,t,e,n,2)})),"(",l,");",h,".call(this,a0,a1);"))}}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}function st(t,e){var r=t.proc("scope",3);t.batchId="a2";var i=t.shared,o=i.current;function s(n){var o=e.shader[n];o&&r.set(i.shader,"."+n,o.append(t,r))}H(t,r,e.context),e.framebuffer&&e.framebuffer.append(t,r),Da(Object.keys(e.state)).forEach((function(n){var o=e.state[n],s=o.append(t,r);Mn(s)?s.forEach((function(e,i){r.set(t.next[n],"["+i+"]",e)})):r.set(i.next,"."+n,s)})),X(t,r,e,!0,!0),[ps,vs,ms,bs,gs].forEach((function(n){var o=e.draw[n];o&&r.set(i.draw,"."+n,""+o.append(t,r))})),Object.keys(e.uniforms).forEach((function(o){var s=e.uniforms[o].append(t,r);Array.isArray(s)&&(s="["+s.join()+"]"),r.set(i.uniforms,"["+n.id(o)+"]",s)})),Object.keys(e.attributes).forEach((function(n){var i=e.attributes[n].append(t,r),o=t.scopeAttrib(n);Object.keys(new m).forEach((function(t){r.set(o,"."+t,i[t])}))})),e.scopeVAO&&r.set(i.vao,".targetVAO",e.scopeVAO.append(t,r)),s(hs),s(fs),Object.keys(e.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",t.shared.context,",a0,",t.batchId,");")}function at(t){if("object"===typeof t&&!Mn(t)){for(var e=Object.keys(t),n=0;n<e.length;++n)if(gt.isDynamic(t[e[n]]))return!0;return!1}}function ct(t,e,n){var r=e.static[n];if(r&&at(r)){var i=t.global,o=Object.keys(r),s=!1,a=!1,c=!1,l=t.global.def("{}");o.forEach((function(e){var n=r[e];if(gt.isDynamic(n)){"function"===typeof n&&(n=r[e]=gt.unbox(n));var o=Pa(n,null);s=s||o.thisDep,c=c||o.propDep,a=a||o.contextDep}else{switch(i(l,".",e,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(t.link(n));break}i(";")}})),e.dynamic[n]=new gt.DynamicVariable(Po,{thisDep:s,contextDep:a,propDep:c,ref:l,append:u}),delete e.static[n]}function u(t,e){o.forEach((function(n){var i=r[n];if(gt.isDynamic(i)){var o=t.invoke(e,i);e(l,".",n,"=",o,";")}}))}}function lt(t,n,r,i,o){var s=T();s.stats=s.link(o),Object.keys(n.static).forEach((function(t){ct(s,n,t)})),Is.forEach((function(e){ct(s,t,e)}));var a=G(t,n,r,i,s);return et(s,a),st(s,a),ot(s,a),e(s.compile(),{destroy:function(){a.shader.program.destroy()}})}return{next:w,current:k,procs:function(){var t=T(),e=t.proc("poll"),n=t.proc("refresh"),o=t.block();e(o),n(o);var s,a=t.shared,c=a.gl,l=a.next,u=a.current;o(u,".dirty=false;"),$(t,e),$(t,n,null,!0),b&&(s=t.link(b)),r.oes_vertex_array_object&&n(t.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var d=0;d<i.maxAttributes;++d){var h=n.def(a.attributes,"[",d,"]"),f=t.cond(h,".buffer");f.then(c,".enableVertexAttribArray(",d,");",c,".bindBuffer(",Ds,",",h,".buffer.buffer);",c,".vertexAttribPointer(",d,",",h,".size,",h,".type,",h,".normalized,",h,".stride,",h,".offset);").else(c,".disableVertexAttribArray(",d,");",c,".vertexAttrib4f(",d,",",h,".x,",h,".y,",h,".z,",h,".w);",h,".buffer=null;"),n(f),b&&n(s,".vertexAttribDivisorANGLE(",d,",",h,".divisor);")}return n(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(A).forEach((function(r){var i=A[r],s=o.def(l,".",r),a=t.block();a("if(",s,"){",c,".enable(",i,")}else{",c,".disable(",i,")}",u,".",r,"=",s,";"),n(a),e("if(",s,"!==",u,".",r,"){",a,"}")})),Object.keys(C).forEach((function(r){var i,s,a=C[r],d=k[r],h=t.block();if(h(c,".",a,"("),Mn(d)){var f=d.length;i=t.global.def(l,".",r),s=t.global.def(u,".",r),h(St(f,(function(t){return i+"["+t+"]"})),");",St(f,(function(t){return s+"["+t+"]="+i+"["+t+"];"})).join("")),e("if(",St(f,(function(t){return i+"["+t+"]!=="+s+"["+t+"]"})).join("||"),"){",h,"}")}else i=o.def(l,".",r),s=o.def(u,".",r),h(i,");",u,".",r,"=",i,";"),e("if(",i,"!==",s,"){",h,"}");n(h)})),t.compile()}(),compile:lt}}function Ra(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ja=34918,za=34919,Fa=35007,Va=function(t,e){if(!e.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||e.ext_disjoint_timer_query.createQueryEXT()}function i(t){n.push(t)}var o=[];function s(t){var n=r();e.ext_disjoint_timer_query.beginQueryEXT(Fa,n),o.push(n),f(o.length-1,o.length,t)}function a(){e.ext_disjoint_timer_query.endQueryEXT(Fa)}function c(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var l=[];function u(){return l.pop()||new c}function d(t){l.push(t)}var h=[];function f(t,e,n){var r=u();r.startQueryIndex=t,r.endQueryIndex=e,r.sum=0,r.stats=n,h.push(r)}var p=[],g=[];function m(){var t,n,r=o.length;if(0!==r){g.length=Math.max(g.length,r+1),p.length=Math.max(p.length,r+1),p[0]=0,g[0]=0;var s=0;for(t=0,n=0;n<o.length;++n){var a=o[n];e.ext_disjoint_timer_query.getQueryObjectEXT(a,za)?(s+=e.ext_disjoint_timer_query.getQueryObjectEXT(a,ja),i(a)):o[t++]=a,p[n+1]=s,g[n+1]=t}for(o.length=t,t=0,n=0;n<h.length;++n){var c=h[n],l=c.startQueryIndex,u=c.endQueryIndex;c.sum+=p[u]-p[l];var f=g[l],m=g[u];m===f?(c.stats.gpuTime+=c.sum/1e6,d(c)):(c.startQueryIndex=f,c.endQueryIndex=m,h[t++]=c)}h.length=t}}return{beginQuery:s,endQuery:a,pushScopeStats:f,update:m,getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var t=0;t<n.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(n[t]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}},Ua=16384,Ga=256,Ha=1024,$a=34962,Wa="webglcontextlost",Ya="webglcontextrestored",qa=1,Xa=2,Ka=3;function Za(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function Qa(t){var n=xt(t);if(!n)return null;var r=n.gl,i=r.getContextAttributes(),o=r.isContextLost(),s=Et(r,n);if(!s)return null;var a=bt(),c=Ra(),l=s.extensions,u=Va(r,l),d=vt(),h=r.drawingBufferWidth,f=r.drawingBufferHeight,p={tick:0,time:0,viewportWidth:h,viewportHeight:f,framebufferWidth:h,framebufferHeight:f,drawingBufferWidth:h,drawingBufferHeight:f,pixelRatio:n.pixelRatio},g={},m={elements:null,primitive:4,count:-1,offset:0,instances:-1},v=Ae(r,l),b=nn(r,c,n,k),y=ho(r,l,v,c,b);function k(t){return y.destroyBuffer(t)}var w=An(r,l,b,c),_=vo(r,a,c,n),A=hi(r,l,v,(function(){E.procs.poll()}),p,c,n),C=Ei(r,l,v,c,n),x=ao(r,l,v,A,C,c),E=Ba(r,a,l,v,b,w,A,x,g,y,_,m,p,u,n),S=_o(r,x,E.procs.poll,p,i,l,v),M=E.next,I=r.canvas,D=[],T=[],O=[],N=[n.onDestroy],P=null;function L(){if(0===D.length)return u&&u.update(),void(P=null);P=mt.next(L),Y();for(var t=D.length-1;t>=0;--t){var e=D[t];e&&e(p,null,0)}r.flush(),u&&u.update()}function B(){!P&&D.length>0&&(P=mt.next(L))}function R(){P&&(mt.cancel(L),P=null)}function j(t){t.preventDefault(),o=!0,R(),T.forEach((function(t){t()}))}function z(t){r.getError(),o=!1,s.restore(),_.restore(),b.restore(),A.restore(),C.restore(),x.restore(),y.restore(),u&&u.restore(),E.procs.refresh(),B(),O.forEach((function(t){t()}))}function F(){D.length=0,R(),I&&(I.removeEventListener(Wa,j),I.removeEventListener(Ya,z)),_.clear(),x.clear(),C.clear(),A.clear(),w.clear(),b.clear(),y.clear(),u&&u.clear(),N.forEach((function(t){t()}))}function V(t){function n(t){var n=e({},t);function r(t){if(t in n){var e=n[t];delete n[t],Object.keys(e).forEach((function(r){n[t+"."+r]=e[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in t&&(n.vao=t.vao),n}function r(t,e){var n={},r={};return Object.keys(t).forEach((function(i){var o=t[i];if(gt.isDynamic(o))r[i]=gt.unbox(o,i);else{if(e&&Array.isArray(o))for(var s=0;s<o.length;++s)if(gt.isDynamic(o[s]))return void(r[i]=gt.unbox(o,i));n[i]=o}})),{dynamic:r,static:n}}rt(!!t,"invalid args to regl({...})"),rt.type(t,"object","invalid args to regl({...})");var i=r(t.context||{},!0),s=r(t.uniforms||{},!0),a=r(t.attributes||{},!1),c=r(n(t),!1),l={gpuTime:0,cpuTime:0,count:0},u=E.compile(c,a,s,i,l),d=u.draw,h=u.batch,f=u.scope,p=[];function g(t){while(p.length<t)p.push(null);return p}function m(t,e){var n;if(o&&rt.raise("context lost"),"function"===typeof t)return f.call(this,null,t,0);if("function"===typeof e)if("number"===typeof t)for(n=0;n<t;++n)f.call(this,null,e,n);else{if(!Array.isArray(t))return f.call(this,t,e,0);for(n=0;n<t.length;++n)f.call(this,t[n],e,n)}else if("number"===typeof t){if(t>0)return h.call(this,g(0|t),0|t)}else{if(!Array.isArray(t))return d.call(this,t);if(t.length)return h.call(this,t,t.length)}}return e(m,{stats:l,destroy:function(){u.destroy()}})}I&&(I.addEventListener(Wa,j,!1),I.addEventListener(Ya,z,!1));var U=x.setFBO=V({framebuffer:gt.define.call(null,qa,"framebuffer")});function G(t,e){var n=0;E.procs.poll();var i=e.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=Ua),"depth"in e&&(r.clearDepth(+e.depth),n|=Ga),"stencil"in e&&(r.clearStencil(0|e.stencil),n|=Ha),rt(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function H(t){if(rt("object"===typeof t&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var n=0;n<6;++n)U(e({framebuffer:t.framebuffer.faces[n]},t),G);else U(t,G);else G(null,t)}function $(t){function e(){var e=Za(D,t);function n(){var t=Za(D,n);D[t]=D[D.length-1],D.length-=1,D.length<=0&&R()}rt(e>=0,"cannot cancel a frame twice"),D[e]=n}return rt.type(t,"function","regl.frame() callback must be a function"),D.push(t),B(),{cancel:e}}function W(){var t=M.viewport,e=M.scissor_box;t[0]=t[1]=e[0]=e[1]=0,p.viewportWidth=p.framebufferWidth=p.drawingBufferWidth=t[2]=e[2]=r.drawingBufferWidth,p.viewportHeight=p.framebufferHeight=p.drawingBufferHeight=t[3]=e[3]=r.drawingBufferHeight}function Y(){p.tick+=1,p.time=X(),W(),E.procs.poll()}function q(){A.refresh(),W(),E.procs.refresh(),u&&u.update()}function X(){return(vt()-d)/1e3}function K(t,e){var n;switch(rt.type(e,"function","listener callback must be a function"),t){case"frame":return $(e);case"lost":n=T;break;case"restore":n=O;break;case"destroy":n=N;break;default:rt.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(e),{cancel:function(){for(var t=0;t<n.length;++t)if(n[t]===e)return n[t]=n[n.length-1],void n.pop()}}}q();var Z=e(V,{clear:H,prop:gt.define.bind(null,qa),context:gt.define.bind(null,Xa),this:gt.define.bind(null,Ka),draw:V({}),buffer:function(t){return b.create(t,$a,!1,!1)},elements:function(t){return w.create(t,!1)},texture:A.create2D,cube:A.createCube,renderbuffer:C.create,framebuffer:x.create,framebufferCube:x.createCube,vao:y.createVAO,attributes:i,frame:$,on:K,limits:v,hasExtension:function(t){return v.extensions.indexOf(t.toLowerCase())>=0},read:S,destroy:F,_gl:r,_refresh:q,poll:function(){Y(),u&&u.update()},now:X,stats:c});return n.onDone(null,Z),Z}return Qa}))},9872:function(t,e,n){"use strict";var r=n(3496),i=Array.prototype.concat,o=Array.prototype.slice,s=t.exports=function(t){for(var e=[],n=0,s=t.length;n<s;n++){var a=t[n];r(a)?e=i.call(e,o.call(a)):e.push(a)}return e};s.wrap=function(t){return function(){return t(s(arguments))}}},3496:function(t){t.exports=function(t){return!(!t||"string"===typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},6750:function(t,e,n){"use strict";n.d(e,{A:function(){return h}});n(4114);var r=n(7043),i=n(6921),o=n(4838),s=n(9841),a=n(6543),c=n(9748),l=n(6960),u=n(3507);const d=(0,u.A)(r.A,s.A,a.A,c.A,(0,o.A)("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","isExtended","isProminent","value"]));var h=d.extend({name:"v-app-bar",directives:{Scroll:i.A},provide(){return{VAppBar:this}},props:{clippedLeft:Boolean,clippedRight:Boolean,collapseOnScroll:Boolean,elevateOnScroll:Boolean,fadeImgOnScroll:Boolean,hideOnScroll:Boolean,invertedScroll:Boolean,scrollOffScreen:Boolean,shrinkOnScroll:Boolean,value:{type:Boolean,default:!0}},data(){return{isActive:this.value}},computed:{applicationProperty(){return this.bottom?"bottom":"top"},canScroll(){return s.A.options.computed.canScroll.call(this)&&(this.invertedScroll||this.elevateOnScroll||this.hideOnScroll||this.collapseOnScroll||this.isBooted||!this.value)},classes(){return{...r.A.options.computed.classes.call(this),"v-toolbar--collapse":this.collapse||this.collapseOnScroll,"v-app-bar":!0,"v-app-bar--clipped":this.clippedLeft||this.clippedRight,"v-app-bar--fade-img-on-scroll":this.fadeImgOnScroll,"v-app-bar--elevate-on-scroll":this.elevateOnScroll,"v-app-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-app-bar--hide-shadow":this.hideShadow,"v-app-bar--is-scrolled":this.currentScroll>0,"v-app-bar--shrink-on-scroll":this.shrinkOnScroll}},scrollRatio(){const t=this.computedScrollThreshold;return Math.max((t-this.currentScroll)/t,0)},computedContentHeight(){if(!this.shrinkOnScroll)return r.A.options.computed.computedContentHeight.call(this);const t=this.dense?48:56,e=this.computedOriginalHeight;return t+(e-t)*this.scrollRatio},computedFontSize(){if(!this.isProminent)return;const t=1.25,e=1.5;return t+(e-t)*this.scrollRatio},computedLeft(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedMarginTop(){return this.app?this.$vuetify.application.bar:0},computedOpacity(){if(this.fadeImgOnScroll)return this.scrollRatio},computedOriginalHeight(){let t=r.A.options.computed.computedContentHeight.call(this);return this.isExtended&&(t+=parseInt(this.extensionHeight)),t},computedRight(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedScrollThreshold(){return this.scrollThreshold?Number(this.scrollThreshold):this.computedOriginalHeight-(this.dense?48:56)},computedTransform(){if(!this.canScroll||this.elevateOnScroll&&0===this.currentScroll&&this.isActive)return 0;if(this.isActive)return 0;const t=this.scrollOffScreen?this.computedHeight:this.computedContentHeight;return this.bottom?t:-t},hideShadow(){return this.elevateOnScroll&&this.isExtended?this.currentScroll<this.computedScrollThreshold:this.elevateOnScroll?0===this.currentScroll||this.computedTransform<0:(!this.isExtended||this.scrollOffScreen)&&0!==this.computedTransform},isCollapsed(){return this.collapseOnScroll?this.currentScroll>0:r.A.options.computed.isCollapsed.call(this)},isProminent(){return r.A.options.computed.isProminent.call(this)||this.shrinkOnScroll},styles(){return{...r.A.options.computed.styles.call(this),fontSize:(0,l.Dg)(this.computedFontSize,"rem"),marginTop:(0,l.Dg)(this.computedMarginTop),transform:`translateY(${(0,l.Dg)(this.computedTransform)})`,left:(0,l.Dg)(this.computedLeft),right:(0,l.Dg)(this.computedRight)}}},watch:{canScroll:"onScroll",computedTransform(){this.canScroll&&(this.clippedLeft||this.clippedRight)&&this.callUpdate()},invertedScroll(t){this.isActive=!t||0!==this.currentScroll},hideOnScroll(t){this.isActive=!t||this.currentScroll<this.computedScrollThreshold}},created(){this.invertedScroll&&(this.isActive=!1)},methods:{genBackground(){const t=r.A.options.methods.genBackground.call(this);return t.data=this._b(t.data||{},t.tag,{style:{opacity:this.computedOpacity}}),t},updateApplication(){return this.invertedScroll?0:this.computedHeight+this.computedTransform},thresholdMet(){this.invertedScroll?this.isActive=this.currentScroll>this.computedScrollThreshold:(this.hideOnScroll&&(this.isActive=this.isScrollingUp||this.currentScroll<this.computedScrollThreshold),this.currentThreshold<this.computedScrollThreshold||(this.savedScroll=this.currentScroll))}},render(t){const e=r.A.options.render.call(this,t);return e.data=e.data||{},this.canScroll&&(e.data.directives=e.data.directives||[],e.data.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),e}})},8400:function(t,e,n){"use strict";var r=n(7889),i=n(6521),o=n(5471);e.A=o["default"].extend({name:"v-app-bar-nav-icon",functional:!0,render(t,{slots:e,listeners:n,props:o,data:s}){const a=Object.assign(s,{staticClass:`v-app-bar__nav-icon ${s.staticClass||""}`.trim(),props:{...o,icon:!0},on:n}),c=e().default;return t(i.A,a,c||[t(r.A,"$menu")])}})},566:function(t,e,n){"use strict";var r=n(8652),i=n(6960),o=n(114);const s=(0,r.W)("VAppBar","v-app-bar-title","v-app-bar");e.A=s.extend().extend({name:"v-app-bar-title",data:()=>({contentWidth:0,left:0,width:0}),watch:{"$vuetify.breakpoint.width":"updateDimensions"},computed:{styles(){if(!this.contentWidth)return{};const t=this.width,e=this.contentWidth,n=(0,o.easeInOutCubic)(Math.min(1,1.5*this.VAppBar.scrollRatio));return{width:(0,i.Dg)(t+(e-t)*n),visibility:this.VAppBar.scrollRatio?"visible":"hidden"}}},mounted(){this.updateDimensions()},methods:{updateDimensions(){const t=this.$refs.placeholder.getBoundingClientRect();this.width=t.width,this.left=t.left,this.contentWidth=this.$refs.content.scrollWidth}},render(t){return t("div",{class:"v-toolbar__title v-app-bar-title"},[t("div",{class:"v-app-bar-title__content",style:this.styles,ref:"content"},[this.$slots.default]),t("div",{class:"v-app-bar-title__placeholder",style:{visibility:this.VAppBar.scrollRatio?"hidden":"visible"},ref:"placeholder"},[this.$slots.default])])}})},8505:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});var r=n(3661),i=n(3507),o=(0,i.A)(r.A).extend({name:"v-app",props:{dark:{type:Boolean,default:void 0},id:{type:String,default:"app"},light:{type:Boolean,default:void 0}},computed:{isDark(){return this.$vuetify.theme.dark}},beforeCreate(){if(!this.$vuetify||this.$vuetify===this.$root)throw new Error("Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object")},render(t){const e=t("div",{staticClass:"v-application--wrap"},this.$slots.default);return t("div",{staticClass:"v-application",class:{"v-application--is-rtl":this.$vuetify.rtl,"v-application--is-ltr":!this.$vuetify.rtl,...this.themeClasses},attrs:{"data-app":!0},domProps:{id:this.id}},[e])}})},986:function(t,e,n){"use strict";n.d(e,{A:function(){return p}});n(4114);var r=n(4838),i=n(9983),o=i.C.extend({name:"button-group",provide(){return{btnToggle:this}},computed:{classes(){return i.C.options.computed.classes.call(this)}},methods:{genData:i.C.options.methods.genData}}),s=n(8767),a=n(1325),c=n(4464),l=n(9841),u=n(3661),d=n(9748),h=n(3507),f=n(5604),p=(0,h.A)((0,r.A)("bottom",["height","inputValue"]),s.A,a.A,(0,d.P)("inputValue"),c.A,l.A,u.A).extend({name:"v-bottom-navigation",props:{activeClass:{type:String,default:"v-btn--active"},backgroundColor:String,grow:Boolean,height:{type:[Number,String],default:56},hideOnScroll:Boolean,horizontal:Boolean,inputValue:{type:Boolean,default:!0},mandatory:Boolean,shift:Boolean,tag:{type:String,default:"div"}},data(){return{isActive:this.inputValue}},computed:{canScroll(){return l.A.options.computed.canScroll.call(this)&&(this.hideOnScroll||!this.inputValue)},classes(){return{"v-bottom-navigation--absolute":this.absolute,"v-bottom-navigation--grow":this.grow,"v-bottom-navigation--fixed":!this.absolute&&(this.app||this.fixed),"v-bottom-navigation--horizontal":this.horizontal,"v-bottom-navigation--shift":this.shift}},styles(){return{...this.measurableStyles,transform:this.isActive?"none":"translateY(100%)"}}},watch:{canScroll:"onScroll"},created(){this.$attrs.hasOwnProperty("active")&&(0,f.q4)("active.sync","value or v-model",this)},methods:{thresholdMet(){this.hideOnScroll&&(this.isActive=!this.isScrollingUp||this.currentScroll>this.computedScrollThreshold,this.$emit("update:input-value",this.isActive)),this.currentThreshold<this.computedScrollThreshold||(this.savedScroll=this.currentScroll)},updateApplication(){return this.$el?this.$el.clientHeight:0},updateValue(t){this.$emit("change",t)}},render(t){const e=this.setBackgroundColor(this.backgroundColor,{staticClass:"v-bottom-navigation",class:this.classes,style:this.styles,props:{activeClass:this.activeClass,mandatory:Boolean(this.mandatory||void 0!==this.value),tag:this.tag,value:this.internalValue},on:{change:this.updateValue}});return this.canScroll&&(e.directives=e.directives||[],e.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),t(o,this.setTextColor(this.color,e),this.$slots.default)}})},6521:function(t,e,n){"use strict";n.d(e,{A:function(){return b}});var r=n(7495),i=n(6965),o=n(8767),s=n(6960),a=o.A.extend({name:"v-progress-circular",directives:{intersect:i.A},props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:()=>({radius:20,isVisible:!0}),computed:{calculatedSize(){return Number(this.size)+(this.button?8:0)},circumference(){return 2*Math.PI*this.radius},classes(){return{"v-progress-circular--visible":this.isVisible,"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},strokeDashArray(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles(){return{height:(0,s.Dg)(this.calculatedSize),width:(0,s.Dg)(this.calculatedSize)}},svgStyles(){return{transform:`rotate(${Number(this.rotate)}deg)`}},viewBoxSize(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle(t,e){return this.$createElement("circle",{class:`v-progress-circular__${t}`,attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":e}})},genSvg(){const t=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:`${this.viewBoxSize} ${this.viewBoxSize} ${2*this.viewBoxSize} ${2*this.viewBoxSize}`}},t)},genInfo(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)},onObserve(t,e,n){this.isVisible=n}},render(t){return t("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}}),c=a,l=n(4387),u=n(9748),d=n(5083),h=n(9923),f=n(8010),p=n(1713),g=n(3507),m=n(5604);const v=(0,g.A)(r.A,f.A,h.A,p.A,(0,l.P)("btnToggle"),(0,u.P)("inputValue"));var b=v.extend().extend({name:"v-btn",props:{activeClass:{type:String,default(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,plain:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,tile:Boolean,type:{type:String,default:"button"},value:null},data:()=>({proxyClass:"v-btn--active"}),computed:{classes(){return{"v-btn":!0,...f.A.options.computed.classes.call(this),"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--disabled":this.disabled,"v-btn--is-elevated":this.isElevated,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--has-bg":this.hasBg,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--plain":this.plain,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top,...this.themeClasses,...this.groupClasses,...this.elevationClasses,...this.sizeableClasses}},computedElevation(){if(!this.disabled)return d.A.options.computed.computedElevation.call(this)},computedRipple(){var t;const e=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!==(t=this.ripple)&&void 0!==t?t:e)},hasBg(){return!this.text&&!this.plain&&!this.outlined&&!this.icon},isElevated(){return Boolean(!this.icon&&!this.text&&!this.outlined&&!this.depressed&&!this.disabled&&!this.plain&&(null==this.elevation||Number(this.elevation)>0))},isRound(){return Boolean(this.icon||this.fab)},styles(){return{...this.measurableStyles}}},created(){const t=[["flat","text"],["outline","outlined"],["round","rounded"]];t.forEach((([t,e])=>{this.$attrs.hasOwnProperty(t)&&(0,m.q4)(t,e,this)}))},methods:{click(t){!this.retainFocusOnClick&&!this.fab&&t.detail&&this.$el.blur(),this.$emit("click",t),this.btnToggle&&this.toggle()},genContent(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(c,{props:{indeterminate:!0,size:23,width:2}})])}},render(t){const e=[this.genContent(),this.loading&&this.genLoader()],{tag:n,data:r}=this.generateRouteLink(),i=this.hasBg?this.setBackgroundColor:this.setTextColor;return"button"===n&&(r.attrs.type=this.type,r.attrs.disabled=this.disabled),r.attrs.value=["string","number"].includes(typeof this.value)?this.value:JSON.stringify(this.value),t(n,this.disabled?r:i(this.color,r),e)}})},1689:function(t,e,n){"use strict";n.d(e,{A:function(){return a}});var r=n(7495),i=n(7930),o=n(8010),s=n(3507),a=(0,s.A)(i.A,o.A,r.A).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...o.A.options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...r.A.options.computed.classes.call(this)}},styles(){const t={...r.A.options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=i.A.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:n}=this.generateRouteLink();return n.style=this.styles,this.isClickable&&(n.attrs=n.attrs||{},n.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,n),[this.genProgress(),this.$slots.default])}})},8834:function(t,e,n){"use strict";n.d(e,{OQ:function(){return a},SL:function(){return o},ZR:function(){return s},ri:function(){return c}});var r=n(1689),i=n(6960);const o=(0,i.Gn)("v-card__actions"),s=(0,i.Gn)("v-card__subtitle"),a=(0,i.Gn)("v-card__text"),c=(0,i.Gn)("v-card__title");r.A},4163:function(t,e,n){"use strict";n.d(e,{A:function(){return s}});var r=n(4287),i=n(8767),o=n(3507),s=(0,o.A)(r.Ql,i.A).extend({name:"v-chip-group",provide(){return{chipGroup:this}},props:{column:Boolean},computed:{classes(){return{...r.Ql.options.computed.classes.call(this),"v-chip-group":!0,"v-chip-group--column":this.column}}},watch:{column(t){t&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData(){return this.setTextColor(this.color,{...r.Ql.options.methods.genData.call(this)})}}})},3882:function(t,e,n){"use strict";n.d(e,{A:function(){return f}});n(4114);var r=n(3507),i=n(1906),o=n(7889),s=n(8767),a=n(4387),c=n(3661),l=n(9748),u=n(8010),d=n(1713),h=n(5604),f=(0,r.A)(s.A,d.A,u.A,c.A,(0,a.P)("chipGroup"),(0,l.P)("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:()=>({proxyClass:"v-chip--active"}),computed:{classes(){return{"v-chip":!0,...u.A.options.computed.classes.call(this),"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose,...this.themeClasses,...this.sizeableClasses,...this.groupClasses}},hasClose(){return Boolean(this.close)},isClickable(){return Boolean(u.A.options.computed.isClickable.call(this)||this.chipGroup)}},created(){const t=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];t.forEach((([t,e])=>{this.$attrs.hasOwnProperty(t)&&(0,h.q4)(t,e,this)}))},methods:{click(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter(){const t=[];return this.isActive&&t.push(this.$createElement(o.A,{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(i.SM,t)},genClose(){return this.$createElement(o.A,{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:t=>{t.stopPropagation(),t.preventDefault(),this.$emit("click:close"),this.$emit("update:active",!1)}}},this.closeIcon)},genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render(t){const e=[this.genContent()];let{tag:n,data:r}=this.generateRouteLink();r.attrs={...r.attrs,draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:r.attrs.tabindex},r.directives.push({name:"show",value:this.active}),r=this.setBackgroundColor(this.color,r);const i=this.textColor||this.outlined&&this.color;return t(n,this.setTextColor(i,r),e)}})},1770:function(t,e,n){"use strict";n.d(e,{A:function(){return i}});var r=n(3661),i=r.A.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":e,...this.$attrs},on:this.$listeners})}})},8230:function(t,e,n){"use strict";n(4114);var r=n(3507),i=n(4765),o=n(8652);e.A=(0,r.A)(i.A,(0,o.G)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),n={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?n.shouldValidate=t.$watch("shouldValidate",(r=>{r&&(this.errorBag.hasOwnProperty(t._uid)||(n.valid=e(t)))})):n.valid=e(t),n},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const n=this.watchers.find((t=>t._uid===e._uid));n&&(n.valid(),n.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},1526:function(t,e,n){"use strict";n(4114),n(125);var r=n(5471),i=n(4961),o=n(6960);const s=["sm","md","lg","xl"],a=(()=>s.reduce(((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t)),{}))(),c=(()=>s.reduce(((t,e)=>(t["offset"+(0,o.Zb)(e)]={type:[String,Number],default:null},t)),{}))(),l=(()=>s.reduce(((t,e)=>(t["order"+(0,o.Zb)(e)]={type:[String,Number],default:null},t)),{}))(),u={col:Object.keys(a),offset:Object.keys(c),order:Object.keys(l)};function d(t,e,n){let r=t;if(null!=n&&!1!==n){if(e){const n=e.replace(t,"");r+=`-${n}`}return"col"!==t||""!==n&&!0!==n?(r+=`-${n}`,r.toLowerCase()):r.toLowerCase()}}const h=new Map;e.A=r["default"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...a,offset:{type:[String,Number],default:null},...c,order:{type:[String,Number],default:null},...l,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:n,children:r,parent:o}){let s="";for(const i in e)s+=String(e[i]);let a=h.get(s);if(!a){let t;for(t in a=[],u)u[t].forEach((n=>{const r=e[n],i=d(t,n,r);i&&a.push(i)}));const n=a.some((t=>t.startsWith("col-")));a.push({col:!n||!e.cols,[`col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),h.set(s,a)}return t(e.tag,(0,i.Ay)(n,{class:a}),r)}})},6278:function(t,e,n){"use strict";n.d(e,{A:function(){return s}});n(158),n(125);var r=n(5471);function i(t){return r["default"].extend({name:`v-${t}`,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:n,data:r,children:i}){r.staticClass=`${t} ${r.staticClass||""}`.trim();const{attrs:o}=r;if(o){r.attrs={};const t=Object.keys(o).filter((t=>{if("slot"===t)return!1;const e=o[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"===typeof e}));t.length&&(r.staticClass+=` ${t.join(" ")}`)}return n.id&&(r.domProps=r.domProps||{},r.domProps.id=n.id),e(n.tag,r,i)}})}var o=n(4961),s=i("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:n,children:r}){let i;const{attrs:s}=n;return s&&(n.attrs={},i=Object.keys(s).filter((t=>{if("slot"===t)return!1;const e=s[t];return t.startsWith("data-")?(n.attrs[t]=e,!1):e||"string"===typeof e}))),e.id&&(n.domProps=n.domProps||{},n.domProps.id=e.id),t(e.tag,(0,o.Ay)(n,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(i||[])}),r)}})},8412:function(t,e,n){"use strict";n(4114),n(125);var r=n(5471),i=n(4961),o=n(6960);const s=["sm","md","lg","xl"],a=["start","end","center"];function c(t,e){return s.reduce(((n,r)=>(n[t+(0,o.Zb)(r)]=e(),n)),{})}const l=t=>[...a,"baseline","stretch"].includes(t),u=c("align",(()=>({type:String,default:null,validator:l}))),d=t=>[...a,"space-between","space-around"].includes(t),h=c("justify",(()=>({type:String,default:null,validator:d}))),f=t=>[...a,"space-between","space-around","stretch"].includes(t),p=c("alignContent",(()=>({type:String,default:null,validator:f}))),g={align:Object.keys(u),justify:Object.keys(h),alignContent:Object.keys(p)},m={align:"align",justify:"justify",alignContent:"align-content"};function v(t,e,n){let r=m[t];if(null!=n){if(e){const n=e.replace(t,"");r+=`-${n}`}return r+=`-${n}`,r.toLowerCase()}}const b=new Map;e.A=r["default"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:l},...u,justify:{type:String,default:null,validator:d},...h,alignContent:{type:String,default:null,validator:f},...p},render(t,{props:e,data:n,children:r}){let o="";for(const i in e)o+=String(e[i]);let s=b.get(o);if(!s){let t;for(t in s=[],g)g[t].forEach((n=>{const r=e[n],i=v(t,n,r);i&&s.push(i)}));s.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),b.set(o,s)}return t(e.tag,(0,i.Ay)(n,{staticClass:"row",class:s}),r)}})},7410:function(t,e,n){"use strict";n(158);var r=n(6960);e.A=(0,r.Gn)("spacer","div","v-spacer")},9456:function(t,e,n){"use strict";n.d(e,{A:function(){return p}});n(4114);var r,i=n(4765),o=n(8767),s=n(1713),a=n(3661),c=n(6960),l=n(5471),u=n(3507);function d(t){return["fas","far","fal","fab","fad","fak"].some((e=>t.includes(e)))}function h(t){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4}(function(t){t["xSmall"]="12px",t["small"]="16px",t["default"]="24px",t["medium"]="28px",t["large"]="36px",t["xLarge"]="40px"})(r||(r={}));const f=(0,u.A)(i.A,o.A,s.A,a.A).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium(){return!1},hasClickListener(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon(){let t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),(0,c.g8)(this,t)},getSize(){const t={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},e=(0,c.HP)(t).find((e=>t[e]));return e&&r[e]||(0,c.Dg)(this.size)},getDefaultData(){return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:{"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0,...this.attrs$},on:this.listeners$}},getSvgWrapperData(){const t=this.getSize(),e={...this.getDefaultData(),style:t?{fontSize:t,height:t,width:t}:void 0};return this.applyColors(e),e},applyColors(t){t.class={...t.class,...this.themeClasses},this.setTextColor(this.color,t)},renderFontIcon(t,e){const n=[],r=this.getDefaultData();let i="material-icons";const o=t.indexOf("-"),s=o<=-1;s?n.push(t):(i=t.slice(0,o),d(i)&&(i="")),r.class[i]=!0,r.class[t]=!s;const a=this.getSize();return a&&(r.style={fontSize:a}),this.applyColors(r),e(this.hasClickListener?"button":this.tag,r,n)},renderSvgIcon(t,e){const n={class:"v-icon__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":!0}},r=this.getSize();return r&&(n.style={fontSize:r,height:r,width:r}),e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e("svg",n,[e("path",{attrs:{d:t}})])])},renderSvgIconComponent(t,e){const n={class:{"v-icon__component":!0}},r=this.getSize();r&&(n.style={fontSize:r,height:r,width:r}),this.applyColors(n);const i=t.component;return n.props=t.props,n.nativeOn=n.on,e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e(i,n)])}},render(t){const e=this.getIcon();return"string"===typeof e?h(e)?this.renderSvgIcon(e,t):this.renderFontIcon(e,t):this.renderSvgIconComponent(e,t)}});var p=l["default"].extend({name:"v-icon",$_wrapperFor:f,functional:!0,render(t,{data:e,children:n}){let r="";return e.domProps&&(r=e.domProps.textContent||e.domProps.innerHTML||r,delete e.domProps.textContent,delete e.domProps.innerHTML),t(f,e,r?[r]:n)}})},7889:function(t,e,n){"use strict";var r=n(9456);e.A=r.A},980:function(t,e,n){"use strict";n.d(e,{A:function(){return f}});n(4114);var r=n(6965),i=n(1325),o=n(3507),s=n(6960),a=(0,o.A)(i.A).extend({name:"v-responsive",props:{aspectRatio:[String,Number],contentClass:String},computed:{computedAspectRatio(){return Number(this.aspectRatio)},aspectStyle(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-responsive__content",class:this.contentClass},(0,s.$c)(this))}},render(t){return t("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),c=a,l=n(3661),u=n(4961),d=n(5604);const h="undefined"!==typeof window&&"IntersectionObserver"in window;var f=(0,o.A)(c,l.A).extend({name:"v-img",directives:{intersect:r.A},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0,hasError:!1}},computed:{computedAspectRatio(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc(){return this.src&&"object"===typeof this.src?{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}:{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}},__cachedImage(){if(!(this.normalisedSrc.src||this.normalisedSrc.lazySrc||this.gradient))return[];const t=[],e=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&t.push(`linear-gradient(${this.gradient})`),e&&t.push(`url("${e}")`);const n=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:t.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[n]):n}},watch:{src(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted(){this.init()},methods:{init(t,e,n){if(!h||n||this.eager){if(this.normalisedSrc.lazySrc){const t=new Image;t.src=this.normalisedSrc.lazySrc,this.pollForSize(t,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src),this.image&&(this.normalisedSrc.src.endsWith(".svg")||this.normalisedSrc.src.startsWith("data:image/svg+xml"))&&(this.image.naturalHeight&&this.image.naturalWidth?(this.naturalWidth=this.image.naturalWidth,this.calculatedAspectRatio=this.image.naturalWidth/this.image.naturalHeight):this.calculatedAspectRatio=1)},onError(){this.hasError=!0,this.$emit("error",this.src)},getSrc(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage(){const t=new Image;this.image=t,t.onload=()=>{t.decode?t.decode().catch((t=>{(0,d.OP)(`Failed to decode image, trying to render anyway\n\nsrc: ${this.normalisedSrc.src}`+(t.message?`\nOriginal error: ${t.message}`:""),this)})).then(this.onLoad):this.onLoad()},t.onerror=this.onError,this.hasError=!1,this.sizes&&(t.sizes=this.sizes),this.normalisedSrc.srcset&&(t.srcset=this.normalisedSrc.srcset),t.src=this.normalisedSrc.src,this.$emit("loadstart",this.normalisedSrc.src),this.aspectRatio||this.pollForSize(t),this.getSrc()},pollForSize(t,e=100){const n=()=>{const{naturalHeight:r,naturalWidth:i}=t;r||i?(this.naturalWidth=i,this.calculatedAspectRatio=i/r):t.complete||!this.isLoading||this.hasError||null==e||setTimeout(n,e)};n()},genContent(){const t=c.options.methods.genContent.call(this);return this.naturalWidth&&this._b(t.data,"div",{style:{width:`${this.naturalWidth}px`}}),t},__genPlaceholder(){const t=(0,s.$c)(this,"placeholder");if(t){const e=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},t)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},e):e[0]}}},render(t){const e=c.options.render.call(this,t),n=(0,u.Ay)(e.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:h?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return e.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],t(e.tag,n,e.children)}})},3960:function(t,e,n){"use strict";n.d(e,{A:function(){return m}});n(4114);var r=n(7889),i=n(7184),o=n(8767),s=n(3661),a=n(3507),c=n(6960),l=(0,a.A)(o.A,s.A).extend({name:"v-messages",props:{value:{type:Array,default:()=>[]}},methods:{genChildren(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage(t,e){return this.$createElement("div",{staticClass:"v-messages__message",key:e},(0,c.$c)(this,"default",{message:t,key:e})||[t])}},render(t){return t("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}}),u=l,d=n(4765),h=n(7863),f=n(4961);const p=(0,a.A)(d.A,h.A);var g=p.extend().extend({name:"v-input",inheritAttrs:!1,props:{appendIcon:String,backgroundColor:{type:String,default:""},dense:Boolean,height:[Number,String],hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,id:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,value:null},data(){return{lazyValue:this.value,hasMouseDown:!1}},computed:{classes(){return{"v-input--has-state":this.hasState,"v-input--hide-details":!this.showDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.isDisabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&null!=this.loading,"v-input--is-readonly":this.isReadonly,"v-input--dense":this.dense,"v-input--hide-spin-buttons":this.hideSpinButtons,...this.themeClasses}},computedId(){return this.id||`input-${this._uid}`},hasDetails(){return this.messagesToDisplay.length>0},hasHint(){return!this.hasMessages&&!!this.hint&&(this.persistentHint||this.isFocused)},hasLabel(){return!(!this.$slots.label&&!this.label)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit(this.$_modelEvent,t)}},isDirty(){return!!this.lazyValue},isLabelActive(){return this.isDirty},messagesToDisplay(){return this.hasHint?[this.hint]:this.hasMessages?this.validations.map((t=>{if("string"===typeof t)return t;const e=t(this.internalValue);return"string"===typeof e?e:""})).filter((t=>""!==t)):[]},showDetails(){return!1===this.hideDetails||"auto"===this.hideDetails&&this.hasDetails}},watch:{value(t){this.lazyValue=t}},beforeCreate(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl(){return this.$createElement("div",{staticClass:"v-input__control",attrs:{title:this.attrs$.title}},[this.genInputSlot(),this.genMessages()])},genDefaultSlot(){return[this.genLabel(),this.$slots.default]},genIcon(t,e,n={}){const i=this[`${t}Icon`],o=`click:${(0,c.kW)(t)}`,s=!(!this.listeners$[o]&&!e),a=(0,f.Ay)({attrs:{"aria-label":s?(0,c.kW)(t).split("-")[0]+" icon":void 0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,light:this.light,tabindex:"clear"===t?-1:void 0},on:s?{click:t=>{t.preventDefault(),t.stopPropagation(),this.$emit(o,t),e&&e(t)},mouseup:t=>{t.preventDefault(),t.stopPropagation()}}:void 0},n);return this.$createElement("div",{staticClass:"v-input__icon",class:t?`v-input__icon--${(0,c.kW)(t)}`:void 0},[this.$createElement(r.A,a,i)])},genInputSlot(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:(0,c.Dg)(this.height)},on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel(){return this.hasLabel?this.$createElement(i.A,{props:{color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:this.hasState,for:this.computedId,light:this.light}},this.$slots.label||this.label):null},genMessages(){return this.showDetails?this.$createElement(u,{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.messagesToDisplay},attrs:{role:this.hasMessages?"alert":null},scopedSlots:{default:t=>(0,c.$c)(this,"message",t)}}):null},genSlot(t,e,n){if(!n.length)return null;const r=`${t}-${e}`;return this.$createElement("div",{staticClass:`v-input__${r}`,ref:r},n)},genPrependSlot(){const t=[];return this.$slots.prepend?t.push(this.$slots.prepend):this.prependIcon&&t.push(this.genIcon("prepend")),this.genSlot("prepend","outer",t)},genAppendSlot(){const t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","outer",t)},onClick(t){this.$emit("click",t)},onMouseDown(t){this.hasMouseDown=!0,this.$emit("mousedown",t)},onMouseUp(t){this.hasMouseDown=!1,this.$emit("mouseup",t)}},render(t){return t("div",this.setTextColor(this.validationState,{staticClass:"v-input",class:this.classes}),this.genContent())}}),m=g},9983:function(t,e,n){"use strict";n.d(e,{C:function(){return c}});n(4114);var r=n(5088),i=n(4464),o=n(3661),s=n(3507),a=n(5604);const c=(0,s.A)(r.A,i.A,o.A).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean,tag:{type:String,default:"div"}},data(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes(){return{"v-item-group":!0,...this.themeClasses}},selectedIndex(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem(){if(!this.multiple)return this.selectedItems[0]},selectedItems(){return this.items.filter(((t,e)=>this.toggleMethod(this.getValue(t,e))))},selectedValues(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod(){if(!this.multiple)return t=>this.valueComparator(this.internalValue,t);const t=this.internalValue;return Array.isArray(t)?e=>t.some((t=>this.valueComparator(t,e))):()=>!1}},watch:{internalValue:"updateItemsState",items:"updateItemsState"},created(){this.multiple&&!Array.isArray(this.internalValue)&&(0,a.OP)("Model must be bound to an array if the multiple property is true.",this)},methods:{genData(){return{class:this.classes}},getValue(t,e){return void 0===t.value?e:t.value},onClick(t){this.updateInternalValue(this.getValue(t,this.items.indexOf(t)))},register(t){const e=this.items.push(t)-1;t.$on("change",(()=>this.onClick(t))),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(t,e)},unregister(t){if(this._isDestroyed)return;const e=this.items.indexOf(t),n=this.getValue(t,e);this.items.splice(e,1);const r=this.selectedValues.indexOf(n);if(!(r<0)){if(!this.mandatory)return this.updateInternalValue(n);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter((t=>t!==n)):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}},updateItem(t,e){const n=this.getValue(t,e);t.isActive=this.toggleMethod(n)},updateItemsState(){this.$nextTick((()=>{if(this.mandatory&&!this.selectedItems.length)return this.updateMandatory();this.items.forEach(this.updateItem)}))},updateInternalValue(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory(t){if(!this.items.length)return;const e=this.items.slice();t&&e.reverse();const n=e.find((t=>!t.disabled));if(!n)return;const r=this.items.indexOf(n);this.updateInternalValue(this.getValue(n,r))},updateMultiple(t){const e=Array.isArray(this.internalValue)?this.internalValue:[],n=e.slice(),r=n.findIndex((e=>this.valueComparator(e,t)));this.mandatory&&r>-1&&n.length-1<1||null!=this.max&&r<0&&n.length+1>this.max||(r>-1?n.splice(r,1):n.push(t),this.internalValue=n)},updateSingle(t){const e=this.valueComparator(this.internalValue,t);this.mandatory&&e||(this.internalValue=e?void 0:t)}},render(t){return t(this.tag,this.genData(),this.$slots.default)}});c.extend({name:"v-item-group",provide(){return{itemGroup:this}}})},7184:function(t,e,n){"use strict";n.d(e,{A:function(){return c}});var r=n(8767),i=n(3661),o=n(3507),s=n(6960),a=(0,o.A)(i.A).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:String,default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render(t,e){const{children:n,listeners:o,props:a}=e,c={staticClass:"v-label",class:{"v-label--active":a.value,"v-label--is-disabled":a.disabled,...(0,i.H)(e)},attrs:{for:a.for,"aria-hidden":!a.for},on:o,style:{left:(0,s.Dg)(a.left),right:(0,s.Dg)(a.right),position:a.absolute?"absolute":"relative"},ref:"label"};return t("label",r.A.options.methods.setTextColor(a.focused&&a.color,c),n)}}),c=a},2987:function(t,e,n){"use strict";n.d(e,{A:function(){return i}});n(4114);var r=n(3858),i=r.A.extend().extend({name:"v-list",provide(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},data:()=>({groups:[]}),computed:{classes(){return{...r.A.options.computed.classes.call(this),"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine}}},methods:{register(t){this.groups.push(t)},unregister(t){const e=this.groups.findIndex((e=>e._uid===t._uid));e>-1&&this.groups.splice(e,1)},listClick(t){if(!this.expand)for(const e of this.groups)e.toggle(t)}},render(t){const e={staticClass:"v-list",class:this.classes,style:this.styles,attrs:{role:this.isInNav||this.isInMenu?void 0:"list",...this.attrs$}};return t(this.tag,this.setBackgroundColor(this.color,e),[this.$slots.default])}})},1075:function(t,e,n){"use strict";n.d(e,{A:function(){return f}});var r=n(8767),i=n(8010),o=n(4387),s=n(3661),a=n(9748),c=n(1723),l=n(6960),u=n(5604),d=n(3507);const h=(0,d.A)(r.A,i.A,s.A,(0,o.P)("listItemGroup"),(0,a.P)("inputValue"));var f=h.extend().extend({name:"v-list-item",directives:{Ripple:c.A},inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},inheritAttrs:!1,props:{activeClass:{type:String,default(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:()=>({proxyClass:"v-list-item--active"}),computed:{classes(){return{"v-list-item":!0,...i.A.options.computed.classes.call(this),"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine,...this.themeClasses}},isClickable(){return Boolean(i.A.options.computed.isClickable.call(this)||this.listItemGroup)}},created(){this.$attrs.hasOwnProperty("avatar")&&(0,u.rq)("avatar",this)},methods:{click(t){t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle()},genAttrs(){const t={"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1,...this.$attrs};return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(t.role="option",t["aria-selected"]=String(this.isActive)):this.isInMenu?(t.role=this.isClickable?"menuitem":void 0,t.id=t.id||`list-item-${this._uid}`):this.isInList&&(t.role="listitem")),t},toggle(){this.to&&void 0===this.inputValue&&(this.isActive=!this.isActive),this.$emit("change")}},render(t){let{tag:e,data:n}=this.generateRouteLink();n.attrs={...n.attrs,...this.genAttrs()},n[this.to?"nativeOn":"on"]={...n[this.to?"nativeOn":"on"],keydown:t=>{this.disabled||(t.keyCode===l.uP.enter&&this.click(t),this.$emit("keydown",t))}},this.inactive&&(e="div"),this.inactive&&this.to&&(n.on=n.nativeOn,delete n.nativeOn);const r=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return t(e,this.isActive?this.setTextColor(this.color,n):n,r)}})},6315:function(t,e,n){"use strict";var r=n(5471);e.A=r["default"].extend({name:"v-list-item-action",functional:!0,render(t,{data:e,children:n=[]}){e.staticClass=e.staticClass?`v-list-item__action ${e.staticClass}`:"v-list-item__action";const r=n.filter((t=>!1===t.isComment&&" "!==t.text));return r.length>1&&(e.staticClass+=" v-list-item__action--stack"),t("div",e,n)}})},24:function(t,e,n){"use strict";var r=n(5471);e.A=r["default"].extend({name:"v-list-item-icon",functional:!0,render(t,{data:e,children:n}){return e.staticClass=`v-list-item__icon ${e.staticClass||""}`.trim(),t("div",e,n)}})},3954:function(t,e,n){"use strict";n.d(e,{pr:function(){return S},w:function(){return I},UZ:function(){return M}});var r=n(6960),i=n(2987),o=n(7889),s=n(1075),a=n(24),c=n(4765),l=n(2e3),u=n(8767),d=n(9748),h=n(8652),f=n(1723),p=n(1906),g=n(3507);const m=(0,g.A)(c.A,l.A,u.A,(0,h.W)("list"),d.A);var v=m.extend().extend({name:"v-list-group",directives:{ripple:f.A},props:{activeClass:{type:String,default:""},appendIcon:{type:String,default:"$expand"},color:{type:String,default:"primary"},disabled:Boolean,group:[String,RegExp],noAction:Boolean,prependIcon:String,ripple:{type:[Boolean,Object],default:!0},subGroup:Boolean},computed:{classes(){return{"v-list-group--active":this.isActive,"v-list-group--disabled":this.disabled,"v-list-group--no-action":this.noAction,"v-list-group--sub-group":this.subGroup}}},watch:{isActive(t){!this.subGroup&&t&&this.list&&this.list.listClick(this._uid)},$route:"onRouteChange"},created(){this.list&&this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy(){this.list&&this.list.unregister(this)},methods:{click(t){this.disabled||(this.isBooted=!0,this.$emit("click",t),this.$nextTick((()=>this.isActive=!this.isActive)))},genIcon(t){return this.$createElement(o.A,t)},genAppendIcon(){const t=!this.subGroup&&this.appendIcon;return t||this.$slots.appendIcon?this.$createElement(a.A,{staticClass:"v-list-group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(t)]):null},genHeader(){return this.$createElement(s.A,{staticClass:"v-list-group__header",attrs:{"aria-expanded":String(this.isActive),role:"button"},class:{[this.activeClass]:this.isActive},props:{inputValue:this.isActive},directives:[{name:"ripple",value:this.ripple}],on:{...this.listeners$,click:this.click}},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems(){return this.showLazyContent((()=>[this.$createElement("div",{staticClass:"v-list-group__items",directives:[{name:"show",value:this.isActive}]},(0,r.$c)(this))]))},genPrependIcon(){const t=this.subGroup&&null==this.prependIcon?"$subgroup":this.prependIcon;return t||this.$slots.prependIcon?this.$createElement(a.A,{staticClass:"v-list-group__header__prepend-icon"},[this.$slots.prependIcon||this.genIcon(t)]):null},onRouteChange(t){if(!this.group)return;const e=this.matchRoute(t.path);e&&this.isActive!==e&&this.list&&this.list.listClick(this._uid),this.isActive=e},toggle(t){const e=this._uid===t;e&&(this.isBooted=!0),this.$nextTick((()=>this.isActive=e))},matchRoute(t){return null!==t.match(this.group)}},render(t){return t("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-list-group",class:this.classes}),[this.genHeader(),t(p.Qo,this.genItems())])}}),b=n(9983),y=(0,g.A)(b.C,u.A).extend({name:"v-list-item-group",provide(){return{isInGroup:!0,listItemGroup:this}},computed:{classes(){return{...b.C.options.computed.classes.call(this),"v-list-item-group":!0}}},methods:{genData(){return this.setTextColor(this.color,{...b.C.options.methods.genData.call(this),attrs:{role:"listbox"}})}}}),k=n(6315),w=n(1325),_=n(6256),A=(0,g.A)(u.A,w.A,_.A).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes(){return{"v-avatar--left":this.left,"v-avatar--right":this.right,...this.roundedClasses}},styles(){return{height:(0,r.Dg)(this.size),minWidth:(0,r.Dg)(this.size),width:(0,r.Dg)(this.size),...this.measurableStyles}}},render(t){const e={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),this.$slots.default)}}),C=A,x=C.extend({name:"v-list-item-avatar",props:{horizontal:Boolean,size:{type:[Number,String],default:40}},computed:{classes(){return{"v-list-item__avatar--horizontal":this.horizontal,...C.options.computed.classes.call(this),"v-avatar--tile":this.tile||this.horizontal}}},render(t){const e=C.options.render.call(this,t);return e.data=e.data||{},e.data.staticClass+=" v-list-item__avatar",e}});const E=(0,r.Gn)("v-list-item__action-text","span"),S=(0,r.Gn)("v-list-item__content","div"),M=(0,r.Gn)("v-list-item__title","div"),I=(0,r.Gn)("v-list-item__subtitle","div");i.A,s.A,k.A,a.A},7954:function(t,e,n){"use strict";n.d(e,{A:function(){return i}});var r=n(6543),i=r.A.extend({name:"v-main",props:{tag:{type:String,default:"main"}},computed:{styles(){const{bar:t,top:e,right:n,footer:r,insetFooter:i,bottom:o,left:s}=this.$vuetify.application;return{paddingTop:`${e+t}px`,paddingRight:`${n}px`,paddingBottom:`${r+i+o}px`,paddingLeft:`${s}px`}}},render(t){const e={staticClass:"v-main",style:this.styles,ref:"main"};return t(this.tag,e,[t("div",{staticClass:"v-main__wrap"},this.$slots.default)])}})},8987:function(t,e,n){"use strict";n.d(e,{A:function(){return M}});n(4114);var r=n(3661),i=r.A.extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark(){return this.root?this.rootIsDark:r.A.options.computed.isDark.call(this)}},render(){return this.$slots.default&&this.$slots.default.find((t=>!t.isComment&&" "!==t.text))}}),o=n(5063),s=n(9748),a=n(3507),c=n(6960),l=n(5604);const u=(0,a.A)(o.A,s.A);var d=u.extend({name:"activatable",props:{activator:{default:null,validator:t=>["string","object"].includes(typeof t)},disabled:Boolean,internalActivator:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,openOnFocus:Boolean},data:()=>({activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}),watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted(){const t=(0,c.fo)(this,"activator",!0);t&&["v-slot","normal"].includes(t)&&(0,l.yA)('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy(){this.removeActivatorEvents()},methods:{addActivatorEvents(){if(!this.activator||this.disabled||!this.getActivator())return;this.listeners=this.genActivatorListeners();const t=Object.keys(this.listeners);for(const e of t)this.getActivator().addEventListener(e,this.listeners[e])},genActivator(){const t=(0,c.$c)(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=t,t},genActivatorAttributes(){return{role:this.openOnClick&&!this.openOnHover?"button":void 0,"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners(){if(this.disabled)return{};const t={};return this.openOnHover?(t.mouseenter=t=>{this.getActivator(t),this.runDelay("open")},t.mouseleave=t=>{this.getActivator(t),this.runDelay("close")}):this.openOnClick&&(t.click=t=>{const e=this.getActivator(t);e&&e.focus(),t.stopPropagation(),this.isActive=!this.isActive}),this.openOnFocus&&(t.focus=t=>{this.getActivator(t),t.stopPropagation(),this.isActive=!this.isActive}),t},getActivator(t){if(this.activatorElement)return this.activatorElement;let e=null;if(this.activator){const t=this.internalActivator?this.$el:document;e="string"===typeof this.activator?t.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!t){const t=this.activatorNode[0].componentInstance;e=t&&t.$options.mixins&&t.$options.mixins.some((t=>t.options&&["activatable","menuable"].includes(t.options.name)))?t.getActivator():this.activatorNode[0].elm}else t&&(e=t.currentTarget||t.target);return this.activatorElement=(null===e||void 0===e?void 0:e.nodeType)===Node.ELEMENT_NODE?e:null,this.activatorElement},getContentSlot(){return(0,c.$c)(this,"default",this.getValueProxy(),!0)},getValueProxy(){const t=this;return{get value(){return t.isActive},set value(e){t.isActive=e}}},removeActivatorEvents(){if(!this.activator||!this.activatorElement)return;const t=Object.keys(this.listeners);for(const e of t)this.activatorElement.removeEventListener(e,this.listeners[e]);this.listeners={}},resetActivator(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}}),h=n(9623),f=n(5471),p=f["default"].extend().extend({name:"stackable",data(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex(){if("undefined"===typeof window)return 0;const t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:(0,c.fl)(t);return null==e?e:parseInt(e)}},methods:{getMaxZIndex(t=[]){const e=this.$el,n=[this.stackMinZIndex,(0,c.fl)(e)],r=[...document.getElementsByClassName("v-menu__content--active"),...document.getElementsByClassName("v-dialog__content--active")];for(let i=0;i<r.length;i++)t.includes(r[i])||n.push((0,c.fl)(r[i]));return Math.max(...n)}}}),g=n(9923),m=n(2e3);function v(t){const e=typeof t;return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}function b(t){t.forEach((t=>{t.elm&&t.elm.parentNode&&t.elm.parentNode.removeChild(t.elm)}))}var y=(0,a.A)(m.A).extend({name:"detachable",props:{attach:{default:!1,validator:v},contentClass:{type:String,default:""}},data:()=>({activatorNode:null,hasDetached:!1}),watch:{attach(){this.hasDetached=!1,this.initDetach()},hasContent(){this.$nextTick(this.initDetach)}},beforeMount(){this.$nextTick((()=>{if(this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach((t=>{if(!t.elm)return;if(!this.$el.parentNode)return;const e=this.$el===this.$el.parentNode.firstChild?this.$el:this.$el.nextSibling;this.$el.parentNode.insertBefore(t.elm,e)}))}}))},mounted(){this.hasContent&&this.initDetach()},deactivated(){this.isActive=!1},beforeDestroy(){this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content)},destroyed(){if(this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];if(this.$el.isConnected){const e=new MutationObserver((n=>{n.some((t=>Array.from(t.removedNodes).includes(this.$el)))&&(e.disconnect(),b(t))}));e.observe(this.$el.parentNode,{subtree:!1,childList:!0})}else b(t)}},methods:{getScopeIdAttrs(){const t=(0,c.no)(this.$vnode,"context.$options._scopeId");return t&&{[t]:""}},initDetach(){if(this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach)return;let t;t=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,t?(t.appendChild(this.$refs.content),this.hasDetached=!0):(0,l.OP)(`Unable to locate target ${this.attach||"[data-app]"}`,this)}}});const k=(0,a.A)(p,(0,g.P)(["top","right","bottom","left","absolute"]),d,y);var w=k.extend().extend({name:"menuable",props:{allowOverflow:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:()=>({activatorNode:[],absoluteX:0,absoluteY:0,activatedBy:null,activatorFixed:!1,dimensions:{activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0,offsetLeft:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0}},relativeYOffset:0,hasJustFocused:!1,hasWindow:!1,inputActivator:!1,isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}),computed:{computedLeft(){const t=this.dimensions.activator,e=this.dimensions.content,n=(!1!==this.attach?t.offsetLeft:t.left)||0,r=Math.max(t.width,e.width);let i=0;if(i+=n,(this.left||this.$vuetify.rtl&&!this.right)&&(i-=r-t.width),this.offsetX){const e=isNaN(Number(this.maxWidth))?t.width:Math.min(t.width,Number(this.maxWidth));i+=this.left?-e:t.width}return this.nudgeLeft&&(i-=parseInt(this.nudgeLeft)),this.nudgeRight&&(i+=parseInt(this.nudgeRight)),i},computedTop(){const t=this.dimensions.activator,e=this.dimensions.content;let n=0;return this.top&&(n+=t.height-e.height),!1!==this.attach?n+=t.offsetTop:n+=t.top+this.pageYOffset,this.offsetY&&(n+=this.top?-t.height:t.height),this.nudgeTop&&(n-=parseInt(this.nudgeTop)),this.nudgeBottom&&(n+=parseInt(this.nudgeBottom)),n},hasActivator(){return!!this.$slots.activator||!!this.$scopedSlots.activator||!!this.activator||!!this.inputActivator},absoluteYOffset(){return this.pageYOffset-this.relativeYOffset}},watch:{disabled(t){t&&this.callDeactivate()},isActive(t){this.disabled||(t?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount(){this.hasWindow="undefined"!==typeof window,this.hasWindow&&window.addEventListener("resize",this.updateDimensions,!1)},beforeDestroy(){this.hasWindow&&window.removeEventListener("resize",this.updateDimensions,!1)},methods:{absolutePosition(){return{offsetTop:this.positionY||this.absoluteY,offsetLeft:this.positionX||this.absoluteX,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate(){},calcLeft(t){return(0,c.Dg)(!1!==this.attach?this.computedLeft:this.calcXOverflow(this.computedLeft,t))},calcTop(){return(0,c.Dg)(!1!==this.attach?this.computedTop:this.calcYOverflow(this.computedTop))},calcXOverflow(t,e){const n=t+e-this.pageWidth+12;return t=(!this.left||this.right)&&n>0?Math.max(t-n,0):Math.max(t,12),t+this.getOffsetLeft()},calcYOverflow(t){const e=this.getInnerHeight(),n=this.absoluteYOffset+e,r=this.dimensions.activator,i=this.dimensions.content.height,o=t+i,s=n<o;return s&&this.offsetOverflow&&r.top>i?t=this.pageYOffset+(r.top-i):s&&!this.allowOverflow?t=n-i-12:t<this.absoluteYOffset&&!this.allowOverflow&&(t=this.absoluteYOffset+12),t<12?12:t},callActivate(){this.hasWindow&&this.activate()},callDeactivate(){this.isContentActive=!1,this.deactivate()},checkForPageYOffset(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed(){if(!1!==this.attach)return void(this.activatorFixed=!1);let t=this.getActivator();while(t){if("fixed"===window.getComputedStyle(t).position)return void(this.activatorFixed=!0);t=t.offsetParent}this.activatorFixed=!1},deactivate(){},genActivatorListeners(){const t=d.options.methods.genActivatorListeners.call(this),e=t.click;return e&&(t.click=t=>{this.openOnClick&&e&&e(t),this.absoluteX=t.clientX,this.absoluteY=t.clientY}),t},getInnerHeight(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect(t){const e=t.getBoundingClientRect();return{top:Math.round(e.top),left:Math.round(e.left),bottom:Math.round(e.bottom),right:Math.round(e.right),width:Math.round(e.width),height:Math.round(e.height)}},measure(t){if(!t||!this.hasWindow)return null;const e=this.getRoundedBoundedClientRect(t);if(!1!==this.attach){const n=window.getComputedStyle(t);e.left=parseInt(n.marginLeft),e.top=parseInt(n.marginTop)}return e},sneakPeek(t){requestAnimationFrame((()=>{const e=this.$refs.content;e&&"none"===e.style.display?(e.style.display="inline-block",t(),e.style.display="none"):t()}))},startTransition(){return new Promise((t=>requestAnimationFrame((()=>{this.isContentActive=this.hasJustFocused=this.isActive,t()}))))},updateDimensions(){this.hasWindow="undefined"!==typeof window,this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;const t={activator:{...this.dimensions.activator},content:{...this.dimensions.content}};if(!this.hasActivator||this.absolute)t.activator=this.absolutePosition();else{const e=this.getActivator();if(!e)return;t.activator=this.measure(e),t.activator.offsetLeft=e.offsetLeft,!1!==this.attach?t.activator.offsetTop=e.offsetTop:t.activator.offsetTop=0}this.sneakPeek((()=>{if(this.$refs.content){if(this.$refs.content.offsetParent){const e=this.getRoundedBoundedClientRect(this.$refs.content.offsetParent);this.relativeYOffset=window.pageYOffset+e.top,t.activator.top-=this.relativeYOffset,t.activator.left-=window.pageXOffset+e.left}t.content=this.measure(this.$refs.content)}this.dimensions=t}))}}}),_=f["default"].extend({name:"returnable",props:{returnValue:null},data:()=>({isActive:!1,originalValue:null}),watch:{isActive(t){t?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save(t){this.originalValue=t,setTimeout((()=>{this.isActive=!1}))}}}),A=n(6256),C=n(8734),x=n(2136),E=n(4073);const S=(0,a.A)(h.A,o.A,_,A.A,r.A,w);var M=S.extend({name:"v-menu",directives:{ClickOutside:C.A,Resize:x.A},provide(){return{isInMenu:!0,theme:this.theme}},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile(){return this.tiles[this.listIndex]},calculatedLeft(){const t=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?(0,c.Dg)(this.calcXOverflow(this.calcLeftAuto(),t))||"0":this.calcLeft(t)||"0"},calculatedMaxHeight(){const t=this.auto?"200px":(0,c.Dg)(this.maxHeight);return t||"0"},calculatedMaxWidth(){return(0,c.Dg)(this.maxWidth)||"0"},calculatedMinWidth(){if(this.minWidth)return(0,c.Dg)(this.minWidth)||"0";const t=Math.min(this.dimensions.activator.width+Number(this.nudgeWidth)+(this.auto?16:0),Math.max(this.pageWidth-24,0)),e=isNaN(parseInt(this.calculatedMaxWidth))?t:parseInt(this.calculatedMaxWidth);return(0,c.Dg)(Math.min(e,t))||"0"},calculatedTop(){const t=this.auto?(0,c.Dg)(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop();return t||"0"},hasClickableTiles(){return Boolean(this.tiles.find((t=>t.tabIndex>-1)))},styles(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive(t){t||(this.listIndex=-1)},isContentActive(t){this.hasJustFocused=t},listIndex(t,e){if(t in this.tiles){const e=this.tiles[t];e.classList.add("v-list-item--highlighted");const n=this.$refs.content.scrollTop,r=this.$refs.content.clientHeight;n>e.offsetTop-8?(0,E.A)(e.offsetTop-e.clientHeight,{appOffset:!1,duration:300,container:this.$refs.content}):n+r<e.offsetTop+e.clientHeight+8&&(0,E.A)(e.offsetTop-r+2*e.clientHeight,{appOffset:!1,duration:300,container:this.$refs.content})}e in this.tiles&&this.tiles[e].classList.remove("v-list-item--highlighted")}},created(){this.$attrs.hasOwnProperty("full-width")&&(0,l.rq)("full-width",this)},mounted(){this.isActive&&this.callActivate()},methods:{activate(){this.updateDimensions(),requestAnimationFrame((()=>{this.startTransition().then((()=>{this.$refs.content&&(this.calculatedTopAuto=this.calcTopAuto(),this.auto&&(this.$refs.content.scrollTop=this.calcScrollPosition()))}))}))},calcScrollPosition(){const t=this.$refs.content,e=t.querySelector(".v-list-item--active"),n=t.scrollHeight-t.offsetHeight;return e?Math.min(n,Math.max(0,e.offsetTop-t.offsetHeight/2+e.offsetHeight/2)):t.scrollTop},calcLeftAuto(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto(){const t=this.$refs.content,e=t.querySelector(".v-list-item--active");if(e||(this.selectedIndex=null),this.offsetY||!e)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(e);const n=e.offsetTop-this.calcScrollPosition(),r=t.querySelector(".v-list-item").offsetTop;return this.computedTop-n-r-1},changeListIndex(t){if(this.getTiles(),this.isActive&&this.hasClickableTiles)if(t.keyCode!==c.uP.tab){if(t.keyCode===c.uP.down)this.nextTile();else if(t.keyCode===c.uP.up)this.prevTile();else if(t.keyCode===c.uP.end)this.lastTile();else if(t.keyCode===c.uP.home)this.firstTile();else{if(t.keyCode!==c.uP.enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}t.preventDefault()}else this.isActive=!1},closeConditional(t){const e=t.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(e)},genActivatorAttributes(){const t=d.options.methods.genActivatorAttributes.call(this);return this.activeTile&&this.activeTile.id?{...t,"aria-activedescendant":this.activeTile.id}:t},genActivatorListeners(){const t=w.options.methods.genActivatorListeners.call(this);return this.disableKeys||(t.keydown=this.onKeyDown),t},genTransition(){const t=this.genContent();return this.transition?this.$createElement("transition",{props:{name:this.transition}},[t]):t},genDirectives(){const t=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&t.push({name:"click-outside",value:{handler:()=>{this.isActive=!1},closeConditional:this.closeConditional,include:()=>[this.$el,...this.getOpenDependentElements()]}}),t},genContent(){const t={attrs:{...this.getScopeIdAttrs(),role:"role"in this.$attrs?this.$attrs.role:"menu"},staticClass:"v-menu__content",class:{...this.rootThemeClasses,...this.roundedClasses,"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive,[this.contentClass.trim()]:!0},style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:t=>{const e=t.target;e.getAttribute("disabled")||this.closeOnContentClick&&(this.isActive=!1)},keydown:this.onKeyDown}};return this.$listeners.scroll&&(t.on=t.on||{},t.on.scroll=this.$listeners.scroll),!this.disabled&&this.openOnHover&&(t.on=t.on||{},t.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(t.on=t.on||{},t.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",t,this.getContentSlot())},getTiles(){this.$refs.content&&(this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item, .v-divider, .v-subheader")))},mouseEnterHandler(){this.runDelay("open",(()=>{this.hasJustFocused||(this.hasJustFocused=!0)}))},mouseLeaveHandler(t){this.runDelay("close",(()=>{var e;(null===(e=this.$refs.content)||void 0===e?void 0:e.contains(t.relatedTarget))||requestAnimationFrame((()=>{this.isActive=!1,this.callDeactivate()}))}))},nextTile(){const t=this.tiles[this.listIndex+1];if(!t){if(!this.tiles.length)return;return this.listIndex=-1,void this.nextTile()}this.listIndex++,-1===t.tabIndex&&this.nextTile()},prevTile(){const t=this.tiles[this.listIndex-1];if(!t){if(!this.tiles.length)return;return this.listIndex=this.tiles.length,void this.prevTile()}this.listIndex--,-1===t.tabIndex&&this.prevTile()},lastTile(){const t=this.tiles[this.tiles.length-1];t&&(this.listIndex=this.tiles.length-1,-1===t.tabIndex&&this.prevTile())},firstTile(){const t=this.tiles[0];t&&(this.listIndex=0,-1===t.tabIndex&&this.nextTile())},onKeyDown(t){if(t.keyCode===c.uP.esc){setTimeout((()=>{this.isActive=!1}));const t=this.getActivator();this.$nextTick((()=>t&&t.focus()))}else!this.isActive&&[c.uP.up,c.uP.down].includes(t.keyCode)&&(this.isActive=!0);this.$nextTick((()=>this.changeListIndex(t)))},onResize(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render(t){const e={staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]};return t("div",e,[!this.activator&&this.genActivator(),this.showLazyContent((()=>[this.$createElement(i,{props:{root:!0,light:this.light,dark:this.dark}},[this.genTransition()])]))])}})},6848:function(t,e,n){"use strict";n.d(e,{A:function(){return w}});n(4114);var r=n(980),i=n(4838),o=n(8767),s=n(9623),a=n(806),c=n(3661),l=n(9748),u=n(3507),d=(0,u.A)(o.A,c.A,l.A).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim(){const t=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",t)},classes(){return{"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive,...this.themeClasses}},computedOpacity(){return Number(this.isActive?this.opacity:0)},styles(){return{zIndex:this.zIndex}}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render(t){const e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",on:this.$listeners,class:this.classes,style:this.styles},e)}}),h=d,f=n(6960),p=n(5471),g=p["default"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data(){return{animationFrame:0,overlay:null}},watch:{hideOverlay(t){this.isActive&&(t?this.removeOverlay():this.genOverlay())}},beforeDestroy(){this.removeOverlay()},methods:{createOverlay(){const t=new h({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});t.$mount();const e=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");e&&e.insertBefore(t.$el,e.firstChild),this.overlay=t},genOverlay(){if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),this.animationFrame=requestAnimationFrame((()=>{this.overlay&&(void 0!==this.activeZIndex?this.overlay.zIndex=String(this.activeZIndex-1):this.$el&&(this.overlay.zIndex=(0,f.fl)(this.$el)),this.overlay.value=!0)})),!0},removeOverlay(t=!0){this.overlay&&((0,f.d7)(this.overlay.$el,"transitionend",(()=>{this.overlay&&this.overlay.$el&&this.overlay.$el.parentNode&&!this.overlay.value&&!this.isActive&&(this.overlay.$el.parentNode.removeChild(this.overlay.$el),this.overlay.$destroy(),this.overlay=null)})),cancelAnimationFrame(this.animationFrame),this.overlay.value=!1),t&&this.showScroll()},scrollListener(t){if("key"in t){if(["INPUT","TEXTAREA","SELECT"].includes(t.target.tagName)||t.target.isContentEditable)return;const e=[f.uP.up,f.uP.pageup],n=[f.uP.down,f.uP.pagedown];if(e.includes(t.keyCode))t.deltaY=-1;else{if(!n.includes(t.keyCode))return;t.deltaY=1}}(t.target===this.overlay||"keydown"!==t.type&&t.target===document.body||this.checkPath(t))&&t.preventDefault()},hasScrollbar(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return(["auto","scroll"].includes(e.overflowY)||"SELECT"===t.tagName)&&t.scrollHeight>t.clientHeight||["auto","scroll"].includes(e.overflowX)&&t.scrollWidth>t.clientWidth},shouldScroll(t,e){if(t.hasAttribute("data-app"))return!1;const n=e.shiftKey||e.deltaX?"x":"y",r="y"===n?e.deltaY:e.deltaX||e.deltaY;let i,o;"y"===n?(i=0===t.scrollTop,o=t.scrollTop+t.clientHeight===t.scrollHeight):(i=0===t.scrollLeft,o=t.scrollLeft+t.clientWidth===t.scrollWidth);const s=r<0,a=r>0;return!(i||!s)||(!(o||!a)||!(!i&&!o)&&this.shouldScroll(t.parentNode,e))},isInside(t,e){return t===e||null!==t&&t!==document.body&&this.isInside(t.parentNode,e)},checkPath(t){const e=(0,f.K9)(t);if("keydown"===t.type&&e[0]===document.body){const e=this.$refs.dialog,n=window.getSelection().anchorNode;return!(e&&this.hasScrollbar(e)&&this.isInside(n,e))||!this.shouldScroll(e,t)}for(let n=0;n<e.length;n++){const r=e[n];if(r===document)return!0;if(r===document.documentElement)return!0;if(r===this.$refs.content)return!0;if(this.hasScrollbar(r))return!this.shouldScroll(r,t)}return!0},hideScroll(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):((0,f.P4)(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}}),m=n(6543),v=n(8734),b=n(2136),y=n(499);const k=(0,u.A)((0,i.A)("left",["isActive","isMobile","miniVariant","expandOnHover","permanent","right","temporary","width"]),o.A,s.A,a.A,g,m.A,c.A);var w=k.extend({name:"v-navigation-drawer",directives:{ClickOutside:v.A,Resize:b.A,Touch:y.A},provide(){return{isInNav:"nav"===this.tag}},props:{bottom:Boolean,clipped:Boolean,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,height:{type:[Number,String],default(){return this.app?"100vh":"100%"}},miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:56},permanent:Boolean,right:Boolean,src:{type:[String,Object],default:""},stateless:Boolean,tag:{type:String,default(){return this.app?"nav":"aside"}},temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},value:null},data:()=>({isMouseover:!1,touchArea:{left:0,right:0},stackMinZIndex:6}),computed:{applicationProperty(){return this.right?"right":"left"},classes(){return{"v-navigation-drawer":!0,"v-navigation-drawer--absolute":this.absolute,"v-navigation-drawer--bottom":this.bottom,"v-navigation-drawer--clipped":this.clipped,"v-navigation-drawer--close":!this.isActive,"v-navigation-drawer--fixed":!this.absolute&&(this.app||this.fixed),"v-navigation-drawer--floating":this.floating,"v-navigation-drawer--is-mobile":this.isMobile,"v-navigation-drawer--is-mouseover":this.isMouseover,"v-navigation-drawer--mini-variant":this.isMiniVariant,"v-navigation-drawer--custom-mini-variant":56!==Number(this.miniVariantWidth),"v-navigation-drawer--open":this.isActive,"v-navigation-drawer--open-on-hover":this.expandOnHover,"v-navigation-drawer--right":this.right,"v-navigation-drawer--temporary":this.temporary,...this.themeClasses}},computedMaxHeight(){if(!this.hasApp)return null;const t=this.$vuetify.application.bottom+this.$vuetify.application.footer+this.$vuetify.application.bar;return this.clipped?t+this.$vuetify.application.top:t},computedTop(){if(!this.hasApp)return 0;let t=this.$vuetify.application.bar;return t+=this.clipped?this.$vuetify.application.top:0,t},computedTransform(){return this.isActive?0:this.isBottom||this.right?100:-100},computedWidth(){return this.isMiniVariant?this.miniVariantWidth:this.width},hasApp(){return this.app&&!this.isMobile&&!this.temporary},isBottom(){return this.bottom&&this.isMobile},isMiniVariant(){return!this.expandOnHover&&this.miniVariant||this.expandOnHover&&!this.isMouseover},isMobile(){return!this.stateless&&!this.permanent&&a.A.options.computed.isMobile.call(this)},reactsToClick(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile(){return this.app&&!this.disableResizeWatcher&&!this.permanent&&!this.stateless&&!this.temporary},reactsToResize(){return!this.disableResizeWatcher&&!this.stateless},reactsToRoute(){return!this.disableRouteWatcher&&!this.stateless&&(this.temporary||this.isMobile)},showOverlay(){return!this.hideOverlay&&this.isActive&&(this.isMobile||this.temporary)},styles(){const t=this.isBottom?"translateY":"translateX";return{height:(0,f.Dg)(this.height),top:this.isBottom?"auto":(0,f.Dg)(this.computedTop),maxHeight:null!=this.computedMaxHeight?`calc(100% - ${(0,f.Dg)(this.computedMaxHeight)})`:void 0,transform:`${t}(${(0,f.Dg)(this.computedTransform,"%")})`,width:(0,f.Dg)(this.computedWidth)}}},watch:{$route:"onRouteChange",isActive(t){this.$emit("input",t)},isMobile(t,e){!t&&this.isActive&&!this.temporary&&this.removeOverlay(),null!=e&&this.reactsToResize&&this.reactsToMobile&&(this.isActive=!t)},permanent(t){t&&(this.isActive=!0)},showOverlay(t){t?this.genOverlay():this.removeOverlay()},value(t){this.permanent||(null!=t?t!==this.isActive&&(this.isActive=t):this.init())},expandOnHover:"updateMiniVariant",isMouseover(t){this.updateMiniVariant(!t)}},beforeMount(){this.init()},methods:{calculateTouchArea(){const t=this.$el.parentNode;if(!t)return;const e=t.getBoundingClientRect();this.touchArea={left:e.left+50,right:e.right-50}},closeConditional(){return this.isActive&&!this._isDestroyed&&this.reactsToClick},genAppend(){return this.genPosition("append")},genBackground(){const t={height:"100%",width:"100%",src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img(t):this.$createElement(r.A,{props:t});return this.$createElement("div",{staticClass:"v-navigation-drawer__image"},[e])},genDirectives(){const t=[{name:"click-outside",value:{handler:()=>{this.isActive=!1},closeConditional:this.closeConditional,include:this.getOpenDependentElements}}];return this.touchless||this.stateless||t.push({name:"touch",value:{parent:!0,left:this.swipeLeft,right:this.swipeRight}}),t},genListeners(){const t={mouseenter:()=>this.isMouseover=!0,mouseleave:()=>this.isMouseover=!1,transitionend:t=>{if(t.target!==t.currentTarget)return;this.$emit("transitionend",t);const e=document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}};return this.miniVariant&&(t.click=()=>this.$emit("update:mini-variant",!1)),t},genPosition(t){const e=(0,f.$c)(this,t);return e?this.$createElement("div",{staticClass:`v-navigation-drawer__${t}`},e):e},genPrepend(){return this.genPosition("prepend")},genContent(){return this.$createElement("div",{staticClass:"v-navigation-drawer__content"},this.$slots.default)},genBorder(){return this.$createElement("div",{staticClass:"v-navigation-drawer__border"})},init(){this.permanent?this.isActive=!0:this.stateless||null!=this.value?this.isActive=this.value:this.temporary||(this.isActive=!this.isMobile)},onRouteChange(){this.reactsToRoute&&this.closeConditional()&&(this.isActive=!1)},swipeLeft(t){this.isActive&&this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(this.right&&t.touchstartX>=this.touchArea.right?this.isActive=!0:!this.right&&this.isActive&&(this.isActive=!1)))},swipeRight(t){this.isActive&&!this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(!this.right&&t.touchstartX<=this.touchArea.left?this.isActive=!0:this.right&&this.isActive&&(this.isActive=!1)))},updateApplication(){if(!this.isActive||this.isMobile||this.temporary||!this.$el)return 0;const t=Number(this.miniVariant?this.miniVariantWidth:this.width);return isNaN(t)?this.$el.clientWidth:t},updateMiniVariant(t){this.expandOnHover&&this.miniVariant!==t&&this.$emit("update:mini-variant",t)}},render(t){const e=[this.genPrepend(),this.genContent(),this.genAppend(),this.genBorder()];return(this.src||(0,f.$c)(this,"img"))&&e.unshift(this.genBackground()),t(this.tag,this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,directives:this.genDirectives(),on:this.genListeners()}),e)}})},8669:function(t,e,n){"use strict";n.d(e,{A:function(){return b}});var r=n(7184),i=n(7889),o=n(3960),s=n(4765),a=n(8767),c=n(4387),l=n(4466),u=n(3661),d=(n(4114),n(5088)),h=n(3507);function f(t){t.preventDefault()}var p=(0,h.A)(o.A,l.A,d.A).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some((e=>this.valueComparator(e,t))):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=o.A.options.methods.genLabel.call(this);return t?(t.data.on={click:f},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:f},ref:"input"})},onClick(t){this.onChange(),this.$emit("click",t)},onChange(){if(!this.isInteractive)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const n=e.length;e=e.filter((e=>!this.valueComparator(e,t))),e.length===n&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onKeydown(t){}}}),g=n(6960),m=n(4961);const v=(0,h.A)(s.A,a.A,l.A,(0,c.P)("radioGroup"),u.A);var b=v.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){if(!this.isDisabled)return p.options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return o.A.options.computed.computedId.call(this)},hasLabel:o.A.options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||`radio-${this.radioGroup._uid}`},rippleState(){return p.options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(t){return p.options.methods.genInput.call(this,"radio",t)},genLabel(){return this.hasLabel?this.$createElement(r.A,{on:{click:f},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},(0,g.$c)(this,"label")||this.label):null},genRadio(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(i.A,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...e}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(t){const e={staticClass:"v-radio",class:this.classes,on:(0,m.wf)({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return t("div",e,[this.genRadio(),this.genLabel()])}})},7614:function(t,e,n){"use strict";n.d(e,{A:function(){return a}});var r=n(3960),i=n(9983),o=n(3507);const s=(0,o.A)(i.C,r.A);var a=s.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...r.A.options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},r.A.options.methods.genDefaultSlot.call(this))},genInputSlot(){const t=r.A.options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel(){const t=r.A.options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:i.C.options.methods.onClick},render(t){const e=r.A.options.render.call(this,t);return this._b(e.data,"div",this.attrs$),e}})},3150:function(t,e,n){"use strict";n.d(e,{A:function(){return d}});var r=n(7889),i=n(8767),o=n(5063),s=n(1713),a=n(4466),c=n(3661),l=n(6960),u=n(3507),d=(0,u.A)(i.A,o.A,a.A,s.A,c.A).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},clearable:Boolean,dense:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIcon:{type:String,default:"$ratingHalf"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,size:[Number,String],value:{type:Number,default:0},iconLabel:{type:String,default:"$vuetify.rating.ariaLabel.icon"}},data(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps(){const{dark:t,large:e,light:n,medium:r,small:i,size:o,xLarge:s,xSmall:a}=this.$props;return{dark:t,large:e,light:n,medium:r,size:o,small:i,xLarge:s,xSmall:a}},isHovering(){return this.hover&&this.hoverIndex>=0}},watch:{internalValue(t){t!==this.value&&this.$emit("input",t)},value(t){this.internalValue=t}},methods:{createClickFn(t){return e=>{if(this.readonly)return;const n=this.genHoverIndex(e,t);this.clearable&&this.internalValue===n?this.internalValue=0:this.internalValue=n}},createProps(t){const e={index:t,value:this.internalValue,click:this.createClickFn(t),isFilled:Math.floor(this.internalValue)>t,isHovered:Math.floor(this.hoverIndex)>t};return this.halfIncrements&&(e.isHalfHovered=!e.isHovered&&(this.hoverIndex-t)%1>0,e.isHalfFilled=!e.isFilled&&(this.internalValue-t)%1>0),e},genHoverIndex(t,e){let n=this.isHalfEvent(t);return this.halfIncrements&&this.$vuetify.rtl&&(n=!n),e+(n?.5:1)},getIconName(t){const e=this.isHovering?t.isHovered:t.isFilled,n=this.isHovering?t.isHalfHovered:t.isHalfFilled;return e?this.fullIcon:n?this.halfIcon:this.emptyIcon},getColor(t){if(this.isHovering){if(t.isHovered||t.isHalfHovered)return this.color}else if(t.isFilled||t.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent(t){if(this.halfIncrements){const e=t.target&&t.target.getBoundingClientRect();if(e&&t.pageX-e.left<e.width/2)return!0}return!1},onMouseEnter(t,e){this.runDelay("open",(()=>{this.hoverIndex=this.genHoverIndex(t,e)}))},onMouseLeave(){this.runDelay("close",(()=>this.hoverIndex=-1))},genItem(t){const e=this.createProps(t);if(this.$scopedSlots.item)return this.$scopedSlots.item(e);const n={click:e.click};return this.hover&&(n.mouseenter=e=>this.onMouseEnter(e,t),n.mouseleave=this.onMouseLeave,this.halfIncrements&&(n.mousemove=e=>this.onMouseEnter(e,t))),this.$createElement(r.A,this.setTextColor(this.getColor(e),{attrs:{"aria-label":this.$vuetify.lang.t(this.iconLabel,t+1,Number(this.length))},directives:this.directives,props:this.iconProps,on:n}),[this.getIconName(e)])}},render(t){const e=(0,l.Sd)(Number(this.length)).map((t=>this.genItem(t)));return t("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},e)}})},1875:function(t,e,n){"use strict";n.d(e,{A:function(){return P}});n(4114),n(8245);var r=n(3882),i=r.A,o=n(8987),s=o.A,a=n(1723),c=n(5471),l=n(9456),u=n(8767),d=n(3661),h=n(4961),f=n(6960),p=c["default"].extend({name:"v-simple-checkbox",functional:!0,directives:{Ripple:a.A},props:{...u.A.options.props,...d.A.options.props,disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}},render(t,{props:e,data:n,listeners:r}){const i=[];let o=e.offIcon;if(e.indeterminate?o=e.indeterminateIcon:e.value&&(o=e.onIcon),i.push(t(l.A,u.A.options.methods.setTextColor(e.value&&e.color,{props:{disabled:e.disabled,dark:e.dark,light:e.light}}),o)),e.ripple&&!e.disabled){const n=t("div",u.A.options.methods.setTextColor(e.color,{staticClass:"v-input--selection-controls__ripple",directives:[{def:a.A,name:"ripple",value:{center:!0}}]}));i.push(n)}return t("div",(0,h.Ay)(n,{class:{"v-simple-checkbox":!0,"v-simple-checkbox--disabled":e.disabled},on:{click:t=>{t.stopPropagation(),n.on&&n.on.input&&!e.disabled&&(0,f.BN)(n.on.input).forEach((t=>t(!e.value)))}}}),[t("div",{staticClass:"v-input--selection-controls__input"},i)])}}),g=n(1770),m=g.A,v=n(3507),b=(0,v.A)(d.A).extend({name:"v-subheader",props:{inset:Boolean},render(t){return t("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}}),y=b,k=n(1075),w=n(6315),_=n(3954),A=n(2987),C=(0,v.A)(u.A,d.A).extend({name:"v-select-list",directives:{ripple:a.A},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:null,selectedItems:{type:Array,default:()=>[]}},computed:{parsedItems(){return this.selectedItems.map((t=>this.getValue(t)))},tileActiveClass(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile(){const t={attrs:{role:void 0},on:{mousedown:t=>t.preventDefault()}};return this.$createElement(k.A,t,[this.genTileContent(this.noDataText)])}},methods:{genAction(t,e){return this.$createElement(w.A,[this.$createElement(p,{props:{color:this.color,value:e,ripple:!1},on:{input:()=>this.$emit("select",t)}})])},genDivider(t){return this.$createElement(m,{props:t})},genFilteredText(t){if(t=t||"",!this.searchInput||this.noFilter)return t;const{start:e,middle:n,end:r}=this.getMaskedCharacters(t);return[e,this.genHighlight(n),r]},genHeader(t){return this.$createElement(y,{props:t},t.header)},genHighlight(t){return this.$createElement("span",{staticClass:"v-list-item__mask"},t)},getMaskedCharacters(t){const e=(this.searchInput||"").toString().toLocaleLowerCase(),n=t.toLocaleLowerCase().indexOf(e);if(n<0)return{start:t,middle:"",end:""};const r=t.slice(0,n),i=t.slice(n,n+e.length),o=t.slice(n+e.length);return{start:r,middle:i,end:o}},genTile({item:t,index:e,disabled:n=null,value:r=!1}){r||(r=this.hasItem(t)),t===Object(t)&&(n=null!==n?n:this.getDisabled(t));const i={attrs:{"aria-selected":String(r),id:`list-item-${this._uid}-${e}`,role:"option"},on:{mousedown:t=>{t.preventDefault()},click:()=>n||this.$emit("select",t)},props:{activeClass:this.tileActiveClass,disabled:n,ripple:!0,inputValue:r}};if(!this.$scopedSlots.item)return this.$createElement(k.A,i,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(t,r):null,this.genTileContent(t,e)]);const o=this,s=this.$scopedSlots.item({parent:o,item:t,attrs:{...i.attrs,...i.props},on:i.on});return this.needsTile(s)?this.$createElement(k.A,i,s):s},genTileContent(t,e=0){return this.$createElement(_.pr,[this.$createElement(_.UZ,[this.genFilteredText(this.getText(t))])])},hasItem(t){return this.parsedItems.indexOf(this.getValue(t))>-1},needsTile(t){return 1!==t.length||null==t[0].componentOptions||"v-list-item"!==t[0].componentOptions.Ctor.options.name},getDisabled(t){return Boolean((0,f.TD)(t,this.itemDisabled,!1))},getText(t){return String((0,f.TD)(t,this.itemText,t))},getValue(t){return(0,f.TD)(t,this.itemValue,this.getText(t))}},render(){const t=[],e=this.items.length;for(let n=0;n<e;n++){const e=this.items[n];this.hideSelected&&this.hasItem(e)||(null==e?t.push(this.genTile({item:e,index:n})):e.header?t.push(this.genHeader(e)):e.divider?t.push(this.genDivider(e)):t.push(this.genTile({item:e,index:n})))}return t.length||t.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&t.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&t.push(this.$slots["append-item"]),this.$createElement(A.A,{staticClass:"v-select-list",class:this.themeClasses,attrs:{role:"listbox",tabindex:-1},props:{dense:this.dense}},t)}}),x=n(3960),E=n(9940),S=n(5088),M=n(9623),I=c["default"].extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}}),D=n(8734),T=n(5604);const O={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},N=(0,v.A)(E.A,S.A,M.A,I);var P=N.extend().extend({name:"v-select",directives:{ClickOutside:D.A},props:{appendIcon:{type:String,default:"$dropdown"},attach:{type:null,default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,disableLookup:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:()=>O},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data(){return{cachedItems:this.cacheItems?this.items:[],menuIsBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes(){return{...E.A.options.computed.classes.call(this),"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple}},computedItems(){return this.allItems},computedOwns(){return`list-${this._uid}`},computedCounterValue(){var t;const e=this.multiple?this.selectedItems:(null!==(t=this.getText(this.selectedItems[0]))&&void 0!==t?t:"").toString();return"function"===typeof this.counterValue?this.counterValue(e):e.length},directives(){return this.isFocused?[{name:"click-outside",value:{handler:this.blur,closeConditional:this.closeConditional,include:()=>this.getOpenDependentElements()}}]:void 0},dynamicHeight(){return"auto"},hasChips(){return this.chips||this.smallChips},hasSlot(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty(){return this.selectedItems.length>0},listData(){const t=this.$vnode&&this.$vnode.context.$options._scopeId,e=t?{[t]:!0}:{};return{attrs:{...e,id:this.computedOwns},props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&(0,T.yA)("assert: staticList should not be called if slots are used"),this.$createElement(C,this.listData)},virtualizedItems(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:()=>!0,$_menuProps(){let t="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(t)&&(t=t.reduce(((t,e)=>(t[e.trim()]=!0,t)),{})),{...O,eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:t.offsetY?1:0,...t}}},watch:{internalValue(t){this.initialValue=t,this.setSelectedItems(),this.multiple&&this.$nextTick((()=>{var t;null===(t=this.$refs.menu)||void 0===t||t.updateDimensions()}))},isMenuActive(t){window.setTimeout((()=>this.onMenuActiveChange(t)))},items:{immediate:!0,handler(t){this.cacheItems&&this.$nextTick((()=>{this.cachedItems=this.filterDuplicates(this.cachedItems.concat(t))})),this.setSelectedItems()}}},methods:{blur(t){E.A.options.methods.blur.call(this,t),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1,this.setMenuIndex(-1)},activateMenu(){this.isInteractive&&!this.isMenuActive&&(this.isMenuActive=!0)},clearableCallback(){this.setValue(this.multiple?[]:null),this.setMenuIndex(-1),this.$nextTick((()=>this.$refs.input&&this.$refs.input.focus())),this.openOnClear&&(this.isMenuActive=!0)},closeConditional(t){return!this.isMenuActive||!this._isDestroyed&&(!this.getContent()||!this.getContent().contains(t.target))&&this.$el&&!this.$el.contains(t.target)&&t.target!==this.$el},filterDuplicates(t){const e=new Map;for(let n=0;n<t.length;++n){const r=t[n];if(null==r)continue;if(r.header||r.divider){e.set(r,r);continue}const i=this.getValue(r);!e.has(i)&&e.set(i,r)}return Array.from(e.values())},findExistingIndex(t){const e=this.getValue(t);return(this.internalValue||[]).findIndex((t=>this.valueComparator(this.getValue(t),e)))},getContent(){return this.$refs.menu&&this.$refs.menu.$refs.content},genChipSelection(t,e){const n=this.isDisabled||this.getDisabled(t),r=!n&&this.isInteractive;return this.$createElement(i,{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&r,disabled:n,inputValue:e===this.selectedIndex,small:this.smallChips},on:{click:t=>{r&&(t.stopPropagation(),this.selectedIndex=e)},"click:close":()=>this.onChipInput(t)},key:JSON.stringify(this.getValue(t))},this.getText(t))},genCommaSelection(t,e,n){const r=e===this.selectedIndex&&this.computedColor,i=this.isDisabled||this.getDisabled(t);return this.$createElement("div",this.setTextColor(r,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":i},key:JSON.stringify(this.getValue(t))}),`${this.getText(t)}${n?"":", "}`)},genDefaultSlot(){const t=this.genSelections(),e=this.genInput();return Array.isArray(t)?t.push(e):(t.children=t.children||[],t.children.push(e)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,t,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot(),this.genHiddenInput()]),this.genMenu(),this.genProgress()]},genIcon(t,e,n){const r=x.A.options.methods.genIcon.call(this,t,e,n);return"append"===t&&(r.children[0].data=(0,h.Ay)(r.children[0].data,{attrs:{tabindex:r.children[0].componentOptions.listeners&&"-1","aria-hidden":"true","aria-label":void 0}})),r},genInput(){const t=E.A.options.methods.genInput.call(this);return delete t.data.attrs.name,t.data=(0,h.Ay)(t.data,{domProps:{value:null},attrs:{readonly:!0,type:"text","aria-readonly":String(this.isReadonly),"aria-activedescendant":(0,f.no)(this.$refs.menu,"activeTile.id"),autocomplete:(0,f.no)(t.data,"attrs.autocomplete","off"),placeholder:this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?void 0:this.placeholder},on:{keypress:this.onKeyPress}}),t},genHiddenInput(){return this.$createElement("input",{domProps:{value:this.lazyValue},attrs:{type:"hidden",name:this.attrs$.name}})},genInputSlot(){const t=E.A.options.methods.genInputSlot.call(this);return t.data.attrs={...t.data.attrs,role:"button","aria-haspopup":"listbox","aria-expanded":String(this.isMenuActive),"aria-owns":this.computedOwns},t},genList(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot(){const t=["prepend-item","no-data","append-item"].filter((t=>this.$slots[t])).map((t=>this.$createElement("template",{slot:t},this.$slots[t])));return this.$createElement(C,{...this.listData},t)},genMenu(){const t=this.$_menuProps;return t.activator=this.$refs["input-slot"],""===this.attach||!0===this.attach||"attach"===this.attach?t.attach=this.$el:t.attach=this.attach,this.$createElement(s,{attrs:{role:void 0},props:t,on:{input:t=>{this.isMenuActive=t,this.isFocused=t},scroll:this.onScroll},ref:"menu"},[this.genList()])},genSelections(){let t=this.selectedItems.length;const e=new Array(t);let n;n=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(t--)e[t]=n(this.selectedItems[t],t,t===e.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},e)},genSlotSelection(t,e){return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:t,index:e,select:t=>{t.stopPropagation(),this.selectedIndex=e},selected:e===this.selectedIndex,disabled:!this.isInteractive})},getMenuIndex(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled(t){return(0,f.TD)(t,this.itemDisabled,!1)},getText(t){return(0,f.TD)(t,this.itemText,t)},getValue(t){return(0,f.TD)(t,this.itemValue,this.getText(t))},onBlur(t){t&&this.$emit("blur",t)},onChipInput(t){this.multiple?this.selectItem(t):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick(t){this.isInteractive&&(this.isAppendInner(t.target)||(this.isMenuActive=!0),this.isFocused||(this.isFocused=!0,this.$emit("focus")),this.$emit("click",t))},onEscDown(t){t.preventDefault(),this.isMenuActive&&(t.stopPropagation(),this.isMenuActive=!1)},onKeyPress(t){if(this.multiple||!this.isInteractive||this.disableLookup)return;const e=1e3,n=performance.now();n-this.keyboardLookupLastTime>e&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=t.key.toLowerCase(),this.keyboardLookupLastTime=n;const r=this.allItems.findIndex((t=>{var e;const n=(null!==(e=this.getText(t))&&void 0!==e?e:"").toString();return n.toLowerCase().startsWith(this.keyboardLookupPrefix)})),i=this.allItems[r];-1!==r&&(this.lastItem=Math.max(this.lastItem,r+5),this.setValue(this.returnObject?i:this.getValue(i)),this.$nextTick((()=>this.$refs.menu.getTiles())),setTimeout((()=>this.setMenuIndex(r))))},onKeyDown(t){if(this.isReadonly&&t.keyCode!==f.uP.tab)return;const e=t.keyCode,n=this.$refs.menu;return this.$emit("keydown",t),n?(this.isMenuActive&&[f.uP.up,f.uP.down,f.uP.home,f.uP.end,f.uP.enter].includes(e)&&this.$nextTick((()=>{n.changeListIndex(t),this.$emit("update:list-index",n.listIndex)})),[f.uP.enter,f.uP.space].includes(e)&&this.activateMenu(),!this.isMenuActive&&[f.uP.up,f.uP.down,f.uP.home,f.uP.end].includes(e)?this.onUpDown(t):e===f.uP.esc?this.onEscDown(t):e===f.uP.tab?this.onTabDown(t):e===f.uP.space?this.onSpaceDown(t):void 0):void 0},onMenuActiveChange(t){if(this.multiple&&!t||this.getMenuIndex()>-1)return;const e=this.$refs.menu;if(e&&this.isDirty){this.$refs.menu.getTiles();for(let t=0;t<e.tiles.length;t++)if("true"===e.tiles[t].getAttribute("aria-selected")){this.setMenuIndex(t);break}}},onMouseUp(t){this.hasMouseDown&&3!==t.which&&this.isInteractive&&this.isAppendInner(t.target)&&this.$nextTick((()=>this.isMenuActive=!this.isMenuActive)),E.A.options.methods.onMouseUp.call(this,t)},onScroll(){if(this.isMenuActive){if(this.lastItem>this.computedItems.length)return;const t=this.getContent().scrollHeight-(this.getContent().scrollTop+this.getContent().clientHeight)<200;t&&(this.lastItem+=20)}else requestAnimationFrame((()=>this.getContent().scrollTop=0))},onSpaceDown(t){t.preventDefault()},onTabDown(t){const e=this.$refs.menu;if(!e)return;const n=e.activeTile;!this.multiple&&n&&this.isMenuActive?(t.preventDefault(),t.stopPropagation(),n.click()):this.blur(t)},onUpDown(t){const e=this.$refs.menu;if(!e)return;if(t.preventDefault(),this.multiple)return this.activateMenu();const n=t.keyCode;e.isBooted=!0,window.requestAnimationFrame((()=>{if(e.getTiles(),!e.hasClickableTiles)return this.activateMenu();switch(n){case f.uP.up:e.prevTile();break;case f.uP.down:e.nextTile();break;case f.uP.home:e.firstTile();break;case f.uP.end:e.lastTile();break}this.selectItem(this.allItems[this.getMenuIndex()])}))},selectItem(t){if(this.multiple){const e=(this.internalValue||[]).slice(),n=this.findExistingIndex(t);if(-1!==n?e.splice(n,1):e.push(t),this.setValue(e.map((t=>this.returnObject?t:this.getValue(t)))),this.hideSelected)this.setMenuIndex(-1);else{const e=this.allItems.indexOf(t);~e&&(this.$nextTick((()=>this.$refs.menu.getTiles())),setTimeout((()=>this.setMenuIndex(e))))}}else this.setValue(this.returnObject?t:this.getValue(t)),this.isMenuActive=!1},setMenuIndex(t){this.$refs.menu&&(this.$refs.menu.listIndex=t)},setSelectedItems(){const t=[],e=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue];for(const n of e){const e=this.allItems.findIndex((t=>this.valueComparator(this.getValue(t),this.getValue(n))));e>-1&&t.push(this.allItems[e])}this.selectedItems=t},setValue(t){this.valueComparator(t,this.internalValue)||(this.internalValue=t,this.$emit("change",t))},isAppendInner(t){const e=this.$refs["append-inner"];return e&&(e===t||e.contains(t))}}})},3858:function(t,e,n){"use strict";n.d(e,{A:function(){return u}});var r=n(4765),i=n(8767),o=n(5083),s=n(1325),a=n(6256),c=n(3661),l=n(3507),u=(0,l.A)(r.A,i.A,o.A,s.A,a.A,c.A).extend({name:"v-sheet",props:{outlined:Boolean,shaped:Boolean,tag:{type:String,default:"div"}},computed:{classes(){return{"v-sheet":!0,"v-sheet--outlined":this.outlined,"v-sheet--shaped":this.shaped,...this.themeClasses,...this.elevationClasses,...this.roundedClasses}},styles(){return this.measurableStyles}},render(t){const e={class:this.classes,style:this.styles,on:this.listeners$};return t(this.tag,this.setBackgroundColor(this.color,e),this.$slots.default)}})},7495:function(t,e,n){"use strict";var r=n(3858);e.A=r.A},4287:function(t,e,n){"use strict";n.d(e,{Ql:function(){return p}});var r=n(7889),i=n(1906),o=n(9983),s=n(806),a=n(2136),c=n(499),l=n(3507),u=n(6960);function d(t){const e=.501,n=Math.abs(t);return Math.sign(t)*(n/((1/e-2)*(1-n)+1))}function h(t,e,n,r){const i=t.clientWidth,o=n?e.content-t.offsetLeft-i:t.offsetLeft;n&&(r=-r);const s=e.wrapper+r,a=i+o,c=.4*i;return o<=r?r=Math.max(o-c,0):s<=a&&(r=Math.min(r-(s-a-c),e.content-e.wrapper)),n?-r:r}function f(t,e,n){const{offsetLeft:r,clientWidth:i}=t;if(n){const t=e.content-r-i/2-e.wrapper/2;return-Math.min(e.content-e.wrapper,Math.max(0,t))}{const t=r+i/2-e.wrapper/2;return Math.min(e.content-e.wrapper,Math.max(0,t))}}const p=(0,l.A)(o.C,s.A).extend({name:"base-slide-group",directives:{Resize:a.A,Touch:c.A},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>"boolean"===typeof t||["always","desktop","mobile"].includes(t)}},data:()=>({isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}),computed:{canTouch(){return"undefined"!==typeof window},__cachedNext(){return this.genTransition("next")},__cachedPrev(){return this.genTransition("prev")},classes(){return{...o.C.options.computed.classes.call(this),"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing}},hasAffixes(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext(){if(!this.hasAffixes)return!1;const{content:t,wrapper:e}=this.widths;return t>Math.abs(this.scrollOffset)+e},hasPrev(){return this.hasAffixes&&0!==this.scrollOffset}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset(t){this.$vuetify.rtl&&(t=-t);let e=t<=0?d(-t):t>this.widths.content-this.widths.wrapper?-(this.widths.content-this.widths.wrapper)+d(this.widths.content-this.widths.wrapper-t):-t;this.$vuetify.rtl&&(e=-e),this.$refs.content.style.transform=`translateX(${e}px)`}},mounted(){if("undefined"!==typeof ResizeObserver){const t=new ResizeObserver((()=>{this.onResize()}));t.observe(this.$el),t.observe(this.$refs.content),this.$on("hook:destroyed",(()=>{t.disconnect()}))}else{let t=0;this.$on("hook:beforeUpdate",(()=>{var e;t=((null===(e=this.$refs.content)||void 0===e?void 0:e.children)||[]).length})),this.$on("hook:updated",(()=>{var e;t!==((null===(e=this.$refs.content)||void 0===e?void 0:e.children)||[]).length&&this.setWidths()}))}},methods:{onScroll(){this.$refs.wrapper.scrollLeft=0},onFocusin(t){if(this.isOverflowing)for(const e of(0,u.K9)(t))for(const t of this.items)if(t.$el===e)return void(this.scrollOffset=h(t.$el,this.widths,this.$vuetify.rtl,this.scrollOffset))},genNext(){const t=this.$scopedSlots.next?this.$scopedSlots.next({}):this.$slots.next||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:()=>this.onAffixClick("next")},key:"next"},[t])},genContent(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content",on:{focusin:this.onFocusin}},this.$slots.default)},genData(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon(t){let e=t;this.$vuetify.rtl&&"prev"===t?e="next":this.$vuetify.rtl&&"next"===t&&(e="prev");const n=`${t[0].toUpperCase()}${t.slice(1)}`,i=this[`has${n}`];return this.showArrows||i?this.$createElement(r.A,{props:{disabled:!i}},this[`${e}Icon`]):null},genPrev(){const t=this.$scopedSlots.prev?this.$scopedSlots.prev({}):this.$slots.prev||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:()=>this.onAffixClick("prev")},key:"prev"},[t])},genTransition(t){return this.$createElement(i.mM,[this.genIcon(t)])},genWrapper(){return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:t=>this.overflowCheck(t,this.onTouchStart),move:t=>this.overflowCheck(t,this.onTouchMove),end:t=>this.overflowCheck(t,this.onTouchEnd)}}],ref:"wrapper",on:{scroll:this.onScroll}},[this.genContent()])},calculateNewOffset(t,e,n,r){const i=n?-1:1,o=i*r+("prev"===t?-1:1)*e.wrapper;return i*Math.max(Math.min(o,e.content-e.wrapper),0)},onAffixClick(t){this.$emit(`click:${t}`),this.scrollTo(t)},onResize(){this._isDestroyed||this.setWidths()},onTouchStart(t){const{content:e}=this.$refs;this.startX=this.scrollOffset+t.touchstartX,e.style.setProperty("transition","none"),e.style.setProperty("willChange","transform")},onTouchMove(t){if(this.canTouch){if(!this.isSwiping){const e=t.touchmoveX-t.touchstartX,n=t.touchmoveY-t.touchstartY;this.isSwipingHorizontal=Math.abs(e)>Math.abs(n),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-t.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd(){if(!this.canTouch)return;const{content:t,wrapper:e}=this.$refs,n=t.clientWidth-e.clientWidth;t.style.setProperty("transition",null),t.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-n&&(this.scrollOffset=-n):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=n&&(this.scrollOffset=n),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")},overflowCheck(t,e){t.stopPropagation(),this.isOverflowing&&e(t)},scrollIntoView(){if(!this.selectedItem&&this.items.length){const t=this.items[this.items.length-1].$el.getBoundingClientRect(),e=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&e.right<t.right||!this.$vuetify.rtl&&e.left>t.left)&&this.scrollTo("prev")}this.selectedItem&&(0===this.selectedIndex||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=f(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=h(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},scrollTo(t){this.scrollOffset=this.calculateNewOffset(t,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths(){window.requestAnimationFrame((()=>{if(this._isDestroyed)return;const{content:t,wrapper:e}=this.$refs;this.widths={content:t?t.clientWidth:0,wrapper:e?e.clientWidth:0},this.isOverflowing=this.widths.wrapper+1<this.widths.content,this.scrollIntoView()}))}},render(t){return t("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}});p.extend({name:"v-slide-group",provide(){return{slideGroup:this}}})},5443:function(t,e,n){"use strict";var r=n(4387),i=n(8010),o=n(3661),s=n(6960),a=n(3507);const c=(0,a.A)(i.A,(0,r.P)("tabsBar"),o.A);e.A=c.extend().extend().extend({name:"v-tab",props:{ripple:{type:[Boolean,Object],default:!0}},data:()=>({proxyClass:"v-tab--active"}),computed:{classes(){return{"v-tab":!0,...i.A.options.computed.classes.call(this),"v-tab--disabled":this.disabled,...this.groupClasses}},value(){let t=this.to||this.href;if(null==t)return t;if(this.$router&&this.to===Object(this.to)){const e=this.$router.resolve(this.to,this.$route,this.append);t=e.href}return t.replace("#","")}},methods:{click(t){this.disabled?t.preventDefault():(this.href&&this.href.indexOf("#")>-1&&t.preventDefault(),t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle())},toggle(){this.isActive&&(this.tabsBar.mandatory||this.to)||this.$emit("change")}},render(t){const{tag:e,data:n}=this.generateRouteLink();return n.attrs={...n.attrs,"aria-selected":String(this.isActive),role:"tab",tabindex:this.disabled?-1:0},n.on={...n.on,keydown:t=>{t.keyCode===s.uP.enter&&this.click(t),this.$emit("keydown",t)}},t(e,n,this.$slots.default)}})},9584:function(t,e,n){"use strict";n.d(e,{A:function(){return u}});var r=n(2e3),i=n(4387),o=n(499),s=n(6960),a=n(3507);const c=(0,a.A)(r.A,(0,i.P)("windowGroup","v-window-item","v-window"));var l=c.extend().extend().extend({name:"v-window-item",directives:{Touch:o.A},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=(0,s.Dg)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(t){this.inTransition&&this.$nextTick((()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=(0,s.Dg)(t.clientHeight))}))}},render(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((()=>[this.genWindowItem()])))}}),u=l.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const t=l.options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},8170:function(t,e,n){"use strict";n.d(e,{A:function(){return w}});n(4114);var r=n(4287),i=n(3661),o=n(6543),s=n(3507),a=(0,s.A)(r.Ql,o.A,i.A).extend({name:"v-tabs-bar",provide(){return{tabsBar:this}},computed:{classes(){return{...r.Ql.options.computed.classes.call(this),"v-tabs-bar":!0,"v-tabs-bar--is-mobile":this.isMobile,"v-tabs-bar--show-arrows":this.showArrows,...this.themeClasses}}},watch:{items:"callSlider",internalValue:"callSlider",$route:"onRouteChange"},methods:{callSlider(){this.isBooted&&this.$emit("call:slider")},genContent(){const t=r.Ql.options.methods.genContent.call(this);return t.data=t.data||{},t.data.staticClass+=" v-tabs-bar__content",t},onRouteChange(t,e){if(this.mandatory)return;const n=this.items,r=t.path,i=e.path;let o=!1,s=!1;for(const a of n)if(a.to===i?s=!0:a.to===r&&(o=!0),o&&s)break;!o&&s&&(this.internalValue=void 0)}},render(t){const e=r.Ql.options.render.call(this,t);return e.data.attrs={role:"tablist"},e}}),c=n(499),l=n(6521),u=l.A,d=n(7889),h=n(9983),f=h.C.extend({name:"v-window",directives:{Touch:c.A},provide(){return{windowGroup:this}},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:Boolean,showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive(){return this.transitionCount>0},classes(){return{...h.C.options.computed.classes.call(this),"v-window--show-arrows-on-hover":this.showArrowsOnHover}},computedTransition(){if(!this.isBooted)return"";const t=this.vertical?"y":"x",e=this.internalReverse?!this.isReverse:this.isReverse,n=e?"-reverse":"";return`v-window-${t}${n}-transition`},hasActiveItems(){return Boolean(this.items.find((t=>!t.disabled)))},hasNext(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev(){return this.continuous||this.internalIndex>0},internalIndex(){return this.items.findIndex(((t,e)=>this.internalValue===this.getValue(t,e)))},internalReverse(){return this.$vuetify.rtl?!this.reverse:this.reverse}},watch:{internalIndex(t,e){this.isReverse=this.updateReverse(t,e)}},mounted(){window.requestAnimationFrame((()=>this.isBooted=!0))},methods:{genDefaultSlot(){return this.$slots.default},genContainer(){const t=[this.genDefaultSlot()];return this.showArrows&&t.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},t)},genIcon(t,e,n){var r,i,o;const s={click:t=>{t.stopPropagation(),this.changedByDelimiters=!0,n()}},a={"aria-label":this.$vuetify.lang.t(`$vuetify.carousel.${t}`)},c=null!==(o=null===(i=(r=this.$scopedSlots)[t])||void 0===i?void 0:i.call(r,{on:s,attrs:a}))&&void 0!==o?o:[this.$createElement(u,{props:{icon:!0},attrs:a,on:s},[this.$createElement(d.A,{props:{large:!0}},e)])];return this.$createElement("div",{staticClass:`v-window__${t}`},c)},genControlIcons(){const t=[],e=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&e&&"string"===typeof e){const n=this.genIcon("prev",e,this.prev);n&&t.push(n)}const n=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&n&&"string"===typeof n){const e=this.genIcon("next",n,this.next);e&&t.push(e)}return t},getNextIndex(t){const e=(t+1)%this.items.length,n=this.items[e];return n.disabled?this.getNextIndex(e):e},getPrevIndex(t){const e=(t+this.items.length-1)%this.items.length,n=this.items[e];return n.disabled?this.getPrevIndex(e):e},next(){if(!this.hasActiveItems||!this.hasNext)return;const t=this.getNextIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)},prev(){if(!this.hasActiveItems||!this.hasPrev)return;const t=this.getPrevIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)},updateReverse(t,e){const n=this.items.length,r=n-1;return n<=2?t<e:t===r&&0===e||(0!==t||e!==r)&&t<e}},render(t){const e={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){const t=this.touch||{left:()=>{this.$vuetify.rtl?this.prev():this.next()},right:()=>{this.$vuetify.rtl?this.next():this.prev()},end:t=>{t.stopPropagation()},start:t=>{t.stopPropagation()}};e.directives.push({name:"touch",value:t})}return t("div",e,[this.genContainer()])}}),p=f.extend({name:"v-tabs-items",props:{mandatory:{type:Boolean,default:!1}},computed:{classes(){return{...f.options.computed.classes.call(this),"v-tabs-items":!0}},isDark(){return this.rootIsDark}},methods:{getValue(t,e){return t.id||h.C.options.methods.getValue.call(this,t,e)}}}),g=n(8767),m=(0,s.A)(g.A).extend({name:"v-tabs-slider",render(t){return t("div",this.setBackgroundColor(this.color,{staticClass:"v-tabs-slider"}))}}),v=n(4464),b=n(2136),y=n(6960);const k=(0,s.A)(g.A,v.A,i.A);var w=k.extend().extend({name:"v-tabs",directives:{Resize:b.A},props:{activeClass:{type:String,default:""},alignWithTitle:Boolean,backgroundColor:String,centerActive:Boolean,centered:Boolean,fixedTabs:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,iconsAndText:Boolean,mobileBreakpoint:[String,Number],nextIcon:{type:String,default:"$next"},optional:Boolean,prevIcon:{type:String,default:"$prev"},right:Boolean,showArrows:[Boolean,String],sliderColor:String,sliderSize:{type:[Number,String],default:2},vertical:Boolean},data(){return{resizeTimeout:0,slider:{height:null,left:null,right:null,top:null,width:null},transitionTime:300}},computed:{classes(){return{"v-tabs--align-with-title":this.alignWithTitle,"v-tabs--centered":this.centered,"v-tabs--fixed-tabs":this.fixedTabs,"v-tabs--grow":this.grow,"v-tabs--icons-and-text":this.iconsAndText,"v-tabs--right":this.right,"v-tabs--vertical":this.vertical,...this.themeClasses}},isReversed(){return this.$vuetify.rtl&&this.vertical},sliderStyles(){return{height:(0,y.Dg)(this.slider.height),left:this.isReversed?void 0:(0,y.Dg)(this.slider.left),right:this.isReversed?(0,y.Dg)(this.slider.right):void 0,top:this.vertical?(0,y.Dg)(this.slider.top):void 0,transition:null!=this.slider.left?null:"none",width:(0,y.Dg)(this.slider.width)}},computedColor(){return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"}},watch:{alignWithTitle:"callSlider",centered:"callSlider",centerActive:"callSlider",fixedTabs:"callSlider",grow:"callSlider",iconsAndText:"callSlider",right:"callSlider",showArrows:"callSlider",vertical:"callSlider","$vuetify.application.left":"onResize","$vuetify.application.right":"onResize","$vuetify.rtl":"onResize"},mounted(){if("undefined"!==typeof ResizeObserver){const t=new ResizeObserver((()=>{this.onResize()}));t.observe(this.$el),this.$on("hook:destroyed",(()=>{t.disconnect()}))}this.$nextTick((()=>{window.setTimeout(this.callSlider,30)}))},methods:{callSlider(){return!this.hideSlider&&this.$refs.items&&this.$refs.items.selectedItems.length?(this.$nextTick((()=>{const t=this.$refs.items.selectedItems[0];if(!t||!t.$el)return this.slider.width=0,void(this.slider.left=0);const e=t.$el;this.slider={height:this.vertical?e.scrollHeight:Number(this.sliderSize),left:this.vertical?0:e.offsetLeft,right:this.vertical?0:e.offsetLeft+e.offsetWidth,top:e.offsetTop,width:this.vertical?Number(this.sliderSize):e.scrollWidth}})),!0):(this.slider.width=0,!1)},genBar(t,e){const n={style:{height:(0,y.Dg)(this.height)},props:{activeClass:this.activeClass,centerActive:this.centerActive,dark:this.dark,light:this.light,mandatory:!this.optional,mobileBreakpoint:this.mobileBreakpoint,nextIcon:this.nextIcon,prevIcon:this.prevIcon,showArrows:this.showArrows,value:this.internalValue},on:{"call:slider":this.callSlider,change:t=>{this.internalValue=t}},ref:"items"};return this.setTextColor(this.computedColor,n),this.setBackgroundColor(this.backgroundColor,n),this.$createElement(a,n,[this.genSlider(e),t])},genItems(t,e){return t||(e.length?this.$createElement(p,{props:{value:this.internalValue},on:{change:t=>{this.internalValue=t}}},e):null)},genSlider(t){return this.hideSlider?null:(t||(t=this.$createElement(m,{props:{color:this.sliderColor}})),this.$createElement("div",{staticClass:"v-tabs-slider-wrapper",style:this.sliderStyles},[t]))},onResize(){this._isDestroyed||(clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.callSlider,0))},parseNodes(){let t=null,e=null;const n=[],r=[],i=this.$slots.default||[],o=i.length;for(let s=0;s<o;s++){const o=i[s];if(o.componentOptions)switch(o.componentOptions.Ctor.options.name){case"v-tabs-slider":e=o;break;case"v-tabs-items":t=o;break;case"v-tab-item":n.push(o);break;default:r.push(o)}else r.push(o)}return{tab:r,slider:e,items:t,item:n}}},render(t){const{tab:e,slider:n,items:r,item:i}=this.parseNodes();return t("div",{staticClass:"v-tabs",class:this.classes,directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]},[this.genBar(e,n),this.genItems(r,i)])}})},9940:function(t,e,n){"use strict";n.d(e,{A:function(){return w}});n(4114),n(8245);var r=n(3960),i=n(3661),o=n(3507),s=(0,o.A)(i.A).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render(t,e){const{props:n}=e,r=parseInt(n.max,10),o=parseInt(n.value,10),s=r?`${o} / ${r}`:String(n.value),a=r&&o>r;return t("div",{staticClass:"v-counter",class:{"error--text":a,...(0,i.H)(e)}},s)}}),a=s,c=n(7184),l=n(6965),u=n(5604),d=n(5471);function h(t){return d["default"].extend({name:"intersectable",data:()=>({isIntersecting:!1}),mounted(){l.A.inserted(this.$el,{name:"intersect",value:this.onObserve},this.$vnode)},destroyed(){l.A.unbind(this.$el,{name:"intersect",value:this.onObserve},this.$vnode)},methods:{onObserve(e,n,r){if(this.isIntersecting=r,r)for(let i=0,o=t.onVisible.length;i<o;i++){const e=this[t.onVisible[i]];"function"!==typeof e?(0,u.OP)(t.onVisible[i]+" method is not available on the instance but referenced in intersectable mixin options"):e()}}}})}var f=n(7930),p=n(7863),g=n(2136),m=n(1723),v=n(4845),b=n(6960);const y=(0,o.A)(r.A,h({onVisible:["onResize","tryAutofocus"]}),f.A),k=["color","file","time","date","datetime-local","week","month"];var w=y.extend().extend({name:"v-text-field",directives:{resize:g.A,ripple:m.A},inheritAttrs:!1,props:{appendOuterIcon:String,autofocus:Boolean,clearable:Boolean,clearIcon:{type:String,default:"$clear"},counter:[Boolean,Number,String],counterValue:Function,filled:Boolean,flat:Boolean,fullWidth:Boolean,label:String,outlined:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,persistentPlaceholder:Boolean,reverse:Boolean,rounded:Boolean,shaped:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:()=>({badInput:!1,labelWidth:0,prefixWidth:0,prependWidth:0,initialValue:null,isBooted:!1,isClearing:!1}),computed:{classes(){return{...r.A.options.computed.classes.call(this),"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--filled":this.filled,"v-text-field--is-booted":this.isBooted,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outlined":this.outlined,"v-text-field--placeholder":this.placeholder,"v-text-field--rounded":this.rounded,"v-text-field--shaped":this.shaped}},computedColor(){const t=p.A.options.computed.computedColor.call(this);return this.soloInverted&&this.isFocused?this.color||"primary":t},computedCounterValue(){return"function"===typeof this.counterValue?this.counterValue(this.internalValue):[...(this.internalValue||"").toString()].length},hasCounter(){return!1!==this.counter&&null!=this.counter},hasDetails(){return r.A.options.computed.hasDetails.call(this)||this.hasCounter},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("input",this.lazyValue)}},isDirty(){var t;return(null===(t=this.lazyValue)||void 0===t?void 0:t.toString().length)>0||this.badInput},isEnclosed(){return this.filled||this.isSolo||this.outlined},isLabelActive(){return this.isDirty||k.includes(this.type)},isSingle(){return this.isSolo||this.singleLine||this.fullWidth||this.filled&&!this.hasLabel},isSolo(){return this.solo||this.soloInverted},labelPosition(){let t=this.prefix&&!this.labelValue?this.prefixWidth:0;return this.labelValue&&this.prependWidth&&(t-=this.prependWidth),this.$vuetify.rtl===this.reverse?{left:t,right:"auto"}:{left:"auto",right:t}},showLabel(){return this.hasLabel&&!(this.isSingle&&this.labelValue)},labelValue(){return this.isFocused||this.isLabelActive||this.persistentPlaceholder}},watch:{outlined:"setLabelWidth",label(){this.$nextTick(this.setLabelWidth)},prefix(){this.$nextTick(this.setPrefixWidth)},isFocused:"updateValue",value(t){this.lazyValue=t}},created(){this.$attrs.hasOwnProperty("box")&&(0,u.q4)("box","filled",this),this.$attrs.hasOwnProperty("browser-autocomplete")&&(0,u.q4)("browser-autocomplete","autocomplete",this),this.shaped&&!(this.filled||this.outlined||this.isSolo)&&(0,u.OP)("shaped should be used with either filled or outlined",this)},mounted(){this.$watch((()=>this.labelValue),this.setLabelWidth),this.autofocus&&this.tryAutofocus(),requestAnimationFrame((()=>{this.isBooted=!0,requestAnimationFrame((()=>{this.isIntersecting||this.onResize()}))}))},methods:{focus(){this.onFocus()},blur(t){window.requestAnimationFrame((()=>{this.$refs.input&&this.$refs.input.blur()}))},clearableCallback(){this.$refs.input&&this.$refs.input.focus(),this.$nextTick((()=>this.internalValue=null))},genAppendSlot(){const t=[];return this.$slots["append-outer"]?t.push(this.$slots["append-outer"]):this.appendOuterIcon&&t.push(this.genIcon("appendOuter")),this.genSlot("append","outer",t)},genPrependInnerSlot(){const t=[];return this.$slots["prepend-inner"]?t.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&t.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",t)},genIconSlot(){const t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","inner",t)},genInputSlot(){const t=r.A.options.methods.genInputSlot.call(this),e=this.genPrependInnerSlot();return e&&(t.children=t.children||[],t.children.unshift(e)),t},genClearIcon(){return this.clearable?this.isDirty?this.genSlot("append","inner",[this.genIcon("clear",this.clearableCallback)]):this.genSlot("append","inner",[this.$createElement("div")]):null},genCounter(){var t,e,n;if(!this.hasCounter)return null;const r=!0===this.counter?this.attrs$.maxlength:this.counter,i={dark:this.dark,light:this.light,max:r,value:this.computedCounterValue};return null!==(n=null===(e=(t=this.$scopedSlots).counter)||void 0===e?void 0:e.call(t,{props:i}))&&void 0!==n?n:this.$createElement(a,{props:i})},genControl(){return r.A.options.methods.genControl.call(this)},genDefaultSlot(){return[this.genFieldset(),this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genFieldset(){return this.outlined?this.$createElement("fieldset",{attrs:{"aria-hidden":!0}},[this.genLegend()]):null},genLabel(){if(!this.showLabel)return null;const t={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),for:this.computedId,left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$createElement(c.A,t,this.$slots.label||this.label)},genLegend(){const t=this.singleLine||!this.labelValue&&!this.isDirty?0:this.labelWidth,e=this.$createElement("span",{domProps:{innerHTML:"&#8203;"},staticClass:"notranslate"});return this.$createElement("legend",{style:{width:this.isSingle?void 0:(0,b.Dg)(t)}},[e])},genInput(){const t=Object.assign({},this.listeners$);delete t.change;const{title:e,...n}=this.attrs$;return this.$createElement("input",{style:{},domProps:{value:"number"===this.type&&Object.is(this.lazyValue,-0)?"-0":this.lazyValue},attrs:{...n,autofocus:this.autofocus,disabled:this.isDisabled,id:this.computedId,placeholder:this.persistentPlaceholder||this.isFocused||!this.hasLabel?this.placeholder:void 0,readonly:this.isReadonly,type:this.type},on:Object.assign(t,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:"input",directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]})},genMessages(){if(!this.showDetails)return null;const t=r.A.options.methods.genMessages.call(this),e=this.genCounter();return this.$createElement("div",{staticClass:"v-text-field__details"},[t,e])},genTextFieldSlot(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix(t){return this.$createElement("div",{class:`v-text-field__${t}`,ref:t},this[t])},onBlur(t){this.isFocused=!1,t&&this.$nextTick((()=>this.$emit("blur",t)))},onClick(){this.isFocused||this.isDisabled||!this.$refs.input||this.$refs.input.focus()},onFocus(t){if(!this.$refs.input)return;const e=(0,v.b)(this.$el);return e?e.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,t&&this.$emit("focus",t))):void 0},onInput(t){const e=t.target;this.internalValue=e.value,this.badInput=e.validity&&e.validity.badInput},onKeyDown(t){t.keyCode===b.uP.enter&&this.lazyValue!==this.initialValue&&(this.initialValue=this.lazyValue,this.$emit("change",this.initialValue)),this.$emit("keydown",t)},onMouseDown(t){t.target!==this.$refs.input&&(t.preventDefault(),t.stopPropagation()),r.A.options.methods.onMouseDown.call(this,t)},onMouseUp(t){this.hasMouseDown&&this.focus(),r.A.options.methods.onMouseUp.call(this,t)},setLabelWidth(){this.outlined&&(this.labelWidth=this.$refs.label?Math.min(.75*this.$refs.label.scrollWidth+6,this.$el.offsetWidth-24):0)},setPrefixWidth(){this.$refs.prefix&&(this.prefixWidth=this.$refs.prefix.offsetWidth)},setPrependWidth(){this.outlined&&this.$refs["prepend-inner"]&&(this.prependWidth=this.$refs["prepend-inner"].offsetWidth)},tryAutofocus(){if(!this.autofocus||"undefined"===typeof document||!this.$refs.input)return!1;const t=(0,v.b)(this.$el);return!(!t||t.activeElement===this.$refs.input)&&(this.$refs.input.focus(),!0)},updateValue(t){this.hasColor=t,t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},onResize(){this.setLabelWidth(),this.setPrefixWidth(),this.setPrependWidth()}}})},7402:function(t,e,n){"use strict";n.d(e,{A:function(){return s}});var r=n(9940),i=n(3507);const o=(0,i.A)(r.A);var s=o.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...r.A.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick((()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,n=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(n,e)+"px"},genInput(){const t=r.A.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){r.A.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},7043:function(t,e,n){"use strict";n.d(e,{A:function(){return a}});n(4114);var r=n(3858),i=n(980),o=n(6960),s=n(5604),a=r.A.extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"}},data:()=>({isExtended:!1}),computed:{computedHeight(){const t=this.computedContentHeight;if(!this.isExtended)return t;const e=parseInt(this.extensionHeight);return this.isCollapsed?t:t+(isNaN(e)?0:e)},computedContentHeight(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes(){return{...r.A.options.computed.classes.call(this),"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent}},isCollapsed(){return this.collapse},isProminent(){return this.prominent},styles(){return{...this.measurableStyles,height:(0,o.Dg)(this.computedHeight)}}},created(){const t=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];t.forEach((([t,e])=>{this.$attrs.hasOwnProperty(t)&&(0,s.q4)(t,e,this)}))},methods:{genBackground(){const t={height:(0,o.Dg)(this.computedHeight),src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img({props:t}):this.$createElement(i.A,{props:t});return this.$createElement("div",{staticClass:"v-toolbar__image"},[e])},genContent(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:(0,o.Dg)(this.computedContentHeight)}},(0,o.$c)(this))},genExtension(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:(0,o.Dg)(this.extensionHeight)}},(0,o.$c)(this,"extension"))}},render(t){this.isExtended=this.extended||!!this.$scopedSlots.extension;const e=[this.genContent()],n=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&e.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&e.unshift(this.genBackground()),t(this.tag,n,e)}})},1735:function(t,e,n){"use strict";n.d(e,{sw:function(){return o}});var r=n(7043),i=n(6960);const o=(0,i.Gn)("v-toolbar__title"),s=(0,i.Gn)("v-toolbar__items");r.A},1906:function(t,e,n){"use strict";n.d(e,{Qo:function(){return d},SM:function(){return h},mM:function(){return l},vt:function(){return u}});var r=n(4961);function i(t=[],...e){return Array().concat(t,...e)}function o(t,e="top center 0",n){return{name:t,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:n},origin:{type:String,default:e}},render(e,n){const o="transition"+(n.props.group?"-group":""),s={props:{name:t,mode:n.props.mode},on:{beforeEnter(t){t.style.transformOrigin=n.props.origin,t.style.webkitTransformOrigin=n.props.origin}}};return n.props.leaveAbsolute&&(s.on.leave=i(s.on.leave,(t=>{const{offsetTop:e,offsetLeft:n,offsetWidth:r,offsetHeight:i}=t;t._transitionInitialStyles={position:t.style.position,top:t.style.top,left:t.style.left,width:t.style.width,height:t.style.height},t.style.position="absolute",t.style.top=e+"px",t.style.left=n+"px",t.style.width=r+"px",t.style.height=i+"px"})),s.on.afterLeave=i(s.on.afterLeave,(t=>{if(t&&t._transitionInitialStyles){const{position:e,top:n,left:r,width:i,height:o}=t._transitionInitialStyles;delete t._transitionInitialStyles,t.style.position=e||"",t.style.top=n||"",t.style.left=r||"",t.style.width=i||"",t.style.height=o||""}}))),n.props.hideOnLeave&&(s.on.leave=i(s.on.leave,(t=>{t.style.setProperty("display","none","important")}))),e(o,(0,r.Ay)(n.data,s),n.children)}}}function s(t,e,n="in-out"){return{name:t,functional:!0,props:{mode:{type:String,default:n}},render(n,i){return n("transition",(0,r.Ay)(i.data,{props:{name:t},on:e}),i.children)}}}var a=n(6960);function c(t="",e=!1){const n=e?"width":"height",r=`offset${(0,a.Zb)(n)}`;return{beforeEnter(t){t._parent=t.parentNode,t._initialStyle={transition:t.style.transition,overflow:t.style.overflow,[n]:t.style[n]}},enter(e){const i=e._initialStyle;e.style.setProperty("transition","none","important"),e.style.overflow="hidden";const o=`${e[r]}px`;e.style[n]="0",e.offsetHeight,e.style.transition=i.transition,t&&e._parent&&e._parent.classList.add(t),requestAnimationFrame((()=>{e.style[n]=o}))},afterEnter:o,enterCancelled:o,leave(t){t._initialStyle={transition:"",overflow:t.style.overflow,[n]:t.style[n]},t.style.overflow="hidden",t.style[n]=`${t[r]}px`,t.offsetHeight,requestAnimationFrame((()=>t.style[n]="0"))},afterLeave:i,leaveCancelled:i};function i(e){t&&e._parent&&e._parent.classList.remove(t),o(e)}function o(t){const e=t._initialStyle[n];t.style.overflow=t._initialStyle.overflow,null!=e&&(t.style[n]=e),delete t._initialStyle}}o("carousel-transition"),o("carousel-reverse-transition"),o("tab-transition"),o("tab-reverse-transition"),o("menu-transition"),o("fab-transition","center center","out-in"),o("dialog-transition"),o("dialog-bottom-transition"),o("dialog-top-transition");const l=o("fade-transition"),u=(o("scale-transition"),o("scroll-x-transition"),o("scroll-x-reverse-transition"),o("scroll-y-transition"),o("scroll-y-reverse-transition"),o("slide-x-transition")),d=(o("slide-x-reverse-transition"),o("slide-y-transition"),o("slide-y-reverse-transition"),s("expand-transition",c())),h=s("expand-x-transition",c("",!0))},8734:function(t,e,n){"use strict";n(4114);var r=n(4845);function i(){return!0}function o(t,e,n){if(!t||!1===s(t,n))return!1;const i=(0,r.b)(e);if("undefined"!==typeof ShadowRoot&&i instanceof ShadowRoot&&i.host===t.target)return!1;const o=("object"===typeof n.value&&n.value.include||(()=>[]))();return o.push(e),!o.some((e=>e.contains(t.target)))}function s(t,e){const n="object"===typeof e.value&&e.value.closeConditional||i;return n(t)}function a(t,e,n){const r="function"===typeof n.value?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&o(t,e,n)&&setTimeout((()=>{s(t,n)&&r&&r(t)}),0)}function c(t,e){const n=(0,r.b)(t);e(document),"undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&e(n)}const l={inserted(t,e,n){const r=n=>a(n,t,e),i=n=>{t._clickOutside.lastMousedownWasOutside=o(n,t,e)};c(t,(t=>{t.addEventListener("click",r,!0),t.addEventListener("mousedown",i,!0)})),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!0}),t._clickOutside[n.context._uid]={onClick:r,onMousedown:i}},unbind(t,e,n){t._clickOutside&&(c(t,(e=>{var r;if(!e||!(null===(r=t._clickOutside)||void 0===r?void 0:r[n.context._uid]))return;const{onClick:i,onMousedown:o}=t._clickOutside[n.context._uid];e.removeEventListener("click",i,!0),e.removeEventListener("mousedown",o,!0)})),delete t._clickOutside[n.context._uid])}};e.A=l},6965:function(t,e,n){"use strict";function r(t,e,n){if("undefined"===typeof window||!("IntersectionObserver"in window))return;const r=e.modifiers||{},o=e.value,{handler:s,options:a}="object"===typeof o?o:{handler:o,options:{}},c=new IntersectionObserver(((o=[],a)=>{var c;const l=null===(c=t._observe)||void 0===c?void 0:c[n.context._uid];if(!l)return;const u=o.some((t=>t.isIntersecting));!s||r.quiet&&!l.init||r.once&&!u&&!l.init||s(o,a,u),u&&r.once?i(t,e,n):l.init=!0}),a);t._observe=Object(t._observe),t._observe[n.context._uid]={init:!1,observer:c},c.observe(t)}function i(t,e,n){var r;const i=null===(r=t._observe)||void 0===r?void 0:r[n.context._uid];i&&(i.observer.unobserve(t),delete t._observe[n.context._uid])}const o={inserted:r,unbind:i};e.A=o},2136:function(t,e,n){"use strict";function r(t,e,n){const r=e.value,i=e.options||{passive:!0};window.addEventListener("resize",r,i),t._onResize=Object(t._onResize),t._onResize[n.context._uid]={callback:r,options:i},e.modifiers&&e.modifiers.quiet||r()}function i(t,e,n){var r;if(!(null===(r=t._onResize)||void 0===r?void 0:r[n.context._uid]))return;const{callback:i,options:o}=t._onResize[n.context._uid];window.removeEventListener("resize",i,o),delete t._onResize[n.context._uid]}const o={inserted:r,unbind:i};e.A=o},1723:function(t,e,n){"use strict";n.d(e,{A:function(){return C}});var r=n(6960);const i=80;function o(t,e){t.style.transform=e,t.style.webkitTransform=e}function s(t){return"TouchEvent"===t.constructor.name}function a(t){return"KeyboardEvent"===t.constructor.name}const c=(t,e,n={})=>{let r=0,i=0;if(!a(t)){const n=e.getBoundingClientRect(),o=s(t)?t.touches[t.touches.length-1]:t;r=o.clientX-n.left,i=o.clientY-n.top}let o=0,c=.3;e._ripple&&e._ripple.circle?(c=.15,o=e.clientWidth/2,o=n.center?o:o+Math.sqrt((r-o)**2+(i-o)**2)/4):o=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const l=(e.clientWidth-2*o)/2+"px",u=(e.clientHeight-2*o)/2+"px",d=n.center?l:r-o+"px",h=n.center?u:i-o+"px";return{radius:o,scale:c,x:d,y:h,centerX:l,centerY:u}},l={show(t,e,n={}){if(!e._ripple||!e._ripple.enabled)return;const r=document.createElement("span"),i=document.createElement("span");r.appendChild(i),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:s,scale:a,x:l,y:u,centerX:d,centerY:h}=c(t,e,n),f=2*s+"px";i.className="v-ripple__animation",i.style.width=f,i.style.height=f,e.appendChild(r);const p=window.getComputedStyle(e);p&&"static"===p.position&&(e.style.position="relative",e.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),o(i,`translate(${l}, ${u}) scale3d(${a},${a},${a})`),i.dataset.activated=String(performance.now()),setTimeout((()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),o(i,`translate(${d}, ${h}) scale3d(1,1,1)`)}),0)},hide(t){if(!t||!t._ripple||!t._ripple.enabled)return;const e=t.getElementsByClassName("v-ripple__animation");if(0===e.length)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),i=Math.max(250-r,0);setTimeout((()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout((()=>{var e;const r=t.getElementsByClassName("v-ripple__animation");1===r.length&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),(null===(e=n.parentNode)||void 0===e?void 0:e.parentNode)===t&&t.removeChild(n.parentNode)}),300)}),i)}};function u(t){return"undefined"===typeof t||!!t}function d(t){const e={},n=t.currentTarget;if(n&&n._ripple&&!n._ripple.touched&&!t.rippleStop){if(t.rippleStop=!0,s(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||a(t),n._ripple.class&&(e.class=n._ripple.class),s(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{l.show(t,n,e)},n._ripple.showTimer=window.setTimeout((()=>{n&&n._ripple&&n._ripple.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)}),i)}else l.show(t,n,e)}}function h(t){const e=t.currentTarget;if(e&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),"touchend"===t.type&&e._ripple.showTimerCommit)return e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,void(e._ripple.showTimer=setTimeout((()=>{h(t)})));window.setTimeout((()=>{e._ripple&&(e._ripple.touched=!1)})),l.hide(e)}}function f(t){const e=t.currentTarget;e&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let p=!1;function g(t){p||t.keyCode!==r.uP.enter&&t.keyCode!==r.uP.space||(p=!0,d(t))}function m(t){p=!1,h(t)}function v(t){!0===p&&(p=!1,h(t))}function b(t,e,n){const r=u(e.value);r||l.hide(t),t._ripple=t._ripple||{},t._ripple.enabled=r;const i=e.value||{};i.center&&(t._ripple.centered=!0),i.class&&(t._ripple.class=e.value.class),i.circle&&(t._ripple.circle=i.circle),r&&!n?(t.addEventListener("touchstart",d,{passive:!0}),t.addEventListener("touchend",h,{passive:!0}),t.addEventListener("touchmove",f,{passive:!0}),t.addEventListener("touchcancel",h),t.addEventListener("mousedown",d),t.addEventListener("mouseup",h),t.addEventListener("mouseleave",h),t.addEventListener("keydown",g),t.addEventListener("keyup",m),t.addEventListener("blur",v),t.addEventListener("dragstart",h,{passive:!0})):!r&&n&&y(t)}function y(t){t.removeEventListener("mousedown",d),t.removeEventListener("touchstart",d),t.removeEventListener("touchend",h),t.removeEventListener("touchmove",f),t.removeEventListener("touchcancel",h),t.removeEventListener("mouseup",h),t.removeEventListener("mouseleave",h),t.removeEventListener("keydown",g),t.removeEventListener("keyup",m),t.removeEventListener("dragstart",h),t.removeEventListener("blur",v)}function k(t,e,n){b(t,e,!1)}function w(t){delete t._ripple,y(t)}function _(t,e){if(e.value===e.oldValue)return;const n=u(e.oldValue);b(t,e,n)}const A={bind:k,unbind:w,update:_};var C=A},6921:function(t,e,n){"use strict";function r(t,e,n){const{self:r=!1}=e.modifiers||{},i=e.value,o="object"===typeof i&&i.options||{passive:!0},s="function"===typeof i||"handleEvent"in i?i:i.handler,a=r?t:e.arg?document.querySelector(e.arg):window;a&&(a.addEventListener("scroll",s,o),t._onScroll=Object(t._onScroll),t._onScroll[n.context._uid]={handler:s,options:o,target:r?void 0:a})}function i(t,e,n){var r;if(!(null===(r=t._onScroll)||void 0===r?void 0:r[n.context._uid]))return;const{handler:i,options:o,target:s=t}=t._onScroll[n.context._uid];s.removeEventListener("scroll",i,o),delete t._onScroll[n.context._uid]}n.d(e,{O:function(){return o}});const o={inserted:r,unbind:i};e.A=o},499:function(t,e,n){"use strict";var r=n(6960);const i=t=>{const{touchstartX:e,touchendX:n,touchstartY:r,touchendY:i}=t,o=.5,s=16;t.offsetX=n-e,t.offsetY=i-r,Math.abs(t.offsetY)<o*Math.abs(t.offsetX)&&(t.left&&n<e-s&&t.left(t),t.right&&n>e+s&&t.right(t)),Math.abs(t.offsetX)<o*Math.abs(t.offsetY)&&(t.up&&i<r-s&&t.up(t),t.down&&i>r+s&&t.down(t))};function o(t,e){const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,e.start&&e.start(Object.assign(t,e))}function s(t,e){const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,e.end&&e.end(Object.assign(t,e)),i(e)}function a(t,e){const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,e.move&&e.move(Object.assign(t,e))}function c(t){const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:t=>o(t,e),touchend:t=>s(t,e),touchmove:t=>a(t,e)}}function l(t,e,n){const i=e.value,o=i.parent?t.parentElement:t,s=i.options||{passive:!0};if(!o)return;const a=c(e.value);o._touchHandlers=Object(o._touchHandlers),o._touchHandlers[n.context._uid]=a,(0,r.HP)(a).forEach((t=>{o.addEventListener(t,a[t],s)}))}function u(t,e,n){const i=e.value.parent?t.parentElement:t;if(!i||!i._touchHandlers)return;const o=i._touchHandlers[n.context._uid];(0,r.HP)(o).forEach((t=>{i.removeEventListener(t,o[t])})),delete i._touchHandlers[n.context._uid]}const d={inserted:l,unbind:u};e.A=d},5453:function(t,e,n){"use strict";n.d(e,{A:function(){return tt}});n(4114);var r=n(5471),i=n(5604);function o(t,e={}){if(o.installed)return;o.installed=!0,r["default"]!==t&&(0,i.yA)("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this");const n=e.components||{},s=e.directives||{};for(const r in s){const e=s[r];t.directive(r,e)}(function e(n){if(n){for(const r in n){const i=n[r];i&&!e(i.$_vuetify_subcomponents)&&t.component(r,i)}return!0}return!1})(n),t.$_vuetify_installed||(t.$_vuetify_installed=!0,t.mixin({beforeCreate(){const e=this.$options;e.vuetify?(e.vuetify.init(this,this.$ssrContext),this.$vuetify=t.observable(e.vuetify.framework)):this.$vuetify=e.parent&&e.parent.$vuetify||this},beforeMount(){this.$options.vuetify&&this.$el&&this.$el.hasAttribute("data-server-rendered")&&(this.$vuetify.isHydrating=!0,this.$vuetify.breakpoint.update(!0))},mounted(){this.$options.vuetify&&this.$vuetify.isHydrating&&(this.$vuetify.isHydrating=!1,this.$vuetify.breakpoint.update())}}))}var s={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Current Page, Page {0}"}},rating:{ariaLabel:{icon:"Rating {0} of {1}"}}};const a={breakpoint:{mobileBreakpoint:1264,scrollBarWidth:16,thresholds:{xs:600,sm:960,md:1280,lg:1920}},icons:{iconfont:"mdi",values:{}},lang:{current:"en",locales:{en:s},t:void 0},rtl:!1,theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0,variations:!0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}};var c=n(6960),l=n(1609);class u extends l.k{constructor(t,e){super();const n=(0,c.D9)({},a),{userPreset:r}=e,{preset:o={},...s}=r;null!=o.preset&&(0,i.OP)("Global presets do not support the **preset** option, it can be safely omitted"),e.preset=(0,c.D9)((0,c.D9)(n,o),s)}}u.property="presets";class d extends l.k{constructor(){super(...arguments),this.bar=0,this.top=0,this.left=0,this.insetFooter=0,this.right=0,this.bottom=0,this.footer=0,this.application={bar:{},top:{},left:{},insetFooter:{},right:{},bottom:{},footer:{}}}register(t,e,n){this.application[e][t]=n,this.update(e)}unregister(t,e){null!=this.application[e][t]&&(delete this.application[e][t],this.update(e))}update(t){this[t]=Object.values(this.application[t]).reduce(((t,e)=>t+e),0)}}d.property="application";class h extends l.k{constructor(t){super(),this.xs=!1,this.sm=!1,this.md=!1,this.lg=!1,this.xl=!1,this.xsOnly=!1,this.smOnly=!1,this.smAndDown=!1,this.smAndUp=!1,this.mdOnly=!1,this.mdAndDown=!1,this.mdAndUp=!1,this.lgOnly=!1,this.lgAndDown=!1,this.lgAndUp=!1,this.xlOnly=!1,this.name="xs",this.height=0,this.width=0,this.mobile=!0,this.resizeTimeout=0;const{mobileBreakpoint:e,scrollBarWidth:n,thresholds:r}=t[h.property];this.mobileBreakpoint=e,this.scrollBarWidth=n,this.thresholds=r}init(){this.update(),"undefined"!==typeof window&&window.addEventListener("resize",this.onResize.bind(this),{passive:!0})}update(t=!1){const e=t?0:this.getClientHeight(),n=t?0:this.getClientWidth(),r=n<this.thresholds.xs,i=n<this.thresholds.sm&&!r,o=n<this.thresholds.md-this.scrollBarWidth&&!(i||r),s=n<this.thresholds.lg-this.scrollBarWidth&&!(o||i||r),a=n>=this.thresholds.lg-this.scrollBarWidth;switch(this.height=e,this.width=n,this.xs=r,this.sm=i,this.md=o,this.lg=s,this.xl=a,this.xsOnly=r,this.smOnly=i,this.smAndDown=(r||i)&&!(o||s||a),this.smAndUp=!r&&(i||o||s||a),this.mdOnly=o,this.mdAndDown=(r||i||o)&&!(s||a),this.mdAndUp=!(r||i)&&(o||s||a),this.lgOnly=s,this.lgAndDown=(r||i||o||s)&&!a,this.lgAndUp=!(r||i||o)&&(s||a),this.xlOnly=a,!0){case r:this.name="xs";break;case i:this.name="sm";break;case o:this.name="md";break;case s:this.name="lg";break;default:this.name="xl";break}if("number"===typeof this.mobileBreakpoint)return void(this.mobile=n<parseInt(this.mobileBreakpoint,10));const c={xs:0,sm:1,md:2,lg:3,xl:4},l=c[this.name],u=c[this.mobileBreakpoint];this.mobile=l<=u}onResize(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),200)}getClientWidth(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}getClientHeight(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}h.property="breakpoint";var f=n(4073);const p={complete:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",cancel:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",delete:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",clear:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",success:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",info:"M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2ZM13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",warning:"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",error:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",prev:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",next:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",checkboxOn:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",checkboxOff:"M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",checkboxIndeterminate:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",delimiter:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",sort:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",expand:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",menu:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",subgroup:"M7,10L12,15L17,10H7Z",dropdown:"M7,10L12,15L17,10H7Z",radioOn:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z",radioOff:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ratingEmpty:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",ratingFull:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",ratingHalf:"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",loading:"M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12",first:"M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z",last:"M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z",unfold:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",file:"M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",minus:"M19,13H5V11H19V13Z"};var g=p;const m={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove"};var v=m;const b={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"};var y=b;const k={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus"};var w=k;const _={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"fa fa-square-o",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle-o",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o",loading:"fa fa-refresh",first:"fa fa-step-backward",last:"fa fa-step-forward",unfold:"fa fa-angle-double-down",file:"fa fa-paperclip",plus:"fa fa-plus",minus:"fa fa-minus"};var A=_;function C(t,e){const n={};for(const r in e)n[r]={component:t,props:{icon:e[r].split(" fa-")}};return n}var x=C("font-awesome-icon",w),E=Object.freeze({mdiSvg:g,md:v,mdi:y,fa:w,fa4:A,faSvg:x});class S extends l.k{constructor(t){super();const{iconfont:e,values:n,component:r}=t[S.property];this.component=r,this.iconfont=e,this.values=(0,c.D9)(E[e],n)}}S.property="icons";const M="$vuetify.",I=Symbol("Lang fallback");function D(t,e,n=!1,r){const o=e.replace(M,"");let s=(0,c.no)(t,o,I);return s===I&&(n?((0,i.yA)(`Translation key "${o}" not found in fallback`),s=e):((0,i.OP)(`Translation key "${o}" not found, falling back to default`),s=D(r,e,!0,r))),s}class T extends l.k{constructor(t){super(),this.defaultLocale="en";const{current:e,locales:n,t:r}=t[T.property];this.current=e,this.locales=n,this.translator=r||this.defaultTranslator}currentLocale(t){const e=this.locales[this.current],n=this.locales[this.defaultLocale];return D(e,t,!1,n)}t(t,...e){return t.startsWith(M)?this.translator(t,...e):this.replace(t,e)}defaultTranslator(t,...e){return this.replace(this.currentLocale(t),e)}replace(t,e){return t.replace(/\{(\d+)\}/g,((t,n)=>String(e[+n])))}}T.property="lang";var O=n(3805);const N=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],P=t=>t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055,L=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],B=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function R(t){const e=Array(3),n=P,r=N;for(let i=0;i<3;++i)e[i]=Math.round(255*(0,c.qE)(n(r[i][0]*t[0]+r[i][1]*t[1]+r[i][2]*t[2])));return(e[0]<<16)+(e[1]<<8)+(e[2]|0)}function j(t){const e=[0,0,0],n=B,r=L,i=n((t>>16&255)/255),o=n((t>>8&255)/255),s=n((255&t)/255);for(let a=0;a<3;++a)e[a]=r[a][0]*i+r[a][1]*o+r[a][2]*s;return e}const z=.20689655172413793,F=t=>t>z**3?Math.cbrt(t):t/(3*z**2)+4/29,V=t=>t>z?t**3:3*z**2*(t-4/29);function U(t){const e=F,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function G(t){const e=V,n=(t[0]+16)/116;return[.95047*e(n+t[1]/500),e(n),1.08883*e(n-t[2]/200)]}function H(t,e=!1,n=!0){const{anchor:r,...i}=t,o=Object.keys(i),s={};for(let a=0;a<o.length;++a){const r=o[a],i=t[r];null!=i&&(n?e?("base"===r||r.startsWith("lighten")||r.startsWith("darken"))&&(s[r]=(0,O.si)(i)):s[r]="object"===typeof i?H(i,!0,n):K(r,(0,O.E8)(i)):s[r]={base:(0,O.y6)((0,O.E8)(i))})}return e||(s.anchor=r||s.base||s.primary.base),s}const $=(t,e)=>`\n.v-application .${t} {\n  background-color: ${e} !important;\n  border-color: ${e} !important;\n}\n.v-application .${t}--text {\n  color: ${e} !important;\n  caret-color: ${e} !important;\n}`,W=(t,e,n)=>{const[r,i]=e.split(/(\d)/,2);return`\n.v-application .${t}.${r}-${i} {\n  background-color: ${n} !important;\n  border-color: ${n} !important;\n}\n.v-application .${t}--text.text--${r}-${i} {\n  color: ${n} !important;\n  caret-color: ${n} !important;\n}`},Y=(t,e="base")=>`--v-${t}-${e}`,q=(t,e="base")=>`var(${Y(t,e)})`;function X(t,e=!1){const{anchor:n,...r}=t,i=Object.keys(r);if(!i.length)return"";let o="",s="";const a=e?q("anchor"):n;s+=`.v-application a { color: ${a}; }`,e&&(o+=`  ${Y("anchor")}: ${n};\n`);for(let l=0;l<i.length;++l){const n=i[l],r=t[n];s+=$(n,e?q(n):r.base),e&&(o+=`  ${Y(n)}: ${r.base};\n`);const a=(0,c.HP)(r);for(let t=0;t<a.length;++t){const i=a[t],c=r[i];"base"!==i&&(s+=W(n,i,e?q(n,i):c),e&&(o+=`  ${Y(n,i)}: ${c};\n`))}}return e&&(o=`:root {\n${o}}\n\n`),o+s}function K(t,e){const n={base:(0,O.y6)(e)};for(let r=5;r>0;--r)n[`lighten${r}`]=(0,O.y6)(Z(e,r));for(let r=1;r<=4;++r)n[`darken${r}`]=(0,O.y6)(Q(e,r));return n}function Z(t,e){const n=U(j(t));return n[0]=n[0]+10*e,R(G(n))}function Q(t,e){const n=U(j(t));return n[0]=n[0]-10*e,R(G(n))}class J extends l.k{constructor(t){super(),this.disabled=!1,this.isDark=null,this.unwatch=null,this.vueMeta=null;const{dark:e,disable:n,options:r,themes:i}=t[J.property];this.dark=Boolean(e),this.defaults=this.themes=i,this.options=r,n?this.disabled=!0:this.themes={dark:this.fillVariant(i.dark,!0),light:this.fillVariant(i.light,!1)}}set css(t){this.vueMeta?this.isVueMeta23&&this.applyVueMeta23():this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=t)}set dark(t){const e=this.isDark;this.isDark=t,null!=e&&this.applyTheme()}get dark(){return Boolean(this.isDark)}applyTheme(){if(this.disabled)return this.clearCss();this.css=this.generatedStyles}clearCss(){this.css=""}init(t,e){this.disabled||(t.$meta?this.initVueMeta(t):e&&this.initSSR(e),this.initTheme(t))}setTheme(t,e){this.themes[t]=Object.assign(this.themes[t],e),this.applyTheme()}resetThemes(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()}checkOrCreateStyleElement(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),Boolean(this.styleEl))}fillVariant(t={},e){const n=this.themes[e?"dark":"light"];return Object.assign({},n,t)}genStyleElement(){"undefined"!==typeof document&&(this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",this.options.cspNonce&&this.styleEl.setAttribute("nonce",this.options.cspNonce),document.head.appendChild(this.styleEl))}initVueMeta(t){if(this.vueMeta=t.$meta(),this.isVueMeta23)return void t.$nextTick((()=>{this.applyVueMeta23()}));const e="function"===typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",n=t.$options[e]||{};t.$options[e]=()=>{n.style=n.style||[];const t=n.style.find((t=>"vuetify-theme-stylesheet"===t.id));return t?t.cssText=this.generatedStyles:n.style.push({cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(this.options||{}).cspNonce}),n}}applyVueMeta23(){const{set:t}=this.vueMeta.addApp("vuetify");t({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:this.options.cspNonce}]})}initSSR(t){const e=this.options.cspNonce?` nonce="${this.options.cspNonce}"`:"";t.head=t.head||"",t.head+=`<style type="text/css" id="vuetify-theme-stylesheet"${e}>${this.generatedStyles}</style>`}initTheme(t){"undefined"!==typeof document&&(this.unwatch&&(this.unwatch(),this.unwatch=null),t.$once("hook:created",(()=>{const e=r["default"].observable({themes:this.themes});this.unwatch=t.$watch((()=>e.themes),(()=>this.applyTheme()),{deep:!0})})),this.applyTheme())}get currentTheme(){const t=this.dark?"dark":"light";return this.themes[t]}get generatedStyles(){const t=this.parsedTheme,e=this.options||{};let n;return null!=e.themeCache&&(n=e.themeCache.get(t),null!=n)||(n=X(t,e.customProperties),null!=e.minifyTheme&&(n=e.minifyTheme(n)),null!=e.themeCache&&e.themeCache.set(t,n)),n}get parsedTheme(){return H(this.currentTheme||{},void 0,(0,c.LJ)(this.options,["variations"],!0))}get isVueMeta23(){return"function"===typeof this.vueMeta.addApp}}J.property="theme";class tt{constructor(t={}){this.framework={isHydrating:!1},this.installed=[],this.preset={},this.userPreset={},this.userPreset=t,this.use(u),this.use(d),this.use(h),this.use(f.I),this.use(S),this.use(T),this.use(J)}init(t,e){this.installed.forEach((n=>{const r=this.framework[n];r.framework=this.framework,r.init(t,e)})),this.framework.rtl=Boolean(this.preset.rtl)}use(t){const e=t.property;this.installed.includes(e)||(this.framework[e]=new t(this.preset,this),this.installed.push(e))}}tt.install=o,tt.installed=!1,tt.version="2.6.14",tt.config={silent:!1}},4838:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});var r=n(9923),i=n(3507);function o(t,e=[]){return(0,i.A)((0,r.P)(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty(){return t}},watch:{app(t,e){e?this.removeApplication(!0):this.callUpdate()},applicationProperty(t,e){this.$vuetify.application.unregister(this._uid,e)}},activated(){this.callUpdate()},created(){for(let t=0,n=e.length;t<n;t++)this.$watch(e[t],this.callUpdate);this.callUpdate()},mounted(){this.callUpdate()},deactivated(){this.removeApplication()},destroyed(){this.removeApplication()},methods:{callUpdate(){this.app&&this.$vuetify.application.register(this._uid,this.applicationProperty,this.updateApplication())},removeApplication(t=!1){(t||this.app)&&this.$vuetify.application.unregister(this._uid,this.applicationProperty)},updateApplication:()=>0}})}},4765:function(t,e,n){"use strict";var r=n(5471);function i(t){return function(e,n){for(const r in n)Object.prototype.hasOwnProperty.call(e,r)||this.$delete(this.$data[t],r);for(const r in e)this.$set(this.$data[t],r,e[r])}}e.A=r["default"].extend({data:()=>({attrs$:{},listeners$:{}}),created(){this.$watch("$attrs",i("attrs$"),{immediate:!0}),this.$watch("$listeners",i("listeners$"),{immediate:!0})}})},2e3:function(t,e,n){"use strict";var r=n(5604),i=n(5471);e.A=i["default"].extend().extend({name:"bootable",props:{eager:Boolean},data:()=>({isBooted:!1}),computed:{hasContent(){return this.isBooted||this.eager||this.isActive}},watch:{isActive(){this.isBooted=!0}},created(){"lazy"in this.$attrs&&(0,r.rq)("lazy",this)},methods:{showLazyContent(t){return this.hasContent&&t?t():[this.$createElement()]}}})},8767:function(t,e,n){"use strict";var r=n(5471),i=n(5604),o=n(3805);e.A=r["default"].extend({name:"colorable",props:{color:String},methods:{setBackgroundColor(t,e={}){return"string"===typeof e.style?((0,i.yA)("style must be an object",this),e):"string"===typeof e.class?((0,i.yA)("class must be an object",this),e):((0,o.VP)(t)?e.style={...e.style,"background-color":`${t}`,"border-color":`${t}`}:t&&(e.class={...e.class,[t]:!0}),e)},setTextColor(t,e={}){if("string"===typeof e.style)return(0,i.yA)("style must be an object",this),e;if("string"===typeof e.class)return(0,i.yA)("class must be an object",this),e;if((0,o.VP)(t))e.style={...e.style,color:`${t}`,"caret-color":`${t}`};else if(t){const[n,r]=t.toString().trim().split(" ",2);e.class={...e.class,[n+"--text"]:!0},r&&(e.class["text--"+r]=!0)}return e}}})},5088:function(t,e,n){"use strict";var r=n(5471),i=n(6960);e.A=r["default"].extend({name:"comparable",props:{valueComparator:{type:Function,default:i.bD}}})},5063:function(t,e,n){"use strict";var r=n(5471);e.A=r["default"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:()=>({openTimeout:void 0,closeTimeout:void 0}),methods:{clearDelay(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay(t,e){this.clearDelay();const n=parseInt(this[`${t}Delay`],10);this[`${t}Timeout`]=setTimeout(e||(()=>{this.isActive={open:!0,close:!1}[t]}),n)}}})},9623:function(t,e,n){"use strict";n(4114);var r=n(3507);function i(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];r.isActive&&r.isDependent?e.push(r):e.push(...i(r.$children))}return e}e.A=(0,r.A)().extend({name:"dependent",data(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive(t){if(t)return;const e=this.getOpenDependents();for(let n=0;n<e.length;n++)e[n].isActive=!1}},methods:{getOpenDependents(){return this.closeDependents?i(this.$children):[]},getOpenDependentElements(){const t=[],e=this.getOpenDependents();for(let n=0;n<e.length;n++)t.push(...e[n].getClickableDependentElements());return t},getClickableDependentElements(){const t=[this.$el];return this.$refs.content&&t.push(this.$refs.content),this.overlay&&t.push(this.overlay.$el),t.push(...this.getOpenDependentElements()),t}}})},5083:function(t,e,n){"use strict";var r=n(5471);e.A=r["default"].extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation(){return this.elevation},elevationClasses(){const t=this.computedElevation;return null==t||isNaN(parseInt(t))?{}:{[`elevation-${this.elevation}`]:!0}}}})},4387:function(t,e,n){"use strict";n.d(e,{P:function(){return i}});var r=n(8652);function i(t,e,n){return(0,r.W)(t,e,n).extend({name:"groupable",props:{activeClass:{type:String,default(){if(this[t])return this[t].activeClass}},disabled:Boolean},data(){return{isActive:!1}},computed:{groupClasses(){return this.activeClass?{[this.activeClass]:this.isActive}:{}}},created(){this[t]&&this[t].register(this)},beforeDestroy(){this[t]&&this[t].unregister(this)},methods:{toggle(){this.$emit("change")}}})}i("itemGroup")},7930:function(t,e,n){"use strict";n.d(e,{A:function(){return g}});var r=n(5471),i=n(1906),o=n(6965),s=n(8767),a=n(9923),c=n(4464),l=n(3661),u=n(6960),d=n(3507);const h=(0,d.A)(s.A,(0,a.P)(["absolute","fixed","top","bottom"]),c.A,l.A);var f=h.extend({name:"v-progress-linear",directives:{intersect:o.A},props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data(){return{internalLazyValue:this.value||0,isVisible:!0}},computed:{__cachedBackground(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:(0,u.Dg)(this.normalizedValue,"%")}}))},__cachedIndeterminate(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:(0,u.Dg)(100-this.normalizedBuffer,"%")}})):null},backgroundStyle(){const t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{opacity:t,[this.isReversed?"right":"left"]:(0,u.Dg)(this.normalizedValue,"%"),width:(0,u.Dg)(Math.max(0,this.normalizedBuffer-this.normalizedValue),"%")}},classes(){return{"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,"v-progress-linear--visible":this.isVisible,...this.themeClasses}},computedTransition(){return this.indeterminate?i.mM:i.vt},isReversed(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer(){return this.normalize(this.bufferValue)},normalizedValue(){return this.normalize(this.internalLazyValue)},reactive(){return Boolean(this.$listeners.change)},styles(){const t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=(0,u.Dg)(this.normalizedBuffer,"%")),t}},methods:{genContent(){const t=(0,u.$c)(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners(){const t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:{[t]:!0}}))},onClick(t){if(!this.reactive)return;const{width:e}=this.$el.getBoundingClientRect();this.internalValue=t.offsetX/e*100},onObserve(t,e,n){this.isVisible=n},normalize(t){return t<0?0:t>100?100:parseFloat(t)}},render(t){const e={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:{bottom:this.bottom?0:void 0,height:this.active?(0,u.Dg)(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return t("div",e,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),p=f,g=r["default"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress(){return!1===this.loading?null:this.$slots.progress||this.$createElement(p,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},1325:function(t,e,n){"use strict";var r=n(6960),i=n(5471);e.A=i["default"].extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles(){const t={},e=(0,r.Dg)(this.height),n=(0,r.Dg)(this.minHeight),i=(0,r.Dg)(this.minWidth),o=(0,r.Dg)(this.maxHeight),s=(0,r.Dg)(this.maxWidth),a=(0,r.Dg)(this.width);return e&&(t.height=e),n&&(t.minHeight=n),i&&(t.minWidth=i),o&&(t.maxHeight=o),s&&(t.maxWidth=s),a&&(t.width=a),t}}})},806:function(t,e,n){"use strict";var r=n(5604),i=n(5471);e.A=i["default"].extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:t=>!isNaN(Number(t))||["xs","sm","md","lg","xl"].includes(String(t))}},computed:{isMobile(){const{mobile:t,width:e,name:n,mobileBreakpoint:r}=this.$vuetify.breakpoint;if(r===this.mobileBreakpoint)return t;const i=parseInt(this.mobileBreakpoint,10),o=!isNaN(i);return o?e<i:n===this.mobileBreakpoint}},created(){this.$attrs.hasOwnProperty("mobile-break-point")&&(0,r.CI)("mobile-break-point","mobile-breakpoint",this)}})},9923:function(t,e,n){"use strict";n.d(e,{P:function(){return s}});var r=n(5471),i=n(6960);const o={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function s(t=[]){return r["default"].extend({name:"positionable",props:t.length?(0,i.fF)(o,t):o})}e.A=s()},4464:function(t,e,n){"use strict";var r=n(5471);function i(t="value",e="change"){return r["default"].extend({name:"proxyable",model:{prop:t,event:e},props:{[t]:{required:!1}},data(){return{internalLazyValue:this[t]}},computed:{internalValue:{get(){return this.internalLazyValue},set(t){t!==this.internalLazyValue&&(this.internalLazyValue=t,this.$emit(e,t))}}},watch:{[t](t){this.internalLazyValue=t}}})}const o=i();e.A=o},8652:function(t,e,n){"use strict";n.d(e,{G:function(){return a},W:function(){return s}});var r=n(5471),i=n(5604);function o(t,e){return()=>(0,i.OP)(`The ${t} component must be used inside a ${e}`)}function s(t,e,n){const i=e&&n?{register:o(e,n),unregister:o(e,n)}:null;return r["default"].extend({name:"registrable-inject",inject:{[t]:{default:i}}})}function a(t,e=!1){return r["default"].extend({name:"registrable-provide",provide(){return{[t]:e?this:{register:this.register,unregister:this.unregister}}}})}},4466:function(t,e,n){"use strict";n(4114);var r=n(1723),i=n(5471);e.A=i["default"].extend({name:"rippleable",directives:{ripple:r.A},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},6256:function(t,e,n){"use strict";n(4114);var r=n(5471);e.A=r["default"].extend({name:"roundable",props:{rounded:[Boolean,String],tile:Boolean},computed:{roundedClasses(){const t=[],e="string"===typeof this.rounded?String(this.rounded):!0===this.rounded;if(this.tile)t.push("rounded-0");else if("string"===typeof e){const n=e.split(" ");for(const e of n)t.push(`rounded-${e}`)}else e&&t.push("rounded");return t.length>0?{[t.join(" ")]:!0}:{}}}})},8010:function(t,e,n){"use strict";var r=n(5471),i=n(1723),o=n(6960);e.A=r["default"].extend({name:"routable",directives:{Ripple:i.A},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactPath:Boolean,exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:()=>({isActive:!1,proxyClass:""}),computed:{classes(){const t={};return this.to||(this.activeClass&&(t[this.activeClass]=this.isActive),this.proxyClass&&(t[this.proxyClass]=this.isActive)),t},computedRipple(){var t;return null!==(t=this.ripple)&&void 0!==t?t:!this.disabled&&this.isClickable},isClickable(){return!this.disabled&&Boolean(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink(){return this.to||this.href||this.link},styles:()=>({})},watch:{$route:"onRouteChange"},mounted(){this.onRouteChange()},methods:{generateRouteLink(){let t,e=this.exact;const n={attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}],[this.to?"nativeOn":"on"]:{...this.$listeners,..."click"in this?{click:this.click}:void 0},ref:"link"};if("undefined"===typeof this.exact&&(e="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){let r=this.activeClass,i=this.exactActiveClass||r;this.proxyClass&&(r=`${r} ${this.proxyClass}`.trim(),i=`${i} ${this.proxyClass}`.trim()),t=this.nuxt?"nuxt-link":"router-link",Object.assign(n.props,{to:this.to,exact:e,exactPath:this.exactPath,activeClass:r,exactActiveClass:i,append:this.append,replace:this.replace})}else t=(this.href?"a":this.tag)||"div","a"===t&&this.href&&(n.attrs.href=this.href);return this.target&&(n.attrs.target=this.target),{tag:t,data:n}},onRouteChange(){if(!this.to||!this.$refs.link||!this.$route)return;const t=`${this.activeClass||""} ${this.proxyClass||""}`.trim(),e=`${this.exactActiveClass||""} ${this.proxyClass||""}`.trim()||t,n="_vnode.data.class."+(this.exact?e:t);this.$nextTick((()=>{!(0,o.no)(this.$refs.link,n)===this.isActive&&this.toggle()}))},toggle(){this.isActive=!this.isActive}}})},9841:function(t,e,n){"use strict";var r=n(6921),i=n(5604),o=n(5471);e.A=o["default"].extend({name:"scrollable",directives:{Scroll:r.O},props:{scrollTarget:String,scrollThreshold:[String,Number]},data:()=>({currentScroll:0,currentThreshold:0,isActive:!1,isScrollingUp:!1,previousScroll:0,savedScroll:0,target:null}),computed:{canScroll(){return"undefined"!==typeof window},computedScrollThreshold(){return this.scrollThreshold?Number(this.scrollThreshold):300}},watch:{isScrollingUp(){this.savedScroll=this.savedScroll||this.currentScroll},isActive(){this.savedScroll=0}},mounted(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget),this.target||(0,i.OP)(`Unable to locate element with identifier ${this.scrollTarget}`,this))},methods:{onScroll(){this.canScroll&&(this.previousScroll=this.currentScroll,this.currentScroll=this.target?this.target.scrollTop:window.pageYOffset,this.isScrollingUp=this.currentScroll<this.previousScroll,this.currentThreshold=Math.abs(this.currentScroll-this.computedScrollThreshold),this.$nextTick((()=>{Math.abs(this.currentScroll-this.savedScroll)>this.computedScrollThreshold&&this.thresholdMet()})))},thresholdMet(){}}})},1713:function(t,e,n){"use strict";var r=n(5471);e.A=r["default"].extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium(){return Boolean(!this.xSmall&&!this.small&&!this.large&&!this.xLarge)},sizeableClasses(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}})},6543:function(t,e,n){"use strict";var r=n(5471);e.A=r["default"].extend({name:"ssr-bootable",data:()=>({isBooted:!1}),mounted(){window.requestAnimationFrame((()=>{this.$el.setAttribute("data-booted","true"),this.isBooted=!0}))}})},3661:function(t,e,n){"use strict";n.d(e,{H:function(){return o}});var r=n(5471);const i=r["default"].extend().extend({name:"themeable",provide(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark(){return this.$vuetify.theme.dark||!1},isDark(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler(t,e){t!==e&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});function o(t){const e={...t.props,...t.injections},n=i.options.computed.isDark.call(e);return i.options.computed.themeClasses.call({isDark:n})}e.A=i},9748:function(t,e,n){"use strict";n.d(e,{P:function(){return i}});var r=n(5471);function i(t="value",e="input"){return r["default"].extend({name:"toggleable",model:{prop:t,event:e},props:{[t]:{required:!1}},data(){return{isActive:!!this[t]}},watch:{[t](t){this.isActive=!!t},isActive(n){!!n!==this[t]&&this.$emit(e,n)}}})}const o=i();e.A=o},7863:function(t,e,n){"use strict";n(4114);var r=n(8767),i=n(3661),o=n(8652),s=n(6960),a=n(5604),c=n(3507);const l=(0,c.A)(r.A,(0,o.W)("form"),i.A);e.A=l.extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:()=>[]},messages:{type:[String,Array],default:()=>[]},readonly:Boolean,rules:{type:Array,default:()=>[]},success:Boolean,successMessages:{type:[String,Array],default:()=>[]},validateOnBlur:Boolean,value:{required:!1}},data(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{computedColor(){if(!this.isDisabled)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},hasError(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess(){return this.internalSuccessMessages.length>0||this.success},externalError(){return this.internalErrorMessages.length>0||this.error},hasMessages(){return this.validationTarget.length>0},hasState(){return!this.isDisabled&&(this.hasSuccess||this.shouldValidate&&this.hasError)},internalErrorMessages(){return this.genInternalMessages(this.errorMessages)},internalMessages(){return this.genInternalMessages(this.messages)},internalSuccessMessages(){return this.genInternalMessages(this.successMessages)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("input",t)}},isDisabled(){return this.disabled||!!this.form&&this.form.disabled},isInteractive(){return!this.isDisabled&&!this.isReadonly},isReadonly(){return this.readonly||!!this.form&&this.form.readonly},shouldValidate(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState(){if(!this.isDisabled)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.computedColor:void 0},validationTarget(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages&&this.successMessages.length>0?this.internalSuccessMessages:this.messages&&this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler(t,e){(0,s.bD)(t,e)||this.validate()},deep:!0},internalValue(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused(t){t||this.isDisabled||(this.hasFocused=!0,this.validateOnBlur&&this.$nextTick(this.validate))},isResetting(){setTimeout((()=>{this.hasInput=!1,this.hasFocused=!1,this.isResetting=!1,this.validate()}),0)},hasError(t){this.shouldValidate&&this.$emit("update:error",t)},value(t){this.lazyValue=t}},beforeMount(){this.validate()},created(){this.form&&this.form.register(this)},beforeDestroy(){this.form&&this.form.unregister(this)},methods:{genInternalMessages(t){return t?Array.isArray(t)?t:[t]:[]},reset(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:null},resetValidation(){this.isResetting=!0},validate(t=!1,e){const n=[];e=e||this.internalValue,t&&(this.hasInput=this.hasFocused=!0);for(let r=0;r<this.rules.length;r++){const t=this.rules[r],i="function"===typeof t?t(e):t;!1===i||"string"===typeof i?n.push(i||""):"boolean"!==typeof i&&(0,a.yA)(`Rules should return a string or boolean, received '${typeof i}' instead`,this)}return this.errorBucket=n,this.valid=0===n.length,this.valid}}})},114:function(t,e,n){"use strict";n.r(e),n.d(e,{easeInCubic:function(){return a},easeInOutCubic:function(){return l},easeInOutQuad:function(){return s},easeInOutQuart:function(){return h},easeInOutQuint:function(){return g},easeInQuad:function(){return i},easeInQuart:function(){return u},easeInQuint:function(){return f},easeOutCubic:function(){return c},easeOutQuad:function(){return o},easeOutQuart:function(){return d},easeOutQuint:function(){return p},linear:function(){return r}});const r=t=>t,i=t=>t**2,o=t=>t*(2-t),s=t=>t<.5?2*t**2:(4-2*t)*t-1,a=t=>t**3,c=t=>--t**3+1,l=t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,u=t=>t**4,d=t=>1- --t**4,h=t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,f=t=>t**5,p=t=>1+--t**5,g=t=>t<.5?16*t**5:1+16*--t**5},4073:function(t,e,n){"use strict";n.d(e,{I:function(){return u},A:function(){return l}});var r=n(1609),i=n(114);function o(t){if("number"===typeof t)return t;let e=c(t);if(!e)throw"string"===typeof t?new Error(`Target element "${t}" not found.`):new TypeError(`Target must be a Number/Selector/HTMLElement/VueComponent, received ${a(t)} instead.`);let n=0;while(e)n+=e.offsetTop,e=e.offsetParent;return n}function s(t){const e=c(t);if(e)return e;throw"string"===typeof t?new Error(`Container element "${t}" not found.`):new TypeError(`Container must be a Selector/HTMLElement/VueComponent, received ${a(t)} instead.`)}function a(t){return null==t?t:t.constructor.name}function c(t){return"string"===typeof t?document.querySelector(t):t&&t._isVue?t.$el:t instanceof HTMLElement?t:null}function l(t,e={}){const n={container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0,...e},r=s(n.container);if(n.appOffset&&l.framework.application){const t=r.classList.contains("v-navigation-drawer"),e=r.classList.contains("v-navigation-drawer--clipped"),{bar:i,top:o}=l.framework.application;n.offset+=i,t&&!e||(n.offset+=o)}const a=performance.now();let c;c="number"===typeof t?o(t)-n.offset:o(t)-o(r)-n.offset;const u=r.scrollTop;if(c===u)return Promise.resolve(c);const d="function"===typeof n.easing?n.easing:i[n.easing];if(!d)throw new TypeError(`Easing function "${n.easing}" not found.`);return new Promise((t=>requestAnimationFrame((function e(i){const o=i-a,s=Math.abs(n.duration?Math.min(o/n.duration,1):1);r.scrollTop=Math.floor(u+(c-u)*d(s));const l=r===document.body?document.documentElement.clientHeight:r.clientHeight,h=l+r.scrollTop>=r.scrollHeight;if(1===s||c>r.scrollTop&&h)return t(c);requestAnimationFrame(e)}))))}l.framework={},l.init=()=>{};class u extends r.k{constructor(){return super(),l}}u.property="goTo"},1609:function(t,e,n){"use strict";n.d(e,{k:function(){return r}});class r{constructor(){this.framework={}}init(t,e){}}},3805:function(t,e,n){"use strict";n.d(e,{E8:function(){return o},VP:function(){return i},si:function(){return a},y6:function(){return s}});var r=n(5604);function i(t){return!!t&&!!t.match(/^(#|var\(--|(rgb|hsl)a?\()/)}function o(t){let e;if("number"===typeof t)e=t;else{if("string"!==typeof t)throw new TypeError(`Colors can only be numbers or strings, recieved ${null==t?t:t.constructor.name} instead`);{let n="#"===t[0]?t.substring(1):t;3===n.length&&(n=n.split("").map((t=>t+t)).join("")),6!==n.length&&(0,r.OP)(`'${t}' is not a valid rgb color`),e=parseInt(n,16)}}return e<0?((0,r.OP)(`Colors cannot be negative: '${t}'`),e=0):(e>16777215||isNaN(e))&&((0,r.OP)(`'${t}' is not a valid rgb color`),e=16777215),e}function s(t){let e=t.toString(16);return e.length<6&&(e="0".repeat(6-e.length)+e),"#"+e}function a(t){return s(o(t))}},5604:function(t,e,n){"use strict";n.d(e,{CI:function(){return a},OP:function(){return o},q4:function(){return c},rq:function(){return l},yA:function(){return s}});n(4114);var r=n(5453);function i(t,e,n){if(!r.A.config.silent){if(n&&(e={_isVue:!0,$parent:n,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return`[Vuetify] ${t}`+(e?f(e):"")}}function o(t,e,n){const r=i(t,e,n);null!=r&&console.warn(r)}function s(t,e,n){const r=i(t,e,n);null!=r&&console.error(r)}function a(t,e,n,r){o(`[UPGRADE] '${t}' is deprecated, use '${e}' instead.`,n,r)}function c(t,e,n,r){s(`[BREAKING] '${t}' has been removed, use '${e}' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide`,n,r)}function l(t,e,n){o(`[REMOVED] '${t}' has been removed. You can safely omit it.`,e,n)}const u=/(?:^|[-_])(\w)/g,d=t=>t.replace(u,(t=>t.toUpperCase())).replace(/[-_]/g,"");function h(t,e){if(t.$root===t)return"<Root>";const n="function"===typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t||{};let r=n.name||n._componentTag;const i=n.__file;if(!r&&i){const t=i.match(/([^/\\]+)\.vue$/);r=t&&t[1]}return(r?`<${d(r)}>`:"<Anonymous>")+(i&&!1!==e?` at ${i}`:"")}function f(t){if(t._isVue&&t.$parent){const e=[];let n=0;while(t){if(e.length>0){const r=e[e.length-1];if(r.constructor===t.constructor){n++,t=t.$parent;continue}n>0&&(e[e.length-1]=[r,n],n=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map(((t,e)=>`${0===e?"---\x3e ":" ".repeat(5+2*e)}${Array.isArray(t)?`${h(t[0])}... (${t[1]} recursive calls)`:h(t)}`)).join("\n")}return`\n\n(found in ${h(t)})`}},4845:function(t,e,n){"use strict";function r(t){if("function"!==typeof t.getRootNode){while(t.parentNode)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}n.d(e,{b:function(){return r}})},6960:function(t,e,n){"use strict";n.d(e,{$c:function(){return E},BN:function(){return C},D9:function(){return M},Dg:function(){return g},Gn:function(){return i},HP:function(){return k},K9:function(){return I},LJ:function(){return c},P4:function(){return a},PT:function(){return _},Sd:function(){return h},TD:function(){return d},Zb:function(){return A},bD:function(){return l},d7:function(){return o},fF:function(){return p},fl:function(){return f},fo:function(){return x},g8:function(){return y},kW:function(){return m},no:function(){return u},qE:function(){return S},uP:function(){return b}});n(4114);var r=n(5471);function i(t,e="div",n){return r["default"].extend({name:n||t.replace(/__/g,"-"),functional:!0,props:{tag:{type:String,default:e}},render(e,{data:n,props:r,children:i}){return n.staticClass=`${t} ${n.staticClass||""}`.trim(),e(r.tag,n,i)}})}function o(t,e,n,r=!1){const i=o=>{n(o),t.removeEventListener(e,i,r)};t.addEventListener(e,i,r)}let s=!1;try{if("undefined"!==typeof window){const t=Object.defineProperty({},"passive",{get:()=>{s=!0}});window.addEventListener("testListener",t,t),window.removeEventListener("testListener",t,t)}}catch(D){console.warn(D)}function a(t,e,n,r){t.addEventListener(e,n,!!s&&r)}function c(t,e,n){const r=e.length-1;if(r<0)return void 0===t?n:t;for(let i=0;i<r;i++){if(null==t)return n;t=t[e[i]]}return null==t||void 0===t[e[r]]?n:t[e[r]]}function l(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime())return!1;if(t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length===Object.keys(e).length&&n.every((n=>l(t[n],e[n])))}function u(t,e,n){return null!=t&&e&&"string"===typeof e?void 0!==t[e]?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),c(t,e.split("."),n)):n}function d(t,e,n){if(null==e)return void 0===t?n:t;if(t!==Object(t))return void 0===n?t:n;if("string"===typeof e)return u(t,e,n);if(Array.isArray(e))return c(t,e,n);if("function"!==typeof e)return n;const r=e(t,n);return"undefined"===typeof r?n:r}function h(t){return Array.from({length:t},((t,e)=>e))}function f(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return 0;const e=+window.getComputedStyle(t).getPropertyValue("z-index");return e||f(t.parentNode)}function p(t,e){const n={};for(let r=0;r<e.length;r++){const i=e[r];"undefined"!==typeof t[i]&&(n[i]=t[i])}return n}function g(t,e="px"){return null==t||""===t?void 0:isNaN(+t)?String(t):`${Number(t)}${e}`}function m(t){return(t||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function v(t){return null!==t&&"object"===typeof t}const b=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function y(t,e){const n=t.$vuetify.icons.component;if(e.startsWith("$")){const n=`$vuetify.icons.values.${e.split("$").pop().split(".").pop()}`,r=u(t,n,e);if("string"!==typeof r)return r;e=r}return null==n?e:{component:n,props:{icon:e}}}function k(t){return Object.keys(t)}const w=/-(\w)/g,_=t=>t.replace(w,((t,e)=>e?e.toUpperCase():""));function A(t){return t.charAt(0).toUpperCase()+t.slice(1)}function C(t){return null!=t?Array.isArray(t)?t:[t]:[]}function x(t,e,n){return t.$slots.hasOwnProperty(e)&&t.$scopedSlots.hasOwnProperty(e)&&t.$scopedSlots[e].name?n?"v-slot":"scoped":t.$slots.hasOwnProperty(e)?"normal":t.$scopedSlots.hasOwnProperty(e)?"scoped":void 0}function E(t,e="default",n,r=!1){return t.$scopedSlots.hasOwnProperty(e)?t.$scopedSlots[e](n instanceof Function?n():n):!t.$slots.hasOwnProperty(e)||n&&!r?void 0:t.$slots[e]}function S(t,e=0,n=1){return Math.max(e,Math.min(n,t))}function M(t={},e={}){for(const n in e){const r=t[n],i=e[n];v(r)&&v(i)?t[n]=M(r,i):t[n]=i}return t}function I(t){if(t.composedPath)return t.composedPath();const e=[];let n=t.target;while(n){if(e.push(n),"HTML"===n.tagName)return e.push(document),e.push(window),e;n=n.parentElement}return e}},4961:function(t,e,n){"use strict";n.d(e,{Ay:function(){return s},wf:function(){return l}});var r=n(6960);const i={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function o(t){const e={};for(const n of t.split(i.styleList)){let[t,o]=n.split(i.styleProp);t=t.trim(),t&&("string"===typeof o&&(o=o.trim()),e[(0,r.PT)(t)]=o)}return e}function s(){const t={};let e,n=arguments.length;while(n--)for(e of Object.keys(arguments[n]))switch(e){case"class":case"directives":arguments[n][e]&&(t[e]=c(t[e],arguments[n][e]));break;case"style":arguments[n][e]&&(t[e]=a(t[e],arguments[n][e]));break;case"staticClass":if(!arguments[n][e])break;void 0===t[e]&&(t[e]=""),t[e]&&(t[e]+=" "),t[e]+=arguments[n][e].trim();break;case"on":case"nativeOn":arguments[n][e]&&(t[e]=l(t[e],arguments[n][e]));break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[n][e])break;t[e]||(t[e]={}),t[e]={...arguments[n][e],...t[e]};break;default:t[e]||(t[e]=arguments[n][e])}return t}function a(t,e){return t?e?(t=(0,r.BN)("string"===typeof t?o(t):t),t.concat("string"===typeof e?o(e):e)):t:e}function c(t,e){return e?t&&t?(0,r.BN)(t).concat(e):e:t}function l(...t){if(!t[0])return t[1];if(!t[1])return t[0];const e={};for(let n=2;n--;){const r=t[n];for(const t in r)r[t]&&(e[t]?e[t]=[].concat(r[t],e[t]):e[t]=r[t])}return e}},3507:function(t,e,n){"use strict";n.d(e,{A:function(){return i}});var r=n(5471);function i(...t){return r["default"].extend({mixins:t})}},173:function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}n.d(e,{Ay:function(){return _e}});var i=/[!'()*]/g,o=function(t){return"%"+t.charCodeAt(0).toString(16)},s=/%2C/g,a=function(t){return encodeURIComponent(t).replace(i,o).replace(s,",")};function c(t){try{return decodeURIComponent(t)}catch(e){0}return t}function l(t,e,n){void 0===e&&(e={});var r,i=n||d;try{r=i(t||"")}catch(a){r={}}for(var o in e){var s=e[o];r[o]=Array.isArray(s)?s.map(u):u(s)}return r}var u=function(t){return null==t||"object"===typeof t?t:String(t)};function d(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=c(n.shift()),i=n.length>0?c(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function h(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return a(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(a(e)):r.push(a(e)+"="+a(t)))})),r.join("&")}return a(e)+"="+a(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var f=/\/?$/;function p(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=g(o)}catch(a){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:b(e,i),matched:t?v(t):[]};return n&&(s.redirectedFrom=b(n,i)),Object.freeze(s)}function g(t){if(Array.isArray(t))return t.map(g);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=g(t[n]);return e}return t}var m=p(null,{path:"/"});function v(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function b(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var o=e||h;return(n||"/")+o(r)+i}function y(t,e,n){return e===m?t===e:!!e&&(t.path&&e.path?t.path.replace(f,"")===e.path.replace(f,"")&&(n||t.hash===e.hash&&k(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&k(t.query,e.query)&&k(t.params,e.params))))}function k(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),r=Object.keys(e).sort();return n.length===r.length&&n.every((function(n,i){var o=t[n],s=r[i];if(s!==n)return!1;var a=e[n];return null==o||null==a?o===a:"object"===typeof o&&"object"===typeof a?k(o,a):String(o)===String(a)}))}function w(t,e){return 0===t.path.replace(f,"/").indexOf(e.path.replace(f,"/"))&&(!e.hash||t.hash===e.hash)&&_(t.query,e.query)}function _(t,e){for(var n in e)if(!(n in t))return!1;return!0}function A(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var s=0;s<o.length;s++)i._isBeingDestroyed||o[s](i)}}}}var C={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,o=e.parent,s=e.data;s.routerView=!0;var a=o.$createElement,c=n.name,l=o.$route,u=o._routerViewCache||(o._routerViewCache={}),d=0,h=!1;while(o&&o._routerRoot!==o){var f=o.$vnode?o.$vnode.data:{};f.routerView&&d++,f.keepAlive&&o._directInactive&&o._inactive&&(h=!0),o=o.$parent}if(s.routerViewDepth=d,h){var p=u[c],g=p&&p.component;return g?(p.configProps&&x(g,s,p.route,p.configProps),a(g,s,i)):a()}var m=l.matched[d],v=m&&m.components[c];if(!m||!v)return u[c]=null,a();u[c]={component:v},s.registerRouteInstance=function(t,e){var n=m.instances[c];(e&&n!==t||!e&&n===t)&&(m.instances[c]=e)},(s.hook||(s.hook={})).prepatch=function(t,e){m.instances[c]=e.componentInstance},s.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==m.instances[c]&&(m.instances[c]=t.componentInstance),A(l)};var b=m.props&&m.props[c];return b&&(r(u[c],{route:l,configProps:b}),x(v,s,l,b)),a(v,s,i)}};function x(t,e,n,i){var o=e.props=E(n,i);if(o){o=e.props=r({},o);var s=e.attrs=e.attrs||{};for(var a in o)t.props&&a in t.props||(s[a]=o[a],delete o[a])}}function E(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}function S(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?i.pop():"."!==a&&i.push(a)}return""!==i[0]&&i.unshift(""),i.join("/")}function M(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function I(t){return t.replace(/\/(?:\s*\/)+/g,"/")}var D=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},T=K,O=R,N=j,P=V,L=X,B=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function R(t,e){var n,r=[],i=0,o=0,s="",a=e&&e.delimiter||"/";while(null!=(n=B.exec(t))){var c=n[0],l=n[1],u=n.index;if(s+=t.slice(o,u),o=u+c.length,l)s+=l[1];else{var d=t[o],h=n[2],f=n[3],p=n[4],g=n[5],m=n[6],v=n[7];s&&(r.push(s),s="");var b=null!=h&&null!=d&&d!==h,y="+"===m||"*"===m,k="?"===m||"*"===m,w=n[2]||a,_=p||g;r.push({name:f||i++,prefix:h||"",delimiter:w,optional:k,repeat:y,partial:b,asterisk:!!v,pattern:_?G(_):v?".*":"[^"+U(w)+"]+?"})}}return o<t.length&&(s+=t.substr(o)),s&&r.push(s),r}function j(t,e){return V(R(t,e),e)}function z(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function F(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function V(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"===typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",$(e)));return function(e,r){for(var i="",o=e||{},s=r||{},a=s.pretty?z:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var u,d=o[l.name];if(null==d){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(D(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(u=a(d[h]),!n[c].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===h?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?F(d):a(d),!n[c].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');i+=l.prefix+u}}else i+=l}return i}}function U(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function G(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function H(t,e){return t.keys=e,t}function $(t){return t&&t.sensitive?"":"i"}function W(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return H(t,e)}function Y(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(K(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",$(n));return H(o,e)}function q(t,e,n){return X(R(t,n),e,n)}function X(t,e,n){D(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",s=0;s<t.length;s++){var a=t[s];if("string"===typeof a)o+=U(a);else{var c=U(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+c+l+")*"),l=a.optional?a.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",o+=l}}var u=U(n.delimiter||"/"),d=o.slice(-u.length)===u;return r||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&d?"":"(?="+u+"|$)",H(new RegExp("^"+o,$(n)),e)}function K(t,e,n){return D(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?W(t,e):D(t)?Y(t,e,n):q(t,e,n)}T.parse=O,T.compile=N,T.tokensToFunction=P,T.tokensToRegExp=L;var Z=Object.create(null);function Q(t,e,n){e=e||{};try{var r=Z[t]||(Z[t]=T.compile(t));return"string"===typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(i){return""}finally{delete e[0]}}function J(t,e,n,i){var o="string"===typeof t?{path:t}:t;if(o._normalized)return o;if(o.name){o=r({},t);var s=o.params;return s&&"object"===typeof s&&(o.params=r({},s)),o}if(!o.path&&o.params&&e){o=r({},o),o._normalized=!0;var a=r(r({},e.params),o.params);if(e.name)o.name=e.name,o.params=a;else if(e.matched.length){var c=e.matched[e.matched.length-1].path;o.path=Q(c,a,"path "+e.path)}else 0;return o}var u=M(o.path||""),d=e&&e.path||"/",h=u.path?S(u.path,d,n||o.append):d,f=l(u.query,o.query,i&&i.options.parseQuery),p=o.hash||u.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:h,query:f,hash:p}}var tt,et=[String,Object],nt=[String,Array],rt=function(){},it={name:"RouterLink",props:{to:{type:et,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:nt,default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,o=n.resolve(this.to,i,this.append),s=o.location,a=o.route,c=o.href,l={},u=n.options.linkActiveClass,d=n.options.linkExactActiveClass,h=null==u?"router-link-active":u,f=null==d?"router-link-exact-active":d,g=null==this.activeClass?h:this.activeClass,m=null==this.exactActiveClass?f:this.exactActiveClass,v=a.redirectedFrom?p(null,J(a.redirectedFrom),null,n):a;l[m]=y(i,v,this.exactPath),l[g]=this.exact||this.exactPath?l[m]:w(i,v);var b=l[m]?this.ariaCurrentValue:null,k=function(t){ot(t)&&(e.replace?n.replace(s,rt):n.push(s,rt))},_={click:ot};Array.isArray(this.event)?this.event.forEach((function(t){_[t]=k})):_[this.event]=k;var A={class:l},C=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:a,navigate:k,isActive:l[g],isExactActive:l[m]});if(C){if(1===C.length)return C[0];if(C.length>1||!C.length)return 0===C.length?t():t("span",{},C)}if("a"===this.tag)A.on=_,A.attrs={href:c,"aria-current":b};else{var x=st(this.$slots.default);if(x){x.isStatic=!1;var E=x.data=r({},x.data);for(var S in E.on=E.on||{},E.on){var M=E.on[S];S in _&&(E.on[S]=Array.isArray(M)?M:[M])}for(var I in _)I in E.on?E.on[I].push(_[I]):E.on[I]=k;var D=x.data.attrs=r({},x.data.attrs);D.href=c,D["aria-current"]=b}else A.on=_}return t(this.tag,A,this.$slots.default)}};function ot(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function st(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=st(e.children)))return e}}function at(t){if(!at.installed||tt!==t){at.installed=!0,tt=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",C),t.component("RouterLink",it);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ct="undefined"!==typeof window;function lt(t,e,n,r,i){var o=e||[],s=n||Object.create(null),a=r||Object.create(null);t.forEach((function(t){ut(o,s,a,t,i)}));for(var c=0,l=o.length;c<l;c++)"*"===o[c]&&(o.push(o.splice(c,1)[0]),l--,c--);return{pathList:o,pathMap:s,nameMap:a}}function ut(t,e,n,r,i,o){var s=r.path,a=r.name;var c=r.pathToRegexpOptions||{},l=ht(s,i,c.strict);"boolean"===typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var u={path:l,regex:dt(l,c),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:a,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?I(o+"/"+r.path):void 0;ut(t,e,n,r,u,i)})),e[u.path]||(t.push(u.path),e[u.path]=u),void 0!==r.alias)for(var d=Array.isArray(r.alias)?r.alias:[r.alias],h=0;h<d.length;++h){var f=d[h];0;var p={path:f,children:r.children};ut(t,e,n,p,i,u.path||"/")}a&&(n[a]||(n[a]=u))}function dt(t,e){var n=T(t,[],e);return n}function ht(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:I(e.path+"/"+t)}function ft(t,e){var n=lt(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function s(t){lt(t,r,i,o)}function a(t,e){var n="object"!==typeof t?o[t]:void 0;lt([e||t],r,i,o,n),n&&n.alias.length&&lt(n.alias.map((function(t){return{path:t,children:[e]}})),r,i,o,n)}function c(){return r.map((function(t){return i[t]}))}function l(t,n,s){var a=J(t,n,!1,e),c=a.name;if(c){var l=o[c];if(!l)return h(null,a);var u=l.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof a.params&&(a.params={}),n&&"object"===typeof n.params)for(var d in n.params)!(d in a.params)&&u.indexOf(d)>-1&&(a.params[d]=n.params[d]);return a.path=Q(l.path,a.params,'named route "'+c+'"'),h(l,a,s)}if(a.path){a.params={};for(var f=0;f<r.length;f++){var p=r[f],g=i[p];if(pt(g.regex,a.path,a.params))return h(g,a,s)}}return h(null,a)}function u(t,n){var r=t.redirect,i="function"===typeof r?r(p(t,n,null,e)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return h(null,n);var s=i,a=s.name,c=s.path,u=n.query,d=n.hash,f=n.params;if(u=s.hasOwnProperty("query")?s.query:u,d=s.hasOwnProperty("hash")?s.hash:d,f=s.hasOwnProperty("params")?s.params:f,a){o[a];return l({_normalized:!0,name:a,query:u,hash:d,params:f},void 0,n)}if(c){var g=gt(c,t),m=Q(g,f,'redirect route with path "'+g+'"');return l({_normalized:!0,path:m,query:u,hash:d},void 0,n)}return h(null,n)}function d(t,e,n){var r=Q(n,e.params,'aliased route with path "'+n+'"'),i=l({_normalized:!0,path:r});if(i){var o=i.matched,s=o[o.length-1];return e.params=i.params,h(s,e)}return h(null,e)}function h(t,n,r){return t&&t.redirect?u(t,r||n):t&&t.matchAs?d(t,n,t.matchAs):p(t,n,r,e)}return{match:l,addRoute:a,getRoutes:c,addRoutes:s}}function pt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var s=t.keys[i-1];s&&(n[s.name||"pathMatch"]="string"===typeof r[i]?c(r[i]):r[i])}return!0}function gt(t,e){return S(t,e.parent?e.parent.path:"/",!0)}var mt=ct&&window.performance&&window.performance.now?window.performance:Date;function vt(){return mt.now().toFixed(3)}var bt=vt();function yt(){return bt}function kt(t){return bt=t}var wt=Object.create(null);function _t(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=r({},window.history.state);return n.key=yt(),window.history.replaceState(n,"",e),window.addEventListener("popstate",xt),function(){window.removeEventListener("popstate",xt)}}function At(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=Et(),s=i.call(t,e,n,r?o:null);s&&("function"===typeof s.then?s.then((function(t){Nt(t,o)})).catch((function(t){0})):Nt(s,o))}))}}function Ct(){var t=yt();t&&(wt[t]={x:window.pageXOffset,y:window.pageYOffset})}function xt(t){Ct(),t.state&&t.state.key&&kt(t.state.key)}function Et(){var t=yt();if(t)return wt[t]}function St(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function Mt(t){return Tt(t.x)||Tt(t.y)}function It(t){return{x:Tt(t.x)?t.x:window.pageXOffset,y:Tt(t.y)?t.y:window.pageYOffset}}function Dt(t){return{x:Tt(t.x)?t.x:0,y:Tt(t.y)?t.y:0}}function Tt(t){return"number"===typeof t}var Ot=/^#\d/;function Nt(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var r=Ot.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var i=t.offset&&"object"===typeof t.offset?t.offset:{};i=Dt(i),e=St(r,i)}else Mt(t)&&(e=It(t))}else n&&Mt(t)&&(e=It(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var Pt=ct&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Lt(t,e){Ct();var n=window.history;try{if(e){var i=r({},n.state);i.key=yt(),n.replaceState(i,"",t)}else n.pushState({key:kt(vt())},"",t)}catch(o){window.location[e?"replace":"assign"](t)}}function Bt(t){Lt(t,!0)}var Rt={redirected:2,aborted:4,cancelled:8,duplicated:16};function jt(t,e){return Ut(t,e,Rt.redirected,'Redirected when going from "'+t.fullPath+'" to "'+Ht(e)+'" via a navigation guard.')}function zt(t,e){var n=Ut(t,e,Rt.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".');return n.name="NavigationDuplicated",n}function Ft(t,e){return Ut(t,e,Rt.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Vt(t,e){return Ut(t,e,Rt.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Ut(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var Gt=["params","query","hash"];function Ht(t){if("string"===typeof t)return t;if("path"in t)return t.path;var e={};return Gt.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}function $t(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Wt(t,e){return $t(t)&&t._isRouter&&(null==e||t.type===e)}function Yt(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}function qt(t){return function(e,n,r){var i=!1,o=0,s=null;Xt(t,(function(t,e,n,a){if("function"===typeof t&&void 0===t.cid){i=!0,o++;var c,l=Jt((function(e){Qt(e)&&(e=e.default),t.resolved="function"===typeof e?e:tt.extend(e),n.components[a]=e,o--,o<=0&&r()})),u=Jt((function(t){var e="Failed to resolve async component "+a+": "+t;s||(s=$t(t)?t:new Error(e),r(s))}));try{c=t(l,u)}catch(h){u(h)}if(c)if("function"===typeof c.then)c.then(l,u);else{var d=c.component;d&&"function"===typeof d.then&&d.then(l,u)}}})),i||r()}}function Xt(t,e){return Kt(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function Kt(t){return Array.prototype.concat.apply([],t)}var Zt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Qt(t){return t.__esModule||Zt&&"Module"===t[Symbol.toStringTag]}function Jt(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var te=function(t,e){this.router=t,this.base=ee(e),this.current=m,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ee(t){if(!t)if(ct){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function ne(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function re(t,e,n,r){var i=Xt(t,(function(t,r,i,o){var s=ie(t,e);if(s)return Array.isArray(s)?s.map((function(t){return n(t,r,i,o)})):n(s,r,i,o)}));return Kt(r?i.reverse():i)}function ie(t,e){return"function"!==typeof t&&(t=tt.extend(t)),t.options[e]}function oe(t){return re(t,"beforeRouteLeave",ae,!0)}function se(t){return re(t,"beforeRouteUpdate",ae)}function ae(t,e){if(e)return function(){return t.apply(e,arguments)}}function ce(t){return re(t,"beforeRouteEnter",(function(t,e,n,r){return le(t,n,r)}))}function le(t,e,n){return function(r,i,o){return t(r,i,(function(t){"function"===typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),o(t)}))}}te.prototype.listen=function(t){this.cb=t},te.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},te.prototype.onError=function(t){this.errorCbs.push(t)},te.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(s){throw this.errorCbs.forEach((function(t){t(s)})),s}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(t){t&&t(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(Wt(t,Rt.redirected)&&o===m||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(t)}))))}))},te.prototype.confirmTransition=function(t,e,n){var r=this,i=this.current;this.pending=t;var o=function(t){!Wt(t)&&$t(t)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(t)})):console.error(t)),n&&n(t)},s=t.matched.length-1,a=i.matched.length-1;if(y(t,i)&&s===a&&t.matched[s]===i.matched[a])return this.ensureURL(),t.hash&&At(this.router,i,t,!1),o(zt(i,t));var c=ne(this.current.matched,t.matched),l=c.updated,u=c.deactivated,d=c.activated,h=[].concat(oe(u),this.router.beforeHooks,se(l),d.map((function(t){return t.beforeEnter})),qt(d)),f=function(e,n){if(r.pending!==t)return o(Ft(i,t));try{e(t,i,(function(e){!1===e?(r.ensureURL(!0),o(Vt(i,t))):$t(e)?(r.ensureURL(!0),o(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(o(jt(i,t)),"object"===typeof e&&e.replace?r.replace(e):r.push(e)):n(e)}))}catch(s){o(s)}};Yt(h,f,(function(){var n=ce(d),s=n.concat(r.router.resolveHooks);Yt(s,f,(function(){if(r.pending!==t)return o(Ft(i,t));r.pending=null,e(t),r.router.app&&r.router.app.$nextTick((function(){A(t)}))}))}))},te.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},te.prototype.setupListeners=function(){},te.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=m,this.pending=null};var ue=function(t){function e(e,n){t.call(this,e,n),this._startLocation=de(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=Pt&&n;r&&this.listeners.push(_t());var i=function(){var n=t.current,i=de(t.base);t.current===m&&i===t._startLocation||t.transitionTo(i,(function(t){r&&At(e,t,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Lt(I(r.base+t.fullPath)),At(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Bt(I(r.base+t.fullPath)),At(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(de(this.base)!==this.current.fullPath){var e=I(this.base+this.current.fullPath);t?Lt(e):Bt(e)}},e.prototype.getCurrentLocation=function(){return de(this.base)},e}(te);function de(t){var e=window.location.pathname,n=e.toLowerCase(),r=t.toLowerCase();return!t||n!==r&&0!==n.indexOf(I(r+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var he=function(t){function e(e,n,r){t.call(this,e,n),r&&fe(this.base)||pe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=Pt&&n;r&&this.listeners.push(_t());var i=function(){var e=t.current;pe()&&t.transitionTo(ge(),(function(n){r&&At(t.router,n,e,!0),Pt||be(n.fullPath)}))},o=Pt?"popstate":"hashchange";window.addEventListener(o,i),this.listeners.push((function(){window.removeEventListener(o,i)}))}},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){ve(t.fullPath),At(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){be(t.fullPath),At(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;ge()!==e&&(t?ve(e):be(e))},e.prototype.getCurrentLocation=function(){return ge()},e}(te);function fe(t){var e=de(t);if(!/^\/#/.test(e))return window.location.replace(I(t+"/#"+e)),!0}function pe(){var t=ge();return"/"===t.charAt(0)||(be("/"+t),!1)}function ge(){var t=window.location.href,e=t.indexOf("#");return e<0?"":(t=t.slice(e+1),t)}function me(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function ve(t){Pt?Lt(me(t)):window.location.hash=t}function be(t){Pt?Bt(me(t)):window.location.replace(me(t))}var ye=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,t)}))}),(function(t){Wt(t,Rt.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(te),ke=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=ft(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Pt&&!1!==t.fallback,this.fallback&&(e="hash"),ct||(e="abstract"),this.mode=e,e){case"history":this.history=new ue(this,t.base);break;case"hash":this.history=new he(this,t.base,this.fallback);break;case"abstract":this.history=new ye(this,t.base);break;default:0}},we={currentRoute:{configurable:!0}};ke.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},we.currentRoute.get=function(){return this.history&&this.history.current},ke.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var n=this.history;if(n instanceof ue||n instanceof he){var r=function(t){var r=n.current,i=e.options.scrollBehavior,o=Pt&&i;o&&"fullPath"in t&&At(e,t,r,!1)},i=function(t){n.setupListeners(),r(t)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},ke.prototype.beforeEach=function(t){return Ae(this.beforeHooks,t)},ke.prototype.beforeResolve=function(t){return Ae(this.resolveHooks,t)},ke.prototype.afterEach=function(t){return Ae(this.afterHooks,t)},ke.prototype.onReady=function(t,e){this.history.onReady(t,e)},ke.prototype.onError=function(t){this.history.onError(t)},ke.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},ke.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},ke.prototype.go=function(t){this.history.go(t)},ke.prototype.back=function(){this.go(-1)},ke.prototype.forward=function(){this.go(1)},ke.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},ke.prototype.resolve=function(t,e,n){e=e||this.history.current;var r=J(t,e,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath,s=this.history.base,a=Ce(s,o,this.mode);return{location:r,route:i,href:a,normalizedTo:r,resolved:i}},ke.prototype.getRoutes=function(){return this.matcher.getRoutes()},ke.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==m&&this.history.transitionTo(this.history.getCurrentLocation())},ke.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==m&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(ke.prototype,we);var _e=ke;function Ae(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Ce(t,e,n){var r="hash"===n?"#"+e:e;return t?I(t+"/"+r):r}ke.install=at,ke.version="3.6.5",ke.isNavigationFailure=Wt,ke.NavigationFailureType=Rt,ke.START_LOCATION=m,ct&&window.Vue&&window.Vue.use(ke)},5471:function(t,e,n){"use strict";n.r(e),n.d(e,{EffectScope:function(){return Ie},computed:function(){return ve},customRef:function(){return ce},default:function(){return io},defineAsyncComponent:function(){return nr},defineComponent:function(){return yr},del:function(){return Ut},effectScope:function(){return De},getCurrentInstance:function(){return vt},getCurrentScope:function(){return Oe},h:function(){return zn},inject:function(){return Be},isProxy:function(){return Kt},isReactive:function(){return Yt},isReadonly:function(){return Xt},isRef:function(){return te},isShallow:function(){return qt},markRaw:function(){return Qt},mergeDefaults:function(){return xn},nextTick:function(){return Jn},onActivated:function(){return dr},onBeforeMount:function(){return or},onBeforeUnmount:function(){return lr},onBeforeUpdate:function(){return ar},onDeactivated:function(){return hr},onErrorCaptured:function(){return vr},onMounted:function(){return sr},onRenderTracked:function(){return pr},onRenderTriggered:function(){return gr},onScopeDispose:function(){return Ne},onServerPrefetch:function(){return fr},onUnmounted:function(){return ur},onUpdated:function(){return cr},provide:function(){return Pe},proxyRefs:function(){return se},reactive:function(){return Ht},readonly:function(){return fe},ref:function(){return ee},set:function(){return Vt},shallowReactive:function(){return $t},shallowReadonly:function(){return me},shallowRef:function(){return ne},toRaw:function(){return Zt},toRef:function(){return ue},toRefs:function(){return le},triggerRef:function(){return ie},unref:function(){return oe},useAttrs:function(){return _n},useCssModule:function(){return tr},useCssVars:function(){return er},useListeners:function(){return An},useSlots:function(){return wn},version:function(){return br},watch:function(){return Se},watchEffect:function(){return _e},watchPostEffect:function(){return Ae},watchSyncEffect:function(){return Ce}});
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),i=Array.isArray;function o(t){return void 0===t||null===t}function s(t){return void 0!==t&&null!==t}function a(t){return!0===t}function c(t){return!1===t}function l(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return"function"===typeof t}function d(t){return null!==t&&"object"===typeof t}var h=Object.prototype.toString;function f(t){return"[object Object]"===h.call(t)}function p(t){return"[object RegExp]"===h.call(t)}function g(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function m(t){return s(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function v(t){return null==t?"":Array.isArray(t)||f(t)&&t.toString===h?JSON.stringify(t,b,2):String(t)}function b(t,e){return e&&e.__v_isRef?e.value:e}function y(t){var e=parseFloat(t);return isNaN(e)?t:e}function k(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}k("slot,component",!0);var w=k("key,ref,slot,slot-scope,is");function _(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var A=Object.prototype.hasOwnProperty;function C(t,e){return A.call(t,e)}function x(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var E=/-(\w)/g,S=x((function(t){return t.replace(E,(function(t,e){return e?e.toUpperCase():""}))})),M=x((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),I=/\B([A-Z])/g,D=x((function(t){return t.replace(I,"-$1").toLowerCase()}));function T(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function O(t,e){return t.bind(e)}var N=Function.prototype.bind?O:T;function P(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function L(t,e){for(var n in e)t[n]=e[n];return t}function B(t){for(var e={},n=0;n<t.length;n++)t[n]&&L(e,t[n]);return e}function R(t,e,n){}var j=function(t,e,n){return!1},z=function(t){return t};function F(t,e){if(t===e)return!0;var n=d(t),r=d(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return F(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(n){return F(t[n],e[n])}))}catch(c){return!1}}function V(t,e){for(var n=0;n<t.length;n++)if(F(t[n],e))return n;return-1}function U(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function G(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var H="data-server-rendered",$=["component","directive","filter"],W=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],Y={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:j,isReservedAttr:j,isUnknownElement:j,getTagNamespace:R,parsePlatformTagName:z,mustUseProp:j,async:!0,_lifecycleHooks:W},q=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function X(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function K(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var Z=new RegExp("[^".concat(q.source,".$_\\d]"));function Q(t){if(!Z.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var J="__proto__"in{},tt="undefined"!==typeof window,et=tt&&window.navigator.userAgent.toLowerCase(),nt=et&&/msie|trident/.test(et),rt=et&&et.indexOf("msie 9.0")>0,it=et&&et.indexOf("edge/")>0;et&&et.indexOf("android");var ot=et&&/iphone|ipad|ipod|ios/.test(et);et&&/chrome\/\d+/.test(et),et&&/phantomjs/.test(et);var st,at=et&&et.match(/firefox\/(\d+)/),ct={}.watch,lt=!1;if(tt)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){lt=!0}}),window.addEventListener("test-passive",null,ut)}catch(oc){}var dt=function(){return void 0===st&&(st=!tt&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),st},ht=tt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ft(t){return"function"===typeof t&&/native code/.test(t.toString())}var pt,gt="undefined"!==typeof Symbol&&ft(Symbol)&&"undefined"!==typeof Reflect&&ft(Reflect.ownKeys);pt="undefined"!==typeof Set&&ft(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var mt=null;function vt(){return mt&&{proxy:mt}}function bt(t){void 0===t&&(t=null),t||mt&&mt._scope.off(),mt=t,t&&t._scope.on()}var yt=function(){function t(t,e,n,r,i,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),kt=function(t){void 0===t&&(t="");var e=new yt;return e.text=t,e.isComment=!0,e};function wt(t){return new yt(void 0,void 0,void 0,String(t))}function _t(t){var e=new yt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}"function"===typeof SuppressedError&&SuppressedError;var At=0,Ct=[],xt=function(){for(var t=0;t<Ct.length;t++){var e=Ct[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}Ct.length=0},Et=function(){function t(){this._pending=!1,this.id=At++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,Ct.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,r=e.length;n<r;n++){var i=e[n];0,i.update()}},t}();Et.target=null;var St=[];function Mt(t){St.push(t),Et.target=t}function It(){St.pop(),Et.target=St[St.length-1]}var Dt=Array.prototype,Tt=Object.create(Dt),Ot=["push","pop","shift","unshift","splice","sort","reverse"];Ot.forEach((function(t){var e=Dt[t];K(Tt,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&s.observeArray(i),s.dep.notify(),o}))}));var Nt=Object.getOwnPropertyNames(Tt),Pt={},Lt=!0;function Bt(t){Lt=t}var Rt={notify:R,depend:R,addSub:R,removeSub:R},jt=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Rt:new Et,this.vmCount=0,K(t,"__ob__",this),i(t)){if(!n)if(J)t.__proto__=Tt;else for(var r=0,o=Nt.length;r<o;r++){var s=Nt[r];K(t,s,Tt[s])}e||this.observeArray(t)}else{var a=Object.keys(t);for(r=0;r<a.length;r++){s=a[r];Ft(t,s,Pt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)zt(t[e],!1,this.mock)},t}();function zt(t,e,n){return t&&C(t,"__ob__")&&t.__ob__ instanceof jt?t.__ob__:!Lt||!n&&dt()||!i(t)&&!f(t)||!Object.isExtensible(t)||t.__v_skip||te(t)||t instanceof yt?void 0:new jt(t,e,n)}function Ft(t,e,n,r,o,s,a){void 0===a&&(a=!1);var c=new Et,l=Object.getOwnPropertyDescriptor(t,e);if(!l||!1!==l.configurable){var u=l&&l.get,d=l&&l.set;u&&!d||n!==Pt&&2!==arguments.length||(n=t[e]);var h=o?n&&n.__ob__:zt(n,!1,s);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=u?u.call(t):n;return Et.target&&(c.depend(),h&&(h.dep.depend(),i(e)&&Gt(e))),te(e)&&!o?e.value:e},set:function(e){var r=u?u.call(t):n;if(G(r,e)){if(d)d.call(t,e);else{if(u)return;if(!o&&te(r)&&!te(e))return void(r.value=e);n=e}h=o?e&&e.__ob__:zt(e,!1,s),c.notify()}}}),c}}function Vt(t,e,n){if(!Xt(t)){var r=t.__ob__;return i(t)&&g(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),r&&!r.shallow&&r.mock&&zt(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||r&&r.vmCount?n:r?(Ft(r.value,e,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(t[e]=n,n)}}function Ut(t,e){if(i(t)&&g(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||Xt(t)||C(t,e)&&(delete t[e],n&&n.dep.notify())}}function Gt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),i(e)&&Gt(e)}function Ht(t){return Wt(t,!1),t}function $t(t){return Wt(t,!0),K(t,"__v_isShallow",!0),t}function Wt(t,e){if(!Xt(t)){zt(t,e,dt());0}}function Yt(t){return Xt(t)?Yt(t["__v_raw"]):!(!t||!t.__ob__)}function qt(t){return!(!t||!t.__v_isShallow)}function Xt(t){return!(!t||!t.__v_isReadonly)}function Kt(t){return Yt(t)||Xt(t)}function Zt(t){var e=t&&t["__v_raw"];return e?Zt(e):t}function Qt(t){return Object.isExtensible(t)&&K(t,"__v_skip",!0),t}var Jt="__v_isRef";function te(t){return!(!t||!0!==t.__v_isRef)}function ee(t){return re(t,!1)}function ne(t){return re(t,!0)}function re(t,e){if(te(t))return t;var n={};return K(n,Jt,!0),K(n,"__v_isShallow",e),K(n,"dep",Ft(n,"value",t,null,e,dt())),n}function ie(t){t.dep&&t.dep.notify()}function oe(t){return te(t)?t.value:t}function se(t){if(Yt(t))return t;for(var e={},n=Object.keys(t),r=0;r<n.length;r++)ae(e,t,n[r]);return e}function ae(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(te(t))return t.value;var r=t&&t.__ob__;return r&&r.dep.depend(),t},set:function(t){var r=e[n];te(r)&&!te(t)?r.value=t:e[n]=t}})}function ce(t){var e=new Et,n=t((function(){e.depend()}),(function(){e.notify()})),r=n.get,i=n.set,o={get value(){return r()},set value(t){i(t)}};return K(o,Jt,!0),o}function le(t){var e=i(t)?new Array(t.length):{};for(var n in t)e[n]=ue(t,n);return e}function ue(t,e,n){var r=t[e];if(te(r))return r;var i={get value(){var r=t[e];return void 0===r?n:r},set value(n){t[e]=n}};return K(i,Jt,!0),i}var de="__v_rawToReadonly",he="__v_rawToShallowReadonly";function fe(t){return pe(t,!1)}function pe(t,e){if(!f(t))return t;if(Xt(t))return t;var n=e?he:de,r=t[n];if(r)return r;var i=Object.create(Object.getPrototypeOf(t));K(t,n,i),K(i,"__v_isReadonly",!0),K(i,"__v_raw",t),te(t)&&K(i,Jt,!0),(e||qt(t))&&K(i,"__v_isShallow",!0);for(var o=Object.keys(t),s=0;s<o.length;s++)ge(i,t,o[s],e);return i}function ge(t,e,n,r){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];return r||!f(t)?t:fe(t)},set:function(){}})}function me(t){return pe(t,!0)}function ve(t,e){var n,r,i=u(t);i?(n=t,r=R):(n=t.get,r=t.set);var o=dt()?null:new xr(mt,n,R,{lazy:!0});var s={effect:o,get value(){return o?(o.dirty&&o.evaluate(),Et.target&&o.depend(),o.value):n()},set value(t){r(t)}};return K(s,Jt,!0),K(s,"__v_isReadonly",i),s}var be="watcher",ye="".concat(be," callback"),ke="".concat(be," getter"),we="".concat(be," cleanup");function _e(t,e){return Me(t,null,e)}function Ae(t,e){return Me(t,null,{flush:"post"})}function Ce(t,e){return Me(t,null,{flush:"sync"})}var xe,Ee={};function Se(t,e,n){return Me(t,e,n)}function Me(t,e,n){var o=void 0===n?r:n,s=o.immediate,a=o.deep,c=o.flush,l=void 0===c?"pre":c;o.onTrack,o.onTrigger;var d,h,f=mt,p=function(t,e,n){void 0===n&&(n=null);var r=Vn(t,null,n,f,e);return a&&r&&r.__ob__&&r.__ob__.dep.depend(),r},g=!1,m=!1;if(te(t)?(d=function(){return t.value},g=qt(t)):Yt(t)?(d=function(){return t.__ob__.dep.depend(),t},a=!0):i(t)?(m=!0,g=t.some((function(t){return Yt(t)||qt(t)})),d=function(){return t.map((function(t){return te(t)?t.value:Yt(t)?(t.__ob__.dep.depend(),wr(t)):u(t)?p(t,ke):void 0}))}):d=u(t)?e?function(){return p(t,ke)}:function(){if(!f||!f._isDestroyed)return h&&h(),p(t,be,[b])}:R,e&&a){var v=d;d=function(){return wr(v())}}var b=function(t){h=y.onStop=function(){p(t,we)}};if(dt())return b=R,e?s&&p(e,ye,[d(),m?[]:void 0,b]):d(),R;var y=new xr(mt,d,R,{lazy:!0});y.noRecurse=!e;var k=m?[]:Ee;return y.run=function(){if(y.active)if(e){var t=y.get();(a||g||(m?t.some((function(t,e){return G(t,k[e])})):G(t,k)))&&(h&&h(),p(e,ye,[t,k===Ee?void 0:k,b]),k=t)}else y.get()},"sync"===l?y.update=y.run:"post"===l?(y.post=!0,y.update=function(){return ri(y)}):y.update=function(){if(f&&f===mt&&!f._isMounted){var t=f._preWatchers||(f._preWatchers=[]);t.indexOf(y)<0&&t.push(y)}else ri(y)},e?s?y.run():k=y.get():"post"===l&&f?f.$once("hook:mounted",(function(){return y.get()})):y.get(),function(){y.teardown()}}var Ie=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=xe,!t&&xe&&(this.index=(xe.scopes||(xe.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=xe;try{return xe=this,t()}finally{xe=e}}else 0},t.prototype.on=function(){xe=this},t.prototype.off=function(){xe=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function De(t){return new Ie(t)}function Te(t,e){void 0===e&&(e=xe),e&&e.active&&e.effects.push(t)}function Oe(){return xe}function Ne(t){xe&&xe.cleanups.push(t)}function Pe(t,e){mt&&(Le(mt)[t]=e)}function Le(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}function Be(t,e,n){void 0===n&&(n=!1);var r=mt;if(r){var i=r.$parent&&r.$parent._provided;if(i&&t in i)return i[t];if(arguments.length>1)return n&&u(e)?e.call(r):e}else 0}var Re=x((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function je(t,e){function n(){var t=n.fns;if(!i(t))return Vn(t,null,arguments,e,"v-on handler");for(var r=t.slice(),o=0;o<r.length;o++)Vn(r[o],null,arguments,e,"v-on handler")}return n.fns=t,n}function ze(t,e,n,r,i,s){var c,l,u,d;for(c in t)l=t[c],u=e[c],d=Re(c),o(l)||(o(u)?(o(l.fns)&&(l=t[c]=je(l,s)),a(d.once)&&(l=t[c]=i(d.name,l,d.capture)),n(d.name,l,d.capture,d.passive,d.params)):l!==u&&(u.fns=l,t[c]=u));for(c in e)o(t[c])&&(d=Re(c),r(d.name,e[c],d.capture))}function Fe(t,e,n){var r;t instanceof yt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function c(){n.apply(this,arguments),_(r.fns,c)}o(i)?r=je([c]):s(i.fns)&&a(i.merged)?(r=i,r.fns.push(c)):r=je([i,c]),r.merged=!0,t[e]=r}function Ve(t,e,n){var r=e.options.props;if(!o(r)){var i={},a=t.attrs,c=t.props;if(s(a)||s(c))for(var l in r){var u=D(l);Ue(i,c,l,u,!0)||Ue(i,a,l,u,!1)}return i}}function Ue(t,e,n,r,i){if(s(e)){if(C(e,n))return t[n]=e[n],i||delete e[n],!0;if(C(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Ge(t){for(var e=0;e<t.length;e++)if(i(t[e]))return Array.prototype.concat.apply([],t);return t}function He(t){return l(t)?[wt(t)]:i(t)?We(t):void 0}function $e(t){return s(t)&&s(t.text)&&c(t.isComment)}function We(t,e){var n,r,c,u,d=[];for(n=0;n<t.length;n++)r=t[n],o(r)||"boolean"===typeof r||(c=d.length-1,u=d[c],i(r)?r.length>0&&(r=We(r,"".concat(e||"","_").concat(n)),$e(r[0])&&$e(u)&&(d[c]=wt(u.text+r[0].text),r.shift()),d.push.apply(d,r)):l(r)?$e(u)?d[c]=wt(u.text+r):""!==r&&d.push(wt(r)):$e(r)&&$e(u)?d[c]=wt(u.text+r.text):(a(t._isVList)&&s(r.tag)&&o(r.key)&&s(e)&&(r.key="__vlist".concat(e,"_").concat(n,"__")),d.push(r)));return d}function Ye(t,e){var n,r,o,a,c=null;if(i(t)||"string"===typeof t)for(c=new Array(t.length),n=0,r=t.length;n<r;n++)c[n]=e(t[n],n);else if("number"===typeof t)for(c=new Array(t),n=0;n<t;n++)c[n]=e(n+1,n);else if(d(t))if(gt&&t[Symbol.iterator]){c=[];var l=t[Symbol.iterator](),u=l.next();while(!u.done)c.push(e(u.value,c.length)),u=l.next()}else for(o=Object.keys(t),c=new Array(o.length),n=0,r=o.length;n<r;n++)a=o[n],c[n]=e(t[a],a,n);return s(c)||(c=[]),c._isVList=!0,c}function qe(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=L(L({},r),n)),i=o(n)||(u(e)?e():e)):i=this.$slots[t]||(u(e)?e():e);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Xe(t){return Ti(this.$options,"filters",t,!0)||z}function Ke(t,e){return i(t)?-1===t.indexOf(e):t!==e}function Ze(t,e,n,r,i){var o=Y.keyCodes[e]||n;return i&&r&&!Y.keyCodes[e]?Ke(i,r):o?Ke(o,t):r?D(r)!==e:void 0===t}function Qe(t,e,n,r,o){if(n)if(d(n)){i(n)&&(n=B(n));var s=void 0,a=function(i){if("class"===i||"style"===i||w(i))s=t;else{var a=t.attrs&&t.attrs.type;s=r||Y.mustUseProp(e,a,i)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=S(i),l=D(i);if(!(c in s)&&!(l in s)&&(s[i]=n[i],o)){var u=t.on||(t.on={});u["update:".concat(i)]=function(t){n[i]=t}}};for(var c in n)a(c)}else;return t}function Je(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),en(r,"__static__".concat(t),!1)),r}function tn(t,e,n){return en(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function en(t,e,n){if(i(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&nn(t[r],"".concat(e,"_").concat(r),n);else nn(t,e,n)}function nn(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function rn(t,e){if(e)if(f(e)){var n=t.on=t.on?L({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function on(t,e,n,r){e=e||{$stable:!n};for(var o=0;o<t.length;o++){var s=t[o];i(s)?on(s,e,n):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return r&&(e.$key=r),e}function sn(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function an(t,e){return"string"===typeof t?e+t:t}function cn(t){t._o=tn,t._n=y,t._s=v,t._l=Ye,t._t=qe,t._q=F,t._i=V,t._m=Je,t._f=Xe,t._k=Ze,t._b=Qe,t._v=wt,t._e=kt,t._u=on,t._g=rn,t._d=sn,t._p=an}function ln(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in n)n[l].every(un)&&delete n[l];return n}function un(t){return t.isComment&&!t.asyncFactory||" "===t.text}function dn(t){return t.isComment&&t.asyncFactory}function hn(t,e,n,i){var o,s=Object.keys(n).length>0,a=e?!!e.$stable:!s,c=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&i&&i!==r&&c===i.$key&&!s&&!i.$hasNormal)return i;for(var l in o={},e)e[l]&&"$"!==l[0]&&(o[l]=fn(t,n,l,e[l]))}else o={};for(var u in n)u in o||(o[u]=pn(n,u));return e&&Object.isExtensible(e)&&(e._normalized=o),K(o,"$stable",a),K(o,"$key",c),K(o,"$hasNormal",s),o}function fn(t,e,n,r){var o=function(){var e=mt;bt(t);var n=arguments.length?r.apply(null,arguments):r({});n=n&&"object"===typeof n&&!i(n)?[n]:He(n);var o=n&&n[0];return bt(e),n&&(!o||1===n.length&&o.isComment&&!dn(o))?void 0:n};return r.proxy&&Object.defineProperty(e,n,{get:o,enumerable:!0,configurable:!0}),o}function pn(t,e){return function(){return t[e]}}function gn(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=mn(t);bt(t),Mt();var i=Vn(n,null,[t._props||$t({}),r],t,"setup");if(It(),bt(),u(i))e.render=i;else if(d(i))if(t._setupState=i,i.__sfc){var o=t._setupProxy={};for(var s in i)"__sfc"!==s&&ae(o,i,s)}else for(var s in i)X(s)||ae(t,i,s);else 0}}function mn(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};K(e,"_v_attr_proxy",!0),vn(e,t.$attrs,r,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};vn(e,t.$listeners,r,t,"$listeners")}return t._listenersProxy},get slots(){return yn(t)},emit:N(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return ae(t,e,n)}))}}}function vn(t,e,n,r,i){var o=!1;for(var s in e)s in t?e[s]!==n[s]&&(o=!0):(o=!0,bn(t,s,r,i));for(var s in t)s in e||(o=!0,delete t[s]);return o}function bn(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function yn(t){return t._slotsProxy||kn(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function kn(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function wn(){return Cn().slots}function _n(){return Cn().attrs}function An(){return Cn().listeners}function Cn(){var t=mt;return t._setupContext||(t._setupContext=mn(t))}function xn(t,e){var n=i(t)?t.reduce((function(t,e){return t[e]={},t}),{}):t;for(var r in e){var o=n[r];o?i(o)||u(o)?n[r]={type:o,default:e[r]}:o.default=e[r]:null===o&&(n[r]={default:e[r]})}return n}function En(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=ln(e._renderChildren,i),t.$scopedSlots=n?hn(t.$parent,n.data.scopedSlots,t.$slots):r,t._c=function(e,n,r,i){return Ln(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return Ln(t,e,n,r,i,!0)};var o=n&&n.data;Ft(t,"$attrs",o&&o.attrs||r,null,!0),Ft(t,"$listeners",e._parentListeners||r,null,!0)}var Sn=null;function Mn(t){cn(t.prototype),t.prototype.$nextTick=function(t){return Jn(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,r=e._parentVnode;r&&t._isMounted&&(t.$scopedSlots=hn(t.$parent,r.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&kn(t._slotsProxy,t.$scopedSlots)),t.$vnode=r;var o,s=mt,a=Sn;try{bt(t),Sn=t,o=n.call(t._renderProxy,t.$createElement)}catch(oc){Fn(oc,t,"render"),o=t._vnode}finally{Sn=a,bt(s)}return i(o)&&1===o.length&&(o=o[0]),o instanceof yt||(o=kt()),o.parent=r,o}}function In(t,e){return(t.__esModule||gt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),d(t)?e.extend(t):t}function Dn(t,e,n,r,i){var o=kt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function Tn(t,e){if(a(t.error)&&s(t.errorComp))return t.errorComp;if(s(t.resolved))return t.resolved;var n=Sn;if(n&&s(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&s(t.loadingComp))return t.loadingComp;if(n&&!s(t.owners)){var r=t.owners=[n],i=!0,c=null,l=null;n.$on("hook:destroyed",(function(){return _(r,n)}));var u=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},h=U((function(n){t.resolved=In(n,e),i?r.length=0:u(!0)})),f=U((function(e){s(t.errorComp)&&(t.error=!0,u(!0))})),p=t(h,f);return d(p)&&(m(p)?o(t.resolved)&&p.then(h,f):m(p.component)&&(p.component.then(h,f),s(p.error)&&(t.errorComp=In(p.error,e)),s(p.loading)&&(t.loadingComp=In(p.loading,e),0===p.delay?t.loading=!0:c=setTimeout((function(){c=null,o(t.resolved)&&o(t.error)&&(t.loading=!0,u(!1))}),p.delay||200)),s(p.timeout)&&(l=setTimeout((function(){l=null,o(t.resolved)&&f(null)}),p.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}function On(t){if(i(t))for(var e=0;e<t.length;e++){var n=t[e];if(s(n)&&(s(n.componentOptions)||dn(n)))return n}}var Nn=1,Pn=2;function Ln(t,e,n,r,o,s){return(i(n)||l(n))&&(o=r,r=n,n=void 0),a(s)&&(o=Pn),Bn(t,e,n,r,o)}function Bn(t,e,n,r,o){if(s(n)&&s(n.__ob__))return kt();if(s(n)&&s(n.is)&&(e=n.is),!e)return kt();var a,c;if(i(r)&&u(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===Pn?r=He(r):o===Nn&&(r=Ge(r)),"string"===typeof e){var l=void 0;c=t.$vnode&&t.$vnode.ns||Y.getTagNamespace(e),a=Y.isReservedTag(e)?new yt(Y.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!s(l=Ti(t.$options,"components",e))?new yt(e,n,r,void 0,void 0,t):pi(l,n,t,r,e)}else a=pi(e,n,t,r);return i(a)?a:s(a)?(s(c)&&Rn(a,c),s(n)&&jn(n),a):kt()}function Rn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),s(t.children))for(var r=0,i=t.children.length;r<i;r++){var c=t.children[r];s(c.tag)&&(o(c.ns)||a(n)&&"svg"!==c.tag)&&Rn(c,e,n)}}function jn(t){d(t.style)&&wr(t.style),d(t.class)&&wr(t.class)}function zn(t,e,n){return Ln(mt,t,e,n,2,!0)}function Fn(t,e,n){Mt();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var s=!1===i[o].call(r,t,e,n);if(s)return}catch(oc){Un(oc,r,"errorCaptured hook")}}}Un(t,e,n)}finally{It()}}function Vn(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&m(o)&&!o._handled&&(o.catch((function(t){return Fn(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(oc){Fn(oc,r,i)}return o}function Un(t,e,n){if(Y.errorHandler)try{return Y.errorHandler.call(null,t,e,n)}catch(oc){oc!==t&&Gn(oc,null,"config.errorHandler")}Gn(t,e,n)}function Gn(t,e,n){if(!tt||"undefined"===typeof console)throw t;console.error(t)}var Hn,$n=!1,Wn=[],Yn=!1;function qn(){Yn=!1;var t=Wn.slice(0);Wn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ft(Promise)){var Xn=Promise.resolve();Hn=function(){Xn.then(qn),ot&&setTimeout(R)},$n=!0}else if(nt||"undefined"===typeof MutationObserver||!ft(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Hn="undefined"!==typeof setImmediate&&ft(setImmediate)?function(){setImmediate(qn)}:function(){setTimeout(qn,0)};else{var Kn=1,Zn=new MutationObserver(qn),Qn=document.createTextNode(String(Kn));Zn.observe(Qn,{characterData:!0}),Hn=function(){Kn=(Kn+1)%2,Qn.data=String(Kn)},$n=!0}function Jn(t,e){var n;if(Wn.push((function(){if(t)try{t.call(e)}catch(oc){Fn(oc,e,"nextTick")}else n&&n(e)})),Yn||(Yn=!0,Hn()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function tr(t){if(void 0===t&&(t="$style"),!mt)return r;var e=mt[t];return e||r}function er(t){if(tt){var e=mt;e&&Ae((function(){var n=e.$el,r=t(e,e._setupProxy);if(n&&1===n.nodeType){var i=n.style;for(var o in r)i.setProperty("--".concat(o),r[o])}}))}}function nr(t){u(t)&&(t={loader:t});var e=t.loader,n=t.loadingComponent,r=t.errorComponent,i=t.delay,o=void 0===i?200:i,s=t.timeout,a=(t.suspensible,t.onError);var c=null,l=0,d=function(){return l++,c=null,h()},h=function(){var t;return c||(t=c=e().catch((function(t){if(t=t instanceof Error?t:new Error(String(t)),a)return new Promise((function(e,n){var r=function(){return e(d())},i=function(){return n(t)};a(t,r,i,l+1)}));throw t})).then((function(e){return t!==c&&c?c:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),e)})))};return function(){var t=h();return{component:t,delay:o,timeout:s,error:r,loading:n}}}function rr(t){return function(e,n){if(void 0===n&&(n=mt),n)return ir(n,t,e)}}function ir(t,e,n){var r=t.$options;r[e]=Ai(r[e],n)}var or=rr("beforeMount"),sr=rr("mounted"),ar=rr("beforeUpdate"),cr=rr("updated"),lr=rr("beforeDestroy"),ur=rr("destroyed"),dr=rr("activated"),hr=rr("deactivated"),fr=rr("serverPrefetch"),pr=rr("renderTracked"),gr=rr("renderTriggered"),mr=rr("errorCaptured");function vr(t,e){void 0===e&&(e=mt),mr(t,e)}var br="2.7.16";function yr(t){return t}var kr=new pt;function wr(t){return _r(t,kr),kr.clear(),t}function _r(t,e){var n,r,o=i(t);if(!(!o&&!d(t)||t.__v_skip||Object.isFrozen(t)||t instanceof yt)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(o){n=t.length;while(n--)_r(t[n],e)}else if(te(t))_r(t.value,e);else{r=Object.keys(t),n=r.length;while(n--)_r(t[r[n]],e)}}}var Ar,Cr=0,xr=function(){function t(t,e,n,r,i){Te(this,xe&&!xe._vm?xe:t?t._scope:void 0),(this.vm=t)&&i&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Cr,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pt,this.newDepIds=new pt,this.expression="",u(e)?this.getter=e:(this.getter=Q(e),this.getter||(this.getter=R)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;Mt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(oc){if(!this.user)throw oc;Fn(oc,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&wr(t),It(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ri(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||d(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');Vn(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&_(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function Er(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Dr(t,e)}function Sr(t,e){Ar.$on(t,e)}function Mr(t,e){Ar.$off(t,e)}function Ir(t,e){var n=Ar;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Dr(t,e,n){Ar=t,ze(e,n||{},Sr,Mr,Ir,t),Ar=void 0}function Tr(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(i(t))for(var o=0,s=t.length;o<s;o++)r.$on(t[o],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(i(t)){for(var r=0,o=t.length;r<o;r++)n.$off(t[r],e);return n}var s,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var c=a.length;while(c--)if(s=a[c],s===e||s.fn===e){a.splice(c,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?P(n):n;for(var r=P(arguments,1),i='event handler for "'.concat(t,'"'),o=0,s=n.length;o<s;o++)Vn(n[o],e,r,e,i)}return e}}var Or=null;function Nr(t){var e=Or;return Or=t,function(){Or=e}}function Pr(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Lr(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Nr(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);var s=n;while(s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode)s.$parent.$el=s.$el,s=s.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Vr(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Vr(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Br(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=kt),Vr(t,"beforeMount"),r=function(){t._update(t._render(),n)};var i={before:function(){t._isMounted&&!t._isDestroyed&&Vr(t,"beforeUpdate")}};new xr(t,r,R,i,!0),n=!1;var o=t._preWatchers;if(o)for(var s=0;s<o.length;s++)o[s].run();return null==t.$vnode&&(t._isMounted=!0,Vr(t,"mounted")),t}function Rr(t,e,n,i,o){var s=i.data.scopedSlots,a=t.$scopedSlots,c=!!(s&&!s.$stable||a!==r&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),l=!!(o||t.$options._renderChildren||c),u=t.$vnode;t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o;var d=i.data.attrs||r;t._attrsProxy&&vn(t._attrsProxy,d,u.data&&u.data.attrs||r,t,"$attrs")&&(l=!0),t.$attrs=d,n=n||r;var h=t.$options._parentListeners;if(t._listenersProxy&&vn(t._listenersProxy,n,h||r,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,Dr(t,n,h),e&&t.$options.props){Bt(!1);for(var f=t._props,p=t.$options._propKeys||[],g=0;g<p.length;g++){var m=p[g],v=t.$options.props;f[m]=Oi(m,v,e,t)}Bt(!0),t.$options.propsData=e}l&&(t.$slots=ln(o,i.context),t.$forceUpdate())}function jr(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function zr(t,e){if(e){if(t._directInactive=!1,jr(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)zr(t.$children[n]);Vr(t,"activated")}}function Fr(t,e){if((!e||(t._directInactive=!0,!jr(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Fr(t.$children[n]);Vr(t,"deactivated")}}function Vr(t,e,n,r){void 0===r&&(r=!0),Mt();var i=mt,o=Oe();r&&bt(t);var s=t.$options[e],a="".concat(e," hook");if(s)for(var c=0,l=s.length;c<l;c++)Vn(s[c],t,n||null,t,a);t._hasHookEvent&&t.$emit("hook:"+e),r&&(bt(i),o&&o.on()),It()}var Ur=[],Gr=[],Hr={},$r=!1,Wr=!1,Yr=0;function qr(){Yr=Ur.length=Gr.length=0,Hr={},$r=Wr=!1}var Xr=0,Kr=Date.now;if(tt&&!nt){var Zr=window.performance;Zr&&"function"===typeof Zr.now&&Kr()>document.createEvent("Event").timeStamp&&(Kr=function(){return Zr.now()})}var Qr=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function Jr(){var t,e;for(Xr=Kr(),Wr=!0,Ur.sort(Qr),Yr=0;Yr<Ur.length;Yr++)t=Ur[Yr],t.before&&t.before(),e=t.id,Hr[e]=null,t.run();var n=Gr.slice(),r=Ur.slice();qr(),ni(n),ti(r),xt(),ht&&Y.devtools&&ht.emit("flush")}function ti(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&Vr(r,"updated")}}function ei(t){t._inactive=!1,Gr.push(t)}function ni(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,zr(t[e],!0)}function ri(t){var e=t.id;if(null==Hr[e]&&(t!==Et.target||!t.noRecurse)){if(Hr[e]=!0,Wr){var n=Ur.length-1;while(n>Yr&&Ur[n].id>t.id)n--;Ur.splice(n+1,0,t)}else Ur.push(t);$r||($r=!0,Jn(Jr))}}function ii(t){var e=t.$options.provide;if(e){var n=u(e)?e.call(t):e;if(!d(n))return;for(var r=Le(t),i=gt?Reflect.ownKeys(n):Object.keys(n),o=0;o<i.length;o++){var s=i[o];Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))}}}function oi(t){var e=si(t.$options.inject,t);e&&(Bt(!1),Object.keys(e).forEach((function(n){Ft(t,n,e[n])})),Bt(!0))}function si(t,e){if(t){for(var n=Object.create(null),r=gt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=t[o].from;if(s in e._provided)n[o]=e._provided[s];else if("default"in t[o]){var a=t[o].default;n[o]=u(a)?a.call(e):a}else 0}}return n}}function ai(t,e,n,o,s){var c,l=this,u=s.options;C(o,"_uid")?(c=Object.create(o),c._original=o):(c=o,o=o._original);var d=a(u._compiled),h=!d;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||r,this.injections=si(u.inject,o),this.slots=function(){return l.$slots||hn(o,t.scopedSlots,l.$slots=ln(n,o)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return hn(o,t.scopedSlots,this.slots())}}),d&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=hn(o,t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,r){var s=Ln(c,t,e,n,r,h);return s&&!i(s)&&(s.fnScopeId=u._scopeId,s.fnContext=o),s}:this._c=function(t,e,n,r){return Ln(c,t,e,n,r,h)}}function ci(t,e,n,o,a){var c=t.options,l={},u=c.props;if(s(u))for(var d in u)l[d]=Oi(d,u,e||r);else s(n.attrs)&&ui(l,n.attrs),s(n.props)&&ui(l,n.props);var h=new ai(n,l,a,o,t),f=c.render.call(null,h._c,h);if(f instanceof yt)return li(f,n,h.parent,c,h);if(i(f)){for(var p=He(f)||[],g=new Array(p.length),m=0;m<p.length;m++)g[m]=li(p[m],n,h.parent,c,h);return g}}function li(t,e,n,r,i){var o=_t(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function ui(t,e){for(var n in e)t[S(n)]=e[n]}function di(t){return t.name||t.__name||t._componentTag}cn(ai.prototype);var hi={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;hi.prepatch(n,n)}else{var r=t.componentInstance=gi(t,Or);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;Rr(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Vr(n,"mounted")),t.data.keepAlive&&(e._isMounted?ei(n):zr(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Fr(e,!0):e.$destroy())}},fi=Object.keys(hi);function pi(t,e,n,r,i){if(!o(t)){var c=n.$options._base;if(d(t)&&(t=c.extend(t)),"function"===typeof t){var l;if(o(t.cid)&&(l=t,t=Tn(l,c),void 0===t))return Dn(l,e,n,r,i);e=e||{},no(t),s(e.model)&&bi(t.options,e);var u=Ve(e,t,i);if(a(t.options.functional))return ci(t,u,e,n,r);var h=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}mi(e);var p=di(t.options)||i,g=new yt("vue-component-".concat(t.cid).concat(p?"-".concat(p):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:u,listeners:h,tag:i,children:r},l);return g}}}function gi(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return s(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function mi(t){for(var e=t.hook||(t.hook={}),n=0;n<fi.length;n++){var r=fi[n],i=e[r],o=hi[r];i===o||i&&i._merged||(e[r]=i?vi(o,i):o)}}function vi(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function bi(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[r],c=e.model.callback;s(a)?(i(a)?-1===a.indexOf(c):a!==c)&&(o[r]=[c].concat(a)):o[r]=c}var yi=R,ki=Y.optionMergeStrategies;function wi(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var r,i,o,s=gt?Reflect.ownKeys(e):Object.keys(e),a=0;a<s.length;a++)r=s[a],"__ob__"!==r&&(i=t[r],o=e[r],n&&C(t,r)?i!==o&&f(i)&&f(o)&&wi(i,o):Vt(t,r,o));return t}function _i(t,e,n){return n?function(){var r=u(e)?e.call(n,n):e,i=u(t)?t.call(n,n):t;return r?wi(r,i):i}:e?t?function(){return wi(u(e)?e.call(this,this):e,u(t)?t.call(this,this):t)}:e:t}function Ai(t,e){var n=e?t?t.concat(e):i(e)?e:[e]:t;return n?Ci(n):n}function Ci(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function xi(t,e,n,r){var i=Object.create(t||null);return e?L(i,e):i}ki.data=function(t,e,n){return n?_i(t,e,n):e&&"function"!==typeof e?t:_i(t,e)},W.forEach((function(t){ki[t]=Ai})),$.forEach((function(t){ki[t+"s"]=xi})),ki.watch=function(t,e,n,r){if(t===ct&&(t=void 0),e===ct&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var s in L(o,t),e){var a=o[s],c=e[s];a&&!i(a)&&(a=[a]),o[s]=a?a.concat(c):i(c)?c:[c]}return o},ki.props=ki.methods=ki.inject=ki.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return L(i,t),e&&L(i,e),i},ki.provide=function(t,e){return t?function(){var n=Object.create(null);return wi(n,u(t)?t.call(this):t),e&&wi(n,u(e)?e.call(this):e,!1),n}:e};var Ei=function(t,e){return void 0===e?t:e};function Si(t,e){var n=t.props;if(n){var r,o,s,a={};if(i(n)){r=n.length;while(r--)o=n[r],"string"===typeof o&&(s=S(o),a[s]={type:null})}else if(f(n))for(var c in n)o=n[c],s=S(c),a[s]=f(o)?o:{type:o};else 0;t.props=a}}function Mi(t,e){var n=t.inject;if(n){var r=t.inject={};if(i(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(f(n))for(var s in n){var a=n[s];r[s]=f(a)?L({from:s},a):{from:a}}else 0}}function Ii(t){var e=t.directives;if(e)for(var n in e){var r=e[n];u(r)&&(e[n]={bind:r,update:r})}}function Di(t,e,n){if(u(e)&&(e=e.options),Si(e,n),Mi(e,n),Ii(e),!e._base&&(e.extends&&(t=Di(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Di(t,e.mixins[r],n);var o,s={};for(o in t)a(o);for(o in e)C(t,o)||a(o);function a(r){var i=ki[r]||Ei;s[r]=i(t[r],e[r],n,r)}return s}function Ti(t,e,n,r){if("string"===typeof n){var i=t[e];if(C(i,n))return i[n];var o=S(n);if(C(i,o))return i[o];var s=M(o);if(C(i,s))return i[s];var a=i[n]||i[o]||i[s];return a}}function Oi(t,e,n,r){var i=e[t],o=!C(n,t),s=n[t],a=Ri(Boolean,i.type);if(a>-1)if(o&&!C(i,"default"))s=!1;else if(""===s||s===D(t)){var c=Ri(String,i.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=Ni(r,i,t);var l=Lt;Bt(!0),zt(s),Bt(l)}return s}function Ni(t,e,n){if(C(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:u(r)&&"Function"!==Li(e.type)?r.call(t):r}}var Pi=/^\s*function (\w+)/;function Li(t){var e=t&&t.toString().match(Pi);return e?e[1]:""}function Bi(t,e){return Li(t)===Li(e)}function Ri(t,e){if(!i(e))return Bi(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Bi(e[n],t))return n;return-1}var ji={enumerable:!0,configurable:!0,get:R,set:R};function zi(t,e,n){ji.get=function(){return this[e][n]},ji.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ji)}function Fi(t){var e=t.$options;if(e.props&&Vi(t,e.props),gn(t),e.methods&&Xi(t,e.methods),e.data)Ui(t);else{var n=zt(t._data={});n&&n.vmCount++}e.computed&&$i(t,e.computed),e.watch&&e.watch!==ct&&Ki(t,e.watch)}function Vi(t,e){var n=t.$options.propsData||{},r=t._props=$t({}),i=t.$options._propKeys=[],o=!t.$parent;o||Bt(!1);var s=function(o){i.push(o);var s=Oi(o,e,n,t);Ft(r,o,s,void 0,!0),o in t||zi(t,"_props",o)};for(var a in e)s(a);Bt(!0)}function Ui(t){var e=t.$options.data;e=t._data=u(e)?Gi(e,t):e||{},f(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&C(r,o)||X(o)||zi(t,"_data",o)}var s=zt(e);s&&s.vmCount++}function Gi(t,e){Mt();try{return t.call(e,e)}catch(oc){return Fn(oc,e,"data()"),{}}finally{It()}}var Hi={lazy:!0};function $i(t,e){var n=t._computedWatchers=Object.create(null),r=dt();for(var i in e){var o=e[i],s=u(o)?o:o.get;0,r||(n[i]=new xr(t,s||R,R,Hi)),i in t||Wi(t,i,o)}}function Wi(t,e,n){var r=!dt();u(n)?(ji.get=r?Yi(e):qi(n),ji.set=R):(ji.get=n.get?r&&!1!==n.cache?Yi(e):qi(n.get):R,ji.set=n.set||R),Object.defineProperty(t,e,ji)}function Yi(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Et.target&&e.depend(),e.value}}function qi(t){return function(){return t.call(this,this)}}function Xi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?R:N(e[n],t)}function Ki(t,e){for(var n in e){var r=e[n];if(i(r))for(var o=0;o<r.length;o++)Zi(t,n,r[o]);else Zi(t,n,r)}}function Zi(t,e,n,r){return f(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function Qi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Vt,t.prototype.$delete=Ut,t.prototype.$watch=function(t,e,n){var r=this;if(f(e))return Zi(r,t,e,n);n=n||{},n.user=!0;var i=new xr(r,t,e,n);if(n.immediate){var o='callback for immediate watcher "'.concat(i.expression,'"');Mt(),Vn(e,r,[i.value],r,o),It()}return function(){i.teardown()}}}var Ji=0;function to(t){t.prototype._init=function(t){var e=this;e._uid=Ji++,e._isVue=!0,e.__v_skip=!0,e._scope=new Ie(!0),e._scope.parent=void 0,e._scope._vm=!0,t&&t._isComponent?eo(e,t):e.$options=Di(no(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Pr(e),Er(e),En(e),Vr(e,"beforeCreate",void 0,!1),oi(e),Fi(e),ii(e),Vr(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function eo(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function no(t){var e=t.options;if(t.super){var n=no(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=ro(t);i&&L(t.extendOptions,i),e=t.options=Di(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function ro(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function io(t){this._init(t)}function oo(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=P(arguments,1);return n.unshift(this),u(t.install)?t.install.apply(t,n):u(t)&&t.apply(null,n),e.push(t),this}}function so(t){t.mixin=function(t){return this.options=Di(this.options,t),this}}function ao(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=di(t)||di(n.options);var s=function(t){this._init(t)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=e++,s.options=Di(n.options,t),s["super"]=n,s.options.props&&co(s),s.options.computed&&lo(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,$.forEach((function(t){s[t]=n[t]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=L({},s.options),i[r]=s,s}}function co(t){var e=t.options.props;for(var n in e)zi(t.prototype,"_props",n)}function lo(t){var e=t.options.computed;for(var n in e)Wi(t.prototype,n,e[n])}function uo(t){$.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&f(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&u(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function ho(t){return t&&(di(t.Ctor.options)||t.tag)}function fo(t,e){return i(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function po(t,e){var n=t.cache,r=t.keys,i=t._vnode,o=t.$vnode;for(var s in n){var a=n[s];if(a){var c=a.name;c&&!e(c)&&go(n,s,r,i)}}o.componentOptions.children=void 0}function go(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,_(n,e)}to(io),Qi(io),Tr(io),Lr(io),Mn(io);var mo=[String,RegExp,Array],vo={name:"keep-alive",abstract:!0,props:{include:mo,exclude:mo,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var o=r.tag,s=r.componentInstance,a=r.componentOptions;e[i]={name:ho(a),tag:o,componentInstance:s},n.push(i),this.max&&n.length>parseInt(this.max)&&go(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)go(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){po(t,(function(t){return fo(e,t)}))})),this.$watch("exclude",(function(e){po(t,(function(t){return!fo(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=On(t),n=e&&e.componentOptions;if(n){var r=ho(n),i=this,o=i.include,s=i.exclude;if(o&&(!r||!fo(o,r))||s&&r&&fo(s,r))return e;var a=this,c=a.cache,l=a.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;c[u]?(e.componentInstance=c[u].componentInstance,_(l,u),l.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},bo={KeepAlive:vo};function yo(t){var e={get:function(){return Y}};Object.defineProperty(t,"config",e),t.util={warn:yi,extend:L,mergeOptions:Di,defineReactive:Ft},t.set=Vt,t.delete=Ut,t.nextTick=Jn,t.observable=function(t){return zt(t),t},t.options=Object.create(null),$.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,L(t.options.components,bo),oo(t),so(t),ao(t),uo(t)}yo(io),Object.defineProperty(io.prototype,"$isServer",{get:dt}),Object.defineProperty(io.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(io,"FunctionalRenderContext",{value:ai}),io.version=br;var ko=k("style,class"),wo=k("input,textarea,option,select,progress"),_o=function(t,e,n){return"value"===n&&wo(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Ao=k("contenteditable,draggable,spellcheck"),Co=k("events,caret,typing,plaintext-only"),xo=function(t,e){return Do(e)||"false"===e?"false":"contenteditable"===t&&Co(e)?e:"true"},Eo=k("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),So="http://www.w3.org/1999/xlink",Mo=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Io=function(t){return Mo(t)?t.slice(6,t.length):""},Do=function(t){return null==t||!1===t};function To(t){var e=t.data,n=t,r=t;while(s(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Oo(r.data,e));while(s(n=n.parent))n&&n.data&&(e=Oo(e,n.data));return No(e.staticClass,e.class)}function Oo(t,e){return{staticClass:Po(t.staticClass,e.staticClass),class:s(t.class)?[t.class,e.class]:e.class}}function No(t,e){return s(t)||s(e)?Po(t,Lo(e)):""}function Po(t,e){return t?e?t+" "+e:t:e||""}function Lo(t){return Array.isArray(t)?Bo(t):d(t)?Ro(t):"string"===typeof t?t:""}function Bo(t){for(var e,n="",r=0,i=t.length;r<i;r++)s(e=Lo(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Ro(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var jo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},zo=k("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Fo=k("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Vo=function(t){return zo(t)||Fo(t)};function Uo(t){return Fo(t)?"svg":"math"===t?"math":void 0}var Go=Object.create(null);function Ho(t){if(!tt)return!0;if(Vo(t))return!1;if(t=t.toLowerCase(),null!=Go[t])return Go[t];var e=document.createElement(t);return t.indexOf("-")>-1?Go[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Go[t]=/HTMLUnknownElement/.test(e.toString())}var $o=k("text,number,password,search,email,tel,url");function Wo(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Yo(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function qo(t,e){return document.createElementNS(jo[t],e)}function Xo(t){return document.createTextNode(t)}function Ko(t){return document.createComment(t)}function Zo(t,e,n){t.insertBefore(e,n)}function Qo(t,e){t.removeChild(e)}function Jo(t,e){t.appendChild(e)}function ts(t){return t.parentNode}function es(t){return t.nextSibling}function ns(t){return t.tagName}function rs(t,e){t.textContent=e}function is(t,e){t.setAttribute(e,"")}var os=Object.freeze({__proto__:null,createElement:Yo,createElementNS:qo,createTextNode:Xo,createComment:Ko,insertBefore:Zo,removeChild:Qo,appendChild:Jo,parentNode:ts,nextSibling:es,tagName:ns,setTextContent:rs,setStyleScope:is}),ss={create:function(t,e){as(e)},update:function(t,e){t.data.ref!==e.data.ref&&(as(t,!0),as(e))},destroy:function(t){as(t,!0)}};function as(t,e){var n=t.data.ref;if(s(n)){var r=t.context,o=t.componentInstance||t.elm,a=e?null:o,c=e?void 0:o;if(u(n))Vn(n,r,[a],r,"template ref function");else{var l=t.data.refInFor,d="string"===typeof n||"number"===typeof n,h=te(n),f=r.$refs;if(d||h)if(l){var p=d?f[n]:n.value;e?i(p)&&_(p,o):i(p)?p.includes(o)||p.push(o):d?(f[n]=[o],cs(r,n,f[n])):n.value=[o]}else if(d){if(e&&f[n]!==o)return;f[n]=c,cs(r,n,a)}else if(h){if(e&&n.value!==o)return;n.value=a}else 0}}}function cs(t,e,n){var r=t._setupState;r&&C(r,e)&&(te(r[e])?r[e].value=n:r[e]=n)}var ls=new yt("",{},[]),us=["create","activate","update","remove","destroy"];function ds(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&s(t.data)===s(e.data)&&hs(t,e)||a(t.isAsyncPlaceholder)&&o(e.asyncFactory.error))}function hs(t,e){if("input"!==t.tag)return!0;var n,r=s(n=t.data)&&s(n=n.attrs)&&n.type,i=s(n=e.data)&&s(n=n.attrs)&&n.type;return r===i||$o(r)&&$o(i)}function fs(t,e,n){var r,i,o={};for(r=e;r<=n;++r)i=t[r].key,s(i)&&(o[i]=r);return o}function ps(t){var e,n,r={},c=t.modules,u=t.nodeOps;for(e=0;e<us.length;++e)for(r[us[e]]=[],n=0;n<c.length;++n)s(c[n][us[e]])&&r[us[e]].push(c[n][us[e]]);function d(t){return new yt(u.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=u.parentNode(t);s(e)&&u.removeChild(e,t)}function p(t,e,n,r,i,o,c){if(s(t.elm)&&s(o)&&(t=o[c]=_t(t)),t.isRootInsert=!i,!g(t,e,n,r)){var l=t.data,d=t.children,h=t.tag;s(h)?(t.elm=t.ns?u.createElementNS(t.ns,h):u.createElement(h,t),A(t),y(t,d,e),s(l)&&_(t,e),b(n,t.elm,r)):a(t.isComment)?(t.elm=u.createComment(t.text),b(n,t.elm,r)):(t.elm=u.createTextNode(t.text),b(n,t.elm,r))}}function g(t,e,n,r){var i=t.data;if(s(i)){var o=s(t.componentInstance)&&i.keepAlive;if(s(i=i.hook)&&s(i=i.init)&&i(t,!1),s(t.componentInstance))return m(t,e),b(n,t.elm,r),a(o)&&v(t,e,n,r),!0}}function m(t,e){s(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(_(t,e),A(t)):(as(t),e.push(t))}function v(t,e,n,i){var o,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,s(o=a.data)&&s(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](ls,a);e.push(a);break}b(n,t.elm,i)}function b(t,e,n){s(t)&&(s(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function y(t,e,n){if(i(e)){0;for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r)}else l(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return s(t.tag)}function _(t,n){for(var i=0;i<r.create.length;++i)r.create[i](ls,t);e=t.data.hook,s(e)&&(s(e.create)&&e.create(ls,t),s(e.insert)&&n.push(t))}function A(t){var e;if(s(e=t.fnScopeId))u.setStyleScope(t.elm,e);else{var n=t;while(n)s(e=n.context)&&s(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent}s(e=Or)&&e!==t.context&&e!==t.fnContext&&s(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function C(t,e,n,r,i,o){for(;r<=i;++r)p(n[r],o,t,e,!1,n,r)}function x(t){var e,n,i=t.data;if(s(i))for(s(e=i.hook)&&s(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(s(e=t.children))for(n=0;n<t.children.length;++n)x(t.children[n])}function E(t,e,n){for(;e<=n;++e){var r=t[e];s(r)&&(s(r.tag)?(S(r),x(r)):f(r.elm))}}function S(t,e){if(s(e)||s(t.data)){var n,i=r.remove.length+1;for(s(e)?e.listeners+=i:e=h(t.elm,i),s(n=t.componentInstance)&&s(n=n._vnode)&&s(n.data)&&S(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);s(n=t.data.hook)&&s(n=n.remove)?n(t,e):e()}else f(t.elm)}function M(t,e,n,r,i){var a,c,l,d,h=0,f=0,g=e.length-1,m=e[0],v=e[g],b=n.length-1,y=n[0],k=n[b],w=!i;while(h<=g&&f<=b)o(m)?m=e[++h]:o(v)?v=e[--g]:ds(m,y)?(D(m,y,r,n,f),m=e[++h],y=n[++f]):ds(v,k)?(D(v,k,r,n,b),v=e[--g],k=n[--b]):ds(m,k)?(D(m,k,r,n,b),w&&u.insertBefore(t,m.elm,u.nextSibling(v.elm)),m=e[++h],k=n[--b]):ds(v,y)?(D(v,y,r,n,f),w&&u.insertBefore(t,v.elm,m.elm),v=e[--g],y=n[++f]):(o(a)&&(a=fs(e,h,g)),c=s(y.key)?a[y.key]:I(y,e,h,g),o(c)?p(y,r,t,m.elm,!1,n,f):(l=e[c],ds(l,y)?(D(l,y,r,n,f),e[c]=void 0,w&&u.insertBefore(t,l.elm,m.elm)):p(y,r,t,m.elm,!1,n,f)),y=n[++f]);h>g?(d=o(n[b+1])?null:n[b+1].elm,C(t,d,n,f,b,r)):f>b&&E(e,h,g)}function I(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(s(o)&&ds(t,o))return i}}function D(t,e,n,i,c,l){if(t!==e){s(e.elm)&&s(i)&&(e=i[c]=_t(e));var d=e.elm=t.elm;if(a(t.isAsyncPlaceholder))s(e.asyncFactory.resolved)?N(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,f=e.data;s(f)&&s(h=f.hook)&&s(h=h.prepatch)&&h(t,e);var p=t.children,g=e.children;if(s(f)&&w(e)){for(h=0;h<r.update.length;++h)r.update[h](t,e);s(h=f.hook)&&s(h=h.update)&&h(t,e)}o(e.text)?s(p)&&s(g)?p!==g&&M(d,p,g,n,l):s(g)?(s(t.text)&&u.setTextContent(d,""),C(d,null,g,0,g.length-1,n)):s(p)?E(p,0,p.length-1):s(t.text)&&u.setTextContent(d,""):t.text!==e.text&&u.setTextContent(d,e.text),s(f)&&s(h=f.hook)&&s(h=h.postpatch)&&h(t,e)}}}function T(t,e,n){if(a(n)&&s(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var O=k("attrs,class,staticClass,staticStyle,key");function N(t,e,n,r){var i,o=e.tag,c=e.data,l=e.children;if(r=r||c&&c.pre,e.elm=t,a(e.isComment)&&s(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(s(c)&&(s(i=c.hook)&&s(i=i.init)&&i(e,!0),s(i=e.componentInstance)))return m(e,n),!0;if(s(o)){if(s(l))if(t.hasChildNodes())if(s(i=c)&&s(i=i.domProps)&&s(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var u=!0,d=t.firstChild,h=0;h<l.length;h++){if(!d||!N(d,l[h],n,r)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else y(e,l,n);if(s(c)){var f=!1;for(var p in c)if(!O(p)){f=!0,_(e,n);break}!f&&c["class"]&&wr(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,i){if(!o(e)){var c=!1,l=[];if(o(t))c=!0,p(e,l);else{var h=s(t.nodeType);if(!h&&ds(t,e))D(t,e,l,null,null,i);else{if(h){if(1===t.nodeType&&t.hasAttribute(H)&&(t.removeAttribute(H),n=!0),a(n)&&N(t,e,l))return T(e,l,!0),t;t=d(t)}var f=t.elm,g=u.parentNode(f);if(p(e,l,f._leaveCb?null:g,u.nextSibling(f)),s(e.parent)){var m=e.parent,v=w(e);while(m){for(var b=0;b<r.destroy.length;++b)r.destroy[b](m);if(m.elm=e.elm,v){for(var y=0;y<r.create.length;++y)r.create[y](ls,m);var k=m.data.hook.insert;if(k.merged)for(var _=k.fns.slice(1),A=0;A<_.length;A++)_[A]()}else as(m);m=m.parent}}s(g)?E([t],0,0):s(t.tag)&&x(t)}}return T(e,l,c),e.elm}s(t)&&x(t)}}var gs={create:ms,update:ms,destroy:function(t){ms(t,ls)}};function ms(t,e){(t.data.directives||e.data.directives)&&vs(t,e)}function vs(t,e){var n,r,i,o=t===ls,s=e===ls,a=ys(t.data.directives,t.context),c=ys(e.data.directives,e.context),l=[],u=[];for(n in c)r=a[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,ws(i,"update",e,t),i.def&&i.def.componentUpdated&&u.push(i)):(ws(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var d=function(){for(var n=0;n<l.length;n++)ws(l[n],"inserted",e,t)};o?Fe(e,"insert",d):d()}if(u.length&&Fe(e,"postpatch",(function(){for(var n=0;n<u.length;n++)ws(u[n],"componentUpdated",e,t)})),!o)for(n in a)c[n]||ws(a[n],"unbind",t,t,s)}var bs=Object.create(null);function ys(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++){if(r=t[n],r.modifiers||(r.modifiers=bs),i[ks(r)]=r,e._setupState&&e._setupState.__sfc){var o=r.def||Ti(e,"_setupState","v-"+r.name);r.def="function"===typeof o?{bind:o,update:o}:o}r.def=r.def||Ti(e.$options,"directives",r.name,!0)}return i}function ks(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function ws(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(oc){Fn(oc,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var _s=[ss,gs];function As(t,e){var n=e.componentOptions;if((!s(n)||!1!==n.Ctor.options.inheritAttrs)&&(!o(t.data.attrs)||!o(e.data.attrs))){var r,i,c,l=e.elm,u=t.data.attrs||{},d=e.data.attrs||{};for(r in(s(d.__ob__)||a(d._v_attr_proxy))&&(d=e.data.attrs=L({},d)),d)i=d[r],c=u[r],c!==i&&Cs(l,r,i,e.data.pre);for(r in(nt||it)&&d.value!==u.value&&Cs(l,"value",d.value),u)o(d[r])&&(Mo(r)?l.removeAttributeNS(So,Io(r)):Ao(r)||l.removeAttribute(r))}}function Cs(t,e,n,r){r||t.tagName.indexOf("-")>-1?xs(t,e,n):Eo(e)?Do(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Ao(e)?t.setAttribute(e,xo(e,n)):Mo(e)?Do(n)?t.removeAttributeNS(So,Io(e)):t.setAttributeNS(So,e,n):xs(t,e,n)}function xs(t,e,n){if(Do(n))t.removeAttribute(e);else{if(nt&&!rt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Es={create:As,update:As};function Ss(t,e){var n=e.elm,r=e.data,i=t.data;if(!(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var a=To(e),c=n._transitionClasses;s(c)&&(a=Po(a,Lo(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Ms,Is={create:Ss,update:Ss},Ds="__r",Ts="__c";function Os(t){if(s(t[Ds])){var e=nt?"change":"input";t[e]=[].concat(t[Ds],t[e]||[]),delete t[Ds]}s(t[Ts])&&(t.change=[].concat(t[Ts],t.change||[]),delete t[Ts])}function Ns(t,e,n){var r=Ms;return function i(){var o=e.apply(null,arguments);null!==o&&Bs(t,i,n,r)}}var Ps=$n&&!(at&&Number(at[1])<=53);function Ls(t,e,n,r){if(Ps){var i=Xr,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Ms.addEventListener(t,e,lt?{capture:n,passive:r}:n)}function Bs(t,e,n,r){(r||Ms).removeEventListener(t,e._wrapper||e,n)}function Rs(t,e){if(!o(t.data.on)||!o(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Ms=e.elm||t.elm,Os(n),ze(n,r,Ls,Bs,Ns,e.context),Ms=void 0}}var js,zs={create:Rs,update:Rs,destroy:function(t){return Rs(t,ls)}};function Fs(t,e){if(!o(t.data.domProps)||!o(e.data.domProps)){var n,r,i=e.elm,c=t.data.domProps||{},l=e.data.domProps||{};for(n in(s(l.__ob__)||a(l._v_attr_proxy))&&(l=e.data.domProps=L({},l)),c)n in l||(i[n]="");for(n in l){if(r=l[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===c[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var u=o(r)?"":String(r);Vs(i,u)&&(i.value=u)}else if("innerHTML"===n&&Fo(i.tagName)&&o(i.innerHTML)){js=js||document.createElement("div"),js.innerHTML="<svg>".concat(r,"</svg>");var d=js.firstChild;while(i.firstChild)i.removeChild(i.firstChild);while(d.firstChild)i.appendChild(d.firstChild)}else if(r!==c[n])try{i[n]=r}catch(oc){}}}}function Vs(t,e){return!t.composing&&("OPTION"===t.tagName||Us(t,e)||Gs(t,e))}function Us(t,e){var n=!0;try{n=document.activeElement!==t}catch(oc){}return n&&t.value!==e}function Gs(t,e){var n=t.value,r=t._vModifiers;if(s(r)){if(r.number)return y(n)!==y(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var Hs={create:Fs,update:Fs},$s=x((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function Ws(t){var e=Ys(t.style);return t.staticStyle?L(t.staticStyle,e):e}function Ys(t){return Array.isArray(t)?B(t):"string"===typeof t?$s(t):t}function qs(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=Ws(i.data))&&L(r,n)}(n=Ws(t.data))&&L(r,n);var o=t;while(o=o.parent)o.data&&(n=Ws(o.data))&&L(r,n);return r}var Xs,Ks=/^--/,Zs=/\s*!important$/,Qs=function(t,e,n){if(Ks.test(e))t.style.setProperty(e,n);else if(Zs.test(n))t.style.setProperty(D(e),n.replace(Zs,""),"important");else{var r=ta(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},Js=["Webkit","Moz","ms"],ta=x((function(t){if(Xs=Xs||document.createElement("div").style,t=S(t),"filter"!==t&&t in Xs)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Js.length;n++){var r=Js[n]+e;if(r in Xs)return r}}));function ea(t,e){var n=e.data,r=t.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var i,a,c=e.elm,l=r.staticStyle,u=r.normalizedStyle||r.style||{},d=l||u,h=Ys(e.data.style)||{};e.data.normalizedStyle=s(h.__ob__)?L({},h):h;var f=qs(e,!0);for(a in d)o(f[a])&&Qs(c,a,"");for(a in f)i=f[a],Qs(c,a,null==i?"":i)}}var na={create:ea,update:ea},ra=/\s+/;function ia(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ra).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function oa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ra).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function sa(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&L(e,aa(t.name||"v")),L(e,t),e}return"string"===typeof t?aa(t):void 0}}var aa=x((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),ca=tt&&!rt,la="transition",ua="animation",da="transition",ha="transitionend",fa="animation",pa="animationend";ca&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(da="WebkitTransition",ha="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(fa="WebkitAnimation",pa="webkitAnimationEnd"));var ga=tt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ma(t){ga((function(){ga(t)}))}function va(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),ia(t,e))}function ba(t,e){t._transitionClasses&&_(t._transitionClasses,e),oa(t,e)}function ya(t,e,n){var r=wa(t,e),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===la?ha:pa,c=0,l=function(){t.removeEventListener(a,u),n()},u=function(e){e.target===t&&++c>=s&&l()};setTimeout((function(){c<s&&l()}),o+1),t.addEventListener(a,u)}var ka=/\b(transform|all)(,|$)/;function wa(t,e){var n,r=window.getComputedStyle(t),i=(r[da+"Delay"]||"").split(", "),o=(r[da+"Duration"]||"").split(", "),s=_a(i,o),a=(r[fa+"Delay"]||"").split(", "),c=(r[fa+"Duration"]||"").split(", "),l=_a(a,c),u=0,d=0;e===la?s>0&&(n=la,u=s,d=o.length):e===ua?l>0&&(n=ua,u=l,d=c.length):(u=Math.max(s,l),n=u>0?s>l?la:ua:null,d=n?n===la?o.length:c.length:0);var h=n===la&&ka.test(r[da+"Property"]);return{type:n,timeout:u,propCount:d,hasTransform:h}}function _a(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Aa(e)+Aa(t[n])})))}function Aa(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Ca(t,e){var n=t.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=sa(t.data.transition);if(!o(r)&&!s(n._enterCb)&&1===n.nodeType){var i=r.css,a=r.type,c=r.enterClass,l=r.enterToClass,h=r.enterActiveClass,f=r.appearClass,p=r.appearToClass,g=r.appearActiveClass,m=r.beforeEnter,v=r.enter,b=r.afterEnter,k=r.enterCancelled,w=r.beforeAppear,_=r.appear,A=r.afterAppear,C=r.appearCancelled,x=r.duration,E=Or,S=Or.$vnode;while(S&&S.parent)E=S.context,S=S.parent;var M=!E._isMounted||!t.isRootInsert;if(!M||_||""===_){var I=M&&f?f:c,D=M&&g?g:h,T=M&&p?p:l,O=M&&w||m,N=M&&u(_)?_:v,P=M&&A||b,L=M&&C||k,B=y(d(x)?x.enter:x);0;var R=!1!==i&&!rt,j=Sa(N),z=n._enterCb=U((function(){R&&(ba(n,T),ba(n,D)),z.cancelled?(R&&ba(n,I),L&&L(n)):P&&P(n),n._enterCb=null}));t.data.show||Fe(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),N&&N(n,z)})),O&&O(n),R&&(va(n,I),va(n,D),ma((function(){ba(n,I),z.cancelled||(va(n,T),j||(Ea(B)?setTimeout(z,B):ya(n,a,z)))}))),t.data.show&&(e&&e(),N&&N(n,z)),R||j||z()}}}function xa(t,e){var n=t.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=sa(t.data.transition);if(o(r)||1!==n.nodeType)return e();if(!s(n._leaveCb)){var i=r.css,a=r.type,c=r.leaveClass,l=r.leaveToClass,u=r.leaveActiveClass,h=r.beforeLeave,f=r.leave,p=r.afterLeave,g=r.leaveCancelled,m=r.delayLeave,v=r.duration,b=!1!==i&&!rt,k=Sa(f),w=y(d(v)?v.leave:v);0;var _=n._leaveCb=U((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(ba(n,l),ba(n,u)),_.cancelled?(b&&ba(n,c),g&&g(n)):(e(),p&&p(n)),n._leaveCb=null}));m?m(A):A()}function A(){_.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),h&&h(n),b&&(va(n,c),va(n,u),ma((function(){ba(n,c),_.cancelled||(va(n,l),k||(Ea(w)?setTimeout(_,w):ya(n,a,_)))}))),f&&f(n,_),b||k||_())}}function Ea(t){return"number"===typeof t&&!isNaN(t)}function Sa(t){if(o(t))return!1;var e=t.fns;return s(e)?Sa(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Ma(t,e){!0!==e.data.show&&Ca(e)}var Ia=tt?{create:Ma,activate:Ma,remove:function(t,e){!0!==t.data.show?xa(t,e):e()}}:{},Da=[Es,Is,zs,Hs,na,Ia],Ta=Da.concat(_s),Oa=ps({nodeOps:os,modules:Ta});rt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Fa(t,"input")}));var Na={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Fe(n,"postpatch",(function(){Na.componentUpdated(t,e,n)})):Pa(t,e,n.context),t._vOptions=[].map.call(t.options,Ra)):("textarea"===n.tag||$o(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ja),t.addEventListener("compositionend",za),t.addEventListener("change",za),rt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Pa(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Ra);if(i.some((function(t,e){return!F(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return Ba(t,i)})):e.value!==e.oldValue&&Ba(e.value,i);o&&Fa(t,"change")}}}};function Pa(t,e,n){La(t,e,n),(nt||it)&&setTimeout((function(){La(t,e,n)}),0)}function La(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,c=t.options.length;a<c;a++)if(s=t.options[a],i)o=V(r,Ra(s))>-1,s.selected!==o&&(s.selected=o);else if(F(Ra(s),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));i||(t.selectedIndex=-1)}}function Ba(t,e){return e.every((function(e){return!F(e,t)}))}function Ra(t){return"_value"in t?t._value:t.value}function ja(t){t.target.composing=!0}function za(t){t.target.composing&&(t.target.composing=!1,Fa(t.target,"input"))}function Fa(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Va(t){return!t.componentInstance||t.data&&t.data.transition?t:Va(t.componentInstance._vnode)}var Ua={bind:function(t,e,n){var r=e.value;n=Va(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Ca(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=Va(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Ca(n,(function(){t.style.display=t.__vOriginalDisplay})):xa(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},Ga={model:Na,show:Ua},Ha={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function $a(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?$a(On(e.children)):t}function Wa(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var r in i)e[S(r)]=i[r];return e}function Ya(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function qa(t){while(t=t.parent)if(t.data.transition)return!0}function Xa(t,e){return e.key===t.key&&e.tag===t.tag}var Ka=function(t){return t.tag||dn(t)},Za=function(t){return"show"===t.name},Qa={name:"transition",props:Ha,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Ka),n.length)){0;var r=this.mode;0;var i=n[0];if(qa(this.$vnode))return i;var o=$a(i);if(!o)return i;if(this._leaving)return Ya(t,i);var s="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?s+"comment":s+o.tag:l(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=Wa(this),c=this._vnode,u=$a(c);if(o.data.directives&&o.data.directives.some(Za)&&(o.data.show=!0),u&&u.data&&!Xa(o,u)&&!dn(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=L({},a);if("out-in"===r)return this._leaving=!0,Fe(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Ya(t,i);if("in-out"===r){if(dn(o))return c;var h,f=function(){h()};Fe(a,"afterEnter",f),Fe(a,"enterCancelled",f),Fe(d,"delayLeave",(function(t){h=t}))}}return i}}},Ja=L({tag:String,moveClass:String},Ha);delete Ja.mode;var tc={props:Ja,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Nr(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=Wa(this),a=0;a<i.length;a++){var c=i[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(r){var l=[],u=[];for(a=0;a<r.length;a++){c=r[a];c.data.transition=s,c.data.pos=c.elm.getBoundingClientRect(),n[c.key]?l.push(c):u.push(c)}this.kept=t(e,null,l),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(ec),t.forEach(nc),t.forEach(rc),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;va(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ha,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ha,t),n._moveCb=null,ba(n,e))})}})))},methods:{hasMove:function(t,e){if(!ca)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){oa(n,t)})),ia(n,e),n.style.display="none",this.$el.appendChild(n);var r=wa(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function ec(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function nc(t){t.data.newPos=t.elm.getBoundingClientRect()}function rc(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}var ic={Transition:Qa,TransitionGroup:tc};io.config.mustUseProp=_o,io.config.isReservedTag=Vo,io.config.isReservedAttr=ko,io.config.getTagNamespace=Uo,io.config.isUnknownElement=Ho,L(io.options.directives,Ga),L(io.options.components,ic),io.prototype.__patch__=tt?Oa:R,io.prototype.$mount=function(t,e){return t=t&&tt?Wo(t):void 0,Br(this,t,e)},tt&&setTimeout((function(){Y.devtools&&ht&&ht.emit("init",io)}),0)},5353:function(t,e,n){"use strict";
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function r(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,n.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var i="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{},o=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(t){o&&(t._devtoolHook=o,o.emit("vuex:init",t),o.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){o.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){o.emit("vuex:action",t,e)}),{prepend:!0}))}function a(t,e){return t.filter(e)[0]}function c(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var n=a(e,(function(e){return e.original===t}));if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach((function(n){r[n]=c(t[n],e)})),r}function l(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function u(t){return null!==t&&"object"===typeof t}function d(t){return t&&"function"===typeof t.then}function h(t,e){return function(){return t(e)}}var f=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},p={namespaced:{configurable:!0}};p.namespaced.get=function(){return!!this._rawModule.namespaced},f.prototype.addChild=function(t,e){this._children[t]=e},f.prototype.removeChild=function(t){delete this._children[t]},f.prototype.getChild=function(t){return this._children[t]},f.prototype.hasChild=function(t){return t in this._children},f.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},f.prototype.forEachChild=function(t){l(this._children,t)},f.prototype.forEachGetter=function(t){this._rawModule.getters&&l(this._rawModule.getters,t)},f.prototype.forEachAction=function(t){this._rawModule.actions&&l(this._rawModule.actions,t)},f.prototype.forEachMutation=function(t){this._rawModule.mutations&&l(this._rawModule.mutations,t)},Object.defineProperties(f.prototype,p);var g=function(t){this.register([],t,!1)};function m(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;m(t.concat(r),e.getChild(r),n.modules[r])}}g.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},g.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},g.prototype.update=function(t){m([],this.root,t)},g.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new f(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&l(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},g.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},g.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var v;var b=function(t){var e=this;void 0===t&&(t={}),!v&&"undefined"!==typeof window&&window.Vue&&O(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new g(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new v,this._makeLocalGettersCache=Object.create(null);var i=this,o=this,a=o.dispatch,c=o.commit;this.dispatch=function(t,e){return a.call(i,t,e)},this.commit=function(t,e,n){return c.call(i,t,e,n)},this.strict=r;var l=this._modules.root.state;A(this,l,[],this._modules.root),_(this,l),n.forEach((function(t){return t(e)}));var u=void 0!==t.devtools?t.devtools:v.config.devtools;u&&s(this)},y={state:{configurable:!0}};function k(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function w(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;A(t,n,[],t._modules.root,!0),_(t,n,e)}function _(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};l(i,(function(e,n){o[n]=h(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var s=v.config.silent;v.config.silent=!0,t._vm=new v({data:{$$state:e},computed:o}),v.config.silent=s,t.strict&&I(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),v.nextTick((function(){return r.$destroy()})))}function A(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=D(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit((function(){v.set(a,c,r.state)}))}var l=r.context=C(t,s,n);r.forEachMutation((function(e,n){var r=s+n;E(t,r,e,l)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,i=e.handler||e;S(t,r,i,l)})),r.forEachGetter((function(e,n){var r=s+n;M(t,r,e,l)})),r.forEachChild((function(r,o){A(t,e,n.concat(o),r,i)}))}function C(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=T(n,r,i),s=o.payload,a=o.options,c=o.type;return a&&a.root||(c=e+c),t.dispatch(c,s)},commit:r?t.commit:function(n,r,i){var o=T(n,r,i),s=o.payload,a=o.options,c=o.type;a&&a.root||(c=e+c),t.commit(c,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return x(t,e)}},state:{get:function(){return D(t.state,n)}}}),i}function x(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function E(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function S(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return d(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function M(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function I(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function D(t,e){return e.reduce((function(t,e){return t[e]}),t)}function T(t,e,n){return u(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function O(t){v&&t===v||(v=t,r(v))}y.state.get=function(){return this._vm._data.$$state},y.state.set=function(t){0},b.prototype.commit=function(t,e,n){var r=this,i=T(t,e,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),c=this._mutations[o];c&&(this._withCommit((function(){c.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},b.prototype.dispatch=function(t,e){var n=this,r=T(t,e),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(l){0}var c=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){c.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(l){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(l){0}e(t)}))}))}},b.prototype.subscribe=function(t,e){return k(t,this._subscribers,e)},b.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return k(n,this._actionSubscribers,e)},b.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},b.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},b.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),A(this,this.state,t,this._modules.get(t),n.preserveState),_(this,this.state)},b.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=D(e.state,t.slice(0,-1));v.delete(n,t[t.length-1])})),w(this)},b.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},b.prototype.hotUpdate=function(t){this._modules.update(t),w(this,!0)},b.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(b.prototype,y);var N=F((function(t,e){var n={};return j(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=V(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),P=F((function(t,e){var n={};return j(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=V(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),L=F((function(t,e){var n={};return j(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||V(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),B=F((function(t,e){var n={};return j(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=V(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),R=function(t){return{mapState:N.bind(null,t),mapGetters:L.bind(null,t),mapMutations:P.bind(null,t),mapActions:B.bind(null,t)}};function j(t){return z(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function z(t){return Array.isArray(t)||u(t)}function F(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function V(t,e,n){var r=t._modulesNamespaceMap[n];return r}function U(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var i=t.mutationTransformer;void 0===i&&(i=function(t){return t});var o=t.actionFilter;void 0===o&&(o=function(t,e){return!0});var s=t.actionTransformer;void 0===s&&(s=function(t){return t});var a=t.logMutations;void 0===a&&(a=!0);var l=t.logActions;void 0===l&&(l=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var d=c(t.state);"undefined"!==typeof u&&(a&&t.subscribe((function(t,o){var s=c(o);if(n(t,d,s)){var a=$(),l=i(t),h="mutation "+t.type+a;G(u,h,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(d)),u.log("%c mutation","color: #03A9F4; font-weight: bold",l),u.log("%c next state","color: #4CAF50; font-weight: bold",r(s)),H(u)}d=s})),l&&t.subscribeAction((function(t,n){if(o(t,n)){var r=$(),i=s(t),a="action "+t.type+r;G(u,a,e),u.log("%c action","color: #03A9F4; font-weight: bold",i),H(u)}})))}}function G(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(i){t.log(e)}}function H(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function $(){var t=new Date;return" @ "+Y(t.getHours(),2)+":"+Y(t.getMinutes(),2)+":"+Y(t.getSeconds(),2)+"."+Y(t.getMilliseconds(),3)}function W(t,e){return new Array(e+1).join(t)}function Y(t,e){return W("0",e-t.toString().length)+t}var q={Store:b,install:O,version:"3.6.2",mapState:N,mapMutations:P,mapGetters:L,mapActions:B,createNamespacedHelpers:R,createLogger:U};e.Ay=q},9306:function(t,e,n){"use strict";var r=n(4901),i=n(6823),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},8551:function(t,e,n){"use strict";var r=n(34),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},9617:function(t,e,n){"use strict";var r=n(5397),i=n(5610),o=n(6198),s=function(t){return function(e,n,s){var a=r(e),c=o(a);if(0===c)return!t&&-1;var l,u=i(s,c);if(t&&n!==n){while(c>u)if(l=a[u++],l!==l)return!0}else for(;c>u;u++)if((t||u in a)&&a[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},4527:function(t,e,n){"use strict";var r=n(3724),i=n(4376),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!s(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4576:function(t,e,n){"use strict";var r=n(9504),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},7740:function(t,e,n){"use strict";var r=n(9297),i=n(5031),o=n(7347),s=n(4913);t.exports=function(t,e,n){for(var a=i(e),c=s.f,l=o.f,u=0;u<a.length;u++){var d=a[u];r(t,d)||n&&r(n,d)||c(t,d,l(e,d))}}},6699:function(t,e,n){"use strict";var r=n(3724),i=n(4913),o=n(6980);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6840:function(t,e,n){"use strict";var r=n(4901),i=n(4913),o=n(283),s=n(9433);t.exports=function(t,e,n,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:e;if(r(n)&&o(n,l,a),a.global)c?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(u){}c?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},9433:function(t,e,n){"use strict";var r=n(4475),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},3724:function(t,e,n){"use strict";var r=n(9039);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(t,e,n){"use strict";var r=n(4475),i=n(34),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},6837:function(t){"use strict";var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},9392:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(t,e,n){"use strict";var r,i,o=n(4475),s=n(9392),a=o.process,c=o.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(t,e,n){"use strict";var r=n(4475),i=n(7347).f,o=n(6699),s=n(6840),a=n(9433),c=n(7740),l=n(2796);t.exports=function(t,e){var n,u,d,h,f,p,g=t.target,m=t.global,v=t.stat;if(u=m?r:v?r[g]||a(g,{}):r[g]&&r[g].prototype,u)for(d in e){if(f=e[d],t.dontCallGetSet?(p=i(u,d),h=p&&p.value):h=u[d],n=l(m?d:g+(v?".":"#")+d,t.forced),!n&&void 0!==h){if(typeof f==typeof h)continue;c(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),s(u,d,f,t)}}},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},616:function(t,e,n){"use strict";var r=n(9039);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:function(t,e,n){"use strict";var r=n(616),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},350:function(t,e,n){"use strict";var r=n(3724),i=n(9297),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,l=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},9504:function(t,e,n){"use strict";var r=n(616),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);t.exports=r?s:function(t){return function(){return o.apply(t,arguments)}}},7751:function(t,e,n){"use strict";var r=n(4475),i=n(4901),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},5966:function(t,e,n){"use strict";var r=n(9306),i=n(4117);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},4475:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,n){"use strict";var r=n(9504),i=n(8981),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},421:function(t){"use strict";t.exports={}},5917:function(t,e,n){"use strict";var r=n(3724),i=n(9039),o=n(4055);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(t,e,n){"use strict";var r=n(9504),i=n(9039),o=n(4576),s=Object,a=r("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},3706:function(t,e,n){"use strict";var r=n(9504),i=n(4901),o=n(7629),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},1181:function(t,e,n){"use strict";var r,i,o,s=n(8622),a=n(4475),c=n(34),l=n(6699),u=n(9297),d=n(7629),h=n(6119),f=n(421),p="Object already initialized",g=a.TypeError,m=a.WeakMap,v=function(t){return o(t)?i(t):r(t,{})},b=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return n}};if(s||d.state){var y=d.state||(d.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,r=function(t,e){if(y.has(t))throw new g(p);return e.facade=t,y.set(t,e),e},i=function(t){return y.get(t)||{}},o=function(t){return y.has(t)}}else{var k=h("state");f[k]=!0,r=function(t,e){if(u(t,k))throw new g(p);return e.facade=t,l(t,k,e),e},i=function(t){return u(t,k)?t[k]:{}},o=function(t){return u(t,k)}}t.exports={set:r,get:i,has:o,enforce:v,getterFor:b}},4376:function(t,e,n){"use strict";var r=n(4576);t.exports=Array.isArray||function(t){return"Array"===r(t)}},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:function(t,e,n){"use strict";var r=n(9039),i=n(4901),o=/#|\.prototype\./,s=function(t,e){var n=c[a(t)];return n===u||n!==l&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},4117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},34:function(t,e,n){"use strict";var r=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},6395:function(t){"use strict";t.exports=!1},757:function(t,e,n){"use strict";var r=n(7751),i=n(4901),o=n(1625),s=n(7040),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,a(t))}},6198:function(t,e,n){"use strict";var r=n(8014);t.exports=function(t){return r(t.length)}},283:function(t,e,n){"use strict";var r=n(9504),i=n(9039),o=n(4901),s=n(9297),a=n(3724),c=n(350).CONFIGURABLE,l=n(3706),u=n(1181),d=u.enforce,h=u.get,f=String,p=Object.defineProperty,g=r("".slice),m=r("".replace),v=r([].join),b=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),k=t.exports=function(t,e,n){"Symbol("===g(f(e),0,7)&&(e="["+m(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||c&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),b&&n&&s(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=d(t);return s(r,"source")||(r.source=v(y,"string"==typeof e?e:"")),t};Function.prototype.toString=k((function(){return o(this)&&h(this).source||l(this)}),"toString")},741:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},4913:function(t,e,n){"use strict";var r=n(3724),i=n(5917),o=n(8686),s=n(8551),a=n(6969),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";e.f=r?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var r=u(t,e);r&&r[f]&&(t[e]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(s(t),e=a(e),s(n),i)try{return l(t,e,n)}catch(r){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:function(t,e,n){"use strict";var r=n(3724),i=n(9565),o=n(8773),s=n(6980),a=n(5397),c=n(6969),l=n(9297),u=n(5917),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=a(t),e=c(e),u)try{return d(t,e)}catch(n){}if(l(t,e))return s(!i(o.f,t,e),t[e])}},8480:function(t,e,n){"use strict";var r=n(1828),i=n(8727),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},1625:function(t,e,n){"use strict";var r=n(9504);t.exports=r({}.isPrototypeOf)},1828:function(t,e,n){"use strict";var r=n(9504),i=n(9297),o=n(5397),s=n(9617).indexOf,a=n(421),c=r([].push);t.exports=function(t,e){var n,r=o(t),l=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&c(u,n);while(e.length>l)i(r,n=e[l++])&&(~s(u,n)||c(u,n));return u}},8773:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},4270:function(t,e,n){"use strict";var r=n(9565),i=n(4901),o=n(34),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!o(a=r(n,t)))return a;if(i(n=t.valueOf)&&!o(a=r(n,t)))return a;if("string"!==e&&i(n=t.toString)&&!o(a=r(n,t)))return a;throw new s("Can't convert object to primitive value")}},5031:function(t,e,n){"use strict";var r=n(7751),i=n(9504),o=n(8480),s=n(3717),a=n(8551),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?c(e,n(t)):e}},7750:function(t,e,n){"use strict";var r=n(4117),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},6119:function(t,e,n){"use strict";var r=n(5745),i=n(3392),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},7629:function(t,e,n){"use strict";var r=n(6395),i=n(4475),o=n(9433),s="__core-js_shared__",a=t.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.37.0",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,n){"use strict";var r=n(7629);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},4495:function(t,e,n){"use strict";var r=n(7388),i=n(9039),o=n(4475),s=o.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},5610:function(t,e,n){"use strict";var r=n(1291),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5397:function(t,e,n){"use strict";var r=n(7055),i=n(7750);t.exports=function(t){return r(i(t))}},1291:function(t,e,n){"use strict";var r=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},8014:function(t,e,n){"use strict";var r=n(1291),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},8981:function(t,e,n){"use strict";var r=n(7750),i=Object;t.exports=function(t){return i(r(t))}},2777:function(t,e,n){"use strict";var r=n(9565),i=n(34),o=n(757),s=n(5966),a=n(4270),c=n(8227),l=TypeError,u=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,c=s(t,u);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!i(n)||o(n))return n;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},6969:function(t,e,n){"use strict";var r=n(2777),i=n(757);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},3392:function(t,e,n){"use strict";var r=n(9504),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},7040:function(t,e,n){"use strict";var r=n(4495);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,n){"use strict";var r=n(3724),i=n(9039);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8622:function(t,e,n){"use strict";var r=n(4475),i=n(4901),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},8227:function(t,e,n){"use strict";var r=n(4475),i=n(5745),o=n(9297),s=n(3392),a=n(4495),c=n(7040),l=r.Symbol,u=i("wks"),d=c?l["for"]||l:l&&l.withoutSetter||s;t.exports=function(t){return o(u,t)||(u[t]=a&&o(l,t)?l[t]:d("Symbol."+t)),u[t]}},4114:function(t,e,n){"use strict";var r=n(6518),i=n(8981),o=n(6198),s=n(4527),a=n(6837),c=n(9039),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},d=l||!u();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(t){var e=i(this),n=o(e),r=arguments.length;a(n+r);for(var c=0;c<r;c++)e[n]=arguments[c],n++;return s(e,n),n}})},2118:function(t,e,n){n(4114);var r=n(7045)["default"];function i(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=i=function(){return n},t.exports.__esModule=!0,t.exports["default"]=t.exports;var e,n={},o=Object.prototype,s=o.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(e){h=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof k?e:k,o=Object.create(i.prototype),s=new N(r||[]);return a(o,"_invoke",{value:I(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=f;var g="suspendedStart",m="suspendedYield",v="executing",b="completed",y={};function k(){}function w(){}function _(){}var A={};h(A,l,(function(){return this}));var C=Object.getPrototypeOf,x=C&&C(C(P([])));x&&x!==o&&s.call(x,l)&&(A=x);var E=_.prototype=k.prototype=Object.create(A);function S(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function n(i,o,a,c){var l=p(t[i],t,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&s.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,c)}))}c(l.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function I(t,n,r){var i=g;return function(o,s){if(i===v)throw Error("Generator is already running");if(i===b){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=D(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===g)throw i=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var l=p(t,n,r);if("normal"===l.type){if(i=r.done?b:m,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=b,r.method="throw",r.arg=l.arg)}}}function D(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator["return"]&&(n.method="return",n.arg=e,D(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(s.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(r(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=h(_,d,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,h(t,d,"GeneratorFunction")),t.prototype=Object.create(E),t},n.awrap=function(t){return{__await:t}},S(M.prototype),h(M.prototype,u,(function(){return this})),n.AsyncIterator=M,n.async=function(t,e,r,i,o){void 0===o&&(o=Promise);var s=new M(f(t,e,r,i),o);return n.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(E),h(E,d,"Generator"),h(E,l,(function(){return this})),h(E,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=s.call(o,"catchLoc"),l=s.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},n}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},7045:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},6709:function(t,e,n){var r=n(2118)();t.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},6716:function(t,e,n){"use strict";n.d(e,{A:function(){return fn}});var r={};function i(t,e){return function(){return t.apply(e,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:function(){return Bt},hasStandardBrowserEnv:function(){return Rt},hasStandardBrowserWebWorkerEnv:function(){return jt},origin:function(){return zt}});const{toString:o}=Object.prototype,{getPrototypeOf:s}=Object,a=(t=>e=>{const n=o.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),c=t=>(t=t.toLowerCase(),e=>a(e)===t),l=t=>e=>typeof e===t,{isArray:u}=Array,d=l("undefined");function h(t){return null!==t&&!d(t)&&null!==t.constructor&&!d(t.constructor)&&m(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const f=c("ArrayBuffer");function p(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&f(t.buffer),e}const g=l("string"),m=l("function"),v=l("number"),b=t=>null!==t&&"object"===typeof t,y=t=>!0===t||!1===t,k=t=>{if("object"!==a(t))return!1;const e=s(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},w=c("Date"),_=c("File"),A=c("Blob"),C=c("FileList"),x=t=>b(t)&&m(t.pipe),E=t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||m(t.append)&&("formdata"===(e=a(t))||"object"===e&&m(t.toString)&&"[object FormData]"===t.toString()))},S=c("URLSearchParams"),[M,I,D,T]=["ReadableStream","Request","Response","Headers"].map(c),O=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function N(t,e,{allOwnKeys:n=!1}={}){if(null===t||"undefined"===typeof t)return;let r,i;if("object"!==typeof t&&(t=[t]),u(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let s;for(r=0;r<o;r++)s=i[r],e.call(null,t[s],s,t)}}function P(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,i=n.length;while(i-- >0)if(r=n[i],e===r.toLowerCase())return r;return null}const L=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),B=t=>!d(t)&&t!==L;function R(){const{caseless:t}=B(this)&&this||{},e={},n=(n,r)=>{const i=t&&P(e,r)||r;k(e[i])&&k(n)?e[i]=R(e[i],n):k(n)?e[i]=R({},n):u(n)?e[i]=n.slice():e[i]=n};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&N(arguments[r],n);return e}const j=(t,e,n,{allOwnKeys:r}={})=>(N(e,((e,r)=>{n&&m(e)?t[r]=i(e,n):t[r]=e}),{allOwnKeys:r}),t),z=t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),F=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},V=(t,e,n,r)=>{let i,o,a;const c={};if(e=e||{},null==t)return e;do{i=Object.getOwnPropertyNames(t),o=i.length;while(o-- >0)a=i[o],r&&!r(a,t,e)||c[a]||(e[a]=t[a],c[a]=!0);t=!1!==n&&s(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},U=(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},G=t=>{if(!t)return null;if(u(t))return t;let e=t.length;if(!v(e))return null;const n=new Array(e);while(e-- >0)n[e]=t[e];return n},H=(t=>e=>t&&e instanceof t)("undefined"!==typeof Uint8Array&&s(Uint8Array)),$=(t,e)=>{const n=t&&t[Symbol.iterator],r=n.call(t);let i;while((i=r.next())&&!i.done){const n=i.value;e.call(t,n[0],n[1])}},W=(t,e)=>{let n;const r=[];while(null!==(n=t.exec(e)))r.push(n);return r},Y=c("HTMLFormElement"),q=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),X=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),K=c("RegExp"),Z=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};N(n,((n,i)=>{let o;!1!==(o=e(n,i,t))&&(r[i]=o||n)})),Object.defineProperties(t,r)},Q=t=>{Z(t,((e,n)=>{if(m(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];m(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},J=(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return u(t)?r(t):r(String(t).split(e)),n},tt=()=>{},et=(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,nt="abcdefghijklmnopqrstuvwxyz",rt="0123456789",it={DIGIT:rt,ALPHA:nt,ALPHA_DIGIT:nt+nt.toUpperCase()+rt},ot=(t=16,e=it.ALPHA_DIGIT)=>{let n="";const{length:r}=e;while(t--)n+=e[Math.random()*r|0];return n};function st(t){return!!(t&&m(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])}const at=t=>{const e=new Array(10),n=(t,r)=>{if(b(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const i=u(t)?[]:{};return N(t,((t,e)=>{const o=n(t,r+1);!d(o)&&(i[e]=o)})),e[r]=void 0,i}}return t};return n(t,0)},ct=c("AsyncFunction"),lt=t=>t&&(b(t)||m(t))&&m(t.then)&&m(t.catch);var ut={isArray:u,isArrayBuffer:f,isBuffer:h,isFormData:E,isArrayBufferView:p,isString:g,isNumber:v,isBoolean:y,isObject:b,isPlainObject:k,isReadableStream:M,isRequest:I,isResponse:D,isHeaders:T,isUndefined:d,isDate:w,isFile:_,isBlob:A,isRegExp:K,isFunction:m,isStream:x,isURLSearchParams:S,isTypedArray:H,isFileList:C,forEach:N,merge:R,extend:j,trim:O,stripBOM:z,inherits:F,toFlatObject:V,kindOf:a,kindOfTest:c,endsWith:U,toArray:G,forEachEntry:$,matchAll:W,isHTMLForm:Y,hasOwnProperty:X,hasOwnProp:X,reduceDescriptors:Z,freezeMethods:Q,toObjectSet:J,toCamelCase:q,noop:tt,toFiniteNumber:et,findKey:P,global:L,isContextDefined:B,ALPHABET:it,generateString:ot,isSpecCompliantForm:st,toJSONObject:at,isAsyncFn:ct,isThenable:lt};function dt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ut.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ut.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ht=dt.prototype,ft={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{ft[t]={value:t}})),Object.defineProperties(dt,ft),Object.defineProperty(ht,"isAxiosError",{value:!0}),dt.from=(t,e,n,r,i,o)=>{const s=Object.create(ht);return ut.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),dt.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};var pt=dt,gt=null;function mt(t){return ut.isPlainObject(t)||ut.isArray(t)}function vt(t){return ut.endsWith(t,"[]")?t.slice(0,-2):t}function bt(t,e,n){return t?t.concat(e).map((function(t,e){return t=vt(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}function yt(t){return ut.isArray(t)&&!t.some(mt)}const kt=ut.toFlatObject(ut,{},null,(function(t){return/^is[A-Z]/.test(t)}));function wt(t,e,n){if(!ut.isObject(t))throw new TypeError("target must be an object");e=e||new(gt||FormData),n=ut.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!ut.isUndefined(e[t])}));const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,a=n.Blob||"undefined"!==typeof Blob&&Blob,c=a&&ut.isSpecCompliantForm(e);if(!ut.isFunction(i))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(ut.isDate(t))return t.toISOString();if(!c&&ut.isBlob(t))throw new pt("Blob is not supported. Use a Buffer instead.");return ut.isArrayBuffer(t)||ut.isTypedArray(t)?c&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function u(t,n,i){let a=t;if(t&&!i&&"object"===typeof t)if(ut.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(ut.isArray(t)&&yt(t)||(ut.isFileList(t)||ut.endsWith(n,"[]"))&&(a=ut.toArray(t)))return n=vt(n),a.forEach((function(t,r){!ut.isUndefined(t)&&null!==t&&e.append(!0===s?bt([n],r,o):null===s?n:n+"[]",l(t))})),!1;return!!mt(t)||(e.append(bt(i,n,o),l(t)),!1)}const d=[],h=Object.assign(kt,{defaultVisitor:u,convertValue:l,isVisitable:mt});function f(t,n){if(!ut.isUndefined(t)){if(-1!==d.indexOf(t))throw Error("Circular reference detected in "+n.join("."));d.push(t),ut.forEach(t,(function(t,r){const o=!(ut.isUndefined(t)||null===t)&&i.call(e,t,ut.isString(r)?r.trim():r,n,h);!0===o&&f(t,n?n.concat(r):[r])})),d.pop()}}if(!ut.isObject(t))throw new TypeError("data must be an object");return f(t),e}var _t=wt;function At(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Ct(t,e){this._pairs=[],t&&_t(t,this,e)}const xt=Ct.prototype;xt.append=function(t,e){this._pairs.push([t,e])},xt.toString=function(t){const e=t?function(e){return t.call(this,e,At)}:At;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var Et=Ct;function St(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mt(t,e,n){if(!e)return t;const r=n&&n.encode||St,i=n&&n.serialize;let o;if(o=i?i(e,n):ut.isURLSearchParams(e)?e.toString():new Et(e,n).toString(r),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}class It{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ut.forEach(this.handlers,(function(e){null!==e&&t(e)}))}}var Dt=It,Tt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ot="undefined"!==typeof URLSearchParams?URLSearchParams:Et,Nt="undefined"!==typeof FormData?FormData:null,Pt="undefined"!==typeof Blob?Blob:null,Lt={isBrowser:!0,classes:{URLSearchParams:Ot,FormData:Nt,Blob:Pt},protocols:["http","https","file","blob","url","data"]};const Bt="undefined"!==typeof window&&"undefined"!==typeof document,Rt=(t=>Bt&&["ReactNative","NativeScript","NS"].indexOf(t)<0)("undefined"!==typeof navigator&&navigator.product),jt=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)(),zt=Bt&&window.location.href||"http://localhost";var Ft={...r,...Lt};function Vt(t,e){return _t(t,new Ft.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return Ft.isNode&&ut.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function Ut(t){return ut.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}function Gt(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function Ht(t){function e(t,n,r,i){let o=t[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=t.length;if(o=!o&&ut.isArray(r)?r.length:o,a)return ut.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&ut.isObject(r[o])||(r[o]=[]);const c=e(t,n,r[o],i);return c&&ut.isArray(r[o])&&(r[o]=Gt(r[o])),!s}if(ut.isFormData(t)&&ut.isFunction(t.entries)){const n={};return ut.forEachEntry(t,((t,r)=>{e(Ut(t),r,n,0)})),n}return null}var $t=Ht;function Wt(t,e,n){if(ut.isString(t))try{return(e||JSON.parse)(t),ut.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(t)}const Yt={transitional:Tt,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,i=ut.isObject(t);i&&ut.isHTMLForm(t)&&(t=new FormData(t));const o=ut.isFormData(t);if(o)return r?JSON.stringify($t(t)):t;if(ut.isArrayBuffer(t)||ut.isBuffer(t)||ut.isStream(t)||ut.isFile(t)||ut.isBlob(t)||ut.isReadableStream(t))return t;if(ut.isArrayBufferView(t))return t.buffer;if(ut.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Vt(t,this.formSerializer).toString();if((s=ut.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return _t(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),Wt(t)):t}],transformResponse:[function(t){const e=this.transitional||Yt.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(ut.isResponse(t)||ut.isReadableStream(t))return t;if(t&&ut.isString(t)&&(n&&!this.responseType||r)){const n=e&&e.silentJSONParsing,o=!n&&r;try{return JSON.parse(t)}catch(i){if(o){if("SyntaxError"===i.name)throw pt.from(i,pt.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ft.classes.FormData,Blob:Ft.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ut.forEach(["delete","get","head","post","put","patch"],(t=>{Yt.headers[t]={}}));var qt=Yt;const Xt=ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Kt=t=>{const e={};let n,r,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),n=t.substring(0,i).trim().toLowerCase(),r=t.substring(i+1).trim(),!n||e[n]&&Xt[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e};const Zt=Symbol("internals");function Qt(t){return t&&String(t).trim().toLowerCase()}function Jt(t){return!1===t||null==t?t:ut.isArray(t)?t.map(Jt):String(t)}function te(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;while(r=n.exec(t))e[r[1]]=r[2];return e}const ee=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ne(t,e,n,r,i){return ut.isFunction(r)?r.call(this,e,n):(i&&(e=n),ut.isString(e)?ut.isString(r)?-1!==e.indexOf(r):ut.isRegExp(r)?r.test(e):void 0:void 0)}function re(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}function ie(t,e){const n=ut.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})}))}class oe{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function i(t,e,n){const i=Qt(e);if(!i)throw new Error("header name must be a non-empty string");const o=ut.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||e]=Jt(t))}const o=(t,e)=>ut.forEach(t,((t,n)=>i(t,n,e)));if(ut.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(ut.isString(t)&&(t=t.trim())&&!ee(t))o(Kt(t),e);else if(ut.isHeaders(t))for(const[s,a]of t.entries())i(a,s,n);else null!=t&&i(e,t,n);return this}get(t,e){if(t=Qt(t),t){const n=ut.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return te(t);if(ut.isFunction(e))return e.call(this,t,n);if(ut.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Qt(t),t){const n=ut.findKey(this,t);return!(!n||void 0===this[n]||e&&!ne(this,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function i(t){if(t=Qt(t),t){const i=ut.findKey(n,t);!i||e&&!ne(n,n[i],i,e)||(delete n[i],r=!0)}}return ut.isArray(t)?t.forEach(i):i(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;while(n--){const i=e[n];t&&!ne(this,this[i],i,t,!0)||(delete this[i],r=!0)}return r}normalize(t){const e=this,n={};return ut.forEach(this,((r,i)=>{const o=ut.findKey(n,i);if(o)return e[o]=Jt(r),void delete e[i];const s=t?re(i):String(i).trim();s!==i&&delete e[i],e[s]=Jt(r),n[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return ut.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&ut.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=this[Zt]=this[Zt]={accessors:{}},n=e.accessors,r=this.prototype;function i(t){const e=Qt(t);n[e]||(ie(r,t),n[e]=!0)}return ut.isArray(t)?t.forEach(i):i(t),this}}oe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ut.reduceDescriptors(oe.prototype,(({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[n]=t}}})),ut.freezeMethods(oe);var se=oe;function ae(t,e){const n=this||qt,r=e||n,i=se.from(r.headers);let o=r.data;return ut.forEach(t,(function(t){o=t.call(n,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function ce(t){return!(!t||!t.__CANCEL__)}function le(t,e,n){pt.call(this,null==t?"canceled":t,pt.ERR_CANCELED,e,n),this.name="CanceledError"}ut.inherits(le,pt,{__CANCEL__:!0});var ue=le;function de(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new pt("Request failed with status code "+n.status,[pt.ERR_BAD_REQUEST,pt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}function he(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function fe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i,o=0,s=0;return e=void 0!==e?e:1e3,function(a){const c=Date.now(),l=r[s];i||(i=c),n[o]=a,r[o]=c;let u=s,d=0;while(u!==o)d+=n[u++],u%=t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),c-i<e)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}}var pe=fe;function ge(t,e){let n=0;const r=1e3/e;let i=null;return function(){const e=!0===this,o=Date.now();if(e||o-n>r)return i&&(clearTimeout(i),i=null),n=o,t.apply(null,arguments);i||(i=setTimeout((()=>(i=null,n=Date.now(),t.apply(null,arguments))),r-(o-n)))}}var me=ge,ve=(t,e,n=3)=>{let r=0;const i=pe(50,250);return me((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,c=i(a),l=o<=s;r=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&l?(s-o)/c:void 0,event:n,lengthComputable:null!=s};u[e?"download":"upload"]=!0,t(u)}),n)},be=Ft.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=ut.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return function(){return!0}}(),ye=Ft.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];ut.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ut.isString(r)&&s.push("path="+r),ut.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ke(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function we(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function _e(t,e){return t&&!ke(e)?we(t,e):e}const Ae=t=>t instanceof se?{...t}:t;function Ce(t,e){e=e||{};const n={};function r(t,e,n){return ut.isPlainObject(t)&&ut.isPlainObject(e)?ut.merge.call({caseless:n},t,e):ut.isPlainObject(e)?ut.merge({},e):ut.isArray(e)?e.slice():e}function i(t,e,n){return ut.isUndefined(e)?ut.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function o(t,e){if(!ut.isUndefined(e))return r(void 0,e)}function s(t,e){return ut.isUndefined(e)?ut.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function a(n,i,o){return o in e?r(n,i):o in t?r(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>i(Ae(t),Ae(e),!0)};return ut.forEach(Object.keys(Object.assign({},t,e)),(function(r){const o=c[r]||i,s=o(t[r],e[r],r);ut.isUndefined(s)&&o!==a||(n[r]=s)})),n}var xe=t=>{const e=Ce({},t);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:c}=e;if(e.headers=a=se.from(a),e.url=Mt(_e(e.baseURL,e.url),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),ut.isFormData(r))if(Ft.hasStandardBrowserEnv||Ft.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[t,...e]=n?n.split(";").map((t=>t.trim())).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(Ft.hasStandardBrowserEnv&&(i&&ut.isFunction(i)&&(i=i(e)),i||!1!==i&&be(e.url))){const t=o&&s&&ye.read(s);t&&a.set(o,t)}return e};const Ee="undefined"!==typeof XMLHttpRequest;var Se=Ee&&function(t){return new Promise((function(e,n){const r=xe(t);let i=r.data;const o=se.from(r.headers).normalize();let s,{responseType:a}=r;function c(){r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let l=new XMLHttpRequest;function u(){if(!l)return;const r=se.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),i=a&&"text"!==a&&"json"!==a?l.response:l.responseText,o={data:i,status:l.status,statusText:l.statusText,headers:r,config:t,request:l};de((function(t){e(t),c()}),(function(t){n(t),c()}),o),l=null}l.open(r.method.toUpperCase(),r.url,!0),l.timeout=r.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new pt("Request aborted",pt.ECONNABORTED,r,l)),l=null)},l.onerror=function(){n(new pt("Network Error",pt.ERR_NETWORK,r,l)),l=null},l.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const e=r.transitional||Tt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new pt(t,e.clarifyTimeoutError?pt.ETIMEDOUT:pt.ECONNABORTED,r,l)),l=null},void 0===i&&o.setContentType(null),"setRequestHeader"in l&&ut.forEach(o.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),ut.isUndefined(r.withCredentials)||(l.withCredentials=!!r.withCredentials),a&&"json"!==a&&(l.responseType=r.responseType),"function"===typeof r.onDownloadProgress&&l.addEventListener("progress",ve(r.onDownloadProgress,!0)),"function"===typeof r.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",ve(r.onUploadProgress)),(r.cancelToken||r.signal)&&(s=e=>{l&&(n(!e||e.type?new ue(null,t,l):e),l.abort(),l=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const d=he(r.url);d&&-1===Ft.protocols.indexOf(d)?n(new pt("Unsupported protocol "+d+":",pt.ERR_BAD_REQUEST,t)):l.send(i||null)}))};const Me=(t,e)=>{let n,r=new AbortController;const i=function(t){if(!n){n=!0,s();const e=t instanceof Error?t:this.reason;r.abort(e instanceof pt?e:new ue(e instanceof Error?e.message:e))}};let o=e&&setTimeout((()=>{i(new pt(`timeout ${e} of ms exceeded`,pt.ETIMEDOUT))}),e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach((t=>{t&&(t.removeEventListener?t.removeEventListener("abort",i):t.unsubscribe(i))})),t=null)};t.forEach((t=>t&&t.addEventListener&&t.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]};var Ie=Me;const De=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let r,i=0;while(i<n)r=i+e,yield t.slice(i,r),i=r},Te=async function*(t,e,n){for await(const r of t)yield*De(ArrayBuffer.isView(r)?r:await n(String(r)),e)},Oe=(t,e,n,r,i)=>{const o=Te(t,e,i);let s=0;return new ReadableStream({type:"bytes",async pull(t){const{done:e,value:i}=await o.next();if(e)return t.close(),void r();let a=i.byteLength;n&&n(s+=a),t.enqueue(new Uint8Array(i))},cancel(t){return r(t),o.return()}},{highWaterMark:2})},Ne=(t,e)=>{const n=null!=t;return r=>setTimeout((()=>e({lengthComputable:n,total:t,loaded:r})))},Pe="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Le=Pe&&"function"===typeof ReadableStream,Be=Pe&&("function"===typeof TextEncoder?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Re=Le&&(()=>{let t=!1;const e=new Request(Ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),je=65536,ze=Le&&!!(()=>{try{return ut.isReadableStream(new Response("").body)}catch(t){}})(),Fe={stream:ze&&(t=>t.body)};Pe&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Fe[e]&&(Fe[e]=ut.isFunction(t[e])?t=>t[e]():(t,n)=>{throw new pt(`Response type '${e}' is not supported`,pt.ERR_NOT_SUPPORT,n)})}))})(new Response);const Ve=async t=>null==t?0:ut.isBlob(t)?t.size:ut.isSpecCompliantForm(t)?(await new Request(t).arrayBuffer()).byteLength:ut.isArrayBufferView(t)?t.byteLength:(ut.isURLSearchParams(t)&&(t+=""),ut.isString(t)?(await Be(t)).byteLength:void 0),Ue=async(t,e)=>{const n=ut.toFiniteNumber(t.getContentLength());return null==n?Ve(e):n};var Ge=Pe&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:h}=xe(t);l=l?(l+"").toLowerCase():"text";let f,p,[g,m]=i||o||s?Ie([i,o],s):[];const v=()=>{!f&&setTimeout((()=>{g&&g.unsubscribe()})),f=!0};let b;try{if(c&&Re&&"get"!==n&&"head"!==n&&0!==(b=await Ue(u,r))){let t,n=new Request(e,{method:"POST",body:r,duplex:"half"});ut.isFormData(r)&&(t=n.headers.get("content-type"))&&u.setContentType(t),n.body&&(r=Oe(n.body,je,Ne(b,ve(c)),null,Be))}ut.isString(d)||(d=d?"cors":"omit"),p=new Request(e,{...h,signal:g,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let i=await fetch(p);const o=ze&&("stream"===l||"response"===l);if(ze&&(a||o)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=i[e]}));const e=ut.toFiniteNumber(i.headers.get("content-length"));i=new Response(Oe(i.body,je,a&&Ne(e,ve(a,!0)),o&&v,Be),t)}l=l||"text";let s=await Fe[ut.findKey(Fe,l)||"text"](i,t);return!o&&v(),m&&m(),await new Promise(((e,n)=>{de(e,n,{data:s,headers:se.from(i.headers),status:i.status,statusText:i.statusText,config:t,request:p})}))}catch(y){if(v(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new pt("Network Error",pt.ERR_NETWORK,t,p),{cause:y.cause||y});throw pt.from(y,y&&y.code,t,p)}});const He={http:gt,xhr:Se,fetch:Ge};ut.forEach(He,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}}));const $e=t=>`- ${t}`,We=t=>ut.isFunction(t)||null===t||!1===t;var Ye={getAdapter:t=>{t=ut.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){let e;if(n=t[o],r=n,!We(n)&&(r=He[(e=String(n)).toLowerCase()],void 0===r))throw new pt(`Unknown adapter '${e}'`);if(r)break;i[e||"#"+o]=r}if(!r){const t=Object.entries(i).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let n=e?t.length>1?"since :\n"+t.map($e).join("\n"):" "+$e(t[0]):"as no adapter specified";throw new pt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r},adapters:He};function qe(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ue(null,t)}function Xe(t){qe(t),t.headers=se.from(t.headers),t.data=ae.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);const e=Ye.getAdapter(t.adapter||qt.adapter);return e(t).then((function(e){return qe(t),e.data=ae.call(t,t.transformResponse,e),e.headers=se.from(e.headers),e}),(function(e){return ce(e)||(qe(t),e&&e.response&&(e.response.data=ae.call(t,t.transformResponse,e.response),e.response.headers=se.from(e.response.headers))),Promise.reject(e)}))}const Ke="1.7.2",Ze={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Ze[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const Qe={};function Je(t,e,n){if("object"!==typeof t)throw new pt("options must be an object",pt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;while(i-- >0){const o=r[i],s=e[o];if(s){const e=t[o],n=void 0===e||s(e,o,t);if(!0!==n)throw new pt("option "+o+" must be "+n,pt.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new pt("Unknown option "+o,pt.ERR_BAD_OPTION)}}Ze.transitional=function(t,e,n){function r(t,e){return"[Axios v"+Ke+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,i,o)=>{if(!1===t)throw new pt(r(i," has been removed"+(e?" in "+e:"")),pt.ERR_DEPRECATED);return e&&!Qe[i]&&(Qe[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}};var tn={assertOptions:Je,validators:Ze};const en=tn.validators;class nn{constructor(t){this.defaults=t,this.interceptors={request:new Dt,response:new Dt}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}catch(r){}}throw n}}_request(t,e){"string"===typeof t?(e=e||{},e.url=t):e=t||{},e=Ce(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:i}=e;void 0!==n&&tn.assertOptions(n,{silentJSONParsing:en.transitional(en.boolean),forcedJSONParsing:en.transitional(en.boolean),clarifyTimeoutError:en.transitional(en.boolean)},!1),null!=r&&(ut.isFunction(r)?e.paramsSerializer={serialize:r}:tn.assertOptions(r,{encode:en.function,serialize:en.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&ut.merge(i.common,i[e.method]);i&&ut.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=se.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));let u,d=0;if(!a){const t=[Xe.bind(this),void 0];t.unshift.apply(t,s),t.push.apply(t,c),u=t.length,l=Promise.resolve(e);while(d<u)l=l.then(t[d++],t[d++]);return l}u=s.length;let h=e;d=0;while(d<u){const t=s[d++],e=s[d++];try{h=t(h)}catch(f){e.call(this,f);break}}try{l=Xe.call(this,h)}catch(f){return Promise.reject(f)}d=0,u=c.length;while(d<u)l=l.then(c[d++],c[d++]);return l}getUri(t){t=Ce(this.defaults,t);const e=_e(t.baseURL,t.url);return Mt(e,t.params,t.paramsSerializer)}}ut.forEach(["delete","get","head","options"],(function(t){nn.prototype[t]=function(e,n){return this.request(Ce(n||{},{method:t,url:e,data:(n||{}).data}))}})),ut.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(Ce(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}nn.prototype[t]=e(),nn.prototype[t+"Form"]=e(!0)}));var rn=nn;class on{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;while(e-- >0)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,i){n.reason||(n.reason=new ue(t,r,i),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;const e=new on((function(e){t=e}));return{token:e,cancel:t}}}var sn=on;function an(t){return function(e){return t.apply(null,e)}}function cn(t){return ut.isObject(t)&&!0===t.isAxiosError}const ln={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ln).forEach((([t,e])=>{ln[e]=t}));var un=ln;function dn(t){const e=new rn(t),n=i(rn.prototype.request,e);return ut.extend(n,rn.prototype,e,{allOwnKeys:!0}),ut.extend(n,e,null,{allOwnKeys:!0}),n.create=function(e){return dn(Ce(t,e))},n}const hn=dn(qt);hn.Axios=rn,hn.CanceledError=ue,hn.CancelToken=sn,hn.isCancel=ce,hn.VERSION=Ke,hn.toFormData=_t,hn.AxiosError=pt,hn.Cancel=hn.CanceledError,hn.all=function(t){return Promise.all(t)},hn.spread=an,hn.isAxiosError=cn,hn.mergeConfig=Ce,hn.AxiosHeaders=se,hn.formToJSON=t=>$t(ut.isHTMLForm(t)?new FormData(t):t),hn.getAdapter=Ye.getAdapter,hn.HttpStatusCode=un,hn.default=hn;var fn=hn},1635:function(t,e,n){"use strict";n.r(e),n.d(e,{__addDisposableResource:function(){return P},__assign:function(){return o},__asyncDelegator:function(){return x},__asyncGenerator:function(){return C},__asyncValues:function(){return E},__await:function(){return A},__awaiter:function(){return p},__classPrivateFieldGet:function(){return T},__classPrivateFieldIn:function(){return N},__classPrivateFieldSet:function(){return O},__createBinding:function(){return m},__decorate:function(){return a},__disposeResources:function(){return B},__esDecorate:function(){return l},__exportStar:function(){return v},__extends:function(){return i},__generator:function(){return g},__importDefault:function(){return D},__importStar:function(){return I},__makeTemplateObject:function(){return S},__metadata:function(){return f},__param:function(){return c},__propKey:function(){return d},__read:function(){return y},__rest:function(){return s},__runInitializers:function(){return u},__setFunctionName:function(){return h},__spread:function(){return k},__spreadArray:function(){return _},__spreadArrays:function(){return w},__values:function(){return b}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function l(t,e,n,r,i,o){function s(t){if(void 0!==t&&"function"!==typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?r["static"]?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,f=n.length-1;f>=0;f--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var m=(0,n[f])("accessor"===c?{get:d.get,set:d.set}:d[l],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!==typeof m)throw new TypeError("Object expected");(a=s(m.get))&&(d.get=a),(a=s(m.set))&&(d.set=a),(a=s(m.init))&&i.unshift(a)}else(a=s(m))&&("field"===c?i.unshift(a):d[l]=a)}u&&Object.defineProperty(u,r.name,d),h=!0}function u(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function d(t){return"symbol"===typeof t?t:"".concat(t)}function h(t,e,n){return"symbol"===typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function f(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function p(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function g(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,a[0]&&(s=0)),s)try{if(n=1,r&&(i=2&a[0]?r["return"]:a[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(c){a=[6,c],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var m=Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function v(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||m(e,t,n)}function b(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function k(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function w(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function _(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function A(t){return this instanceof A?(this.v=t,this):new A(t)}function C(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{c(i[t](e))}catch(n){d(o[0][3],n)}}function c(t){t.value instanceof A?Promise.resolve(t.value.v).then(l,u):d(o[0][2],t)}function l(t){a("next",t)}function u(t){a("throw",t)}function d(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function x(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:A(t[r](e)),done:!1}:i?i(e):e}:i}}function E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof b?b(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function S(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var M=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e};function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&m(e,t,n);return M(e,t),e}function D(t){return t&&t.__esModule?t:{default:t}}function T(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function O(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}function N(t,e){if(null===e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof t?e===t:t.has(e)}function P(t,e,n){if(null!==e&&void 0!==e){if("object"!==typeof e&&"function"!==typeof e)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if("function"!==typeof r)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var L="function"===typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function B(t){function e(e){t.error=t.hasError?new L(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}function n(){while(t.stack.length){var r=t.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(t){return e(t),n()}))}catch(o){e(o)}}if(t.hasError)throw t.error}return n()}e["default"]={__extends:i,__assign:o,__rest:s,__decorate:a,__param:c,__metadata:f,__awaiter:p,__generator:g,__createBinding:m,__exportStar:v,__values:b,__read:y,__spread:k,__spreadArrays:w,__spreadArray:_,__await:A,__asyncGenerator:C,__asyncDelegator:x,__asyncValues:E,__makeTemplateObject:S,__importStar:I,__importDefault:D,__classPrivateFieldGet:T,__classPrivateFieldSet:O,__classPrivateFieldIn:N,__addDisposableResource:P,__disposeResources:B}}}]);
//# sourceMappingURL=chunk-vendors.d1e3e5c4.js.map